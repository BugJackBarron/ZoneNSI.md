{"config":{"indexing":"full","lang":["fr"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Maths/SNT/NSI au Lyc\u00e9e Pavie de Guingamp Langages Logiciels Tutoriels r r L'ancien site peut-\u00eatre trouv\u00e9 ici . ### Lancer benchmark=[bksl-nl 'concatenate(\"Zone\", \"NSI\") == \"ZoneNSI\"',bksl-nl 'concatenate(\"Zone\", \" NSI\") == \"Zone NSI\"',bksl-nl 'concatenate(\"Zone\", \"\") == \"Zone\"',bksl-nl 'concatenate(\"\", \"NSI\") == \"NSI\"'bksl-nl ]bksl-nl Valider 3/3 T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder mot1 = \"Zone\"bksl-nlmot2 = \"NSI\"bksl-nlbksl-nldef concatenate(mot1, mot2) :bksl-nl return ...bksl-nl mot1 = \"Zone\"bksl-nlmot2 = \"NSI\"bksl-nlbksl-nldef concatenate(mot1, mot2) :bksl-nl return mot1+mot2bksl-nl","title":"Home"},{"location":"#mathssntnsi-au-lycee-pavie-de-guingamp","text":"Langages Logiciels Tutoriels r r L'ancien site peut-\u00eatre trouv\u00e9 ici . ### Lancer benchmark=[bksl-nl 'concatenate(\"Zone\", \"NSI\") == \"ZoneNSI\"',bksl-nl 'concatenate(\"Zone\", \" NSI\") == \"Zone NSI\"',bksl-nl 'concatenate(\"Zone\", \"\") == \"Zone\"',bksl-nl 'concatenate(\"\", \"NSI\") == \"NSI\"'bksl-nl ]bksl-nl Valider 3/3 T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder mot1 = \"Zone\"bksl-nlmot2 = \"NSI\"bksl-nlbksl-nldef concatenate(mot1, mot2) :bksl-nl return ...bksl-nl mot1 = \"Zone\"bksl-nlmot2 = \"NSI\"bksl-nlbksl-nldef concatenate(mot1, mot2) :bksl-nl return mot1+mot2bksl-nl","title":"Maths/SNT/NSI au Lyc\u00e9e Pavie de Guingamp"},{"location":"WorkInProgress/","text":"","title":"Flask"},{"location":"concatenate_REM/","text":"","title":"concatenate REM"},{"location":"Maths/Seconde/home/","text":"Le programme Documents officiels Le programme de maths de seconde se trouve ici . Pr\u00e9vision de progression annuelle 2021-2022 Cette progression n'est valable que pour les \u00e9l\u00e8ves de seconde I du Lyc\u00e9e Pavie de Guingamp, et est sujette \u00e0 modifications au cours de l'ann\u00e9e... N\u00b0 Chapitre Dur\u00e9e Estim\u00e9e Dates pr\u00e9vues Dates effectives Remarques 1 Ensembles et intervalles 2 Notions de vecteurs 3 G\u00e9n\u00e9ralit\u00e9s sur les fonctions 4 Configuration du plan et orthogonalit\u00e9 5 Calcul litt\u00e9ral 6 Fonctions de r\u00e9f\u00e9rences 1 (affines et carr\u00e9s) 7 G\u00e9om\u00e9trie rep\u00e9r\u00e9e 8 Arithm\u00e9tique 9 Pourcentages 10 Fonctions de r\u00e9f\u00e9rences 2 11 Probabilit\u00e9s 12 Equations cart\u00e9siennes et syst\u00e8mes 13 Statistiques 14 Echantillonage A toutes ces notions, il faut rajouter les bases d'algorithmique et de programmation en Python : Types de variables ; Affectations de variables ; Structures conditionnelles : Boucles born\u00e9es et non-born\u00e9es. Epreuves communes Deux \u00e9preuves communes sont pr\u00e9vues pour l'ann\u00e9e 2021-2022 : la premi\u00e8re juste avant les vacances de la toussaint, sur les chapitres 1 \u00e0 3 La deuxi\u00e8me avant les vacances de f\u00e9vrier, sur les chapitres 1 \u00e0 7.","title":"Pr\u00e9sentation"},{"location":"Maths/Seconde/home/#le-programme","text":"","title":"Le programme"},{"location":"Maths/Seconde/home/#documents-officiels","text":"Le programme de maths de seconde se trouve ici .","title":"Documents officiels"},{"location":"Maths/Seconde/home/#prevision-de-progression-annuelle-2021-2022","text":"Cette progression n'est valable que pour les \u00e9l\u00e8ves de seconde I du Lyc\u00e9e Pavie de Guingamp, et est sujette \u00e0 modifications au cours de l'ann\u00e9e... N\u00b0 Chapitre Dur\u00e9e Estim\u00e9e Dates pr\u00e9vues Dates effectives Remarques 1 Ensembles et intervalles 2 Notions de vecteurs 3 G\u00e9n\u00e9ralit\u00e9s sur les fonctions 4 Configuration du plan et orthogonalit\u00e9 5 Calcul litt\u00e9ral 6 Fonctions de r\u00e9f\u00e9rences 1 (affines et carr\u00e9s) 7 G\u00e9om\u00e9trie rep\u00e9r\u00e9e 8 Arithm\u00e9tique 9 Pourcentages 10 Fonctions de r\u00e9f\u00e9rences 2 11 Probabilit\u00e9s 12 Equations cart\u00e9siennes et syst\u00e8mes 13 Statistiques 14 Echantillonage A toutes ces notions, il faut rajouter les bases d'algorithmique et de programmation en Python : Types de variables ; Affectations de variables ; Structures conditionnelles : Boucles born\u00e9es et non-born\u00e9es.","title":"Pr\u00e9vision de progression annuelle 2021-2022"},{"location":"Maths/Seconde/home/#epreuves-communes","text":"Deux \u00e9preuves communes sont pr\u00e9vues pour l'ann\u00e9e 2021-2022 : la premi\u00e8re juste avant les vacances de la toussaint, sur les chapitres 1 \u00e0 3 La deuxi\u00e8me avant les vacances de f\u00e9vrier, sur les chapitres 1 \u00e0 7.","title":"Epreuves communes"},{"location":"Maths/Seconde/AlgoBases/AffectationTypes/","text":"Algorithmes, types de variables et affectations Notion d'algorithme D\u00e9finition : Algorithme Un algorithme est une suite finie d' instructions \u00e0 appliquer : dans un ordre d\u00e9termin\u00e9, \u00e0 un nombre fini de donn\u00e9es , en un nombre fini d'\u00e9tapes, pour arriver \u00e0 un certain r\u00e9sultat. Des algorithmes, il en existe beaucoup. Certains sont des algorithmes num\u00e9riques (ils travaillent sur des nombres), d'autres sont des algorithmes textuels (ils travaillent sur des textes), ou encore sur d'autres types de donn\u00e9es (musiques, images, ou donn\u00e9es plus abstraites). Mais souvent les algorithmes sont r\u00e9p\u00e9titifs, longs \u00e0 faire \u00e0 la main, et n\u00e9cessitent de fastidieux calculs. Ce qui est particuli\u00e8rement p\u00e9nible pour un \u00eatre humain... Appliquer une m\u00e9thode Enonc\u00e9 Solution pour \\(15\\) Solution pour \\(57\\) Solution pour \\(312\\) Info On rappelle que la division euclidienne est la dicision classique des entiers, avec quotient et reste : On consid\u00e8re l'algorithme suivant : Choisir un nombre entier naturel, qu'on appellera \\(x\\) . Fixer un nombre \\(p\\) \u00e0 0. Si le quotient de la division euclidienne de \\(x\\) par \\(2\\) est sup\u00e9rieur ou \u00e9gal \u00e0 \\(1\\) : Ajouter \\(1\\) \u00e0 \\(p\\) ; Remplacer la valeur de \\(x\\) par ce quotient. Recommencer l'\u00e9tape 3 Si le quotient de \\(x\\) par \\(2\\) est inf\u00e9rieur \u00e0 \\(1\\) , on arr\u00eate l'algorithme. Appliquer cet algorithme sur les nombres \\(15\\) , \\(57\\) puis 312$. Quelles sont les valeurs finales obtenus par \\(p\\) \u00e0 chaque fois ? On obtient \\(p = 3\\) . On obtient \\(p = 5\\) On obtient \\(p = 8\\) Certains algorithmes peuvent \u00eatre v\u00e9ritablement fastidieux ! Mais les humains ont invent\u00e9 les ordinateurs, qui eux sont capables de faire des t\u00e2ches r\u00e9p\u00e9titives et des calculs tr\u00e8s tr\u00e8s rapidement - un ordinateur dont le processeur est cadenc\u00e9 \u00e0 3 GHz effectue 3 milliards d'op\u00e9rations \u00e9l\u00e9mentaires par seconde (les op\u00e9rations \u00e9l\u00e9mentaires sont g\u00e9n\u00e9ralement des additions sur des entiers pas trop grands). Donc, dans un ordinateur, les donn\u00e9es vont \u00eatre utilis\u00e9es et modifi\u00e9es par l'algorithme, afin de produire son r\u00e9sultat, qui sera lui-m\u00eame une donn\u00e9e. Pour manipuler les donn\u00e9es , l'ordinateur les stockera dans des cases m\u00e9moires , cases que l'on rep\u00e8rera par leur nom . Variables, types et affectations Une variable est une case m\u00e9moire poss\u00e9dant un nom , dans lequel on range une donn\u00e9e . Les donn\u00e9es informatiques de base peuvent \u00eatre class\u00e9es dans 4 types diff\u00e9rents : les entiers ( nombre entier relatif ) ; les flottants ( en simplifiant, les nombres d\u00e9cimaux ); les cha\u00eenes de caract\u00e8res ( des suites de lettres, chiffres, symboles, encadr\u00e9es par des guillemets ); les bool\u00e9ens ( une valeur qui ne peut \u00eatre que dans deux \u00e9tats : Vrai et Faux ). L'affectation est l'op\u00e9ration qui consiste \u00e0 \u00ab ranger \u00bb une donn\u00e9e dans une variable. En pseudo-code elle est symbolis\u00e9e par une fl\u00e8che pointant vers la gauche : \\(\\leftarrow\\) . On lira l'instruction : \\[ X \\leftarrow 7 \\] par \u00ab X prend la valeur 7 \u00bb, ce qui signifie que la valeur \\(7\\) a \u00e9t\u00e9 rang\u00e9e dans une case m\u00e9moire nomm\u00e9e \\(X\\) . Exemple Consid\u00e9rons le programme de calcul suivant : Choisir un nombre Le multiplier par 5 Ajouter 4 au r\u00e9sultat Ce programme est bien un algorithme : il y a trois instructions ; on doit les appliquer dans l'ordre ; on a une seule donn\u00e9e de d\u00e9part ; il y aura deux \u00e9tapes de calcul. La seule donn\u00e9e utilis\u00e9e est le nombre de d\u00e9part. Si on applique cet algorithme : en nommant le nombre de d\u00e9part X en choisissant comme nombre de d\u00e9part 7 On obtient alors l'algorithme suivant, \u00e9crit en pseudo-code : \\[ \\begin{array}{rcl} X & \\leftarrow & 7\\\\ X & \\leftarrow & 5\\times X\\\\ X & \\leftarrow & X + 4\\\\ \\end{array} \\] On peut alors repr\u00e9senter le tableau d'\u00e9tat de la variable X , qui repr\u00e9sente l'\u00e9volution des valeurs dans les diff\u00e9rentes cases m\u00e9moires nomm\u00e9es lors de l'ex\u00e9cution de l'algorithme : Etat de X Commentaire 7 C'est la ligne \\(X~<--~ 7\\) 35 C'est la ligne \\(X~<--~ 5\\times X\\) , \\(X\\) prend 5 fois la valeur qu'il poss\u00e8de 39 C'est la ligne \\(X~<--~ X+4\\) , \\(X\\) prend la valeur qu'il poss\u00e8de plus 4 A la fin de l'algorithme, la case m\u00e9moire contient \\(39\\) , les autres valeurs ayant totalement disparues. Exemples de types de variables \\(a \\leftarrow 56\\) : la variable \\(a\\) prend la valeur enti\u00e8re \\(56\\) ; \\(b \\leftarrow 3,2\\) : la variable \\(b\\) prend la valeur flottante \\(3,2\\) ; \\(c \\leftarrow a+b\\) : la variable \\(c\\) prend la valeur de la somme des variables \\(a\\) et \\(b\\) ; \\(d \\leftarrow \\text{\"Hello world\"}\\) : la variable \\(d\\) re\u00e7oit la cha\u00eene de caract\u00e8res \"Hello world\" ; \\(e \\leftarrow True\\) : la variable \\(e\\) re\u00e7oit la valeur bool\u00e9enne Vrai; \\(f \\leftarrow 4<2\\) : la variable \\(f\\) re\u00e7oit la valeur bool\u00e9enne Faux. Le langage Python Langage Python Python est un langage informatique cr\u00e9\u00e9 en 1991 par l'informaticien N\u00e9erlandais Guido vann Rossum. C'est un langage de haut niveau , ce qui signifie qu'il est assez \u00e9loign\u00e9 du code machine qui est tr\u00e8s difficile \u00e0 lire et \u00e0 comprendre pour un \u00eatre humain. En ce sens, Python est un langage informatique simple \u00e0 apprendre, et dont l'\u00e9criture est proche du langage naturel. Il est ainsi devenu le langage g\u00e9n\u00e9rant le plus de recherches sur le web en octobre 2021. Pour autant, l'ordinateur qui ex\u00e9cute un programme Python reste une machine sans intelligence , et la programmeuse ou le programmeur doit respecter une syntaxe tr\u00e8s stricte pour que l'ordinateur ex\u00e9cute la t\u00e2che qui lui est confi\u00e9e. Exemple Voici le code python correspondant \u00e0 l'algorithme que nous avons \u00e9crit pr\u00e9c\u00e9demment : X = 7 X = 5 * X X = X + 4 On peut voir son ex\u00e9cution pas \u00e0 pas depuis le site python tutor : On constate que : en python, l'instruction d'affectation est \u00e9crite avec un signe = ; la multiplication se fait par l'interm\u00e9diaire du signe ast\u00e9risque * . Premiers exercices Exercice 1 On consid\u00e8re l'algorithme en pseudo-code suivant : \\[ \\begin{array}{|l|} \\hline A \\leftarrow 3\\\\ B \\leftarrow A+2\\\\ A \\leftarrow A\\times B\\\\ B \\leftarrow A+B\\\\\\hline \\end{array} \\] Compl\u00e9ter le tableau d'\u00e9tat des variables suivants : \\[ \\begin{array}{|c|c|} \\hline A & B\\\\\\hline & \\\\\\hline & \\\\\\hline & \\\\\\hline \\end{array} \\] Quelles sont les valeurs contenues par les variables \\(A\\) et \\(B\\) apr\u00e8s l'ex\u00e9cution de l'algorithme ? V\u00e9rifier vos r\u00e9ponses pr\u00e9c\u00e9dentes ci-dessous : Exercice 2 Enonc\u00e9 Solution On consid\u00e8re les deux algorithmes S1 et S2 suivants : S1 : \\[ \\begin{array}{|rcl|} \\hline A & \\leftarrow & \\text{\"bonjour\"}\\\\ A & \\leftarrow & \\text{\"bonsoir\"}\\\\\\hline \\end{array} \\] S2 : \\[ \\begin{array}{|rcl|} \\hline A & \\leftarrow & \\text{\"bonsoir\"}\\\\ A & \\leftarrow & \\text{\"bonjour\"}\\\\\\hline \\end{array} \\] Que contient A \u00e0 la fin de S1 ? de S2 ? L'ordre a-t-il une importance ? A la fin de S1, \\(A\\) contient \"bonsoir\" . A la fin de S2, \\(A\\) contient \"bonjour\" . Oui, l'orde \u00e0 une importance. Les instructions sont lues de mani\u00e8re s\u00e9quentielle, du haut vers le bas Exercice 3 Enonc\u00e9 Solution Soient deux variables \\(A\\) et \\(B\\) , et l'algorithme suivant : \\[ \\begin{array}{|rcl|} \\hline A & \\leftarrow & 1\\\\ B & \\leftarrow & 3\\\\ A & \\leftarrow & A+B\\\\ B & \\leftarrow & A\\times B\\\\\\hline \\end{array} \\] Justifier qu'\u00e0 l'issue de l'algorithme ci-dessous, la valeur de la variable B est 12. A la fin de l'algorithme, on ajoute l'instruction \\(C \\leftarrow (A=12)\\) . Quel est le type de la donn\u00e9e contenue par C ? Quelle est sa valeur ? Ecrire ce code en Python (attention il y a un pi\u00e8ge sur la derni\u00e8re ligne !) Le programme suivant doit \u00eatre plac\u00e9 dans Python Tutor, et permet de r\u00e9pondre \u00e0 toutes les questions : A = 1 B = 3 A = A + B B = A * B C = ( A == 12 ) Le pi\u00e8ge est d'\u00e9crire A=12 , car en python, le symbole = ne permet pas de tester une \u00e9galit\u00e9 , vu qu'il est utilis\u00e9 pour l'affectation. Pour tester une \u00e9galit\u00e9, et donc r\u00e9cup\u00e9rer une valeur bool\u00e9enne , il faut utiliser un double-\u00e9gal : A==12 . Exercice 4 Enonc\u00e9 Solution On consid\u00e8re l'algorithme suivant : \\[ \\begin{array}{|rcl|} \\hline X & \\leftarrow & 4\\\\ X & \\leftarrow & 2 X\\\\ X & \\leftarrow & X+3\\\\ X & \\leftarrow & X\\times X\\\\\\hline \\end{array} \\] Compl\u00e9ter le tableau d'\u00e9tat de la variable \\(X\\) . Quelle valeur est affect\u00e9 \u00e0 \\(X\\) \u00e0 la fin de l'algorithme ? On remplace la premi\u00e8re ligne par \\(X \\leftarrow a\\) , o\u00f9 \\(a\\) est un r\u00e9el donn\u00e9. Laquelle de ces trois propositions correspondent \u00e0 la valeur affect\u00e9 \u00e0 \\(X\\) apr\u00e8s ex\u00e9cution de l'algorithme ? \\(2a+3^2\\) \\((2a+3)^2\\) \\(2(a+3)^2\\) A venir ! Exercice 5 Enonc\u00e9 Solution On consid\u00e8re l'algorithme suivant : \\[ \\begin{array}{|rcl|} \\hline X & \\leftarrow & 4\\\\ X & \\leftarrow & X+3\\\\ X & \\leftarrow & X\\times X\\\\ X & \\leftarrow & 2 X\\\\\\hline \\end{array} \\] Compl\u00e9ter le tableau d'\u00e9tat de la variable \\(X\\) . Quelle valeur est affect\u00e9 \u00e0 \\(X\\) \u00e0 la fin de l'algorithme ? On remplace la premi\u00e8re ligne par \\(X \\leftarrow a\\) , o\u00f9 \\(a\\) est un r\u00e9el donn\u00e9. Quelle expression d\u00e9pendant de \\(a\\) est affect\u00e9e \u00e0 \\(X\\) apr\u00e8s ex\u00e9cution de l'algorithme ? A venir !","title":"Algorithmes, affectations et types de variables"},{"location":"Maths/Seconde/AlgoBases/AffectationTypes/#algorithmes-types-de-variables-et-affectations","text":"","title":"Algorithmes, types de variables et affectations"},{"location":"Maths/Seconde/AlgoBases/AffectationTypes/#notion-dalgorithme","text":"D\u00e9finition : Algorithme Un algorithme est une suite finie d' instructions \u00e0 appliquer : dans un ordre d\u00e9termin\u00e9, \u00e0 un nombre fini de donn\u00e9es , en un nombre fini d'\u00e9tapes, pour arriver \u00e0 un certain r\u00e9sultat. Des algorithmes, il en existe beaucoup. Certains sont des algorithmes num\u00e9riques (ils travaillent sur des nombres), d'autres sont des algorithmes textuels (ils travaillent sur des textes), ou encore sur d'autres types de donn\u00e9es (musiques, images, ou donn\u00e9es plus abstraites). Mais souvent les algorithmes sont r\u00e9p\u00e9titifs, longs \u00e0 faire \u00e0 la main, et n\u00e9cessitent de fastidieux calculs. Ce qui est particuli\u00e8rement p\u00e9nible pour un \u00eatre humain... Appliquer une m\u00e9thode Enonc\u00e9 Solution pour \\(15\\) Solution pour \\(57\\) Solution pour \\(312\\) Info On rappelle que la division euclidienne est la dicision classique des entiers, avec quotient et reste : On consid\u00e8re l'algorithme suivant : Choisir un nombre entier naturel, qu'on appellera \\(x\\) . Fixer un nombre \\(p\\) \u00e0 0. Si le quotient de la division euclidienne de \\(x\\) par \\(2\\) est sup\u00e9rieur ou \u00e9gal \u00e0 \\(1\\) : Ajouter \\(1\\) \u00e0 \\(p\\) ; Remplacer la valeur de \\(x\\) par ce quotient. Recommencer l'\u00e9tape 3 Si le quotient de \\(x\\) par \\(2\\) est inf\u00e9rieur \u00e0 \\(1\\) , on arr\u00eate l'algorithme. Appliquer cet algorithme sur les nombres \\(15\\) , \\(57\\) puis 312$. Quelles sont les valeurs finales obtenus par \\(p\\) \u00e0 chaque fois ? On obtient \\(p = 3\\) . On obtient \\(p = 5\\) On obtient \\(p = 8\\) Certains algorithmes peuvent \u00eatre v\u00e9ritablement fastidieux ! Mais les humains ont invent\u00e9 les ordinateurs, qui eux sont capables de faire des t\u00e2ches r\u00e9p\u00e9titives et des calculs tr\u00e8s tr\u00e8s rapidement - un ordinateur dont le processeur est cadenc\u00e9 \u00e0 3 GHz effectue 3 milliards d'op\u00e9rations \u00e9l\u00e9mentaires par seconde (les op\u00e9rations \u00e9l\u00e9mentaires sont g\u00e9n\u00e9ralement des additions sur des entiers pas trop grands). Donc, dans un ordinateur, les donn\u00e9es vont \u00eatre utilis\u00e9es et modifi\u00e9es par l'algorithme, afin de produire son r\u00e9sultat, qui sera lui-m\u00eame une donn\u00e9e. Pour manipuler les donn\u00e9es , l'ordinateur les stockera dans des cases m\u00e9moires , cases que l'on rep\u00e8rera par leur nom . Variables, types et affectations Une variable est une case m\u00e9moire poss\u00e9dant un nom , dans lequel on range une donn\u00e9e . Les donn\u00e9es informatiques de base peuvent \u00eatre class\u00e9es dans 4 types diff\u00e9rents : les entiers ( nombre entier relatif ) ; les flottants ( en simplifiant, les nombres d\u00e9cimaux ); les cha\u00eenes de caract\u00e8res ( des suites de lettres, chiffres, symboles, encadr\u00e9es par des guillemets ); les bool\u00e9ens ( une valeur qui ne peut \u00eatre que dans deux \u00e9tats : Vrai et Faux ). L'affectation est l'op\u00e9ration qui consiste \u00e0 \u00ab ranger \u00bb une donn\u00e9e dans une variable. En pseudo-code elle est symbolis\u00e9e par une fl\u00e8che pointant vers la gauche : \\(\\leftarrow\\) . On lira l'instruction : \\[ X \\leftarrow 7 \\] par \u00ab X prend la valeur 7 \u00bb, ce qui signifie que la valeur \\(7\\) a \u00e9t\u00e9 rang\u00e9e dans une case m\u00e9moire nomm\u00e9e \\(X\\) . Exemple Consid\u00e9rons le programme de calcul suivant : Choisir un nombre Le multiplier par 5 Ajouter 4 au r\u00e9sultat Ce programme est bien un algorithme : il y a trois instructions ; on doit les appliquer dans l'ordre ; on a une seule donn\u00e9e de d\u00e9part ; il y aura deux \u00e9tapes de calcul. La seule donn\u00e9e utilis\u00e9e est le nombre de d\u00e9part. Si on applique cet algorithme : en nommant le nombre de d\u00e9part X en choisissant comme nombre de d\u00e9part 7 On obtient alors l'algorithme suivant, \u00e9crit en pseudo-code : \\[ \\begin{array}{rcl} X & \\leftarrow & 7\\\\ X & \\leftarrow & 5\\times X\\\\ X & \\leftarrow & X + 4\\\\ \\end{array} \\] On peut alors repr\u00e9senter le tableau d'\u00e9tat de la variable X , qui repr\u00e9sente l'\u00e9volution des valeurs dans les diff\u00e9rentes cases m\u00e9moires nomm\u00e9es lors de l'ex\u00e9cution de l'algorithme : Etat de X Commentaire 7 C'est la ligne \\(X~<--~ 7\\) 35 C'est la ligne \\(X~<--~ 5\\times X\\) , \\(X\\) prend 5 fois la valeur qu'il poss\u00e8de 39 C'est la ligne \\(X~<--~ X+4\\) , \\(X\\) prend la valeur qu'il poss\u00e8de plus 4 A la fin de l'algorithme, la case m\u00e9moire contient \\(39\\) , les autres valeurs ayant totalement disparues. Exemples de types de variables \\(a \\leftarrow 56\\) : la variable \\(a\\) prend la valeur enti\u00e8re \\(56\\) ; \\(b \\leftarrow 3,2\\) : la variable \\(b\\) prend la valeur flottante \\(3,2\\) ; \\(c \\leftarrow a+b\\) : la variable \\(c\\) prend la valeur de la somme des variables \\(a\\) et \\(b\\) ; \\(d \\leftarrow \\text{\"Hello world\"}\\) : la variable \\(d\\) re\u00e7oit la cha\u00eene de caract\u00e8res \"Hello world\" ; \\(e \\leftarrow True\\) : la variable \\(e\\) re\u00e7oit la valeur bool\u00e9enne Vrai; \\(f \\leftarrow 4<2\\) : la variable \\(f\\) re\u00e7oit la valeur bool\u00e9enne Faux.","title":"Notion d'algorithme"},{"location":"Maths/Seconde/AlgoBases/AffectationTypes/#le-langage-python","text":"Langage Python Python est un langage informatique cr\u00e9\u00e9 en 1991 par l'informaticien N\u00e9erlandais Guido vann Rossum. C'est un langage de haut niveau , ce qui signifie qu'il est assez \u00e9loign\u00e9 du code machine qui est tr\u00e8s difficile \u00e0 lire et \u00e0 comprendre pour un \u00eatre humain. En ce sens, Python est un langage informatique simple \u00e0 apprendre, et dont l'\u00e9criture est proche du langage naturel. Il est ainsi devenu le langage g\u00e9n\u00e9rant le plus de recherches sur le web en octobre 2021. Pour autant, l'ordinateur qui ex\u00e9cute un programme Python reste une machine sans intelligence , et la programmeuse ou le programmeur doit respecter une syntaxe tr\u00e8s stricte pour que l'ordinateur ex\u00e9cute la t\u00e2che qui lui est confi\u00e9e. Exemple Voici le code python correspondant \u00e0 l'algorithme que nous avons \u00e9crit pr\u00e9c\u00e9demment : X = 7 X = 5 * X X = X + 4 On peut voir son ex\u00e9cution pas \u00e0 pas depuis le site python tutor : On constate que : en python, l'instruction d'affectation est \u00e9crite avec un signe = ; la multiplication se fait par l'interm\u00e9diaire du signe ast\u00e9risque * .","title":"Le langage Python"},{"location":"Maths/Seconde/AlgoBases/AffectationTypes/#premiers-exercices","text":"Exercice 1 On consid\u00e8re l'algorithme en pseudo-code suivant : \\[ \\begin{array}{|l|} \\hline A \\leftarrow 3\\\\ B \\leftarrow A+2\\\\ A \\leftarrow A\\times B\\\\ B \\leftarrow A+B\\\\\\hline \\end{array} \\] Compl\u00e9ter le tableau d'\u00e9tat des variables suivants : \\[ \\begin{array}{|c|c|} \\hline A & B\\\\\\hline & \\\\\\hline & \\\\\\hline & \\\\\\hline \\end{array} \\] Quelles sont les valeurs contenues par les variables \\(A\\) et \\(B\\) apr\u00e8s l'ex\u00e9cution de l'algorithme ? V\u00e9rifier vos r\u00e9ponses pr\u00e9c\u00e9dentes ci-dessous : Exercice 2 Enonc\u00e9 Solution On consid\u00e8re les deux algorithmes S1 et S2 suivants : S1 : \\[ \\begin{array}{|rcl|} \\hline A & \\leftarrow & \\text{\"bonjour\"}\\\\ A & \\leftarrow & \\text{\"bonsoir\"}\\\\\\hline \\end{array} \\] S2 : \\[ \\begin{array}{|rcl|} \\hline A & \\leftarrow & \\text{\"bonsoir\"}\\\\ A & \\leftarrow & \\text{\"bonjour\"}\\\\\\hline \\end{array} \\] Que contient A \u00e0 la fin de S1 ? de S2 ? L'ordre a-t-il une importance ? A la fin de S1, \\(A\\) contient \"bonsoir\" . A la fin de S2, \\(A\\) contient \"bonjour\" . Oui, l'orde \u00e0 une importance. Les instructions sont lues de mani\u00e8re s\u00e9quentielle, du haut vers le bas Exercice 3 Enonc\u00e9 Solution Soient deux variables \\(A\\) et \\(B\\) , et l'algorithme suivant : \\[ \\begin{array}{|rcl|} \\hline A & \\leftarrow & 1\\\\ B & \\leftarrow & 3\\\\ A & \\leftarrow & A+B\\\\ B & \\leftarrow & A\\times B\\\\\\hline \\end{array} \\] Justifier qu'\u00e0 l'issue de l'algorithme ci-dessous, la valeur de la variable B est 12. A la fin de l'algorithme, on ajoute l'instruction \\(C \\leftarrow (A=12)\\) . Quel est le type de la donn\u00e9e contenue par C ? Quelle est sa valeur ? Ecrire ce code en Python (attention il y a un pi\u00e8ge sur la derni\u00e8re ligne !) Le programme suivant doit \u00eatre plac\u00e9 dans Python Tutor, et permet de r\u00e9pondre \u00e0 toutes les questions : A = 1 B = 3 A = A + B B = A * B C = ( A == 12 ) Le pi\u00e8ge est d'\u00e9crire A=12 , car en python, le symbole = ne permet pas de tester une \u00e9galit\u00e9 , vu qu'il est utilis\u00e9 pour l'affectation. Pour tester une \u00e9galit\u00e9, et donc r\u00e9cup\u00e9rer une valeur bool\u00e9enne , il faut utiliser un double-\u00e9gal : A==12 . Exercice 4 Enonc\u00e9 Solution On consid\u00e8re l'algorithme suivant : \\[ \\begin{array}{|rcl|} \\hline X & \\leftarrow & 4\\\\ X & \\leftarrow & 2 X\\\\ X & \\leftarrow & X+3\\\\ X & \\leftarrow & X\\times X\\\\\\hline \\end{array} \\] Compl\u00e9ter le tableau d'\u00e9tat de la variable \\(X\\) . Quelle valeur est affect\u00e9 \u00e0 \\(X\\) \u00e0 la fin de l'algorithme ? On remplace la premi\u00e8re ligne par \\(X \\leftarrow a\\) , o\u00f9 \\(a\\) est un r\u00e9el donn\u00e9. Laquelle de ces trois propositions correspondent \u00e0 la valeur affect\u00e9 \u00e0 \\(X\\) apr\u00e8s ex\u00e9cution de l'algorithme ? \\(2a+3^2\\) \\((2a+3)^2\\) \\(2(a+3)^2\\) A venir ! Exercice 5 Enonc\u00e9 Solution On consid\u00e8re l'algorithme suivant : \\[ \\begin{array}{|rcl|} \\hline X & \\leftarrow & 4\\\\ X & \\leftarrow & X+3\\\\ X & \\leftarrow & X\\times X\\\\ X & \\leftarrow & 2 X\\\\\\hline \\end{array} \\] Compl\u00e9ter le tableau d'\u00e9tat de la variable \\(X\\) . Quelle valeur est affect\u00e9 \u00e0 \\(X\\) \u00e0 la fin de l'algorithme ? On remplace la premi\u00e8re ligne par \\(X \\leftarrow a\\) , o\u00f9 \\(a\\) est un r\u00e9el donn\u00e9. Quelle expression d\u00e9pendant de \\(a\\) est affect\u00e9e \u00e0 \\(X\\) apr\u00e8s ex\u00e9cution de l'algorithme ? A venir !","title":"Premiers exercices"},{"location":"Maths/Seconde/AlgoBases/Arithmetique/","text":"Arithm\u00e9tique avec Python D\u00e9terminer la liste des diviseurs d'un entier donn\u00e9 Trouver la d\u00e9composition d'un nombre en facteurs premiers est facile pour un \u00eatre humain, mais n\u00e9cessite la connaissance de structures avanc\u00e9es (les s\u00e9quences , et plus particuli\u00e8rement les dictionnaires ) d\u00e8s qu'on veut les appliquer en Python. Cependant il est assez facile de demander \u00e0 Python de trouver la liste des diviseurs d'un nombre donn\u00e9. Il faut utiliser pour cela l'algorithme suivant : fonction diviseurs(n :entier) Cr\u00e9er une liste vide L Pour chaque nombre i dans les entiers allant de 1 \u00e0 n Si i est un diviseur de n Ajouter i \u00e0 L renvoyer L Cet algorithme en lanage naturel peut \u00eatre quasiment traduit \u00e0 l'identique en Python gr\u00e2ce aux instructions suivantes : def diviseurs ( n ) : L = list () for i in range ( 1 , n + 1 ) : if n % i == 0 : L . append ( i ) return L Excercice 1 Enonc\u00e9 R\u00e9ponses Ouvrir Thonny , puis cr\u00e9er un fichier dans votre espace personnel nomm\u00e9 arithmetique.py . Taper le code pr\u00e9c\u00e9dant dans l'\u00e9diteur. Dans la zone de script (le shell ), taper la ligne suivante : diviseurs ( 60 ) Quel est le r\u00e9sultat obtenu ? Que faut-il \u00e9crire en Python pour obtenir les diviseurs de \\(30\\) ? de \\(262\\) ? Combien y-a-t'il de diviseurs de \\(413~525\\) ? (On pourra utiliser la ligne len(diviseurs(413525)) ) Combien y-a-t'il de diviseurs de \\(2~745~897\\) ? Combien y-a-t'il de diviseurs de \\(234~745~896\\) ? Que constate-t'on ? Combien y-a-t'il de diviseurs de \\(234~745~897\\) ? Que constate-t'on ? Comment s'appelle ce type de nombre entiers ? A venir ! PGCD et PPCM PGCD Listes en Python L'objet renvoy\u00e9 par la fonction diviseurs est de type list . Il s'agit d'un type particulier, qu'on peut imaginer comme \u00e9tant une suite de cases num\u00e9rot\u00e9es en partant de 0 Par exemple la liste Python L = [ 12 , 32 , 44 , -5 , 7] correspond au sch\u00e9ma suivant : et il est possible d'acc\u00e9der aux m\u00e9thodes suivantes : L[2] renverra le nombre \\(44\\) ; L[0] * L[2] renverra le nombre \\(12\\times 44 = 528\\) ; L[-1] renverra le dernier nombre de la liste donc ici \\(7\\) . En ajoutant la fonction suivante : def inter ( l1 , l2 ) : return [ e for e in l1 if e in l2 ] on obtient la possibilit\u00e9 d'obtenir l' intersection de deux listes l1 et l2 , par exemple : >>> inter ([ 1 , 2 , 4 , 9 , 16 ], [ 3 , 4 , 8 , 9 , 12 ]) [ 4 , 9 ] Exercice 2 Enonc\u00e9 R\u00e9ponses Ajouter la fonction \u00ecnter au fichier arithmetique.py . Que faut-il \u00e9crire en Python pour obtenir la liste des diviseurs de \\(60\\) ? Que faut-il \u00e9crire en Python pour obtenir la liste des diviseurs de \\(132\\) ? Que faut-il \u00e9crire en Python pour obtenir les diviseurs communs \u00e0 \\(60\\) et \\(132\\) ? Comment faire pour obtenir le PGCD de \\(60\\) et \\(132\\) ? Faire de m\u00eame pour \\(372~522\\) et \\(195~624\\) . Cr\u00e9er une fonction python pgcd(a, b) qui renvoie le pgcd des nombres entiers naturels a et b pass\u00e9s en argument. A venir ! PPCM relation etrte PGCD et PPCM Soient \\(a\\) et \\(b\\) deux entiers naturels. Alors : \\[ a \\times b = PGCD(a;b) \\times PPCM(a;b) \\] Cr\u00e9er une fonction PPCM qui renvoie le ppcm de deux entiers naturels a et b . Cr\u00e9er une fonction PPCM qui renvoie le ppcm de deux entiers naturels a et b .","title":"Arithm\u00e9tique"},{"location":"Maths/Seconde/AlgoBases/Arithmetique/#arithmetique-avec-python","text":"","title":"Arithm\u00e9tique avec Python"},{"location":"Maths/Seconde/AlgoBases/Arithmetique/#determiner-la-liste-des-diviseurs-dun-entier-donne","text":"Trouver la d\u00e9composition d'un nombre en facteurs premiers est facile pour un \u00eatre humain, mais n\u00e9cessite la connaissance de structures avanc\u00e9es (les s\u00e9quences , et plus particuli\u00e8rement les dictionnaires ) d\u00e8s qu'on veut les appliquer en Python. Cependant il est assez facile de demander \u00e0 Python de trouver la liste des diviseurs d'un nombre donn\u00e9. Il faut utiliser pour cela l'algorithme suivant : fonction diviseurs(n :entier) Cr\u00e9er une liste vide L Pour chaque nombre i dans les entiers allant de 1 \u00e0 n Si i est un diviseur de n Ajouter i \u00e0 L renvoyer L Cet algorithme en lanage naturel peut \u00eatre quasiment traduit \u00e0 l'identique en Python gr\u00e2ce aux instructions suivantes : def diviseurs ( n ) : L = list () for i in range ( 1 , n + 1 ) : if n % i == 0 : L . append ( i ) return L Excercice 1 Enonc\u00e9 R\u00e9ponses Ouvrir Thonny , puis cr\u00e9er un fichier dans votre espace personnel nomm\u00e9 arithmetique.py . Taper le code pr\u00e9c\u00e9dant dans l'\u00e9diteur. Dans la zone de script (le shell ), taper la ligne suivante : diviseurs ( 60 ) Quel est le r\u00e9sultat obtenu ? Que faut-il \u00e9crire en Python pour obtenir les diviseurs de \\(30\\) ? de \\(262\\) ? Combien y-a-t'il de diviseurs de \\(413~525\\) ? (On pourra utiliser la ligne len(diviseurs(413525)) ) Combien y-a-t'il de diviseurs de \\(2~745~897\\) ? Combien y-a-t'il de diviseurs de \\(234~745~896\\) ? Que constate-t'on ? Combien y-a-t'il de diviseurs de \\(234~745~897\\) ? Que constate-t'on ? Comment s'appelle ce type de nombre entiers ? A venir !","title":"D\u00e9terminer la liste des diviseurs d'un entier donn\u00e9"},{"location":"Maths/Seconde/AlgoBases/Arithmetique/#pgcd-et-ppcm","text":"","title":"PGCD et PPCM"},{"location":"Maths/Seconde/AlgoBases/Arithmetique/#pgcd","text":"Listes en Python L'objet renvoy\u00e9 par la fonction diviseurs est de type list . Il s'agit d'un type particulier, qu'on peut imaginer comme \u00e9tant une suite de cases num\u00e9rot\u00e9es en partant de 0 Par exemple la liste Python L = [ 12 , 32 , 44 , -5 , 7] correspond au sch\u00e9ma suivant : et il est possible d'acc\u00e9der aux m\u00e9thodes suivantes : L[2] renverra le nombre \\(44\\) ; L[0] * L[2] renverra le nombre \\(12\\times 44 = 528\\) ; L[-1] renverra le dernier nombre de la liste donc ici \\(7\\) . En ajoutant la fonction suivante : def inter ( l1 , l2 ) : return [ e for e in l1 if e in l2 ] on obtient la possibilit\u00e9 d'obtenir l' intersection de deux listes l1 et l2 , par exemple : >>> inter ([ 1 , 2 , 4 , 9 , 16 ], [ 3 , 4 , 8 , 9 , 12 ]) [ 4 , 9 ] Exercice 2 Enonc\u00e9 R\u00e9ponses Ajouter la fonction \u00ecnter au fichier arithmetique.py . Que faut-il \u00e9crire en Python pour obtenir la liste des diviseurs de \\(60\\) ? Que faut-il \u00e9crire en Python pour obtenir la liste des diviseurs de \\(132\\) ? Que faut-il \u00e9crire en Python pour obtenir les diviseurs communs \u00e0 \\(60\\) et \\(132\\) ? Comment faire pour obtenir le PGCD de \\(60\\) et \\(132\\) ? Faire de m\u00eame pour \\(372~522\\) et \\(195~624\\) . Cr\u00e9er une fonction python pgcd(a, b) qui renvoie le pgcd des nombres entiers naturels a et b pass\u00e9s en argument. A venir !","title":"PGCD"},{"location":"Maths/Seconde/AlgoBases/Arithmetique/#ppcm","text":"relation etrte PGCD et PPCM Soient \\(a\\) et \\(b\\) deux entiers naturels. Alors : \\[ a \\times b = PGCD(a;b) \\times PPCM(a;b) \\] Cr\u00e9er une fonction PPCM qui renvoie le ppcm de deux entiers naturels a et b . Cr\u00e9er une fonction PPCM qui renvoie le ppcm de deux entiers naturels a et b .","title":"PPCM"},{"location":"Maths/Seconde/AlgoBases/ProgrammationPythonThonny/","text":"Programmation en Python et utilisation de Thonny Pr\u00e9sentation de l'\u00e9diteur Thonny Thonny est un logiciel libre et gratuit permettant l'\u00e9criture et l'ex\u00e9cution de programmes \u00e9crits en Python. Il a \u00e9t\u00e9 cr\u00e9e \u00e0 destination des \u00e9l\u00e8ves et \u00e9tudiants d\u00e9couvrant la programmation par des professeurs de l'institut de Sciences Informatiques de l'universit\u00e9 de Tartu, en Estonie. Il est t\u00e9l\u00e9chargeable gratuitement ici , en version Windows, Mac ou Linux, et contient une version autonome de Python, qui ne perturbe en rien l'ordinateur sur lequel on installe le logiciel. Pr\u00e9sentation de l'interface graphique de Thonny Comme tout bon environnement de d\u00e9veloppement int\u00e9gr\u00e9 ou autrement dit IDE , Thonny propose plusieurs pour aider \u00e0 la programmation en Python. Nous ne pr\u00e9senterons ici que ceux n\u00e9cessaires \u00e0 une initiation \u00e0 Python. La zone d'ex\u00e9cution , aussi appel\u00e9e Shell ou console , est une zone interactive o\u00f9 une instruction Python est ex\u00e9cut\u00e9e directement apr\u00e8s avoir \u00e9t\u00e9 tap\u00e9e. Cette zone est souvent utilis\u00e9e pour tester une instruction ou s\u00e9rie d'instructions , mais est aussi l'endroit ou sera ex\u00e9cut\u00e9 un script Python . Attention, dans le Shell , il n'est pas possible de revenir en arri\u00e8re et de modifier ce qui a \u00e9t\u00e9 tap\u00e9 . En cas d'erreur, il faudra recommencer ! La zone d'\u00e9dition ou zone de scripts , est une zone dans laquelle on peut taper des s\u00e9ries d'instructions Python, et les sauvegarder sous la forme d'un fichier d'extension .py . Ces instructions ne seront pas ex\u00e9cut\u00e9es tant que l'utilisateur n'aura pas demand\u00e9 explicitement cette ex\u00e9cution. Pour ex\u00e9cuter un script , il faudra appuyer, soit sur la fl\u00e8che verte de la barre de menu, soit sur la touche F5 , soit par l'interm\u00e9diaire du menu Run>Run current script . Le r\u00e9sultat de l'ex\u00e9cution du script sera affich\u00e9 dans le shell . Les zones situ\u00e9s \u00e0 droite de l'\u00e9diteur (fen\u00eatre des variables et assistant d'\u00e9dition), contiennent des informations qui peuvent \u00eatre utiles pour analyser un programme qui ne fonctionne pas. Mais c'est en anglais Oui, l'interface de Thonny est en anglais, oui il n'y a un possibilit\u00e9 pour la passer en fran\u00e7ais, non je ne la donnerai pas ici, car l'anglais utilis\u00e9 est tr\u00e8s simple, \u00e0 vous de vous d\u00e9brouiller ! Premiers pas avec Thonny Exercice 1 : Prise en main Enonc\u00e9 Solution Cr\u00e9er un dossier Maths dans votre dossier personnel. Cr\u00e9er un dossier Algorithmique dans le dossier Maths . Ouvrir le logiciel Thonny. Cr\u00e9er un script vide. Tapez le code suivant, en respectant scrupuleusement ce qui est \u00e9crit : 1 2 3 4 5 6 7 8 9 10 nom = input ( \"Quel est votre nom ?\" ) age = int ( input ( \"Quel est votre age ?\" )) majeur = age >= 18 if majeur : majorite = age - 18 message = f \"Bonjour { nom } , vous avez { age } ans et \u00eates majeur depuis { majorite } ans.\" else : majorite = 18 - age message = f \"Bonjour { nom } , vous avez { age } ans et serez majeur dans { majorite } ans.\" print ( message ) Enregistrer ce fichier sous le nom AP_Algo_1.py dans le dossier Algorithmique . Ex\u00e9cutez le script et r\u00e9pondez aux questions pos\u00e9es dans le shell . Que se passe-t-il ? Recommencez plusieurs fois, en essayant diff\u00e9rentes r\u00e9ponses. Pour les questions suivantes, vous pouvez vous aider de la fen\u00eatre des variables. Si elle n'est pas pr\u00e9sente, vous pouvez l'afficher par le menu View>Variables . A quoi sert l'instruction input en ligne 1 ? Quel est le type de la variable nom ? Quel est le type de la variable age ? Pourquoi n'est-elle pas du m\u00eame type que nom ? Quel est le type de la variable majeur ? Que cela signifie-t-il ? Quel est le type de la variable majorite ? Est-ce toujours le cas ? Quel est le type de la variable message ? Qu'a-t-elle de sp\u00e9cial ? A venir Le calcul avec Python Python est capable de calculer avec des nombres entiers (tpe int ) et des nombres flottants (type float ). Les op\u00e9rations de bases sont g\u00e9r\u00e9es ainsi : les op\u00e9rations \\(+\\) , \\(-\\) , \\(\\times\\) et \\(\\div\\) s'\u00e9crivent respectivement + , - , * , / ; \\(x^n\\) s'\u00e9crit x**n ; Le reste de la division euclidienne de \\(a\\) par \\(b\\) s'obtient par a%b (lu \u00ab a modulo b \u00bb) ; le quotient de la division euclidienne de \\(a\\) par \\(b\\) s'obteint par a//b . Exercice 2 : Compl\u00e9ter un programme Enonc\u00e9 Solution Cr\u00e9er un nouveau script, et enregistrez-le dans le dossier Algorithmique sous le nom AP_Algo_2.py . Tapez le code suivant dans le script : 1 2 3 4 5 x = 2 y = 3 z = x + y + x * y z = z ** 2 y = y / 2 Ex\u00e9cutez-le. Qu'obtient-on ? Compl\u00e9ter ce programme afin qu'une variable bool\u00e9enne t teste si z est pair. A venir ! Exercice 3 : Se m\u00e9fier ! Enonc\u00e9 Solution On consid\u00e8re l'algorithme suivant en pseudo-code, ainsi que le tableau d'\u00e9tat des variables correspondant: \\[ \\begin{array}{|rcl|} \\hline A & \\leftarrow & 12\\\\ B & \\leftarrow & 4\\\\ C & \\leftarrow & \\dfrac{A}{B}\\\\ D & \\leftarrow & \\dfrac{A\\times 7}{B\\times 7}\\\\ T & \\leftarrow & C=D\\\\\\hline \\end{array} \\] A B C D T Compl\u00e9ter \u00e0 la main le tableau d'\u00e9tat des variables. Que dfoit contenir la variable T ? Cr\u00e9er un script vide et l'enregistrer dans le dossier Algorithmique sous le nom AP_Algo_3.py . Coder l'algorithme en Python. Ex\u00e9cutez-le. Le r\u00e9sultat est-il conforme \u00e0 vos attentes ? Corriger si besoin le code. Quel est le type des variables C et D ? Comment l'expliquer ? A venir !","title":"Programmation en Python et utilisation de Thonny"},{"location":"Maths/Seconde/AlgoBases/ProgrammationPythonThonny/#programmation-en-python-et-utilisation-de-thonny","text":"","title":"Programmation en Python et utilisation de Thonny"},{"location":"Maths/Seconde/AlgoBases/ProgrammationPythonThonny/#presentation-de-lediteur-thonny","text":"Thonny est un logiciel libre et gratuit permettant l'\u00e9criture et l'ex\u00e9cution de programmes \u00e9crits en Python. Il a \u00e9t\u00e9 cr\u00e9e \u00e0 destination des \u00e9l\u00e8ves et \u00e9tudiants d\u00e9couvrant la programmation par des professeurs de l'institut de Sciences Informatiques de l'universit\u00e9 de Tartu, en Estonie. Il est t\u00e9l\u00e9chargeable gratuitement ici , en version Windows, Mac ou Linux, et contient une version autonome de Python, qui ne perturbe en rien l'ordinateur sur lequel on installe le logiciel. Pr\u00e9sentation de l'interface graphique de Thonny Comme tout bon environnement de d\u00e9veloppement int\u00e9gr\u00e9 ou autrement dit IDE , Thonny propose plusieurs pour aider \u00e0 la programmation en Python. Nous ne pr\u00e9senterons ici que ceux n\u00e9cessaires \u00e0 une initiation \u00e0 Python. La zone d'ex\u00e9cution , aussi appel\u00e9e Shell ou console , est une zone interactive o\u00f9 une instruction Python est ex\u00e9cut\u00e9e directement apr\u00e8s avoir \u00e9t\u00e9 tap\u00e9e. Cette zone est souvent utilis\u00e9e pour tester une instruction ou s\u00e9rie d'instructions , mais est aussi l'endroit ou sera ex\u00e9cut\u00e9 un script Python . Attention, dans le Shell , il n'est pas possible de revenir en arri\u00e8re et de modifier ce qui a \u00e9t\u00e9 tap\u00e9 . En cas d'erreur, il faudra recommencer ! La zone d'\u00e9dition ou zone de scripts , est une zone dans laquelle on peut taper des s\u00e9ries d'instructions Python, et les sauvegarder sous la forme d'un fichier d'extension .py . Ces instructions ne seront pas ex\u00e9cut\u00e9es tant que l'utilisateur n'aura pas demand\u00e9 explicitement cette ex\u00e9cution. Pour ex\u00e9cuter un script , il faudra appuyer, soit sur la fl\u00e8che verte de la barre de menu, soit sur la touche F5 , soit par l'interm\u00e9diaire du menu Run>Run current script . Le r\u00e9sultat de l'ex\u00e9cution du script sera affich\u00e9 dans le shell . Les zones situ\u00e9s \u00e0 droite de l'\u00e9diteur (fen\u00eatre des variables et assistant d'\u00e9dition), contiennent des informations qui peuvent \u00eatre utiles pour analyser un programme qui ne fonctionne pas. Mais c'est en anglais Oui, l'interface de Thonny est en anglais, oui il n'y a un possibilit\u00e9 pour la passer en fran\u00e7ais, non je ne la donnerai pas ici, car l'anglais utilis\u00e9 est tr\u00e8s simple, \u00e0 vous de vous d\u00e9brouiller !","title":"Pr\u00e9sentation de l'\u00e9diteur Thonny"},{"location":"Maths/Seconde/AlgoBases/ProgrammationPythonThonny/#premiers-pas-avec-thonny","text":"Exercice 1 : Prise en main Enonc\u00e9 Solution Cr\u00e9er un dossier Maths dans votre dossier personnel. Cr\u00e9er un dossier Algorithmique dans le dossier Maths . Ouvrir le logiciel Thonny. Cr\u00e9er un script vide. Tapez le code suivant, en respectant scrupuleusement ce qui est \u00e9crit : 1 2 3 4 5 6 7 8 9 10 nom = input ( \"Quel est votre nom ?\" ) age = int ( input ( \"Quel est votre age ?\" )) majeur = age >= 18 if majeur : majorite = age - 18 message = f \"Bonjour { nom } , vous avez { age } ans et \u00eates majeur depuis { majorite } ans.\" else : majorite = 18 - age message = f \"Bonjour { nom } , vous avez { age } ans et serez majeur dans { majorite } ans.\" print ( message ) Enregistrer ce fichier sous le nom AP_Algo_1.py dans le dossier Algorithmique . Ex\u00e9cutez le script et r\u00e9pondez aux questions pos\u00e9es dans le shell . Que se passe-t-il ? Recommencez plusieurs fois, en essayant diff\u00e9rentes r\u00e9ponses. Pour les questions suivantes, vous pouvez vous aider de la fen\u00eatre des variables. Si elle n'est pas pr\u00e9sente, vous pouvez l'afficher par le menu View>Variables . A quoi sert l'instruction input en ligne 1 ? Quel est le type de la variable nom ? Quel est le type de la variable age ? Pourquoi n'est-elle pas du m\u00eame type que nom ? Quel est le type de la variable majeur ? Que cela signifie-t-il ? Quel est le type de la variable majorite ? Est-ce toujours le cas ? Quel est le type de la variable message ? Qu'a-t-elle de sp\u00e9cial ? A venir Le calcul avec Python Python est capable de calculer avec des nombres entiers (tpe int ) et des nombres flottants (type float ). Les op\u00e9rations de bases sont g\u00e9r\u00e9es ainsi : les op\u00e9rations \\(+\\) , \\(-\\) , \\(\\times\\) et \\(\\div\\) s'\u00e9crivent respectivement + , - , * , / ; \\(x^n\\) s'\u00e9crit x**n ; Le reste de la division euclidienne de \\(a\\) par \\(b\\) s'obtient par a%b (lu \u00ab a modulo b \u00bb) ; le quotient de la division euclidienne de \\(a\\) par \\(b\\) s'obteint par a//b . Exercice 2 : Compl\u00e9ter un programme Enonc\u00e9 Solution Cr\u00e9er un nouveau script, et enregistrez-le dans le dossier Algorithmique sous le nom AP_Algo_2.py . Tapez le code suivant dans le script : 1 2 3 4 5 x = 2 y = 3 z = x + y + x * y z = z ** 2 y = y / 2 Ex\u00e9cutez-le. Qu'obtient-on ? Compl\u00e9ter ce programme afin qu'une variable bool\u00e9enne t teste si z est pair. A venir ! Exercice 3 : Se m\u00e9fier ! Enonc\u00e9 Solution On consid\u00e8re l'algorithme suivant en pseudo-code, ainsi que le tableau d'\u00e9tat des variables correspondant: \\[ \\begin{array}{|rcl|} \\hline A & \\leftarrow & 12\\\\ B & \\leftarrow & 4\\\\ C & \\leftarrow & \\dfrac{A}{B}\\\\ D & \\leftarrow & \\dfrac{A\\times 7}{B\\times 7}\\\\ T & \\leftarrow & C=D\\\\\\hline \\end{array} \\] A B C D T Compl\u00e9ter \u00e0 la main le tableau d'\u00e9tat des variables. Que dfoit contenir la variable T ? Cr\u00e9er un script vide et l'enregistrer dans le dossier Algorithmique sous le nom AP_Algo_3.py . Coder l'algorithme en Python. Ex\u00e9cutez-le. Le r\u00e9sultat est-il conforme \u00e0 vos attentes ? Corriger si besoin le code. Quel est le type des variables C et D ? Comment l'expliquer ? A venir !","title":"Premiers pas avec Thonny"},{"location":"Maths/Seconde/C01/C01_01_Ensembles_Nombres/","text":"C01-01 : Ensembles de Nombres La version pdf de ce cours est t\u00e9l\u00e9chargeable ici . (version 2021-2022) Activit\u00e9 : Classer des nombres Dans la liste ci-dessus, deux \u00e9critures sont interdites. Lesquelles et pourquoi ? Classer les nombres restants en cinq groupes , en justifiant vos choix. Diff\u00e9rence entres propri\u00e9t\u00e9s et \u00e9critures Un nombre peut \u00eatre \u00e9crit de diff\u00e9rentes mani\u00e8res, plus ou moins compliqu\u00e9es. Par exemple : \\[ 2 = \\cfrac{6}{3} = 20 \\times 10^{-1} = \\sqrt{4}= - \\left(-2\\right) = 2,0000 \\] Pour autant, ce qui nous int\u00e9resse en math\u00e9matiques c'est d'\u00e9tudier les propri\u00e9t\u00e9s de ce nombre, qui elles sont ind\u00e9pendantes de l'\u00e9criture de ce nombre. Nombres entiers naturels et relatifs D\u00e9finitions L'ensemble des entiers naturels , not\u00e9 \\(\\mathbb{N}\\) , est l'ensemble des nombres permettant de d\u00e9nombrer une collection d'objets, de personnes, etc, c'est-\u00e0-dire la suite naturelle \\(0~;~1~;~2~;~3~;~...\\) L'ensemble des entiers relatifs , not\u00e9 \\(\\mathbb{Z}\\) , est l'ensemble des entiers naturels et leurs oppos\u00e9s , c'est-\u00e0-dire la suite \\(...~;~-3~;~-2~;~-1~;~0~;~1~;~2~;~3~;~...\\) Info L'ensemble \\(\\mathbb{N}\\) poss\u00e8de un plus petit \u00e9l\u00e9ment, c'est \\(0\\) . Les nombres entiers naturels sont tous positifs ou nuls . Tous les entiers naturels sont aussi des entiers relatifs . Vocabulaire et notations Appartenance : On dit que \\(5\\) appartient \u00e0 \\(\\mathbb{N}\\) , et on note \\(5 \\in \\mathbb{N}\\) . De m\u00eame \\(-2\\) n'appartient pas \u00e0 \\(\\mathbb{N}\\) , et on note \\(-12 \\notin \\mathbb{N}\\) . Inclusion : Tous les \u00e9l\u00e9ments de \\(\\mathbb{N}\\) sont aussi des \u00e9l\u00e9ments de \\(\\mathbb{Z}\\) . On dit alors que \\(\\mathbb{N}\\) est un sous-ensemble de \\(\\mathbb{Z}\\) et on note alors \\(\\mathbb{N} \\subset \\mathbb{Z}\\) (qui se lit \\(\\mathbb{N}\\) est inclus dans \\(\\mathbb{Z}\\) ). Application : choix du bon symbole Exercice Solution Compl\u00e9ter avec \\(\\in\\) ou \\(\\notin\\) : \\(7 \\dots \\mathbb{N}\\) \\(-3 \\dots \\mathbb{N}\\) \\(-5 \\dots \\mathbb{Z}\\) \\(7 \\dots \\mathbb{Z}\\) \\(\\dfrac{1}{3} \\dots \\mathbb{N}\\) \\(\\sqrt{9} \\dots \\mathbb{N}\\) \\(-\\sqrt{25} \\dots \\mathbb{N}\\) \\(-\\sqrt{2} \\dots \\mathbb{Z}\\) \\(5 \\times 10^{3} \\dots \\mathbb{N}\\) \\(5 \\times 10 ^{-3} \\dots \\mathbb{Z}\\) \\(-4,2 \\dots \\mathbb{Z}\\) \\(3 \\times (1 - \\dfrac{1}{3}) \\dots \\mathbb{N}\\) Compl\u00e9ter avec \\(\\in\\) ou \\(\\notin\\) : \\(7 \\in \\mathbb{N}\\) \\(-3 \\notin \\mathbb{N}\\) \\(-5 \\in \\mathbb{Z}\\) \\(7 \\in \\mathbb{Z}\\) \\(\\dfrac{1}{3} \\notin \\mathbb{N}\\) \\(\\sqrt{9} \\in \\mathbb{N}\\) car \\(\\sqrt{9} = 3\\) \\(-\\sqrt{25} \\notin \\mathbb{N}\\) car \\(-\\sqrt{25} = -5\\) \\(-\\sqrt{2} \\notin \\mathbb{Z}\\) car \\(-\\sqrt{2} \\simeq -1,414...\\) \\(5 \\times 10^{3} \\in \\mathbb{N}\\) car \\(5 \\times 10^3 = 5 \\times 1000 = 5000\\) \\(5 \\times 10 ^{-3} \\notin \\mathbb{Z}\\) car \\(5 \\times 10 ^{-3} = 5 \\times 0,001 = 0,005\\) \\(-4,2 \\notin \\mathbb{Z}\\) \\(3 \\times (1 - \\dfrac{1}{3}) \\in \\mathbb{N}\\) car \\(3 \\times (1 - \\dfrac{1}{3}) = 3 - 1 = 2\\) (en d\u00e9veloppant) ou \\(3 \\times (1 - \\dfrac{1}{3}) = 3 \\times \\dfrac{2}{3} = 2\\) (en calculant entre parenth\u00e8ses). Nombres d\u00e9cimaux d\u00e9finition : Nombres d\u00e9cimaux Un nombre d\u00e9cimal est un nombre pouvant s'\u00e9crire sous la forme d'une fraction d\u00e9cimale , c'est \u00e0 dire sous la forme $$ \\dfrac{a}{10^n} $$ avec \\(a\\in \\mathbb{Z}\\) et \\(n\\in \\mathbb{N}\\) . L'ensemble des d\u00e9cimaux est not\u00e9 \\(\\mathbb{D}\\) . Application : Nombres d\u00e9cimaux et puissances de 10 Exercice Solution Pour chacun des nombres suivants, d\u00e9terminer si possible une \u00e9criture de la forme \\(\\dfrac{k}{10^n}\\) . \\(4,37\\) \\(0,002\\) \\(-12\\) \\(\\dfrac{1}{3}\\) \\(\\dfrac{2}{5}\\) \\(\\sqrt{0,16}\\) \\(10^3\\) \\(10^{-5}\\) \\(-10^5\\) \\(\\dfrac{3.10^5}{10^7}\\) \\(\\dfrac{10^7}{3.10^5}\\) Pour chacun des nombres suivants, d\u00e9terminer si possible une \u00e9criture de la forme \\(\\dfrac{k}{10^n}\\) . \\(4,37 = \\dfrac{437}{100} = \\dfrac{437}{10^{2}}\\) \\(0,002 = \\dfrac{2}{1~000} = \\dfrac{2}{10^{3}}\\) \\(-12 = \\dfrac{-12}{1} = \\dfrac{-12}{10^{0}}\\) ( car \\(a^0 =1\\) pour tout nombre \\(a \\neq 0\\) ). \\(\\dfrac{1}{3} \\notin \\mathbb{D}\\) car \\(\\dfrac{1}{3} \\simeq 0,333...\\) (La d\u00e9monstration r\u00e9elle sera donn\u00e9e plus tard dans l'ann\u00e9e) \\(\\dfrac{2}{5} = \\dfrac{4}{10} = \\dfrac{4}{10^1}\\) \\(\\sqrt{0,16} = 0,4 = \\dfrac{4}{10} = \\dfrac{4}{10^1}\\) \\(10^3 = \\dfrac{1~000}{1} = \\dfrac{1~000}{10^{0}}\\) \\(10^{-5} = \\dfrac{1}{10^5}\\) (par d\u00e9finition des exposants n\u00e9gatifs \\(a^{-n} = \\dfrac{1}{a^n}\\) pour tout \\(n \\in \\mathbb{Z}\\) si \\(a \\neq 0\\) ) \\(-10^5 = - 100~000 = \\dfrac{- 100~000}{1} = \\dfrac{- 100~000}{10^{0}}\\) $ \\(\\dfrac{3.10^5}{10^7} = \\dfrac{3}{10^2}\\) par division des puissances ( \\(\\dfrac{a^m}{a^n} = a^{m-n}\\) pour tout \\(m,n \\in \\Z\\) ) \\(\\dfrac{10^7}{3.10^5} = \\dfrac{10^2}{3} \\simeq 33,333.... \\notin \\mathbb{D}\\) Remarques Les entiers relatifs sont des d\u00e9cimaux, car si \\(k \\in \\mathbb{Z}\\) , on peut aussi \u00e9crire \\(k=\\dfrac{k}{1}=\\dfrac{k}{10^0}\\) . On a donc la propri\u00e9t\u00e9 \\(\\mathbb{Z} \\subset \\mathbb{D}\\) . Un nombre d\u00e9cimal poss\u00e8de une \u00e9criture d\u00e9cimale finie . Nombres rationnels D\u00e9finition : Nombres rationnels Un nombre rationnel est un nombre pouvant s'\u00e9crire sous la forme \\(\\dfrac{a}{b}\\) avec \\(a\\in \\mathbb{Z}\\) et \\(b\\in \\mathbb{N}^{*}\\) (c'est-\u00e0-dire \\(\\mathbb{N}\\) priv\u00e9 de \\(0\\) ). L'ensemble des nombres rationnels est not\u00e9 \\(\\mathbb{Q}\\) . Remarque Un nombre d\u00e9cimal est par d\u00e9finition un nombre rationnel. Par d\u00e9finition de \\(\\mathbb{D}\\) et \\(\\mathbb{Q}\\) , on a la propri\u00e9t\u00e9 \\(\\mathbb{D} \\subset \\mathbb{Q}\\) . Propri\u00e9t\u00e9 : Caract\u00e9risation des rationnels non d\u00e9cimaux Tous les nombres rationnels ne poss\u00e8dent pas d'\u00e9criture d\u00e9cimale finie. En particulier, \\(\\dfrac{1}{3}\\) n'est pas d\u00e9cimal. Preuve La d\u00e9monstration de cette propri\u00e9t\u00e9 sera faite plus tard dans l'ann\u00e9e, dans le chapitre arithm\u00e9tique. Remarques Les nombres rationnels non d\u00e9cimaux poss\u00e8dent une \u00e9criture d\u00e9cimale infinie p\u00e9riodique , c'est-\u00e0-dire avec une s\u00e9rie de chiffres qui se r\u00e9p\u00e8tent \u00e0 l'infini. Par exemple \\(\\dfrac{1}{7} = 0,14285714285714...\\) (on constate la r\u00e9p\u00e9tition de la s\u00e9quence 142857}). R\u00e9ciproquement, si un nombre poss\u00e8de une \u00e9criture d\u00e9cimale infinie p\u00e9riodique, alors c'est un rationnel. M\u00e9thode : D\u00e9terminer une fraction \u00e9gale \u00e0 une \u00e9criture d\u00e9cimale infinie p\u00e9riodique On consid\u00e8re le nombre \\(a\\) dont l'\u00e9criture d\u00e9cimale est infinie p\u00e9riodique \\(a = 2,71347134...\\) . D\u00e9montrons que ce nombre est rationnel. Solution On constate que la partie r\u00e9p\u00e9titive des chiffres de \\(a\\) est \\(7134\\) , donc de taille 4. Donc \\(10^4 \\times a = 10~000\\times a = 27134,71347134...\\) . D'o\u00f9 \\(10~000\\times a - a = 27134,71347134... - 2,71347134... = 27134 -2 = 27~132\\) . Or \\(10~000\\times a - a = 9~999\\times a\\) . D'apr\u00e8s les deux lignes pr\u00e9c\u00e9dentes, on a alors \\(9~999\\times a = 27132\\) soit \\(a = \\dfrac{27~132}{9~999} = \\dfrac{9~044}{3~333}\\) . Donc \\(a\\) est bien un nombre rationnel puisqu'il s'\u00e9crit sous la forme d'une fraction. Application : Calculs avec les rationnels Exercice Solution Dans chacun des cas suivants, calculer \u00e0 la main chacune des expressions suivantes : \\(A = \\dfrac {5}{7} - \\dfrac{3}{11}\\) \\(B = -\\dfrac {4}{3} + \\dfrac{7}{8}\\) \\(C = \\dfrac {3}{8} - \\dfrac{5}{12}\\) \\(D = \\dfrac {-6}{7} \\times \\dfrac{8}{9}\\) \\(E = \\dfrac {3}{2} \\times \\left(-\\dfrac{7}{3}\\right)\\) \\(F = \\dfrac {48}{35} \\times \\dfrac{25}{64}\\) \\(G = \\dfrac {4}{7} \\div \\dfrac{8}{21}\\) \\(H = \\dfrac{~~\\dfrac{3}{4}~~}{\\dfrac{18}{20}}\\) \\(I = \\dfrac{~~7~~}{\\dfrac{5}{3}}\\) \\(J = \\dfrac{~~\\dfrac{7}{5}~~}{3}\\) \\(A = \\dfrac {5}{7} - \\dfrac{3}{11} = \\dfrac {5\\times 11}{7\\times 11} - \\dfrac{3\\times 7}{11\\times 7} = \\dfrac {55}{77} - \\dfrac{21}{77} = \\dfrac{34}{77}\\) \\(B = -\\dfrac {4}{3} + \\dfrac{7}{8} = -\\dfrac {4 \\times 8}{3 \\times 8} + \\dfrac{7 \\times 3}{8 \\times 3} = -\\dfrac {32}{24} + \\dfrac{21}{24} -\\dfrac {11}{24}\\) \\(C = \\dfrac {3}{8} - \\dfrac{5}{12} = \\dfrac {3\\times 3}{8\\times 3} - \\dfrac{5 \\times 2}{12 \\times 2} = \\dfrac {9}{24} - \\dfrac{10}{24} = - \\dfrac{1}{24}\\) \\(D = \\dfrac {-6}{7} \\times \\dfrac{8}{9} = \\dfrac{-6 \\times 8}{7 \\times 9} = \\dfrac{-2 \\times 3 \\times 8}{7 \\times 3 \\times 3} = -\\dfrac{16}{21}\\) N'oubliez pas de simplifier ! \\(E = \\dfrac {3}{2} \\times \\left(-\\dfrac{7}{3}\\right) = -\\dfrac {3 \\times 7}{2 \\times3} = - \\dfrac{7}{2}\\) \\(F = \\dfrac {48}{35} \\times \\dfrac{25}{64} = \\dfrac{48 \\times 25}{35 \\times 64} = \\dfrac{2 \\times 3 \\times 8 \\times 5 \\times 5}{5\\times 7 \\times 2 \\times 4 \\times 8} = \\dfrac{15}{28}\\) \\(G = \\dfrac {4}{7} \\div \\dfrac{8}{21} = \\dfrac {4}{7} \\times \\dfrac{21}{8} = \\dfrac{4 \\times 21}{7 \\times 8} = \\dfrac{ 4 \\times 3 \\times 7}{7 \\times 2 \\times 4} = \\dfrac{3}{2}\\) \\(H = \\dfrac{~~\\dfrac{3}{4}~~}{\\dfrac{18}{20}} = \\dfrac{3}{4}\\div\\dfrac{18}{20} = \\dfrac{3}{4}\\div\\dfrac{20}{18} = \\dfrac{3 \\times 4 \\times 5}{ 4 \\times 3 \\times 6} = \\dfrac{5}{6}\\) . \\(I = \\dfrac{~~7~~}{\\dfrac{5}{3}} = 7 \\div \\dfrac{5}{3} = 7 \\times \\dfrac{3}{5} = \\dfrac{21}{5}\\) \\(J = \\dfrac{~~\\dfrac{7}{5}~~}{3} = \\dfrac{7}{5} \\div 3 = \\dfrac{7}{5} \\times \\dfrac{1}{3} = \\dfrac{7}{15}\\) Nombres r\u00e9els D\u00e9finition : Nombres r\u00e9els Un {==nombre r\u00e9el est un nombre exprimant une longueur, ou l'oppos\u00e9 d'un nombre exprimant une longueur. L'ensemble des nombres rationnels est not\u00e9 \\(\\mathbb{R}\\) . Remarques Un nombre r\u00e9el est un nombre dont le carr\u00e9 est positif ou nul . Par d\u00e9finition, tous les nombres rationnels sont des r\u00e9els. On a alors \\(\\mathbb{Q} \\subset \\mathbb{R}\\) . Certains nombres r\u00e9els ne sont pas rationnels. Par exemple \\(\\pi\\) n'est pas rationnel, tout comme \\(\\sqrt{2}\\) ( on le montrera en exercice ). Ces nombres sont dits irrationnels . Propri\u00e9t\u00e9 : Ensembles de nombres Des remarques pr\u00e9c\u00e9dentes, on \u00e0 la propri\u00e9t\u00e9 : \\[ \\mathbb{N} \\subset \\mathbb{Z} \\subset \\mathbb{D} \\subset \\mathbb{Q} \\subset \\mathbb{R} \\] Propri\u00e9t\u00e9 : Droite des r\u00e9els Tout nombre r\u00e9el est repr\u00e9sent\u00e9 par l'abscisse d'un point sur la droite num\u00e9rique ( appel\u00e9e aussi droite des r\u00e9els ). Application : Repr\u00e9senter sur la droite des r\u00e9els D\u00e9terminer l'abscisse de chacun des points de la droite ci-dessous : Repr\u00e9senter la droite des r\u00e9els ( unit\u00e9 : 5 ) et y placer le plus pr\u00e9cis\u00e9ment possible les nombres suivants : \\[ 3 ~;~ -0,75 ~;~ \\dfrac{5}{4} ~;~\\dfrac{-2}{5} ~;~ \\dfrac{7}{3} ~;~ \\sqrt{2} \\]","title":"Ensembles de nombres "},{"location":"Maths/Seconde/C01/C01_01_Ensembles_Nombres/#c01-01-ensembles-de-nombres","text":"La version pdf de ce cours est t\u00e9l\u00e9chargeable ici . (version 2021-2022)","title":"C01-01 : Ensembles de Nombres"},{"location":"Maths/Seconde/C01/C01_01_Ensembles_Nombres/#activite-classer-des-nombres","text":"Dans la liste ci-dessus, deux \u00e9critures sont interdites. Lesquelles et pourquoi ? Classer les nombres restants en cinq groupes , en justifiant vos choix. Diff\u00e9rence entres propri\u00e9t\u00e9s et \u00e9critures Un nombre peut \u00eatre \u00e9crit de diff\u00e9rentes mani\u00e8res, plus ou moins compliqu\u00e9es. Par exemple : \\[ 2 = \\cfrac{6}{3} = 20 \\times 10^{-1} = \\sqrt{4}= - \\left(-2\\right) = 2,0000 \\] Pour autant, ce qui nous int\u00e9resse en math\u00e9matiques c'est d'\u00e9tudier les propri\u00e9t\u00e9s de ce nombre, qui elles sont ind\u00e9pendantes de l'\u00e9criture de ce nombre.","title":"Activit\u00e9 : Classer des nombres"},{"location":"Maths/Seconde/C01/C01_01_Ensembles_Nombres/#nombres-entiers-naturels-et-relatifs","text":"D\u00e9finitions L'ensemble des entiers naturels , not\u00e9 \\(\\mathbb{N}\\) , est l'ensemble des nombres permettant de d\u00e9nombrer une collection d'objets, de personnes, etc, c'est-\u00e0-dire la suite naturelle \\(0~;~1~;~2~;~3~;~...\\) L'ensemble des entiers relatifs , not\u00e9 \\(\\mathbb{Z}\\) , est l'ensemble des entiers naturels et leurs oppos\u00e9s , c'est-\u00e0-dire la suite \\(...~;~-3~;~-2~;~-1~;~0~;~1~;~2~;~3~;~...\\) Info L'ensemble \\(\\mathbb{N}\\) poss\u00e8de un plus petit \u00e9l\u00e9ment, c'est \\(0\\) . Les nombres entiers naturels sont tous positifs ou nuls . Tous les entiers naturels sont aussi des entiers relatifs . Vocabulaire et notations Appartenance : On dit que \\(5\\) appartient \u00e0 \\(\\mathbb{N}\\) , et on note \\(5 \\in \\mathbb{N}\\) . De m\u00eame \\(-2\\) n'appartient pas \u00e0 \\(\\mathbb{N}\\) , et on note \\(-12 \\notin \\mathbb{N}\\) . Inclusion : Tous les \u00e9l\u00e9ments de \\(\\mathbb{N}\\) sont aussi des \u00e9l\u00e9ments de \\(\\mathbb{Z}\\) . On dit alors que \\(\\mathbb{N}\\) est un sous-ensemble de \\(\\mathbb{Z}\\) et on note alors \\(\\mathbb{N} \\subset \\mathbb{Z}\\) (qui se lit \\(\\mathbb{N}\\) est inclus dans \\(\\mathbb{Z}\\) ). Application : choix du bon symbole Exercice Solution Compl\u00e9ter avec \\(\\in\\) ou \\(\\notin\\) : \\(7 \\dots \\mathbb{N}\\) \\(-3 \\dots \\mathbb{N}\\) \\(-5 \\dots \\mathbb{Z}\\) \\(7 \\dots \\mathbb{Z}\\) \\(\\dfrac{1}{3} \\dots \\mathbb{N}\\) \\(\\sqrt{9} \\dots \\mathbb{N}\\) \\(-\\sqrt{25} \\dots \\mathbb{N}\\) \\(-\\sqrt{2} \\dots \\mathbb{Z}\\) \\(5 \\times 10^{3} \\dots \\mathbb{N}\\) \\(5 \\times 10 ^{-3} \\dots \\mathbb{Z}\\) \\(-4,2 \\dots \\mathbb{Z}\\) \\(3 \\times (1 - \\dfrac{1}{3}) \\dots \\mathbb{N}\\) Compl\u00e9ter avec \\(\\in\\) ou \\(\\notin\\) : \\(7 \\in \\mathbb{N}\\) \\(-3 \\notin \\mathbb{N}\\) \\(-5 \\in \\mathbb{Z}\\) \\(7 \\in \\mathbb{Z}\\) \\(\\dfrac{1}{3} \\notin \\mathbb{N}\\) \\(\\sqrt{9} \\in \\mathbb{N}\\) car \\(\\sqrt{9} = 3\\) \\(-\\sqrt{25} \\notin \\mathbb{N}\\) car \\(-\\sqrt{25} = -5\\) \\(-\\sqrt{2} \\notin \\mathbb{Z}\\) car \\(-\\sqrt{2} \\simeq -1,414...\\) \\(5 \\times 10^{3} \\in \\mathbb{N}\\) car \\(5 \\times 10^3 = 5 \\times 1000 = 5000\\) \\(5 \\times 10 ^{-3} \\notin \\mathbb{Z}\\) car \\(5 \\times 10 ^{-3} = 5 \\times 0,001 = 0,005\\) \\(-4,2 \\notin \\mathbb{Z}\\) \\(3 \\times (1 - \\dfrac{1}{3}) \\in \\mathbb{N}\\) car \\(3 \\times (1 - \\dfrac{1}{3}) = 3 - 1 = 2\\) (en d\u00e9veloppant) ou \\(3 \\times (1 - \\dfrac{1}{3}) = 3 \\times \\dfrac{2}{3} = 2\\) (en calculant entre parenth\u00e8ses).","title":"Nombres entiers naturels et relatifs"},{"location":"Maths/Seconde/C01/C01_01_Ensembles_Nombres/#nombres-decimaux","text":"d\u00e9finition : Nombres d\u00e9cimaux Un nombre d\u00e9cimal est un nombre pouvant s'\u00e9crire sous la forme d'une fraction d\u00e9cimale , c'est \u00e0 dire sous la forme $$ \\dfrac{a}{10^n} $$ avec \\(a\\in \\mathbb{Z}\\) et \\(n\\in \\mathbb{N}\\) . L'ensemble des d\u00e9cimaux est not\u00e9 \\(\\mathbb{D}\\) . Application : Nombres d\u00e9cimaux et puissances de 10 Exercice Solution Pour chacun des nombres suivants, d\u00e9terminer si possible une \u00e9criture de la forme \\(\\dfrac{k}{10^n}\\) . \\(4,37\\) \\(0,002\\) \\(-12\\) \\(\\dfrac{1}{3}\\) \\(\\dfrac{2}{5}\\) \\(\\sqrt{0,16}\\) \\(10^3\\) \\(10^{-5}\\) \\(-10^5\\) \\(\\dfrac{3.10^5}{10^7}\\) \\(\\dfrac{10^7}{3.10^5}\\) Pour chacun des nombres suivants, d\u00e9terminer si possible une \u00e9criture de la forme \\(\\dfrac{k}{10^n}\\) . \\(4,37 = \\dfrac{437}{100} = \\dfrac{437}{10^{2}}\\) \\(0,002 = \\dfrac{2}{1~000} = \\dfrac{2}{10^{3}}\\) \\(-12 = \\dfrac{-12}{1} = \\dfrac{-12}{10^{0}}\\) ( car \\(a^0 =1\\) pour tout nombre \\(a \\neq 0\\) ). \\(\\dfrac{1}{3} \\notin \\mathbb{D}\\) car \\(\\dfrac{1}{3} \\simeq 0,333...\\) (La d\u00e9monstration r\u00e9elle sera donn\u00e9e plus tard dans l'ann\u00e9e) \\(\\dfrac{2}{5} = \\dfrac{4}{10} = \\dfrac{4}{10^1}\\) \\(\\sqrt{0,16} = 0,4 = \\dfrac{4}{10} = \\dfrac{4}{10^1}\\) \\(10^3 = \\dfrac{1~000}{1} = \\dfrac{1~000}{10^{0}}\\) \\(10^{-5} = \\dfrac{1}{10^5}\\) (par d\u00e9finition des exposants n\u00e9gatifs \\(a^{-n} = \\dfrac{1}{a^n}\\) pour tout \\(n \\in \\mathbb{Z}\\) si \\(a \\neq 0\\) ) \\(-10^5 = - 100~000 = \\dfrac{- 100~000}{1} = \\dfrac{- 100~000}{10^{0}}\\) $ \\(\\dfrac{3.10^5}{10^7} = \\dfrac{3}{10^2}\\) par division des puissances ( \\(\\dfrac{a^m}{a^n} = a^{m-n}\\) pour tout \\(m,n \\in \\Z\\) ) \\(\\dfrac{10^7}{3.10^5} = \\dfrac{10^2}{3} \\simeq 33,333.... \\notin \\mathbb{D}\\) Remarques Les entiers relatifs sont des d\u00e9cimaux, car si \\(k \\in \\mathbb{Z}\\) , on peut aussi \u00e9crire \\(k=\\dfrac{k}{1}=\\dfrac{k}{10^0}\\) . On a donc la propri\u00e9t\u00e9 \\(\\mathbb{Z} \\subset \\mathbb{D}\\) . Un nombre d\u00e9cimal poss\u00e8de une \u00e9criture d\u00e9cimale finie .","title":"Nombres d\u00e9cimaux"},{"location":"Maths/Seconde/C01/C01_01_Ensembles_Nombres/#nombres-rationnels","text":"D\u00e9finition : Nombres rationnels Un nombre rationnel est un nombre pouvant s'\u00e9crire sous la forme \\(\\dfrac{a}{b}\\) avec \\(a\\in \\mathbb{Z}\\) et \\(b\\in \\mathbb{N}^{*}\\) (c'est-\u00e0-dire \\(\\mathbb{N}\\) priv\u00e9 de \\(0\\) ). L'ensemble des nombres rationnels est not\u00e9 \\(\\mathbb{Q}\\) . Remarque Un nombre d\u00e9cimal est par d\u00e9finition un nombre rationnel. Par d\u00e9finition de \\(\\mathbb{D}\\) et \\(\\mathbb{Q}\\) , on a la propri\u00e9t\u00e9 \\(\\mathbb{D} \\subset \\mathbb{Q}\\) . Propri\u00e9t\u00e9 : Caract\u00e9risation des rationnels non d\u00e9cimaux Tous les nombres rationnels ne poss\u00e8dent pas d'\u00e9criture d\u00e9cimale finie. En particulier, \\(\\dfrac{1}{3}\\) n'est pas d\u00e9cimal. Preuve La d\u00e9monstration de cette propri\u00e9t\u00e9 sera faite plus tard dans l'ann\u00e9e, dans le chapitre arithm\u00e9tique. Remarques Les nombres rationnels non d\u00e9cimaux poss\u00e8dent une \u00e9criture d\u00e9cimale infinie p\u00e9riodique , c'est-\u00e0-dire avec une s\u00e9rie de chiffres qui se r\u00e9p\u00e8tent \u00e0 l'infini. Par exemple \\(\\dfrac{1}{7} = 0,14285714285714...\\) (on constate la r\u00e9p\u00e9tition de la s\u00e9quence 142857}). R\u00e9ciproquement, si un nombre poss\u00e8de une \u00e9criture d\u00e9cimale infinie p\u00e9riodique, alors c'est un rationnel. M\u00e9thode : D\u00e9terminer une fraction \u00e9gale \u00e0 une \u00e9criture d\u00e9cimale infinie p\u00e9riodique On consid\u00e8re le nombre \\(a\\) dont l'\u00e9criture d\u00e9cimale est infinie p\u00e9riodique \\(a = 2,71347134...\\) . D\u00e9montrons que ce nombre est rationnel. Solution On constate que la partie r\u00e9p\u00e9titive des chiffres de \\(a\\) est \\(7134\\) , donc de taille 4. Donc \\(10^4 \\times a = 10~000\\times a = 27134,71347134...\\) . D'o\u00f9 \\(10~000\\times a - a = 27134,71347134... - 2,71347134... = 27134 -2 = 27~132\\) . Or \\(10~000\\times a - a = 9~999\\times a\\) . D'apr\u00e8s les deux lignes pr\u00e9c\u00e9dentes, on a alors \\(9~999\\times a = 27132\\) soit \\(a = \\dfrac{27~132}{9~999} = \\dfrac{9~044}{3~333}\\) . Donc \\(a\\) est bien un nombre rationnel puisqu'il s'\u00e9crit sous la forme d'une fraction. Application : Calculs avec les rationnels Exercice Solution Dans chacun des cas suivants, calculer \u00e0 la main chacune des expressions suivantes : \\(A = \\dfrac {5}{7} - \\dfrac{3}{11}\\) \\(B = -\\dfrac {4}{3} + \\dfrac{7}{8}\\) \\(C = \\dfrac {3}{8} - \\dfrac{5}{12}\\) \\(D = \\dfrac {-6}{7} \\times \\dfrac{8}{9}\\) \\(E = \\dfrac {3}{2} \\times \\left(-\\dfrac{7}{3}\\right)\\) \\(F = \\dfrac {48}{35} \\times \\dfrac{25}{64}\\) \\(G = \\dfrac {4}{7} \\div \\dfrac{8}{21}\\) \\(H = \\dfrac{~~\\dfrac{3}{4}~~}{\\dfrac{18}{20}}\\) \\(I = \\dfrac{~~7~~}{\\dfrac{5}{3}}\\) \\(J = \\dfrac{~~\\dfrac{7}{5}~~}{3}\\) \\(A = \\dfrac {5}{7} - \\dfrac{3}{11} = \\dfrac {5\\times 11}{7\\times 11} - \\dfrac{3\\times 7}{11\\times 7} = \\dfrac {55}{77} - \\dfrac{21}{77} = \\dfrac{34}{77}\\) \\(B = -\\dfrac {4}{3} + \\dfrac{7}{8} = -\\dfrac {4 \\times 8}{3 \\times 8} + \\dfrac{7 \\times 3}{8 \\times 3} = -\\dfrac {32}{24} + \\dfrac{21}{24} -\\dfrac {11}{24}\\) \\(C = \\dfrac {3}{8} - \\dfrac{5}{12} = \\dfrac {3\\times 3}{8\\times 3} - \\dfrac{5 \\times 2}{12 \\times 2} = \\dfrac {9}{24} - \\dfrac{10}{24} = - \\dfrac{1}{24}\\) \\(D = \\dfrac {-6}{7} \\times \\dfrac{8}{9} = \\dfrac{-6 \\times 8}{7 \\times 9} = \\dfrac{-2 \\times 3 \\times 8}{7 \\times 3 \\times 3} = -\\dfrac{16}{21}\\) N'oubliez pas de simplifier ! \\(E = \\dfrac {3}{2} \\times \\left(-\\dfrac{7}{3}\\right) = -\\dfrac {3 \\times 7}{2 \\times3} = - \\dfrac{7}{2}\\) \\(F = \\dfrac {48}{35} \\times \\dfrac{25}{64} = \\dfrac{48 \\times 25}{35 \\times 64} = \\dfrac{2 \\times 3 \\times 8 \\times 5 \\times 5}{5\\times 7 \\times 2 \\times 4 \\times 8} = \\dfrac{15}{28}\\) \\(G = \\dfrac {4}{7} \\div \\dfrac{8}{21} = \\dfrac {4}{7} \\times \\dfrac{21}{8} = \\dfrac{4 \\times 21}{7 \\times 8} = \\dfrac{ 4 \\times 3 \\times 7}{7 \\times 2 \\times 4} = \\dfrac{3}{2}\\) \\(H = \\dfrac{~~\\dfrac{3}{4}~~}{\\dfrac{18}{20}} = \\dfrac{3}{4}\\div\\dfrac{18}{20} = \\dfrac{3}{4}\\div\\dfrac{20}{18} = \\dfrac{3 \\times 4 \\times 5}{ 4 \\times 3 \\times 6} = \\dfrac{5}{6}\\) . \\(I = \\dfrac{~~7~~}{\\dfrac{5}{3}} = 7 \\div \\dfrac{5}{3} = 7 \\times \\dfrac{3}{5} = \\dfrac{21}{5}\\) \\(J = \\dfrac{~~\\dfrac{7}{5}~~}{3} = \\dfrac{7}{5} \\div 3 = \\dfrac{7}{5} \\times \\dfrac{1}{3} = \\dfrac{7}{15}\\)","title":"Nombres rationnels"},{"location":"Maths/Seconde/C01/C01_01_Ensembles_Nombres/#nombres-reels","text":"D\u00e9finition : Nombres r\u00e9els Un {==nombre r\u00e9el est un nombre exprimant une longueur, ou l'oppos\u00e9 d'un nombre exprimant une longueur. L'ensemble des nombres rationnels est not\u00e9 \\(\\mathbb{R}\\) . Remarques Un nombre r\u00e9el est un nombre dont le carr\u00e9 est positif ou nul . Par d\u00e9finition, tous les nombres rationnels sont des r\u00e9els. On a alors \\(\\mathbb{Q} \\subset \\mathbb{R}\\) . Certains nombres r\u00e9els ne sont pas rationnels. Par exemple \\(\\pi\\) n'est pas rationnel, tout comme \\(\\sqrt{2}\\) ( on le montrera en exercice ). Ces nombres sont dits irrationnels . Propri\u00e9t\u00e9 : Ensembles de nombres Des remarques pr\u00e9c\u00e9dentes, on \u00e0 la propri\u00e9t\u00e9 : \\[ \\mathbb{N} \\subset \\mathbb{Z} \\subset \\mathbb{D} \\subset \\mathbb{Q} \\subset \\mathbb{R} \\] Propri\u00e9t\u00e9 : Droite des r\u00e9els Tout nombre r\u00e9el est repr\u00e9sent\u00e9 par l'abscisse d'un point sur la droite num\u00e9rique ( appel\u00e9e aussi droite des r\u00e9els ). Application : Repr\u00e9senter sur la droite des r\u00e9els D\u00e9terminer l'abscisse de chacun des points de la droite ci-dessous : Repr\u00e9senter la droite des r\u00e9els ( unit\u00e9 : 5 ) et y placer le plus pr\u00e9cis\u00e9ment possible les nombres suivants : \\[ 3 ~;~ -0,75 ~;~ \\dfrac{5}{4} ~;~\\dfrac{-2}{5} ~;~ \\dfrac{7}{3} ~;~ \\sqrt{2} \\]","title":"Nombres r\u00e9els"},{"location":"Maths/Seconde/C01/C01_02_Intervalles/","text":"\\(C01-02\\) Intervalles Intervalles de nombres r\u00e9els D\u00e9finition Soient \\(a\\) et \\(b\\) deux nombres r\u00e9els tels que \\(a \\leqslant b\\) . On appelle intervalle ferm\u00e9 \\([a;b]\\) l\u2019ensemble des nombres r\u00e9els \\(x\\) tels que \\(a\\leqslant x\\leqslant b\\) . On appelle intervalle ouvert \\(]a;b[\\) l\u2019ensemble des nombres r\u00e9els \\(x\\) tels que \\(a<x<b\\) . On d\u00e9finit de m\u00eame les intervalles \\([a;b[\\) et \\(]a;b]\\) . On note \\([a;+\\infty[\\) l\u2019ensemble des nombres r\u00e9els \\(x\\) tels que \\(x\\geqslant a\\) . On note \\(]a;+\\infty[\\) l\u2019ensemble des nombres r\u00e9els \\(x\\) tels que \\(x>a\\) . On d\u00e9finit de m\u00eame \\(]- \\infty;a]\\) et \\(]-\\infty;a[\\) . Remarques Le symbole \\(+\\infty\\) se lit \" Plus l'infini \". Le symbole \\(-\\infty\\) se lit \" Moins l'infini \". Repr\u00e9senter des intervalles Enonc\u00e9 Solution Ecrire les in\u00e9galit\u00e9s suivantes sous la forme d'un intervalle, puis repr\u00e9senter cet intervalle sur la droite des r\u00e9els : \\(x\\leqslant 5\\) \\(x>-3\\) \\(2<x<5\\) \\(-4\\leqslant x \\leqslant -3\\) \\(-3\\leqslant x < 8\\) \\(-2< x \\leqslant 0\\) \\(]-\\infty ; 5]\\) \\(]-3 ; +\\infty[\\) \\(]2;5[\\) \\([-4;-3]\\) \\([-3;8[\\) \\(]-2;0]\\) Appartient ou pas ? Enonc\u00e9 Solution Compl\u00e9ter avec un symbole \\(\\in\\) ou \\(\\notin\\) : \\(-2 \\dots [-2; 1[\\) \\(-3 \\dots [-5; -1[\\) \\(-\\dfrac{26}{5} \\dots ]-5; -4[\\) \\(4 \\dots [-3; 4[\\) \\(2\\pi \\dots [7;8]\\) \\(0 \\dots \\mathbb{R}\\) \\(0 \\dots \\mathbb{R}^*\\) \\(-2 \\in [-2; 1[\\) \\(-3 \\in [-5; -1[\\) \\(-\\dfrac{26}{5} \\notin ]-5; -4[\\) \\(4 \\notin [-3; 4[\\) \\(2\\pi \\notin [7;8]\\) \\(0 \\in \\mathbb{R}\\) \\(0 \\notin \\mathbb{R}^*\\) Travailler les repr\u00e9sentations Enonc\u00e9 Solution Recopier et compl\u00e9ter : A venir.... Unions et intersections d'intervalles D\u00e9finition Soient \\(I\\) et \\(J\\) deux intervalles. L\u2019intersection de \\(I\\) et \\(J\\) est l\u2019ensemble des r\u00e9els qui appartiennent \u00e0 la fois \u00e0 \\(I\\) \\textbf{ET} \u00e0 \\(J\\) . On note cet ensemble \\(I \\cap J\\) . La r\u00e9union de \\(I\\) et \\(J\\) est l\u2019ensemble des r\u00e9els qui appartiennent \u00e0 \\(I\\) \\textbf{OU} \u00e0 \\(J\\) . On note cet ensemble \\(I \\cup J\\) . Remarques La notation \\(\\cap\\) se lit \\og inter \\fg. D'o\u00f9 \\(I \\cap J\\) se lit \\og \\(I\\) inter \\(J\\) \\fg. La notation \\(\\cup\\) se lit \\og union \\fg. D'o\u00f9 \\(I \\cup J\\) se lit \\og \\(I\\) union \\(J\\) \\fg. Parfois, il n'y a aucun \u00e9l\u00e9ment qui appartiennent \u00e0 la fois \u00e0 \\(I\\) et \\(J\\) . L'intersection est donc \\textbf{vide}, et on note \\(\\emptyset\\) l'ensemble vide. Dans ce cas \\(I \\cap J = \\emptyset\\) . Exemple On consid\u00e8re les intervalles \\(I=[3;7]\\) et \\(J=]2; 5[\\) . L'ensemble \\(I\\cap J\\) est \\([3;5[\\) . L'ensemble \\(I\\cup J\\) est \\(]2;7]\\) . Utiliser les notations \\(\\cap\\) et \\(\\cup\\) Enonc\u00e9 Solution R\\'eduire sous la forme d'un seul intervalle si possible et repr\u00e9senter sur la droite des r\u00e9els : \\(]-3;7] \\cap ]-2;8[\\) \\(]-4;3] \\cap [-2;3,5[\\) \\([-7;4[ \\cup ]-3;5]\\) \\(]-3;5] \\cup [-1;2]\\) \\([-6;6]\\cup[-2;2]\\) \\(]-\\infty;2[ \\cap ]1;+\\infty[\\) \\(]-\\infty;-1] \\cup ]2;6]\\) \\([-5;3] \\cap [6;8]\\) \\(]-3;7] \\cap ]-2;8[ = ]-2;7]\\) \\(]-4;3] \\cap [-2;3,5[ = [-2;3]\\) \\([-7;4[ \\cup ]-3;5] = [-7;5]\\) \\(]-3;5] \\cup [-1;2] = ]-3;5]\\) \\([-6;6]\\cup[-2;2] = [-6;6]\\) \\(]-\\infty;2[ \\cap ]1;+\\infty[ = ]1;2[\\) \\(]-\\infty;-1] \\cup ]2;6] = ]-\\infty;-1] \\cup ]2;6]\\) \\([-5;3] \\cap [6;8] = \\emptyset\\) Ensemble vide L'ensemble vide est not\u00e9 \\(\\emptyset\\) . Travailler les in\u00e9quations et les intervalles Enonc\u00e9 Solution Compl\u00e9ter en s'aidant de la m\u00e9thode donn\u00e9e dans l'exemple ci-dessous. Exemple On a les \u00e9quivalences : \\(x \\in [1;2]\\) \\(\\Longleftrightarrow\\) \\(1 \\leqslant x \\leqslant 2\\) par d\u00e9finition \\(\\Longleftrightarrow\\) \\(3 \\leqslant 3x \\leqslant 6\\) en multipliant chaque membre de l'in\u00e9galit\u00e9 par \\(3\\) \\(\\Longleftrightarrow\\) \\(3x \\in [3;6]\\) par d\u00e9finition d'o\u00f9 \\(x \\in [1;2]\\) si et seulement si \\(3x \\in [3;6]\\) \\(x \\in [7;20]\\) si et seulement si \\(7x \\in \\dots\\) \\(x \\in ]-1;3]\\) si et seulement si \\(x+4 \\in \\dots\\) \\(x \\in [2;6]\\) si et seuelemnt si \\(8-x \\in \\dots\\) \\(x \\in \\dots\\) si et seulement si \\(x+6 \\in ]3 ; +\\infty[\\) \\(x \\in \\dots\\) si et seulement si \\(-2x \\in [4 ; +\\infty[\\) \\(x \\in \\dots\\) si et seulement si \\(4x+3 \\in [-6;5]\\) \\(x \\in [7;20]\\) si et seulement si \\(7x \\in [49;140]\\) \\(x \\in ]-1;3]\\) si et seulement si \\(x+4 \\in ]3;7]\\) \\(x \\in [2;6]\\) si et seuelemnt si \\(8-x \\in [2;6]\\) \\(x \\in ]-3 ; +\\infty[\\) si et seulement si \\(x+6 \\in ]3 ; +\\infty[\\) \\(x \\in ]-\\infty ; -2]\\) si et seulement si \\(-2x \\in [4 ; +\\infty[\\) \\(x \\in [-\\dfrac{9}{4};2]\\) si et seulement si \\(4x+3 \\in [-6;5]\\) Repr\u00e9senter sous la forme d'intervalles Enonc\u00e9 \\(y>-3\\) et \\(y<4\\) \\(y>-3\\) ou \\(y<4\\) \\(y \\leqslant \\dfrac{1}{3}\\) et \\(y \\leqslant \\dfrac{1}{2}\\) \\(y \\leqslant \\dfrac{1}{3}\\) ou \\(y \\leqslant \\dfrac{1}{2}\\) Solution A venir R\u00e9solutions d'\u00e9quations du premier degr\u00e9 Enonc\u00e9 Solution R\u00e9soudre dans \\(\\mathbb{R}\\) chacune des \u00e9quations suivantes : \\(3x -6 =0\\) \\(3x -4 = 0\\) \\(-3x +64 = 19\\) \\(-2(x+5)=-8\\) \\(3x -\\pi=0\\) \\(\\dfrac{x-8}{3}=-4\\) Lesquelles de ces 4 \u00e9quations sont r\u00e9solubles dans \\(\\mathbb{Z}\\) ? Dans \\(\\mathbb{Q}\\) ? A venir R\u00e9solutions d'in\u00e9quations du premier degr\u00e9 Enonc\u00e9 R\u00e9soudre les in\u00e9quations suivantes et pr\u00e9senter le r\u00e9sultat sous la forme d'un intervalle : \\(3x -6 >0\\) \\(3x -4 \\leqslant 0\\) \\(-3x +64 < 19\\)","title":"Intervalles"},{"location":"Maths/Seconde/C01/C01_02_Intervalles/#c01-02-intervalles","text":"","title":"\\(C01-02\\) Intervalles"},{"location":"Maths/Seconde/C01/C01_02_Intervalles/#intervalles-de-nombres-reels","text":"D\u00e9finition Soient \\(a\\) et \\(b\\) deux nombres r\u00e9els tels que \\(a \\leqslant b\\) . On appelle intervalle ferm\u00e9 \\([a;b]\\) l\u2019ensemble des nombres r\u00e9els \\(x\\) tels que \\(a\\leqslant x\\leqslant b\\) . On appelle intervalle ouvert \\(]a;b[\\) l\u2019ensemble des nombres r\u00e9els \\(x\\) tels que \\(a<x<b\\) . On d\u00e9finit de m\u00eame les intervalles \\([a;b[\\) et \\(]a;b]\\) . On note \\([a;+\\infty[\\) l\u2019ensemble des nombres r\u00e9els \\(x\\) tels que \\(x\\geqslant a\\) . On note \\(]a;+\\infty[\\) l\u2019ensemble des nombres r\u00e9els \\(x\\) tels que \\(x>a\\) . On d\u00e9finit de m\u00eame \\(]- \\infty;a]\\) et \\(]-\\infty;a[\\) . Remarques Le symbole \\(+\\infty\\) se lit \" Plus l'infini \". Le symbole \\(-\\infty\\) se lit \" Moins l'infini \". Repr\u00e9senter des intervalles Enonc\u00e9 Solution Ecrire les in\u00e9galit\u00e9s suivantes sous la forme d'un intervalle, puis repr\u00e9senter cet intervalle sur la droite des r\u00e9els : \\(x\\leqslant 5\\) \\(x>-3\\) \\(2<x<5\\) \\(-4\\leqslant x \\leqslant -3\\) \\(-3\\leqslant x < 8\\) \\(-2< x \\leqslant 0\\) \\(]-\\infty ; 5]\\) \\(]-3 ; +\\infty[\\) \\(]2;5[\\) \\([-4;-3]\\) \\([-3;8[\\) \\(]-2;0]\\) Appartient ou pas ? Enonc\u00e9 Solution Compl\u00e9ter avec un symbole \\(\\in\\) ou \\(\\notin\\) : \\(-2 \\dots [-2; 1[\\) \\(-3 \\dots [-5; -1[\\) \\(-\\dfrac{26}{5} \\dots ]-5; -4[\\) \\(4 \\dots [-3; 4[\\) \\(2\\pi \\dots [7;8]\\) \\(0 \\dots \\mathbb{R}\\) \\(0 \\dots \\mathbb{R}^*\\) \\(-2 \\in [-2; 1[\\) \\(-3 \\in [-5; -1[\\) \\(-\\dfrac{26}{5} \\notin ]-5; -4[\\) \\(4 \\notin [-3; 4[\\) \\(2\\pi \\notin [7;8]\\) \\(0 \\in \\mathbb{R}\\) \\(0 \\notin \\mathbb{R}^*\\) Travailler les repr\u00e9sentations Enonc\u00e9 Solution Recopier et compl\u00e9ter : A venir....","title":"Intervalles de nombres r\u00e9els"},{"location":"Maths/Seconde/C01/C01_02_Intervalles/#unions-et-intersections-dintervalles","text":"D\u00e9finition Soient \\(I\\) et \\(J\\) deux intervalles. L\u2019intersection de \\(I\\) et \\(J\\) est l\u2019ensemble des r\u00e9els qui appartiennent \u00e0 la fois \u00e0 \\(I\\) \\textbf{ET} \u00e0 \\(J\\) . On note cet ensemble \\(I \\cap J\\) . La r\u00e9union de \\(I\\) et \\(J\\) est l\u2019ensemble des r\u00e9els qui appartiennent \u00e0 \\(I\\) \\textbf{OU} \u00e0 \\(J\\) . On note cet ensemble \\(I \\cup J\\) . Remarques La notation \\(\\cap\\) se lit \\og inter \\fg. D'o\u00f9 \\(I \\cap J\\) se lit \\og \\(I\\) inter \\(J\\) \\fg. La notation \\(\\cup\\) se lit \\og union \\fg. D'o\u00f9 \\(I \\cup J\\) se lit \\og \\(I\\) union \\(J\\) \\fg. Parfois, il n'y a aucun \u00e9l\u00e9ment qui appartiennent \u00e0 la fois \u00e0 \\(I\\) et \\(J\\) . L'intersection est donc \\textbf{vide}, et on note \\(\\emptyset\\) l'ensemble vide. Dans ce cas \\(I \\cap J = \\emptyset\\) . Exemple On consid\u00e8re les intervalles \\(I=[3;7]\\) et \\(J=]2; 5[\\) . L'ensemble \\(I\\cap J\\) est \\([3;5[\\) . L'ensemble \\(I\\cup J\\) est \\(]2;7]\\) . Utiliser les notations \\(\\cap\\) et \\(\\cup\\) Enonc\u00e9 Solution R\\'eduire sous la forme d'un seul intervalle si possible et repr\u00e9senter sur la droite des r\u00e9els : \\(]-3;7] \\cap ]-2;8[\\) \\(]-4;3] \\cap [-2;3,5[\\) \\([-7;4[ \\cup ]-3;5]\\) \\(]-3;5] \\cup [-1;2]\\) \\([-6;6]\\cup[-2;2]\\) \\(]-\\infty;2[ \\cap ]1;+\\infty[\\) \\(]-\\infty;-1] \\cup ]2;6]\\) \\([-5;3] \\cap [6;8]\\) \\(]-3;7] \\cap ]-2;8[ = ]-2;7]\\) \\(]-4;3] \\cap [-2;3,5[ = [-2;3]\\) \\([-7;4[ \\cup ]-3;5] = [-7;5]\\) \\(]-3;5] \\cup [-1;2] = ]-3;5]\\) \\([-6;6]\\cup[-2;2] = [-6;6]\\) \\(]-\\infty;2[ \\cap ]1;+\\infty[ = ]1;2[\\) \\(]-\\infty;-1] \\cup ]2;6] = ]-\\infty;-1] \\cup ]2;6]\\) \\([-5;3] \\cap [6;8] = \\emptyset\\) Ensemble vide L'ensemble vide est not\u00e9 \\(\\emptyset\\) . Travailler les in\u00e9quations et les intervalles Enonc\u00e9 Solution Compl\u00e9ter en s'aidant de la m\u00e9thode donn\u00e9e dans l'exemple ci-dessous. Exemple On a les \u00e9quivalences : \\(x \\in [1;2]\\) \\(\\Longleftrightarrow\\) \\(1 \\leqslant x \\leqslant 2\\) par d\u00e9finition \\(\\Longleftrightarrow\\) \\(3 \\leqslant 3x \\leqslant 6\\) en multipliant chaque membre de l'in\u00e9galit\u00e9 par \\(3\\) \\(\\Longleftrightarrow\\) \\(3x \\in [3;6]\\) par d\u00e9finition d'o\u00f9 \\(x \\in [1;2]\\) si et seulement si \\(3x \\in [3;6]\\) \\(x \\in [7;20]\\) si et seulement si \\(7x \\in \\dots\\) \\(x \\in ]-1;3]\\) si et seulement si \\(x+4 \\in \\dots\\) \\(x \\in [2;6]\\) si et seuelemnt si \\(8-x \\in \\dots\\) \\(x \\in \\dots\\) si et seulement si \\(x+6 \\in ]3 ; +\\infty[\\) \\(x \\in \\dots\\) si et seulement si \\(-2x \\in [4 ; +\\infty[\\) \\(x \\in \\dots\\) si et seulement si \\(4x+3 \\in [-6;5]\\) \\(x \\in [7;20]\\) si et seulement si \\(7x \\in [49;140]\\) \\(x \\in ]-1;3]\\) si et seulement si \\(x+4 \\in ]3;7]\\) \\(x \\in [2;6]\\) si et seuelemnt si \\(8-x \\in [2;6]\\) \\(x \\in ]-3 ; +\\infty[\\) si et seulement si \\(x+6 \\in ]3 ; +\\infty[\\) \\(x \\in ]-\\infty ; -2]\\) si et seulement si \\(-2x \\in [4 ; +\\infty[\\) \\(x \\in [-\\dfrac{9}{4};2]\\) si et seulement si \\(4x+3 \\in [-6;5]\\) Repr\u00e9senter sous la forme d'intervalles Enonc\u00e9 \\(y>-3\\) et \\(y<4\\) \\(y>-3\\) ou \\(y<4\\) \\(y \\leqslant \\dfrac{1}{3}\\) et \\(y \\leqslant \\dfrac{1}{2}\\) \\(y \\leqslant \\dfrac{1}{3}\\) ou \\(y \\leqslant \\dfrac{1}{2}\\) Solution A venir R\u00e9solutions d'\u00e9quations du premier degr\u00e9 Enonc\u00e9 Solution R\u00e9soudre dans \\(\\mathbb{R}\\) chacune des \u00e9quations suivantes : \\(3x -6 =0\\) \\(3x -4 = 0\\) \\(-3x +64 = 19\\) \\(-2(x+5)=-8\\) \\(3x -\\pi=0\\) \\(\\dfrac{x-8}{3}=-4\\) Lesquelles de ces 4 \u00e9quations sont r\u00e9solubles dans \\(\\mathbb{Z}\\) ? Dans \\(\\mathbb{Q}\\) ? A venir R\u00e9solutions d'in\u00e9quations du premier degr\u00e9 Enonc\u00e9 R\u00e9soudre les in\u00e9quations suivantes et pr\u00e9senter le r\u00e9sultat sous la forme d'un intervalle : \\(3x -6 >0\\) \\(3x -4 \\leqslant 0\\) \\(-3x +64 < 19\\)","title":"Unions et intersections d'intervalles"},{"location":"Maths/Seconde/C03/C03_01_Generalite_fonctions/","text":"\\(C03 - 01\\) Vocabulaire et rappels sur les fonctions Activit\u00e9 : Fonctions, tableaux de valeurs, encha\u00eenements Malia trouve une \u00e9trange machine dans le tiroir de son grand-p\u00e8re. Quand elle appuie sur les touches 4 et F , la machine affiche \\(9\\) . Quand elle appuie sur les touches - 2 G , la machine affiche \\(6\\) . Pour exprimer cela plus rapidement, on dira que : l'image de \\(4\\) par \\(f\\) est \\(9\\) ; un ant\u00e9c\u00e9dent de \\(6\\) par \\(g\\) est \\(-2\\) ; Chacune des touches F G H K est une fonction. Elle teste la machine sur plusieurs nombres et note les r\u00e9sultats dans les tableaux suivants : Nombre -4 -3 -2 -1 0 1 2 3 4 Image par F 1 2 3 4 5 6 7 8 9 Nombre -4 -3 -2 -1 0 1 2 3 4 Image par G 12 9 6 3 0 -3 -6 -9 -12 Nombre -4 -3 -2 -1 0 1 2 3 4 Image par H 16 9 4 1 0 1 4 9 16 Notation Pour des raisons de commodit\u00e9, on utilisera les nortations suivantes : \\(f\\) pour F , \\(g\\) pour G , etc... Question 1 Enonc\u00e9 Solution Quel est l'image de \\(3\\) par \\(f\\) ? de \\(2\\) par \\(h\\) ? Quel(s) est(sont) l'(les) ant\u00e9c\u00e9dent(s) de \\(-6\\) par \\(g\\) ? de \\(1\\) par \\(h\\) ? Pour quelle(s) fonction(s) \\(9\\) est-il l'image de \\(-3\\) ? Laquelle de ces fonctions repr\u00e9sente une situation de proportionnalit\u00e9 ? L'image de \\(3\\) par \\(f\\) est \\(8\\) , autrement dit \\(f(3)=8\\) , et l'image de \\(2\\) par \\(g\\) est \\(-6\\) , autrement dit \\(g(2) = -6\\) . D'apr\u00e8s le tableau, le seul ant\u00e9c\u00e9dent connu de \\(-6\\) par \\(g\\) est \\(2\\) . De m\u00eame, les seuls ant\u00e9c\u00e9dents de \\(1\\) par \\(h\\) sont \\(-1\\) et \\(1\\) . Il s'agit des fonctions \\(g\\) et \\(h\\) : \\(g(-3) = h(-3) = 9\\) Ce ne peut pas \u00eatre la fonction \\(f\\) , car l'image de \\(0\\) est \\(5\\) , ce qui ne repr\u00e9sente pas une situation de proportionnalit\u00e9. Ensuite en extrayant le sous tableau suivant de la fonction \\(h\\) : 2 3 4 9 On constate que \\(2\\times 9 \\neq 4 \\times 3\\) . Il n'y a pas d'\u00e9galit\u00e9 des produits en croix, donc pas de situation de proportionnalit\u00e9. Il s'agit donc de la fonction \\(g\\) , avec un coefficient de proportionnalit\u00e9 qui est \u00e9gal \u00e0 \\(-3\\) . Question 2 Enonc\u00e9 Solution Malia essaie maintenant d'appuyer sur plusieurs touches. Elle essaie la s\u00e9quence . Quelle valeur va \u00eatre affich\u00e9e par la machine ? Quelle est l'image par \\(h\\) de l'image de \\(-3\\) par \\(f\\) ? Quel(s) est(sont) l'(les) ant\u00e9c\u00e9dent(s) par \\(h\\) du(des) ant\u00e9c\u00e9dent(s) de \\(-3\\) par \\(g\\) ? On cherche l'image par \\(g\\) de l'image par \\(f\\) de \\(-2\\) . Or \\(f(-2) = 3\\) et \\(g(3) = -9\\) . Donc le nombre cherch\u00e9 est \\(-9\\) . \\(f(-3) = 2\\) et \\(h(2) = 4\\) , donc le nombre cherch\u00e9 est \\(4\\) . D'apr-s le tableau de \\(g\\) , \\(-3\\) ne poss\u00e8de qu'un ant\u00e9c\u00e9dent, le nombre \\(1\\) . Le nombre \\(1\\) lui poss\u00e8de deux ant\u00e9cedents par \\(h\\) , les nombres \\(-1\\) et \\(1\\) . Les nombres cherch\u00e9s sont donc \\(-1\\) et \\(1\\) . Fonctions : d\u00e9finitions, notations et vocabulaire Une fonction est une relation entre deux ensembles de nombres, un ensemble de d\u00e9part, appel\u00e9 ensemble de d\u00e9finition et un ensemble d'arriv\u00e9e. Cette relation poss\u00e8de donc un sens , chaque nombre de l\u2019ensemble de d\u00e9finition poss\u00e8de une et une seule image dans l\u2019ensemble d\u2019arriv\u00e9e. Un nombre de l\u2019ensemble d\u2019arriv\u00e9e peut poss\u00e9der (mais ce n\u2019est pas oblig\u00e9) un ou plusieurs ant\u00e9c\u00e9dents dans l\u2019ensemble de d\u00e9part. Une fonction peut \u00eatre nomm\u00e9ee par une lettre ( \\(f\\) , \\(g\\) , \\(h\\) , \\(F\\) ... - attention, comme en Python, la casse est importante) ou par un nom plus complexe dans des cas particuliers ( \\(sin\\) , \\(cos\\) , \\(tan\\) , \\(ln\\) ,...). On repr\u00e9sente une fonction \\(f\\) par le sch\u00e9ma suivant : \\[ f : x \\longmapsto y \\] o\u00f9 \\(x\\) est un nombre de l'ensemble de d\u00e9finition et \\(y\\) est le nombre qui lui correspond par \\(f\\) dans l'ensemble d'arriv\u00e9e. Cette notation sera lue \u00ab \\(y\\) est l'image de \\(x\\) par la fonction \\(f\\) \u00bb. On notera aussi : \\(y=f(x)\\) , qui sera lu \u00ab \\(y\\) est \u00e9gal \u00e0 \\(f\\) de \\(x\\) \u00bb Exemples D'apr\u00e8s les questions pr\u00e9c\u00e9dentes : \\(f : 4 \\mapsto 9\\) ou autrement not\u00e9 \\(f(4) = 9\\) ; \\(g : -2 \\mapsto 6\\) ou autrement not\u00e9 \\(g(-2) = 6\\) ; \\(h : 2 \\mapsto 4\\) ou autrement not\u00e9 \\(h(2) = 4\\) . Question 3 Enonc\u00e9 Solution Parmi les propositions ci-dessous, pr\u00e9ciser celles qui sont vraies et celles qui sont fausses : \\(g(4) = -12\\) \\(h(4) = 2\\) \\(3\\) est la solution de \\(h(x) = 9\\) \\(3\\) est une solution de \\(f(x) = 8\\) Si \\(x\\) est le nombre de d\u00e9part, alors \\(h(x) = \\sqrt{x}\\) Le programme de calcul suivant pourrait correspondre \u00e0 \\(h\\) : Prendre un nombre Le mettre au carr\u00e9 Donner le r\u00e9sultat. Vrai Faux \\(h(4) = 16\\) Faux, il n'est pas la seule solution. On sait que au moins \\(-3\\) et \\(3\\) sont solutions de cette \u00e9quation. Vrai Faux car en prenant \\(4\\) comme nombre de d\u00e9part, on obtient \\(16\\) et non pas \\(\\sqrt{4}=2\\) . Vrai Question 4 Enonc\u00e9 Solution Pour chacune des fonctions \\(f\\) , \\(g\\) et \\(h\\) : D\u00e9terminer un programme de calcul pouvant correspondre \u00e0 la fonction. Soit \\(x\\) le nombre de d\u00e9part. D\u00e9terminer l'image de \\(x\\) par la fonction. Une telle expression est appel\u00e9e expression alg\u00e9brique de la fonction . D'apr\u00e8s vos r\u00e9ponses pr\u00e9c\u00e9dentes : Quelle serait l'image pr\u00e9visible alors pour \\(10\\) par \\(f\\) ? Quelle serait l'image pr\u00e9visible alors pour \\(4,3\\) par \\(g\\) ? Quelle serait l'image pr\u00e9visible alors pour \\(\\sqrt{5}\\) par \\(h\\) ? Pour chacune des fonctions \\(f\\) \\(g\\) \\(h\\) Prendre un nombre Lui ajouter 5 Donner le r\u00e9sultat Prendre un nombre Le multiplier par -3 Donner le r\u00e9sultat Prendre un nombre Le mettre au carr\u00e9 Donner le r\u00e9sultat \\(f(x) = x+5\\) \\(g(x) = -3x\\) \\(h(x) = x^2\\) D'apr\u00e8s la question pr\u00e9c\u00e9dente : \\(f(10) = 10 + 5 = 15\\) \\(g(4,3) = -3 \\times 4,3 = -12,9\\) \\(h(\\sqrt{5}) = (\\sqrt{5})^2 = 5\\) Question 5 Enonc\u00e9 Solution Malia veut maintenant repr\u00e9senter graphiquement les trois fonctions \\(f\\) , \\(g\\) et \\(h\\) . Pour cela elle construit le rep\u00e8re suivant, o\u00f9 l'axe des abscisse repr\u00e9sente l'ensemble de d\u00e9part et l'axe des ordonn\u00e9es repr\u00e9sente l'ensemble d'arriv\u00e9e. Elle n'a compl\u00e9t\u00e9 le graphique que pour une seule des fonctions. Laquelle ? Compl\u00e9ter de m\u00eame pour les deux autres. Les points repr\u00e9sent\u00e9s sont align\u00e9s avec l'origine, il s'agit d'une situation de proportionnalit\u00e9, donc de la fonction \\(g\\) . Question 6 La touche K de sa machine ne semble pas fonctionner. \u00c9tant une experte de la recherche sur le web, elle parvient \u00e0 trouver un manuel d'utilisation de la machine. Dans celui-ci, elle trouve la courbe ci-contre repr\u00e9sentant la fonction \\(k\\) . Enonc\u00e9 Solution Quelle est l'image de \\(1\\) par \\(k\\) ? de \\(3\\) par \\(k\\) ? Compl\u00e9ter un tableau de valeur de la fonction \\(k\\) pour les nombres entiers allant de \\(-4\\) \u00e0 \\(4\\) . Proposer une expression alg\u00e9brique repr\u00e9sentant \\(k\\) sur \\([-4 ;4]\\) . R\u00e9soudre graphiquement \\(k(x) = 0\\) . R\u00e9soudre alg\u00e9briquement \\(k(x) = 0\\) . R\u00e9soudre graphiquement \\(k(x) \\leqslant 8\\) . R\u00e9soudre alg\u00e9briquement \\(k(x) \\leqslant 8\\) . \\(k(1) = 2\\) et \\(k(3) = 8\\) Le tableau : Nombre -4 -3 -2 -1 0 1 2 3 4 Image par \\(k\\) -13 -10 -7 -4 -1 2 5 8 11 \\[ f : x \\mapsto 3x-1 \\] R\u00e9soudre graphiquement \\(k(x) = 0\\) , c'est trouver l'abscisse des points d'intersections de la courbe repr\u00e9sentative de \\(k\\) avec l'axe des abscisses Ici on trouve graphiquement \\(\\mathscr{S} = \\left\\lbrace \\simeq 0,3 \\right\\rbrace\\) . \\[ \\begin{array}{rcl} k(x) &=& 0\\\\ 3x-1 &=& 0\\\\ 3x &=& 1\\\\ x &=& \\dfrac{1}{3} \\end{array} \\] D'o\u00f9 \\(\\mathscr{S} = \\left\\lbrace \\dfrac{1}{3} \\right\\rbrace\\) R\u00e9soudre graphiquement \\(k(x) \\leqslant 8\\) , c'est trouver les intervalles de l'abscisses sur lesquels la courbe repr\u00e9sentative de la fonction \\(k\\) poss\u00e8de des ordonn\u00e9es inf\u00e9rieures ou \u00e9gales \u00e0 8. Ici on trouve graphiquement \\(\\mathscr{S} = ] -\\infty ; 3]\\) \\[ \\begin{array}{rcl} k(x) &\\leqslant& 8\\\\ 3x-1 &\\leqslant& 8\\\\ 3x &\\leqslant& 9\\\\ x &\\leqslant& 3 \\end{array} \\] D'o\u00f9 \\(\\mathscr{S} = ] -\\infty ; 3]\\) Repr\u00e9sentations d'une fonction Une fonction peut-\u00eatre repr\u00e9sent\u00e9e de diff\u00e9rentes mani\u00e8res : par une expression alg\u00e9brique : on conna\u00eet explicitement les op\u00e9rations n\u00e9cessaires pour calculer une image. D\u00e9terminer un ant\u00e9c\u00e9dent se fait alors en r\u00e9solvant une \u00e9quation . par un tableau de valeurs : la connaissance de la fonction n'est que parcellaire . Il est impossible de conna\u00eetre les images en dehors de celles donn\u00e9es dans le tableau. par une repr\u00e9sentation graphique : la courbe repr\u00e9sentative d'une fonction \\(f\\) est la courbe d'\u00e9quation \\(y=f(x)\\) , c'est-\u00e0-dire l'ensemble des points du plan dont les coordonn\u00e9es \\((x~;~y)\\) v\u00e9rifient \\(y=f(x)\\) . Une repr\u00e9sentation graphique n'est qu'une vision partielle d'une fonction, et ne permet de donner que des valeurs approch\u00e9es ou des estimations des images et ant\u00e9c\u00e9dents par cette fonction. Remarques Un graphique repr\u00e9sentant une fonction se trace au crayon \u00e0 papier ou au criterium, pas au stylo ! Il faut toujours r\u00e9fl\u00e9chir avant de tracer ! Quelle sera mon \u00e9chelle ? Comment placer mes axes pour avoir tous mes points ? On ne trace que ce dont on est s\u00fbr et certain ! En effet, un tableau de valeur ne permet pas de conna\u00eetre l'allure r\u00e9eelle de la courbe. Diff\u00e9rentes courbes peuvent passer par les m\u00eames points, comme sur les trois exemples ci-dessous Courbe 1 Courbe 2 Courbe 3 Question 7 : Encha\u00eenement de fonctions On admet dans cette question que les fonctions \\(f\\) , \\(g\\) , \\(h\\) et \\(k\\) admettent bien comme expression alg\u00e9brique les expressions donn\u00e9es dans les questions pr\u00e9c\u00e9dentes. Enonc\u00e9 Solution Malia souhaite conna\u00eetre la fonction qui est cr\u00e9\u00e9 par l'appui sur F puis sur H . Elle appelle cette fonction \\(u\\) . Compl\u00e9ter un tableau de valeur de \\(u\\) pour les nombres entiers allant de \\(-4\\) \u00e0 \\(4\\) . Donner une expression alg\u00e9brique de cette fonction. Elle souhaite faire de m\u00eame, mais en changeant l'ordre des touches, donc en appuyant d'abord sur H puis sur F . Elle appelle cette fonction \\(v\\) . Compl\u00e9ter un tableau de valeur de \\(v\\) pour les nombres entiers allant de \\(-4\\) \u00e0 \\(4\\) . Donner une expression alg\u00e9brique de cette fonction. L'ordre d'appui sur les touches (c'est-\u00e0-dire l'ordre d'enchainement des fonctions ) est-il important ? Questions pour ceux qui ont termin\u00e9 en avance : La fonction \\(u\\) est d\u00e9finie par \\(u(x)= h\\left(f\\left(x\\right)\\right)\\) , et la fonction \\(v\\) par \\(v(x)= f\\left(h\\left(x\\right)\\right)\\) . En utilisant la m\u00eame notation, D\u00e9terminer les expressions alg\u00e9briques des fonctions suivantes : \\(m_1(x) = g\\left(f\\left(x\\right)\\right)\\) \\(m_2(x) = f\\left(g\\left(x\\right)\\right)\\) \\(m_3(x)= h\\left(g\\left(x\\right)\\right)\\) \\(m_4(x) = g\\left(h\\left(x\\right)\\right)\\) \\(m_5(x) = h\\left(f\\left(g\\left(x\\right)\\right)\\right)\\) \\(m_6(x) = h\\left(g\\left(f\\left(x\\right)\\right)\\right)\\) \\(m_7(x) = f\\left(g\\left(h\\left(x\\right)\\right)\\right)\\) \\(m_{8}(x) = f\\left(h\\left(g\\left(x\\right)\\right)\\right)\\) Le tableau Nombre -4 -3 -2 -1 0 1 2 3 4 Image par \\(u\\) 1 4 9 16 25 36 49 64 81 Fonction \\(u\\) : \\(u(x) = (x+5)^2\\) Fonction \\(v\\) : Le tableau Nombre -4 -3 -2 -1 0 1 2 3 4 Image par \\(u\\) 21 14 9 6 5 6 9 14 21 \\(v(x) = x^2 + 5\\) Oui l'ordre d'appui est important. Sans explications : \\(m_1(x) = -3(x+5) = -3x-15\\) \\(m_2(x) = -3x+5\\) \\(m_3(x) = (-3x)^2 = 9x^2\\) $m_4(x) = -3x^2 $ \\(m_5(x) = (-3x+5)^2 = 9x^2 - 30x +25\\) \\(m_6(x) = (-3x-15)^2 = 9x^2 + 90x +225\\) \\(m_7(x) = -3x^2 +5\\) \\(m_8(x) = (-3x)^2 +5 = 9x^2 + 5\\) Activite : Du programme de calcul \u00e0 la fonction} On consid\u00e8re l'algorithme suivant : Prendre un nombre r\u00e9el. Le multiplier par -1. Ajouter 7,2 au r\u00e9sultat. Multiplier le dernier r\u00e9sultat par le nombre de d\u00e9part et donner le r\u00e9sultat final. Question 1 Ce programme peut-\u00eatre repr\u00e9sent\u00e9 par le sch\u00e9ma suivant, que vous compl\u00e8terez par des op\u00e9rations sur les fl\u00e8ches si possible. Enonc\u00e9 Solution Question 2 Enonc\u00e9 Solution Ce programme correspond-il \u00e0 la d\u00e9finition de fonction donn\u00e9e plus haut ? Justifiez. A un nombre de la case de d\u00e9part, correspond bien un et un seul nombre dans la case d'arriv\u00e9e. Donc oui ce sch\u00e9ma correspond \u00e0 la d\u00e9finition d'une fonction. On notera ce programme de calcul \\(f\\) a partir de maintenant. Question 3 : Etude par un tableau de valeur Enonc\u00e9 Solution Appliquer le programme de calcul sur tous les nombres entiers compris entre \\(\u22122\\) et \\(8\\) , puir ecopier et compl\u00e9ter le tableau ci-dessous : \\(x\\) \\(-2\\) \\(-1\\) \\(0\\) \\(1\\) \\(2\\) \\(3\\) \\(4\\) \\(5\\) \\(6\\) \\(7\\) \\(8\\) \\(f(x)\\) Cette fonction traduit-elle une situation de proportionnalit\u00e9 ? Quelle est l'image de \\(2\\) ? De \\(5\\) ? Donner un ant\u00e9c\u00e9dent de \\(12,8\\) . Le tableau : \\(x\\) \\(-2\\) \\(-1\\) \\(0\\) \\(1\\) \\(2\\) \\(3\\) \\(4\\) \\(5\\) \\(6\\) \\(7\\) \\(8\\) \\(f(x)\\) -18,4 -8,2 0 6,2 10,4 12,6 12,8 11 7,2 1,4 -6,4 Non car il n'y a pas \u00e9galit\u00e9 des produits en croix, par exemple avec : \\(4\\) \\(5\\) 12,8 11 \\(4 \\times 11 \\neq 12,8 \\times 5\\) . L'image de \\(2\\) est \\(10,4\\) , et \\(f(5) = 11\\) . Un ant\u00e9ced\u00e9ent de \\(12,8\\) est \\(4\\) . Question 4 : A l'aide du sch\u00e9ma Enonc\u00e9 Solution Calculer les images de \\(2,3\\) et \\(4,9\\) . Quelle remarque peut-on faire ? D\u00e9terminer les ant\u00e9c\u00e9dents de \\(0\\) . Soit \\(x\\) le nombre de d\u00e9part. D\u00e9terminer en fonction de \\(x\\) le nombre final obtenu. L'expression obtenue est une expression alg\u00e9brique de \\(f\\) . \\(f(2,3) = 2,3 \\times (7,2 - 2,3) = 2,3 \\times 4,9 = 11,27\\) et \\(f(4,9) = 4,9 \\times (7,2 - 4,9) = 4,9 \\times 2,3 = 11,27\\) . Les deux nombres \\(2,3\\) et \\(4,9\\) ont la m\u00eame image. Ils sont des ant\u00e9c\u00e9dents de \\(11,27\\) . On sait d\u00e9j\u00e0 que \\(0\\) est un ant\u00e9c\u00e9dent de \\(0\\) . Mais il est aussi possible d'avoir un ant\u00e9c\u00e9dent de \\(0\\) si l'avant derni\u00e8re case du sch\u00e9ma dans le chemin du bas vaut \\(0\\) : On en conclut que \\(0\\) poss\u00e8de exactement deux ant\u00e9c\u00e9dents : \\(0\\) et \\(7,2\\) . \\[ f : x \\mapsto x(7,2-x) \\] Question 5 : Diff\u00e9rentes expressions alg\u00e9briques Enonc\u00e9 Solution On consid\u00e8re les expressions \\(A= x (7,2-x)\\) et \\(B=12,96 - (x - 3,6)^2\\) D\u00e9montrer que \\(A\\) et \\(B\\) sont \u00e9gales quel que soit le nombre r\u00e9el \\(x\\) . Soit \\(C= (x-3,6)^2\\) Quelles est la plus petite valeur possible pour \\(C\\) et pour quelle(s) valeur(s) de \\(x\\) est-elle atteinte ? En d\u00e9duire la plus grande valeur pour le nombre \\(B\\) . Quelle est la plus grande valeur possible pour le nombre \\(A\\) ?\\ Pour quelle(s) valeur(s) de \\(x\\) obtient-on cette plus grande valeur de \\(A\\) ?\\ Conclure pour la fonction \\(f\\) . Pour tout \\(x \\in \\mathbb{R}\\) , on d\u00e9veloppe \\(A\\) et \\(B\\) : \\[ \\begin{array}{rcl} A &=& x (7,2-x)\\\\ A &=& 7,2x -x^2 \\end{array} \\] \\[ \\begin{array}{rcl} B &=& 12,96 - (x - 3,6)^2\\\\ &=& 12,96 - (x^2 - 7,2x +12,96) \\\\ &=& 12,96 - x^2 + 7,2x -12,96 \\\\ B &=& - x^2 + 7,2x \\end{array} \\] On en conlut que pour tout \\(x \\in \\mathbb{R}\\) , on a \\(A = B\\) \\(C= (x-3,6)^2\\) \\(C\\) est un carr\u00e9 donc il est positif ou nul. Donc la plus petite valeur possible pour \\(C\\) est \\(0\\) , et on a : \\[ C=0 \\Longleftrightarrow (x-3,6)^2 = 0 \\Longleftrightarrow x-3,6 = 0 \\Longleftrightarrow x = 3,6 \\] La plus petite valeur possible pour \\(C\\) est donc \\(0\\) atteinte pour \\(x=3,6\\) . On a : \\[ \\begin{array}{rcl} C &\\geqslant & 0\\\\ -C &\\leqslant & 0\\\\ 12,96 - C&\\leqslant & 12,96\\\\ B &\\leqslant & 12,96\\\\ \\end{array} \\] La plus grande valeur possible pour \\(B\\) est donc \\(12,96\\) et elle est atteinte quand \\(C\\) est \u00e9gal \u00e0 \\(0\\) , c'est-\u00e0-dire quand \\(x\\) vaut \\(3,6\\) . Comme \\(A =B\\) pour tout \\(x\\) r\u00e9el, on en conclut que la plus grande valeur possible pour \\(A\\) est aussi \\(12,96\\) atteinte pour \\(x\\) valant \\(3,6\\) . On dira que \\(f\\) atteint pour maximum \\(12,96\\) en \\(3,6\\) . Question 6 : Trac\u00e9 du graphe Enonc\u00e9 Solution Dans un plan muni d\u2019un rep\u00e8re orthonorm\u00e9 (axes perpendiculaires et m\u00eame unit\u00e9 sur chaque axe), on place les points d\u2019abscisses \\(x\\) et d\u2019ordonn\u00e9es \\(f(x)\\) . Placer tous les points possibles.","title":"Vocabulaire et rappels"},{"location":"Maths/Seconde/C03/C03_01_Generalite_fonctions/#c03-01-vocabulaire-et-rappels-sur-les-fonctions","text":"","title":"\\(C03 - 01\\) Vocabulaire et rappels sur les fonctions"},{"location":"Maths/Seconde/C03/C03_01_Generalite_fonctions/#activite-fonctions-tableaux-de-valeurs-enchainements","text":"Malia trouve une \u00e9trange machine dans le tiroir de son grand-p\u00e8re. Quand elle appuie sur les touches 4 et F , la machine affiche \\(9\\) . Quand elle appuie sur les touches - 2 G , la machine affiche \\(6\\) . Pour exprimer cela plus rapidement, on dira que : l'image de \\(4\\) par \\(f\\) est \\(9\\) ; un ant\u00e9c\u00e9dent de \\(6\\) par \\(g\\) est \\(-2\\) ; Chacune des touches F G H K est une fonction. Elle teste la machine sur plusieurs nombres et note les r\u00e9sultats dans les tableaux suivants : Nombre -4 -3 -2 -1 0 1 2 3 4 Image par F 1 2 3 4 5 6 7 8 9 Nombre -4 -3 -2 -1 0 1 2 3 4 Image par G 12 9 6 3 0 -3 -6 -9 -12 Nombre -4 -3 -2 -1 0 1 2 3 4 Image par H 16 9 4 1 0 1 4 9 16 Notation Pour des raisons de commodit\u00e9, on utilisera les nortations suivantes : \\(f\\) pour F , \\(g\\) pour G , etc... Question 1 Enonc\u00e9 Solution Quel est l'image de \\(3\\) par \\(f\\) ? de \\(2\\) par \\(h\\) ? Quel(s) est(sont) l'(les) ant\u00e9c\u00e9dent(s) de \\(-6\\) par \\(g\\) ? de \\(1\\) par \\(h\\) ? Pour quelle(s) fonction(s) \\(9\\) est-il l'image de \\(-3\\) ? Laquelle de ces fonctions repr\u00e9sente une situation de proportionnalit\u00e9 ? L'image de \\(3\\) par \\(f\\) est \\(8\\) , autrement dit \\(f(3)=8\\) , et l'image de \\(2\\) par \\(g\\) est \\(-6\\) , autrement dit \\(g(2) = -6\\) . D'apr\u00e8s le tableau, le seul ant\u00e9c\u00e9dent connu de \\(-6\\) par \\(g\\) est \\(2\\) . De m\u00eame, les seuls ant\u00e9c\u00e9dents de \\(1\\) par \\(h\\) sont \\(-1\\) et \\(1\\) . Il s'agit des fonctions \\(g\\) et \\(h\\) : \\(g(-3) = h(-3) = 9\\) Ce ne peut pas \u00eatre la fonction \\(f\\) , car l'image de \\(0\\) est \\(5\\) , ce qui ne repr\u00e9sente pas une situation de proportionnalit\u00e9. Ensuite en extrayant le sous tableau suivant de la fonction \\(h\\) : 2 3 4 9 On constate que \\(2\\times 9 \\neq 4 \\times 3\\) . Il n'y a pas d'\u00e9galit\u00e9 des produits en croix, donc pas de situation de proportionnalit\u00e9. Il s'agit donc de la fonction \\(g\\) , avec un coefficient de proportionnalit\u00e9 qui est \u00e9gal \u00e0 \\(-3\\) . Question 2 Enonc\u00e9 Solution Malia essaie maintenant d'appuyer sur plusieurs touches. Elle essaie la s\u00e9quence . Quelle valeur va \u00eatre affich\u00e9e par la machine ? Quelle est l'image par \\(h\\) de l'image de \\(-3\\) par \\(f\\) ? Quel(s) est(sont) l'(les) ant\u00e9c\u00e9dent(s) par \\(h\\) du(des) ant\u00e9c\u00e9dent(s) de \\(-3\\) par \\(g\\) ? On cherche l'image par \\(g\\) de l'image par \\(f\\) de \\(-2\\) . Or \\(f(-2) = 3\\) et \\(g(3) = -9\\) . Donc le nombre cherch\u00e9 est \\(-9\\) . \\(f(-3) = 2\\) et \\(h(2) = 4\\) , donc le nombre cherch\u00e9 est \\(4\\) . D'apr-s le tableau de \\(g\\) , \\(-3\\) ne poss\u00e8de qu'un ant\u00e9c\u00e9dent, le nombre \\(1\\) . Le nombre \\(1\\) lui poss\u00e8de deux ant\u00e9cedents par \\(h\\) , les nombres \\(-1\\) et \\(1\\) . Les nombres cherch\u00e9s sont donc \\(-1\\) et \\(1\\) . Fonctions : d\u00e9finitions, notations et vocabulaire Une fonction est une relation entre deux ensembles de nombres, un ensemble de d\u00e9part, appel\u00e9 ensemble de d\u00e9finition et un ensemble d'arriv\u00e9e. Cette relation poss\u00e8de donc un sens , chaque nombre de l\u2019ensemble de d\u00e9finition poss\u00e8de une et une seule image dans l\u2019ensemble d\u2019arriv\u00e9e. Un nombre de l\u2019ensemble d\u2019arriv\u00e9e peut poss\u00e9der (mais ce n\u2019est pas oblig\u00e9) un ou plusieurs ant\u00e9c\u00e9dents dans l\u2019ensemble de d\u00e9part. Une fonction peut \u00eatre nomm\u00e9ee par une lettre ( \\(f\\) , \\(g\\) , \\(h\\) , \\(F\\) ... - attention, comme en Python, la casse est importante) ou par un nom plus complexe dans des cas particuliers ( \\(sin\\) , \\(cos\\) , \\(tan\\) , \\(ln\\) ,...). On repr\u00e9sente une fonction \\(f\\) par le sch\u00e9ma suivant : \\[ f : x \\longmapsto y \\] o\u00f9 \\(x\\) est un nombre de l'ensemble de d\u00e9finition et \\(y\\) est le nombre qui lui correspond par \\(f\\) dans l'ensemble d'arriv\u00e9e. Cette notation sera lue \u00ab \\(y\\) est l'image de \\(x\\) par la fonction \\(f\\) \u00bb. On notera aussi : \\(y=f(x)\\) , qui sera lu \u00ab \\(y\\) est \u00e9gal \u00e0 \\(f\\) de \\(x\\) \u00bb Exemples D'apr\u00e8s les questions pr\u00e9c\u00e9dentes : \\(f : 4 \\mapsto 9\\) ou autrement not\u00e9 \\(f(4) = 9\\) ; \\(g : -2 \\mapsto 6\\) ou autrement not\u00e9 \\(g(-2) = 6\\) ; \\(h : 2 \\mapsto 4\\) ou autrement not\u00e9 \\(h(2) = 4\\) . Question 3 Enonc\u00e9 Solution Parmi les propositions ci-dessous, pr\u00e9ciser celles qui sont vraies et celles qui sont fausses : \\(g(4) = -12\\) \\(h(4) = 2\\) \\(3\\) est la solution de \\(h(x) = 9\\) \\(3\\) est une solution de \\(f(x) = 8\\) Si \\(x\\) est le nombre de d\u00e9part, alors \\(h(x) = \\sqrt{x}\\) Le programme de calcul suivant pourrait correspondre \u00e0 \\(h\\) : Prendre un nombre Le mettre au carr\u00e9 Donner le r\u00e9sultat. Vrai Faux \\(h(4) = 16\\) Faux, il n'est pas la seule solution. On sait que au moins \\(-3\\) et \\(3\\) sont solutions de cette \u00e9quation. Vrai Faux car en prenant \\(4\\) comme nombre de d\u00e9part, on obtient \\(16\\) et non pas \\(\\sqrt{4}=2\\) . Vrai Question 4 Enonc\u00e9 Solution Pour chacune des fonctions \\(f\\) , \\(g\\) et \\(h\\) : D\u00e9terminer un programme de calcul pouvant correspondre \u00e0 la fonction. Soit \\(x\\) le nombre de d\u00e9part. D\u00e9terminer l'image de \\(x\\) par la fonction. Une telle expression est appel\u00e9e expression alg\u00e9brique de la fonction . D'apr\u00e8s vos r\u00e9ponses pr\u00e9c\u00e9dentes : Quelle serait l'image pr\u00e9visible alors pour \\(10\\) par \\(f\\) ? Quelle serait l'image pr\u00e9visible alors pour \\(4,3\\) par \\(g\\) ? Quelle serait l'image pr\u00e9visible alors pour \\(\\sqrt{5}\\) par \\(h\\) ? Pour chacune des fonctions \\(f\\) \\(g\\) \\(h\\) Prendre un nombre Lui ajouter 5 Donner le r\u00e9sultat Prendre un nombre Le multiplier par -3 Donner le r\u00e9sultat Prendre un nombre Le mettre au carr\u00e9 Donner le r\u00e9sultat \\(f(x) = x+5\\) \\(g(x) = -3x\\) \\(h(x) = x^2\\) D'apr\u00e8s la question pr\u00e9c\u00e9dente : \\(f(10) = 10 + 5 = 15\\) \\(g(4,3) = -3 \\times 4,3 = -12,9\\) \\(h(\\sqrt{5}) = (\\sqrt{5})^2 = 5\\) Question 5 Enonc\u00e9 Solution Malia veut maintenant repr\u00e9senter graphiquement les trois fonctions \\(f\\) , \\(g\\) et \\(h\\) . Pour cela elle construit le rep\u00e8re suivant, o\u00f9 l'axe des abscisse repr\u00e9sente l'ensemble de d\u00e9part et l'axe des ordonn\u00e9es repr\u00e9sente l'ensemble d'arriv\u00e9e. Elle n'a compl\u00e9t\u00e9 le graphique que pour une seule des fonctions. Laquelle ? Compl\u00e9ter de m\u00eame pour les deux autres. Les points repr\u00e9sent\u00e9s sont align\u00e9s avec l'origine, il s'agit d'une situation de proportionnalit\u00e9, donc de la fonction \\(g\\) . Question 6 La touche K de sa machine ne semble pas fonctionner. \u00c9tant une experte de la recherche sur le web, elle parvient \u00e0 trouver un manuel d'utilisation de la machine. Dans celui-ci, elle trouve la courbe ci-contre repr\u00e9sentant la fonction \\(k\\) . Enonc\u00e9 Solution Quelle est l'image de \\(1\\) par \\(k\\) ? de \\(3\\) par \\(k\\) ? Compl\u00e9ter un tableau de valeur de la fonction \\(k\\) pour les nombres entiers allant de \\(-4\\) \u00e0 \\(4\\) . Proposer une expression alg\u00e9brique repr\u00e9sentant \\(k\\) sur \\([-4 ;4]\\) . R\u00e9soudre graphiquement \\(k(x) = 0\\) . R\u00e9soudre alg\u00e9briquement \\(k(x) = 0\\) . R\u00e9soudre graphiquement \\(k(x) \\leqslant 8\\) . R\u00e9soudre alg\u00e9briquement \\(k(x) \\leqslant 8\\) . \\(k(1) = 2\\) et \\(k(3) = 8\\) Le tableau : Nombre -4 -3 -2 -1 0 1 2 3 4 Image par \\(k\\) -13 -10 -7 -4 -1 2 5 8 11 \\[ f : x \\mapsto 3x-1 \\] R\u00e9soudre graphiquement \\(k(x) = 0\\) , c'est trouver l'abscisse des points d'intersections de la courbe repr\u00e9sentative de \\(k\\) avec l'axe des abscisses Ici on trouve graphiquement \\(\\mathscr{S} = \\left\\lbrace \\simeq 0,3 \\right\\rbrace\\) . \\[ \\begin{array}{rcl} k(x) &=& 0\\\\ 3x-1 &=& 0\\\\ 3x &=& 1\\\\ x &=& \\dfrac{1}{3} \\end{array} \\] D'o\u00f9 \\(\\mathscr{S} = \\left\\lbrace \\dfrac{1}{3} \\right\\rbrace\\) R\u00e9soudre graphiquement \\(k(x) \\leqslant 8\\) , c'est trouver les intervalles de l'abscisses sur lesquels la courbe repr\u00e9sentative de la fonction \\(k\\) poss\u00e8de des ordonn\u00e9es inf\u00e9rieures ou \u00e9gales \u00e0 8. Ici on trouve graphiquement \\(\\mathscr{S} = ] -\\infty ; 3]\\) \\[ \\begin{array}{rcl} k(x) &\\leqslant& 8\\\\ 3x-1 &\\leqslant& 8\\\\ 3x &\\leqslant& 9\\\\ x &\\leqslant& 3 \\end{array} \\] D'o\u00f9 \\(\\mathscr{S} = ] -\\infty ; 3]\\) Repr\u00e9sentations d'une fonction Une fonction peut-\u00eatre repr\u00e9sent\u00e9e de diff\u00e9rentes mani\u00e8res : par une expression alg\u00e9brique : on conna\u00eet explicitement les op\u00e9rations n\u00e9cessaires pour calculer une image. D\u00e9terminer un ant\u00e9c\u00e9dent se fait alors en r\u00e9solvant une \u00e9quation . par un tableau de valeurs : la connaissance de la fonction n'est que parcellaire . Il est impossible de conna\u00eetre les images en dehors de celles donn\u00e9es dans le tableau. par une repr\u00e9sentation graphique : la courbe repr\u00e9sentative d'une fonction \\(f\\) est la courbe d'\u00e9quation \\(y=f(x)\\) , c'est-\u00e0-dire l'ensemble des points du plan dont les coordonn\u00e9es \\((x~;~y)\\) v\u00e9rifient \\(y=f(x)\\) . Une repr\u00e9sentation graphique n'est qu'une vision partielle d'une fonction, et ne permet de donner que des valeurs approch\u00e9es ou des estimations des images et ant\u00e9c\u00e9dents par cette fonction. Remarques Un graphique repr\u00e9sentant une fonction se trace au crayon \u00e0 papier ou au criterium, pas au stylo ! Il faut toujours r\u00e9fl\u00e9chir avant de tracer ! Quelle sera mon \u00e9chelle ? Comment placer mes axes pour avoir tous mes points ? On ne trace que ce dont on est s\u00fbr et certain ! En effet, un tableau de valeur ne permet pas de conna\u00eetre l'allure r\u00e9eelle de la courbe. Diff\u00e9rentes courbes peuvent passer par les m\u00eames points, comme sur les trois exemples ci-dessous Courbe 1 Courbe 2 Courbe 3 Question 7 : Encha\u00eenement de fonctions On admet dans cette question que les fonctions \\(f\\) , \\(g\\) , \\(h\\) et \\(k\\) admettent bien comme expression alg\u00e9brique les expressions donn\u00e9es dans les questions pr\u00e9c\u00e9dentes. Enonc\u00e9 Solution Malia souhaite conna\u00eetre la fonction qui est cr\u00e9\u00e9 par l'appui sur F puis sur H . Elle appelle cette fonction \\(u\\) . Compl\u00e9ter un tableau de valeur de \\(u\\) pour les nombres entiers allant de \\(-4\\) \u00e0 \\(4\\) . Donner une expression alg\u00e9brique de cette fonction. Elle souhaite faire de m\u00eame, mais en changeant l'ordre des touches, donc en appuyant d'abord sur H puis sur F . Elle appelle cette fonction \\(v\\) . Compl\u00e9ter un tableau de valeur de \\(v\\) pour les nombres entiers allant de \\(-4\\) \u00e0 \\(4\\) . Donner une expression alg\u00e9brique de cette fonction. L'ordre d'appui sur les touches (c'est-\u00e0-dire l'ordre d'enchainement des fonctions ) est-il important ? Questions pour ceux qui ont termin\u00e9 en avance : La fonction \\(u\\) est d\u00e9finie par \\(u(x)= h\\left(f\\left(x\\right)\\right)\\) , et la fonction \\(v\\) par \\(v(x)= f\\left(h\\left(x\\right)\\right)\\) . En utilisant la m\u00eame notation, D\u00e9terminer les expressions alg\u00e9briques des fonctions suivantes : \\(m_1(x) = g\\left(f\\left(x\\right)\\right)\\) \\(m_2(x) = f\\left(g\\left(x\\right)\\right)\\) \\(m_3(x)= h\\left(g\\left(x\\right)\\right)\\) \\(m_4(x) = g\\left(h\\left(x\\right)\\right)\\) \\(m_5(x) = h\\left(f\\left(g\\left(x\\right)\\right)\\right)\\) \\(m_6(x) = h\\left(g\\left(f\\left(x\\right)\\right)\\right)\\) \\(m_7(x) = f\\left(g\\left(h\\left(x\\right)\\right)\\right)\\) \\(m_{8}(x) = f\\left(h\\left(g\\left(x\\right)\\right)\\right)\\) Le tableau Nombre -4 -3 -2 -1 0 1 2 3 4 Image par \\(u\\) 1 4 9 16 25 36 49 64 81 Fonction \\(u\\) : \\(u(x) = (x+5)^2\\) Fonction \\(v\\) : Le tableau Nombre -4 -3 -2 -1 0 1 2 3 4 Image par \\(u\\) 21 14 9 6 5 6 9 14 21 \\(v(x) = x^2 + 5\\) Oui l'ordre d'appui est important. Sans explications : \\(m_1(x) = -3(x+5) = -3x-15\\) \\(m_2(x) = -3x+5\\) \\(m_3(x) = (-3x)^2 = 9x^2\\) $m_4(x) = -3x^2 $ \\(m_5(x) = (-3x+5)^2 = 9x^2 - 30x +25\\) \\(m_6(x) = (-3x-15)^2 = 9x^2 + 90x +225\\) \\(m_7(x) = -3x^2 +5\\) \\(m_8(x) = (-3x)^2 +5 = 9x^2 + 5\\)","title":"Activit\u00e9 : Fonctions, tableaux de valeurs, encha\u00eenements"},{"location":"Maths/Seconde/C03/C03_01_Generalite_fonctions/#activite-du-programme-de-calcul-a-la-fonction","text":"On consid\u00e8re l'algorithme suivant : Prendre un nombre r\u00e9el. Le multiplier par -1. Ajouter 7,2 au r\u00e9sultat. Multiplier le dernier r\u00e9sultat par le nombre de d\u00e9part et donner le r\u00e9sultat final. Question 1 Ce programme peut-\u00eatre repr\u00e9sent\u00e9 par le sch\u00e9ma suivant, que vous compl\u00e8terez par des op\u00e9rations sur les fl\u00e8ches si possible. Enonc\u00e9 Solution Question 2 Enonc\u00e9 Solution Ce programme correspond-il \u00e0 la d\u00e9finition de fonction donn\u00e9e plus haut ? Justifiez. A un nombre de la case de d\u00e9part, correspond bien un et un seul nombre dans la case d'arriv\u00e9e. Donc oui ce sch\u00e9ma correspond \u00e0 la d\u00e9finition d'une fonction. On notera ce programme de calcul \\(f\\) a partir de maintenant. Question 3 : Etude par un tableau de valeur Enonc\u00e9 Solution Appliquer le programme de calcul sur tous les nombres entiers compris entre \\(\u22122\\) et \\(8\\) , puir ecopier et compl\u00e9ter le tableau ci-dessous : \\(x\\) \\(-2\\) \\(-1\\) \\(0\\) \\(1\\) \\(2\\) \\(3\\) \\(4\\) \\(5\\) \\(6\\) \\(7\\) \\(8\\) \\(f(x)\\) Cette fonction traduit-elle une situation de proportionnalit\u00e9 ? Quelle est l'image de \\(2\\) ? De \\(5\\) ? Donner un ant\u00e9c\u00e9dent de \\(12,8\\) . Le tableau : \\(x\\) \\(-2\\) \\(-1\\) \\(0\\) \\(1\\) \\(2\\) \\(3\\) \\(4\\) \\(5\\) \\(6\\) \\(7\\) \\(8\\) \\(f(x)\\) -18,4 -8,2 0 6,2 10,4 12,6 12,8 11 7,2 1,4 -6,4 Non car il n'y a pas \u00e9galit\u00e9 des produits en croix, par exemple avec : \\(4\\) \\(5\\) 12,8 11 \\(4 \\times 11 \\neq 12,8 \\times 5\\) . L'image de \\(2\\) est \\(10,4\\) , et \\(f(5) = 11\\) . Un ant\u00e9ced\u00e9ent de \\(12,8\\) est \\(4\\) . Question 4 : A l'aide du sch\u00e9ma Enonc\u00e9 Solution Calculer les images de \\(2,3\\) et \\(4,9\\) . Quelle remarque peut-on faire ? D\u00e9terminer les ant\u00e9c\u00e9dents de \\(0\\) . Soit \\(x\\) le nombre de d\u00e9part. D\u00e9terminer en fonction de \\(x\\) le nombre final obtenu. L'expression obtenue est une expression alg\u00e9brique de \\(f\\) . \\(f(2,3) = 2,3 \\times (7,2 - 2,3) = 2,3 \\times 4,9 = 11,27\\) et \\(f(4,9) = 4,9 \\times (7,2 - 4,9) = 4,9 \\times 2,3 = 11,27\\) . Les deux nombres \\(2,3\\) et \\(4,9\\) ont la m\u00eame image. Ils sont des ant\u00e9c\u00e9dents de \\(11,27\\) . On sait d\u00e9j\u00e0 que \\(0\\) est un ant\u00e9c\u00e9dent de \\(0\\) . Mais il est aussi possible d'avoir un ant\u00e9c\u00e9dent de \\(0\\) si l'avant derni\u00e8re case du sch\u00e9ma dans le chemin du bas vaut \\(0\\) : On en conclut que \\(0\\) poss\u00e8de exactement deux ant\u00e9c\u00e9dents : \\(0\\) et \\(7,2\\) . \\[ f : x \\mapsto x(7,2-x) \\] Question 5 : Diff\u00e9rentes expressions alg\u00e9briques Enonc\u00e9 Solution On consid\u00e8re les expressions \\(A= x (7,2-x)\\) et \\(B=12,96 - (x - 3,6)^2\\) D\u00e9montrer que \\(A\\) et \\(B\\) sont \u00e9gales quel que soit le nombre r\u00e9el \\(x\\) . Soit \\(C= (x-3,6)^2\\) Quelles est la plus petite valeur possible pour \\(C\\) et pour quelle(s) valeur(s) de \\(x\\) est-elle atteinte ? En d\u00e9duire la plus grande valeur pour le nombre \\(B\\) . Quelle est la plus grande valeur possible pour le nombre \\(A\\) ?\\ Pour quelle(s) valeur(s) de \\(x\\) obtient-on cette plus grande valeur de \\(A\\) ?\\ Conclure pour la fonction \\(f\\) . Pour tout \\(x \\in \\mathbb{R}\\) , on d\u00e9veloppe \\(A\\) et \\(B\\) : \\[ \\begin{array}{rcl} A &=& x (7,2-x)\\\\ A &=& 7,2x -x^2 \\end{array} \\] \\[ \\begin{array}{rcl} B &=& 12,96 - (x - 3,6)^2\\\\ &=& 12,96 - (x^2 - 7,2x +12,96) \\\\ &=& 12,96 - x^2 + 7,2x -12,96 \\\\ B &=& - x^2 + 7,2x \\end{array} \\] On en conlut que pour tout \\(x \\in \\mathbb{R}\\) , on a \\(A = B\\) \\(C= (x-3,6)^2\\) \\(C\\) est un carr\u00e9 donc il est positif ou nul. Donc la plus petite valeur possible pour \\(C\\) est \\(0\\) , et on a : \\[ C=0 \\Longleftrightarrow (x-3,6)^2 = 0 \\Longleftrightarrow x-3,6 = 0 \\Longleftrightarrow x = 3,6 \\] La plus petite valeur possible pour \\(C\\) est donc \\(0\\) atteinte pour \\(x=3,6\\) . On a : \\[ \\begin{array}{rcl} C &\\geqslant & 0\\\\ -C &\\leqslant & 0\\\\ 12,96 - C&\\leqslant & 12,96\\\\ B &\\leqslant & 12,96\\\\ \\end{array} \\] La plus grande valeur possible pour \\(B\\) est donc \\(12,96\\) et elle est atteinte quand \\(C\\) est \u00e9gal \u00e0 \\(0\\) , c'est-\u00e0-dire quand \\(x\\) vaut \\(3,6\\) . Comme \\(A =B\\) pour tout \\(x\\) r\u00e9el, on en conclut que la plus grande valeur possible pour \\(A\\) est aussi \\(12,96\\) atteinte pour \\(x\\) valant \\(3,6\\) . On dira que \\(f\\) atteint pour maximum \\(12,96\\) en \\(3,6\\) . Question 6 : Trac\u00e9 du graphe Enonc\u00e9 Solution Dans un plan muni d\u2019un rep\u00e8re orthonorm\u00e9 (axes perpendiculaires et m\u00eame unit\u00e9 sur chaque axe), on place les points d\u2019abscisses \\(x\\) et d\u2019ordonn\u00e9es \\(f(x)\\) . Placer tous les points possibles.","title":"Activite : Du programme de calcul \u00e0 la fonction}"},{"location":"Miscellanees/mkdocs_cmd/","text":"Syntaxe des documents MkDocs Pour la documentation compl\u00e8te : mkdocs.org . Documentation sur materials : materials reference La documentation sur le plugin macro : macro plugin Bases de la syntaxe Markdown Le langage Mardown est en langage de balise simple, utilis\u00e9 entre autres dans les notebooks Jupyter, et pour lequel les r\u00e8gles d'utilisation sont simples : La mise en gras se fait par en encadrant par 2 \u00e9toiles : **Gras** -> Gras . La mise en italique se fait par en encadrant par 1 \u00e9toile : *Italique* -> Italique . Les titres de diff\u00e9rents niveaux sont obtenus en utilisant un certain nombre de di\u00e8se # Les images sont ins\u00e9r\u00e9es par la commande ![Alt text](/path/to/img.jpg \"Optional title\") Un texte sans fortmatage est obtenu en encadrant par des guillemets invvers\u00e9s ` : '**Truc**' n'est pas mis en forme Pour utiliser un caract\u00e8re * simple, il faut l'\u00e9chapper avec un backslash \\, comme pour tous les autres caract\u00e8re sp\u00e9ciaux. Les citations Pour ins\u00e9rer une citation, on utilise le chevron > devant chaque ligne de code : > Voici une citation > sur plusieurs lignes. donnera Voici une citation sur plusieurs lignes. A noter que si on ne saute pas de ligne, MkDocs formate selon la loingueur de la ligne courante : Pour ins\u00e9rer une citation, on utilise le chevron > devant chaque ligne de code : > Voici une citation > sur une seule ligne. donnera Voici une citation sur une seule ligne. Les hyperliens Le fonctionnement des hyperlmens est particulier \u00e0 MkDocs, donc ce qui suit n'est pas toujours valable dans n'importe quel environnement lisant du MarkDown . Le principe de base : [texte de remplacement](adresse du document) Il est possible de r\u00e9f\u00e9rer \u00e0 des documents internes en utilisant leur chemin relatif. Please see the [project license](../about/license.md) for further details. Il est possible de faire une r\u00e9f\u00e9rence \u00e0 une partie sp\u00e9cifique d'un document par l'interm\u00e9diaire d'ID g\u00e9n\u00e9r\u00e9es automatiquement par MkDocs pour chaque header (\u26a0\ufe0f les noms sont en minuscules et les caract\u00e8res sp\u00e9ciaux - y compris les espaces, sont remplac\u00e9 par des tirets. lers tirets doubles sont alors r\u00e9duits \u00e0 un simple tiret). Ainsi le lien [ceci](mkdocs_cmd.md#syntaxe-des-documents-mkdocs) renvoie ici renvoie vers le header de cette partie. Modules de MkDocs-Material Commands mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. Project layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files. Test code 1 2 3 4 5 def bubble_sort ( items ): for i in range ( len ( items )): for j in range ( len ( items ) - 1 - i ): if items [ j ] > items [ j + 1 ]: items [ j ], items [ j + 1 ] = items [ j + 1 ], items [ j ] supprime et insere et Surligne Keys Ctrl => ++ctrl++ Alt => ++alt++ Del => ++delete++ Latex \\[ \\dfrac{3}{4x} \\] The homomorphism \\(f\\) is injective if and only if its kernel is only the singleton set \\(e_G\\) , because otherwise \\(\\exists a,b\\in G\\) with \\(a\\neq b\\) such that \\(f(a)=f(b)\\) . Admonitions (?) Note Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa. def bubble_sort ( items ): for i in range ( len ( items )): for j in range ( len ( items ) - 1 - i ): if items [ j ] > items [ j + 1 ]: items [ j ], items [ j + 1 ] = items [ j + 1 ], items [ j ] Nunc eu odio eleifend, blandit leo a, volutpat sapien. Phasellus posuere in sem ut cursus. Nullam sit amet tincidunt ipsum, sit amet elementum turpis. Etiam ipsum quam, mattis in purus vitae, lacinia fermentum enim. Question Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa. Note On teste l'auto deploiement Quelques points pr\u00e9cis : https://squidfunk.github.io/mkdocs-material/reference/formatting/ Pyodide et autre : https://github.com/backstage/mkdocs-monorepo-plugin https://bouillotvincent.gitlab.io/pyodide-mkdocs/#syntaxe-markdown","title":"MkDocs"},{"location":"Miscellanees/mkdocs_cmd/#syntaxe-des-documents-mkdocs","text":"Pour la documentation compl\u00e8te : mkdocs.org . Documentation sur materials : materials reference La documentation sur le plugin macro : macro plugin","title":"Syntaxe des documents MkDocs"},{"location":"Miscellanees/mkdocs_cmd/#bases-de-la-syntaxe-markdown","text":"Le langage Mardown est en langage de balise simple, utilis\u00e9 entre autres dans les notebooks Jupyter, et pour lequel les r\u00e8gles d'utilisation sont simples : La mise en gras se fait par en encadrant par 2 \u00e9toiles : **Gras** -> Gras . La mise en italique se fait par en encadrant par 1 \u00e9toile : *Italique* -> Italique . Les titres de diff\u00e9rents niveaux sont obtenus en utilisant un certain nombre de di\u00e8se # Les images sont ins\u00e9r\u00e9es par la commande ![Alt text](/path/to/img.jpg \"Optional title\") Un texte sans fortmatage est obtenu en encadrant par des guillemets invvers\u00e9s ` : '**Truc**' n'est pas mis en forme Pour utiliser un caract\u00e8re * simple, il faut l'\u00e9chapper avec un backslash \\, comme pour tous les autres caract\u00e8re sp\u00e9ciaux.","title":"Bases de la syntaxe Markdown"},{"location":"Miscellanees/mkdocs_cmd/#les-citations","text":"Pour ins\u00e9rer une citation, on utilise le chevron > devant chaque ligne de code : > Voici une citation > sur plusieurs lignes. donnera Voici une citation sur plusieurs lignes. A noter que si on ne saute pas de ligne, MkDocs formate selon la loingueur de la ligne courante : Pour ins\u00e9rer une citation, on utilise le chevron > devant chaque ligne de code : > Voici une citation > sur une seule ligne. donnera Voici une citation sur une seule ligne.","title":"Les citations"},{"location":"Miscellanees/mkdocs_cmd/#les-hyperliens","text":"Le fonctionnement des hyperlmens est particulier \u00e0 MkDocs, donc ce qui suit n'est pas toujours valable dans n'importe quel environnement lisant du MarkDown . Le principe de base : [texte de remplacement](adresse du document) Il est possible de r\u00e9f\u00e9rer \u00e0 des documents internes en utilisant leur chemin relatif. Please see the [project license](../about/license.md) for further details. Il est possible de faire une r\u00e9f\u00e9rence \u00e0 une partie sp\u00e9cifique d'un document par l'interm\u00e9diaire d'ID g\u00e9n\u00e9r\u00e9es automatiquement par MkDocs pour chaque header (\u26a0\ufe0f les noms sont en minuscules et les caract\u00e8res sp\u00e9ciaux - y compris les espaces, sont remplac\u00e9 par des tirets. lers tirets doubles sont alors r\u00e9duits \u00e0 un simple tiret). Ainsi le lien [ceci](mkdocs_cmd.md#syntaxe-des-documents-mkdocs) renvoie ici renvoie vers le header de cette partie.","title":"Les hyperliens"},{"location":"Miscellanees/mkdocs_cmd/#modules-de-mkdocs-material","text":"","title":"Modules de MkDocs-Material"},{"location":"Miscellanees/mkdocs_cmd/#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit.","title":"Commands"},{"location":"Miscellanees/mkdocs_cmd/#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"Miscellanees/mkdocs_cmd/#test-code","text":"1 2 3 4 5 def bubble_sort ( items ): for i in range ( len ( items )): for j in range ( len ( items ) - 1 - i ): if items [ j ] > items [ j + 1 ]: items [ j ], items [ j + 1 ] = items [ j + 1 ], items [ j ] supprime et insere et Surligne","title":"Test code"},{"location":"Miscellanees/mkdocs_cmd/#keys","text":"Ctrl => ++ctrl++ Alt => ++alt++ Del => ++delete++","title":"Keys"},{"location":"Miscellanees/mkdocs_cmd/#latex","text":"\\[ \\dfrac{3}{4x} \\] The homomorphism \\(f\\) is injective if and only if its kernel is only the singleton set \\(e_G\\) , because otherwise \\(\\exists a,b\\in G\\) with \\(a\\neq b\\) such that \\(f(a)=f(b)\\) .","title":"Latex"},{"location":"Miscellanees/mkdocs_cmd/#admonitions","text":"Note Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa. def bubble_sort ( items ): for i in range ( len ( items )): for j in range ( len ( items ) - 1 - i ): if items [ j ] > items [ j + 1 ]: items [ j ], items [ j + 1 ] = items [ j + 1 ], items [ j ] Nunc eu odio eleifend, blandit leo a, volutpat sapien. Phasellus posuere in sem ut cursus. Nullam sit amet tincidunt ipsum, sit amet elementum turpis. Etiam ipsum quam, mattis in purus vitae, lacinia fermentum enim. Question Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa. Note On teste l'auto deploiement","title":"Admonitions (?)"},{"location":"Miscellanees/mkdocs_cmd/#quelques-points-precis","text":"https://squidfunk.github.io/mkdocs-material/reference/formatting/","title":"Quelques points pr\u00e9cis :"},{"location":"Miscellanees/mkdocs_cmd/#pyodide-et-autre","text":"https://github.com/backstage/mkdocs-monorepo-plugin https://bouillotvincent.gitlab.io/pyodide-mkdocs/#syntaxe-markdown","title":"Pyodide et autre :"},{"location":"Miscellanees/p5_Thonny/","text":"Utiliser P5 avec Thonny La configuration de Thonny au Lyc\u00e9e ne premet pas d'utiliser le module p5 correctement. La m\u00e9thode suivante permet cependant d'utiliser une version de python suffisante : Installer une version r\u00e9cente de Python 64 bits Le module p5 ne fonctionne pas en 32 bits, il faut donc installer une version de python en 64 bits. Heureusement, il est toutefois possible de faire une installation locale de python : T\u00e9l\u00e9chargez la derni\u00e8re version de Python en 64 bits ici Ex\u00e9cutez le fichier, puis d\u00e9cochez Install laucher for all users S\u00e9lectionnez Customize installation Puis Next Changez le lieu d'installation en cr\u00e9ant un dossier Python310 (si la version est 3.10) dans votre dossier Documents . Lancez l'installation... Et patientez ! Cr\u00e9er un environnement virtuel Python Afin de garder une installation propre de Python, il est toujours pr\u00e9f\u00e9rable de travailler avec un environnement virtuel . Pour ce faire, il faut suivre la m\u00e9thode suivante : Cr\u00e9er un dossier Thonny310 dans votre dossier Document (soit \u00e0 c\u00f4t\u00e9 de votre dossier Python310 ). Lancez l'invite de commande windows CMD , et d\u00e9placez vous dans votre dossier Document . Lancez la commande suivante, permettant de cr\u00e9er un {== environnement virtuel } correspondant \u00e0 la version de Python que vous avez install\u00e9e dans la partie pr\u00e9c\u00e9dente : Python310 \\p ython.exe -m venv Thonny310 Au retour du prompt , l'environnement virtuel est cr\u00e9e. Activer le venv dans Thonny et installer p5 L'environnement virtuel \u00e9tant cr\u00e9\u00e9, on peut d\u00e9sormais configurer Thonny pour l'utiliser : Ouvrez Thonny . Dans la console, on voit la version de Python actuellement ex\u00e9cut\u00e9e par Thonny Ouvrez le menu Tools > Options Dans l'onglet Interpreter , dans le menu d\u00e9roulant, s\u00e9lectionnez Alternative Python 3 Interpreter or virtual environnement . S\u00e9lectionnez Locate another python.exe . D\u00e9placez vous alors dand le dossier Scripts de l'environnement virtuel que vous avez cr\u00e9\u00e9 dans la partie pr\u00e9c\u00e9dente, et s\u00e9lectionnez l'ex\u00e9cutable python.exe qui s'y trouve. V\u00e9rifiez que le chemin s\u00e9lectionn\u00e9 est correct, puis validez en appuyany sur le bouton Ok Au bout de quelques secondes, vous devriez voir dans la console le changement d'interpr\u00e9teur. Vous pouvez maintenant installer le module p5 par la mani\u00e8re habituelle ( Tools > Manage Packages ). Patience, l'installation est tr\u00e8s longue !","title":"P5 et Thonny"},{"location":"Miscellanees/p5_Thonny/#utiliser-p5-avec-thonny","text":"La configuration de Thonny au Lyc\u00e9e ne premet pas d'utiliser le module p5 correctement. La m\u00e9thode suivante permet cependant d'utiliser une version de python suffisante :","title":"Utiliser P5 avec Thonny"},{"location":"Miscellanees/p5_Thonny/#installer-une-version-recente-de-python-64-bits","text":"Le module p5 ne fonctionne pas en 32 bits, il faut donc installer une version de python en 64 bits. Heureusement, il est toutefois possible de faire une installation locale de python : T\u00e9l\u00e9chargez la derni\u00e8re version de Python en 64 bits ici Ex\u00e9cutez le fichier, puis d\u00e9cochez Install laucher for all users S\u00e9lectionnez Customize installation Puis Next Changez le lieu d'installation en cr\u00e9ant un dossier Python310 (si la version est 3.10) dans votre dossier Documents . Lancez l'installation... Et patientez !","title":"Installer une version r\u00e9cente de Python 64 bits"},{"location":"Miscellanees/p5_Thonny/#creer-un-environnement-virtuel-python","text":"Afin de garder une installation propre de Python, il est toujours pr\u00e9f\u00e9rable de travailler avec un environnement virtuel . Pour ce faire, il faut suivre la m\u00e9thode suivante : Cr\u00e9er un dossier Thonny310 dans votre dossier Document (soit \u00e0 c\u00f4t\u00e9 de votre dossier Python310 ). Lancez l'invite de commande windows CMD , et d\u00e9placez vous dans votre dossier Document . Lancez la commande suivante, permettant de cr\u00e9er un {== environnement virtuel } correspondant \u00e0 la version de Python que vous avez install\u00e9e dans la partie pr\u00e9c\u00e9dente : Python310 \\p ython.exe -m venv Thonny310 Au retour du prompt , l'environnement virtuel est cr\u00e9e.","title":"Cr\u00e9er un environnement virtuel Python"},{"location":"Miscellanees/p5_Thonny/#activer-le-venv-dans-thonny-et-installer-p5","text":"L'environnement virtuel \u00e9tant cr\u00e9\u00e9, on peut d\u00e9sormais configurer Thonny pour l'utiliser : Ouvrez Thonny . Dans la console, on voit la version de Python actuellement ex\u00e9cut\u00e9e par Thonny Ouvrez le menu Tools > Options Dans l'onglet Interpreter , dans le menu d\u00e9roulant, s\u00e9lectionnez Alternative Python 3 Interpreter or virtual environnement . S\u00e9lectionnez Locate another python.exe . D\u00e9placez vous alors dand le dossier Scripts de l'environnement virtuel que vous avez cr\u00e9\u00e9 dans la partie pr\u00e9c\u00e9dente, et s\u00e9lectionnez l'ex\u00e9cutable python.exe qui s'y trouve. V\u00e9rifiez que le chemin s\u00e9lectionn\u00e9 est correct, puis validez en appuyany sur le bouton Ok Au bout de quelques secondes, vous devriez voir dans la console le changement d'interpr\u00e9teur. Vous pouvez maintenant installer le module p5 par la mani\u00e8re habituelle ( Tools > Manage Packages ). Patience, l'installation est tr\u00e8s longue !","title":"Activer le venv dans Thonny et installer p5"},{"location":"Miscellanees/regex/","text":"Quelques REGEX Regex et Latex \\\\textit{(.*?)} : trouve toute cha\u00eene de caract\u00e8re correspondant \u00e0 \\textit{...} et peut \u00eatre remplac\u00e9e par exemple par ?\\1\\? , ce qui donnera : \\textit{bidule} ---> ?bidule? \\\\includegraphics[(.*?)]{(.*?)} devrait permettre de faire [\\2](\\2)){: style=\"width:80%; margin:auto;display:block;background-color: #d2dce0;\"} , mais \u00e7a ne fonctionne pas.","title":"REGEX"},{"location":"Miscellanees/regex/#quelques-regex","text":"","title":"Quelques REGEX"},{"location":"Miscellanees/regex/#regex-et-latex","text":"\\\\textit{(.*?)} : trouve toute cha\u00eene de caract\u00e8re correspondant \u00e0 \\textit{...} et peut \u00eatre remplac\u00e9e par exemple par ?\\1\\? , ce qui donnera : \\textit{bidule} ---> ?bidule? \\\\includegraphics[(.*?)]{(.*?)} devrait permettre de faire [\\2](\\2)){: style=\"width:80%; margin:auto;display:block;background-color: #d2dce0;\"} , mais \u00e7a ne fonctionne pas.","title":"Regex et Latex"},{"location":"Miscellanees/utilisationP5/","text":"Petits introduction \u00e0 l'utilisation du module P5 Python Diff\u00e9rents P5 Il existe diff\u00e9rentes impl\u00e9mentations du module P5 pour lesquelles les m\u00e9thodes sont l\u00e9g\u00e8rement diff\u00e9rentes dans leur \u00e9criture. Par exemple, pour cr\u00e9er une zone de dessin de dimension \\(300 \\times 200\\) : dans l'impl\u00e9mentation disponible sur Capytale, il faut utiliser createCanvas(300,200) ; dans l'impl\u00e9mentation import\u00e9e par Python 3.10, il faut utiliser size(300,200) . Dans tous les cas, pour conna\u00eetre la liste exacte des m\u00e9thodes disponibles : import p5 help ( p5 ) Le principe Un premier exemple Un exemple d'utilisation de p5 est donn\u00e9 dans la documentation (en anglais). Je le donne et l'explicite ici : 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 from p5 import * def setup (): size ( 640 , 360 ) no_stroke () background ( 204 ) def draw (): if mouse_is_pressed : fill ( random_uniform ( 255 ), random_uniform ( 127 ), random_uniform ( 51 ), 127 ) else : fill ( 255 , 15 ) circle_size = random_uniform ( low = 10 , high = 80 ) circle (( mouse_x , mouse_y ), circle_size ) def key_pressed ( event ): background ( 204 ) run () Description des fonctions Dans la premi\u00e8re ligne, on importe la totalit\u00e9 du module p5 . Le module p5 utilise obligatoirement deux fonctions : la fonction setup , ex\u00e9cut\u00e9e une seule fois, et permettant de r\u00e9gler un certain nombre de param\u00e8tres graphiques ; la fonction draw , ex\u00e9cut\u00e9e \u00e0 intervalle r\u00e9guliers (par d\u00e9faut tous les 60\u00e8mes de secondes), et qui \u00e0 chaque appel trace sur le pr\u00e9c\u00e9dent canevas Les fonctions setup et draw sont ex\u00e9cut\u00e9es \u00e0 l'appel de la fonction run (ligne 21). Il est possible de changer le param\u00e8tre frame_rate (par d\u00e9faut 60), qui correspond au nombre d'appels de la fonction draw par secondes. La fonction key_pressed est une fonction spcifique traitant les \u00e9v\u00e8nements li\u00e9s au clavier, et est appel\u00e9e d\u00e8s qu'un \u00e9v\u00e8nement (touche press\u00e9e ou rel\u00e2ch\u00e9e) est d\u00e9tect\u00e9. La fonction setup 3 4 5 6 def setup (): size ( 640 , 360 ) no_stroke () background ( 204 ) Cette fonction n'est ex\u00e9cut\u00e9e qu'une seule fois au d\u00e9clenchement du programme. la fonction size(640, 360) fixe la taille de la fen\u00eatre graphique (du canevas, ou du sketch en anglais) \u00e0 une largeur de 640 pixels et une hauteur de 360 pixels. la fonction no_stroke() d\u00e9sactive le trac\u00e9 des bordures de tous les objets suivants. la fonction background fixe la couleur de fond, ici en nuances de gris . Il est possible de passer une couleur RGB ou RGBA , simplement par une commande du type background(120,12,204,255) . La fonction draw 8 9 10 11 12 13 14 15 16 def draw (): if mouse_is_pressed : fill ( random_uniform ( 255 ), random_uniform ( 127 ), random_uniform ( 51 ), 127 ) else : fill ( 255 , 15 ) circle_size = random_uniform ( low = 10 , high = 80 ) circle (( mouse_x , mouse_y ), circle_size ) Cette fonction est ex\u00e9cut\u00e9e 60 fois par seconde par d\u00e9faut. Tous les dessins effectu\u00e9s dans cette fonctions vont \u00eatre trac\u00e9s sur le canevas pr\u00e9c\u00e9dent. Dans cette fonction : ligne 9 : on teste la valeur de la variable bool\u00e9enne mouse_is_pressed , qui vaut True si n'importe quel bouton de la souris est press\u00e9 : dans le cas idoine (ligne 10), la couleur de remplissage des formes fill est fix\u00e9e \u00e0 une valeur al\u00e9atoire, gr\u00e2ce \u00e0 la loi de probabilit\u00e9 uniforme discr\u00e8te . dans le cas contraire (ligne 12, cette couleur de remplissage est fix\u00e9e au blanc. ligne 14 : une valeur al\u00e9atoire comprise entre 10 et 80 est calcul\u00e9e avec la loi de probabilit\u00e9 uniforme discr\u00e8te , et affect\u00e9e \u00e0 la variable circle_size . ligne 16 : un cercle est trac\u00e9 gr\u00e2ce \u00e0 la fonction circle , prenant en argument un objet de type tuple repr\u00e9sentant les coordonn\u00e9es du centre, obtenues gr\u00e2ce aux variables mouse_x et mouse_y , et un objet int repr\u00e9sentant le rayon du cercle. La fonction key_pressed 18 19 def key_pressed ( event ): background ( 204 ) Cette fonction est une fonction d\u00e9j\u00e0 d\u00e9finie dans le module P5 , et qui est ici re-d\u00e9finie . Elle prend en argument un \u00e9v\u00e8nement clavier, et dans ce cas red\u00e9fini la couleur de fond - ce qui a pour effet d'effacer les trac\u00e9s ant\u00e9rieurs. Quelques Fonctions et m\u00e9thodes utiles Formes basiques line(x1, y1, x2, y2) ou line((x1, y1), (x2, y2)) : trace une ligne entre les points de coordonn\u00e9es \\((x1;y1)\\) et \\((x2;y2)\\) . rect(x, y, width, height) ou rect((x, y), width, height) : trace un rectangle en partant du coin sup\u00e9rieur gauche de coordonn\u00e9es \\((x;y)\\) , et de dimension width (largeur) et height (hauteur). Il est aussi possible de modifier le comportement de la fonction rect en utilisant la fonction rect_mode : rect_mode(CENTER) suivi de rect(x, y, width, height) tracera un rectangle de centre \\((x;y)\\) et de largeur et de hauteur donn\u00e9e. rect_mode(CORNERS) suivi de rect(x1, y1, x2, y2) tracera un rectangle de cooin sup\u00e9rieur gauche de coordonn\u00e9es \\((x1;y1)\\) et de coin inf\u00e9rieur droit de coordonn\u00e9es \\((x2;y2)\\) . ellipse(x,y, width, height) ou ellipse((x,y), width, height) : fonctionne de la m\u00eame mani\u00e8re que la fonction rect , en tra\u00e7ant une ellipse de centre \\((x;y)\\) \u00e0 l'int\u00e9rieur du rectangle de centre \\((x,y)\\) et de largeur width et de hauteur height . Par d\u00e9faut le mode de l'ellipse est CENTER , mais il est possible de le changer gr\u00e2ce \u00e0 ellipse_mode(CORNERS) . triangle(x1, y1, x2, y2, x3, y3) ou triangle((x1, y1), (x2, y2), (x3, y3)) : trace un triangle entre les points de coordonn\u00e9es \\((x1;y1)\\) , \\((x2;y2)\\) et \\((x3;y3)\\) . circle(x, y, r) ou circle((x, y) ,r) : trace un cercle de centre \\((x;y)\\) et de rayon \\(r\\) . Ev\u00e8nements La gestion des \u00e9v\u00e8nements clavier et souris peut-\u00eatre finement configur\u00e9e dans P5 , mais je laisse le soin \u00e0 ceux int\u00e9ress\u00e9s de voir la documentation correspondante . Nous ne donnerons ici qu'une description sommaire des \u00e9v\u00e9\u00e8nements Ev\u00e8nements souris Le module P5 donne l'acc\u00e8s \u00e0 un certain nombre de variables permettant d'obtenir l'\u00e9tat de la souris : mouse_x et mouse_y : coordonn\u00e9es du pointeur de la souris, de type float , valable dans l' appel actuel de la fonction draw() . pmouse_x et pmouse_y : coordonn\u00e9es du pointeur de la souris, de type float , valable dans l' appel pr\u00e9c\u00e9dent de la fonction draw() mouse_is_pressed : bool\u00e9en valant True si un quelconque bouton de la souris est press\u00e9. mouse_button : objet global pouvant valoir : None si aucun bouton n'est press\u00e9 ; \"LEFT\" si le bouton gauche est press\u00e9 ; \"CENTER\" si le bouton central est press\u00e9 ; \"RIGHT\" si le bouton droit est press\u00e9. mouse_is_dragging : bool\u00e9en valant True si la souris est en glissement (c'est-\u00e0-dire le bouton gauche maintenu et la souris en mouvement). Il est aussi possible de d\u00e9finir un certain nombre de fonctions : mouse_moved() : permet de d\u00e9finir les actions \u00e0 faire quand la souris est en mouvement ; mouse_pressed() : permet de d\u00e9finir les actions \u00e0 faire quand un bouton est press\u00e9 ; mouse_released() : permet de d\u00e9finir les actions \u00e0 faire quand un bouton est rel\u00e2ch\u00e9 ; mouse_clicked() : permet de d\u00e9finir les actions \u00e0 faire quand un bouton est cliqu\u00e9, c'est-\u00e0-dire imm\u00e9diatement rel\u00e2ch\u00e9 apr\u00e8s avoir \u00e9t\u00e9 press\u00e9 ; mouse_draged() : permet de d\u00e9finir les actions \u00e0 faire quand la souris est en glissement ; mouse_wheel() : permet de d\u00e9finir les actions \u00e0 faire quand la molette de la souris est activ\u00e9e. Ev\u00e8nements clavier Les deux principales variables sont : key_is_pressed : bool\u00e9en valant True si une touche quelconque est press\u00e9e ; key : variable globale traquant les touches appuy\u00e9es. Elle vaut None si aucune touche n'est press\u00e9e, sinon elle peut \u00eatre compar\u00e9e \u00e0 des cha\u00eenes de caract\u00e8res en majuscule comme \"A\" , \"T\" , \"2\" , \"ESC\" , \"SPACE\" , \"ENTER\" , etc... On peut aussi utiliser les trois fonctions suivantes : key_pressed() : permet de d\u00e9finir les actions \u00e0 faire quand une touche est press\u00e9e ; key_released() : permet de d\u00e9finir les actions \u00e0 faire quand une touche est rel\u00e2ch\u00e9e ; key_typed() : permet de d\u00e9finir les actions \u00e0 faire quand une touche est press\u00e9e puis imm\u00e9diatement relach\u00e9e. Gestion des images Voir la documentation","title":"Bases de P5 "},{"location":"Miscellanees/utilisationP5/#petits-introduction-a-lutilisation-du-module-p5-python","text":"Diff\u00e9rents P5 Il existe diff\u00e9rentes impl\u00e9mentations du module P5 pour lesquelles les m\u00e9thodes sont l\u00e9g\u00e8rement diff\u00e9rentes dans leur \u00e9criture. Par exemple, pour cr\u00e9er une zone de dessin de dimension \\(300 \\times 200\\) : dans l'impl\u00e9mentation disponible sur Capytale, il faut utiliser createCanvas(300,200) ; dans l'impl\u00e9mentation import\u00e9e par Python 3.10, il faut utiliser size(300,200) . Dans tous les cas, pour conna\u00eetre la liste exacte des m\u00e9thodes disponibles : import p5 help ( p5 )","title":"Petits introduction \u00e0 l'utilisation du module P5 Python"},{"location":"Miscellanees/utilisationP5/#le-principe","text":"","title":"Le principe"},{"location":"Miscellanees/utilisationP5/#un-premier-exemple","text":"Un exemple d'utilisation de p5 est donn\u00e9 dans la documentation (en anglais). Je le donne et l'explicite ici : 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 from p5 import * def setup (): size ( 640 , 360 ) no_stroke () background ( 204 ) def draw (): if mouse_is_pressed : fill ( random_uniform ( 255 ), random_uniform ( 127 ), random_uniform ( 51 ), 127 ) else : fill ( 255 , 15 ) circle_size = random_uniform ( low = 10 , high = 80 ) circle (( mouse_x , mouse_y ), circle_size ) def key_pressed ( event ): background ( 204 ) run ()","title":"Un premier exemple"},{"location":"Miscellanees/utilisationP5/#description-des-fonctions","text":"Dans la premi\u00e8re ligne, on importe la totalit\u00e9 du module p5 . Le module p5 utilise obligatoirement deux fonctions : la fonction setup , ex\u00e9cut\u00e9e une seule fois, et permettant de r\u00e9gler un certain nombre de param\u00e8tres graphiques ; la fonction draw , ex\u00e9cut\u00e9e \u00e0 intervalle r\u00e9guliers (par d\u00e9faut tous les 60\u00e8mes de secondes), et qui \u00e0 chaque appel trace sur le pr\u00e9c\u00e9dent canevas Les fonctions setup et draw sont ex\u00e9cut\u00e9es \u00e0 l'appel de la fonction run (ligne 21). Il est possible de changer le param\u00e8tre frame_rate (par d\u00e9faut 60), qui correspond au nombre d'appels de la fonction draw par secondes. La fonction key_pressed est une fonction spcifique traitant les \u00e9v\u00e8nements li\u00e9s au clavier, et est appel\u00e9e d\u00e8s qu'un \u00e9v\u00e8nement (touche press\u00e9e ou rel\u00e2ch\u00e9e) est d\u00e9tect\u00e9.","title":"Description des fonctions"},{"location":"Miscellanees/utilisationP5/#la-fonction-setup","text":"3 4 5 6 def setup (): size ( 640 , 360 ) no_stroke () background ( 204 ) Cette fonction n'est ex\u00e9cut\u00e9e qu'une seule fois au d\u00e9clenchement du programme. la fonction size(640, 360) fixe la taille de la fen\u00eatre graphique (du canevas, ou du sketch en anglais) \u00e0 une largeur de 640 pixels et une hauteur de 360 pixels. la fonction no_stroke() d\u00e9sactive le trac\u00e9 des bordures de tous les objets suivants. la fonction background fixe la couleur de fond, ici en nuances de gris . Il est possible de passer une couleur RGB ou RGBA , simplement par une commande du type background(120,12,204,255) .","title":"La fonction setup"},{"location":"Miscellanees/utilisationP5/#la-fonction-draw","text":"8 9 10 11 12 13 14 15 16 def draw (): if mouse_is_pressed : fill ( random_uniform ( 255 ), random_uniform ( 127 ), random_uniform ( 51 ), 127 ) else : fill ( 255 , 15 ) circle_size = random_uniform ( low = 10 , high = 80 ) circle (( mouse_x , mouse_y ), circle_size ) Cette fonction est ex\u00e9cut\u00e9e 60 fois par seconde par d\u00e9faut. Tous les dessins effectu\u00e9s dans cette fonctions vont \u00eatre trac\u00e9s sur le canevas pr\u00e9c\u00e9dent. Dans cette fonction : ligne 9 : on teste la valeur de la variable bool\u00e9enne mouse_is_pressed , qui vaut True si n'importe quel bouton de la souris est press\u00e9 : dans le cas idoine (ligne 10), la couleur de remplissage des formes fill est fix\u00e9e \u00e0 une valeur al\u00e9atoire, gr\u00e2ce \u00e0 la loi de probabilit\u00e9 uniforme discr\u00e8te . dans le cas contraire (ligne 12, cette couleur de remplissage est fix\u00e9e au blanc. ligne 14 : une valeur al\u00e9atoire comprise entre 10 et 80 est calcul\u00e9e avec la loi de probabilit\u00e9 uniforme discr\u00e8te , et affect\u00e9e \u00e0 la variable circle_size . ligne 16 : un cercle est trac\u00e9 gr\u00e2ce \u00e0 la fonction circle , prenant en argument un objet de type tuple repr\u00e9sentant les coordonn\u00e9es du centre, obtenues gr\u00e2ce aux variables mouse_x et mouse_y , et un objet int repr\u00e9sentant le rayon du cercle.","title":"La fonction draw"},{"location":"Miscellanees/utilisationP5/#la-fonction-key_pressed","text":"18 19 def key_pressed ( event ): background ( 204 ) Cette fonction est une fonction d\u00e9j\u00e0 d\u00e9finie dans le module P5 , et qui est ici re-d\u00e9finie . Elle prend en argument un \u00e9v\u00e8nement clavier, et dans ce cas red\u00e9fini la couleur de fond - ce qui a pour effet d'effacer les trac\u00e9s ant\u00e9rieurs.","title":"La fonction key_pressed"},{"location":"Miscellanees/utilisationP5/#quelques-fonctions-et-methodes-utiles","text":"","title":"Quelques Fonctions et m\u00e9thodes utiles"},{"location":"Miscellanees/utilisationP5/#formes-basiques","text":"line(x1, y1, x2, y2) ou line((x1, y1), (x2, y2)) : trace une ligne entre les points de coordonn\u00e9es \\((x1;y1)\\) et \\((x2;y2)\\) . rect(x, y, width, height) ou rect((x, y), width, height) : trace un rectangle en partant du coin sup\u00e9rieur gauche de coordonn\u00e9es \\((x;y)\\) , et de dimension width (largeur) et height (hauteur). Il est aussi possible de modifier le comportement de la fonction rect en utilisant la fonction rect_mode : rect_mode(CENTER) suivi de rect(x, y, width, height) tracera un rectangle de centre \\((x;y)\\) et de largeur et de hauteur donn\u00e9e. rect_mode(CORNERS) suivi de rect(x1, y1, x2, y2) tracera un rectangle de cooin sup\u00e9rieur gauche de coordonn\u00e9es \\((x1;y1)\\) et de coin inf\u00e9rieur droit de coordonn\u00e9es \\((x2;y2)\\) . ellipse(x,y, width, height) ou ellipse((x,y), width, height) : fonctionne de la m\u00eame mani\u00e8re que la fonction rect , en tra\u00e7ant une ellipse de centre \\((x;y)\\) \u00e0 l'int\u00e9rieur du rectangle de centre \\((x,y)\\) et de largeur width et de hauteur height . Par d\u00e9faut le mode de l'ellipse est CENTER , mais il est possible de le changer gr\u00e2ce \u00e0 ellipse_mode(CORNERS) . triangle(x1, y1, x2, y2, x3, y3) ou triangle((x1, y1), (x2, y2), (x3, y3)) : trace un triangle entre les points de coordonn\u00e9es \\((x1;y1)\\) , \\((x2;y2)\\) et \\((x3;y3)\\) . circle(x, y, r) ou circle((x, y) ,r) : trace un cercle de centre \\((x;y)\\) et de rayon \\(r\\) .","title":"Formes basiques"},{"location":"Miscellanees/utilisationP5/#evenements","text":"La gestion des \u00e9v\u00e8nements clavier et souris peut-\u00eatre finement configur\u00e9e dans P5 , mais je laisse le soin \u00e0 ceux int\u00e9ress\u00e9s de voir la documentation correspondante . Nous ne donnerons ici qu'une description sommaire des \u00e9v\u00e9\u00e8nements","title":"Ev\u00e8nements"},{"location":"Miscellanees/utilisationP5/#evenements-souris","text":"Le module P5 donne l'acc\u00e8s \u00e0 un certain nombre de variables permettant d'obtenir l'\u00e9tat de la souris : mouse_x et mouse_y : coordonn\u00e9es du pointeur de la souris, de type float , valable dans l' appel actuel de la fonction draw() . pmouse_x et pmouse_y : coordonn\u00e9es du pointeur de la souris, de type float , valable dans l' appel pr\u00e9c\u00e9dent de la fonction draw() mouse_is_pressed : bool\u00e9en valant True si un quelconque bouton de la souris est press\u00e9. mouse_button : objet global pouvant valoir : None si aucun bouton n'est press\u00e9 ; \"LEFT\" si le bouton gauche est press\u00e9 ; \"CENTER\" si le bouton central est press\u00e9 ; \"RIGHT\" si le bouton droit est press\u00e9. mouse_is_dragging : bool\u00e9en valant True si la souris est en glissement (c'est-\u00e0-dire le bouton gauche maintenu et la souris en mouvement). Il est aussi possible de d\u00e9finir un certain nombre de fonctions : mouse_moved() : permet de d\u00e9finir les actions \u00e0 faire quand la souris est en mouvement ; mouse_pressed() : permet de d\u00e9finir les actions \u00e0 faire quand un bouton est press\u00e9 ; mouse_released() : permet de d\u00e9finir les actions \u00e0 faire quand un bouton est rel\u00e2ch\u00e9 ; mouse_clicked() : permet de d\u00e9finir les actions \u00e0 faire quand un bouton est cliqu\u00e9, c'est-\u00e0-dire imm\u00e9diatement rel\u00e2ch\u00e9 apr\u00e8s avoir \u00e9t\u00e9 press\u00e9 ; mouse_draged() : permet de d\u00e9finir les actions \u00e0 faire quand la souris est en glissement ; mouse_wheel() : permet de d\u00e9finir les actions \u00e0 faire quand la molette de la souris est activ\u00e9e.","title":"Ev\u00e8nements souris"},{"location":"Miscellanees/utilisationP5/#evenements-clavier","text":"Les deux principales variables sont : key_is_pressed : bool\u00e9en valant True si une touche quelconque est press\u00e9e ; key : variable globale traquant les touches appuy\u00e9es. Elle vaut None si aucune touche n'est press\u00e9e, sinon elle peut \u00eatre compar\u00e9e \u00e0 des cha\u00eenes de caract\u00e8res en majuscule comme \"A\" , \"T\" , \"2\" , \"ESC\" , \"SPACE\" , \"ENTER\" , etc... On peut aussi utiliser les trois fonctions suivantes : key_pressed() : permet de d\u00e9finir les actions \u00e0 faire quand une touche est press\u00e9e ; key_released() : permet de d\u00e9finir les actions \u00e0 faire quand une touche est rel\u00e2ch\u00e9e ; key_typed() : permet de d\u00e9finir les actions \u00e0 faire quand une touche est press\u00e9e puis imm\u00e9diatement relach\u00e9e.","title":"Ev\u00e8nements clavier"},{"location":"Miscellanees/utilisationP5/#gestion-des-images","text":"Voir la documentation","title":"Gestion des images"},{"location":"Miscellanees/Bases_Python/Fichiers_Textes/","text":"Manipulation des fichiers textes en Python 1. Principes de lecture de fichier textes 1.1 Premier exemple : ouvrir et lire la totalit\u00e9 d'un fichier Copiez-collez le fichier zoo.txt dans le m\u00eame dossier que ce notebook, puis d\u00e9clenchez les deux cellules suivantes : file = open ( \"zoo.txt\" , \"r\" , encoding = \"utf8\" ) file La premi\u00e8re cellule ouvre le fichier zoo.txt en mode lecture seule, comme l'indique le second argument r (pour read ) de la fonction open() . Remarquez que le fichier n'est pas encore lu, mais simplement ouvert (un peu comme lorsqu'on ouvre un livre, mais qu'on ne l'a pas encore lu). Le curseur de lecture est pr\u00eat \u00e0 lire le premier caract\u00e8re du fichier, et lira les caract\u00e8res avec l' encodage utf8 . L'instruction open(\"zoo.txt\", \"r\",encoding=\"utf8\") suppose que le fichier zoo.txt est dans le r\u00e9pertoire depuis lequel l'interpr\u00e9teur Python a \u00e9t\u00e9 lanc\u00e9. Si ce n'est pas le cas, il faut pr\u00e9ciser le chemin d'acc\u00e8s au fichier, soit de mani\u00e8re absolue soit de mani\u00e8re relative. La seconde cellule nous confirme que la variable file contient la r\u00e9f\u00e9rence vers la zone de la m\u00e9moire vive dans laquelle est stock\u00e9e le fichier. lignes = file . readlines () lignes On lit ici la totalit\u00e9 du fichier gr\u00e2ce \u00e0 la m\u00e9thode .readlines() . Cette m\u00e9thode renvoie un tableau stock\u00e9 dans la varaible lignes o\u00f9 chaque \u00e9l\u00e9ment est une ligne du fichier texte. Le curseur de lecture est d\u00e9plac\u00e9 \u00e0 la fin de la derni\u00e8re ligne du fichier. file . readlines () Si on tente de relire une fois de plus les donn\u00e9es, la m\u00e9thode .readlines() renvoie une liste vide, car le curseur de lecture ne trouve plus rien. file . close () La ligne pr\u00e9c\u00e9dente ferme le fichier, plus pr\u00e9cis\u00e9ment elle ne renvoie rien mais modifie l'\u00e9tat de l'objet file en fichier ferm\u00e9. file . readlines () Il est donc impossible de lire de nouveau des informations. Exercice : 1) Quel est le type des \u00e9l\u00e9ments du tableau renvoy\u00e9 par la m\u00e9thode .readlines() ? 2) Ajouter \u00e0 l'aide de Notepad++ les animaux perroquets et ornithorynque \u00e0 la suite de zoo.txt , puis relancer l'ouverture, la lecture et la fermeture du fichier. 3) Lors de la lecture du fichier, apparaissent les caract\u00e8res \\n . A quoi correspondent-ils ? 1.2 Lire un fichier ligne par ligne Il ne vous a pas \u00e9chapp\u00e9 que l'objet renvoy\u00e9 par la m\u00e9thode .readlines() renvoie une liste. Il est donc possible d' it\u00e9rer sur cette liste, en utilisant une boucle for : file = open ( \"zoo.txt\" , \"r\" , encoding = \"utf8\" ) lines = file . readlines () for n , line in enumerate ( lines ) : print ( f \"Ligne { n } : { line } \" ) file . close () 1.3 Simplification d'\u00e9criture avec le gestionnaire de contexte with Il est n\u00e9cessaire de faire une remarque importante : Il est imp\u00e9ratif de fermer un fichier d\u00e8s qu'on en a fini avec lui ! En effet, si le fichier reste ouvert en m\u00e9moire vive, il est possible qu'un appel du syst\u00e8me d'exploitation modifie la zone m\u00e9moire li\u00e9e \u00e0 ce fichier, ce qui risque de ne pas enregistrer les changements(au mieux), voire de le rendre illisible (au pire - c'est ce qui arrivait souvent sur les cl\u00e9s USB quand elles \u00e9taient mal \u00e9ject\u00e9es). Pire que \u00e7a, si une exception (= erreur) se produit avant l'appel \u00e0 la m\u00e9thode .close() , le fichier demeurera ouvert en m\u00e9moire et... advienne que pourra... Il est bien entendu possible de pr\u00e9voir un tel probl\u00e8me avec un bloc try : ... finally : ... , de la mani\u00e8re suivante : try : file = open ( \"zoo.txt\" , \"r\" , encoding = \"utf8\" ) print ( file . readlines ()) finally : file . close () Cependant ce type de structure est tr\u00e8s lourd \u00e0 mettre en place, et heureusement les d\u00e9veloppeurs de Python ont pr\u00e9vu un m\u00e9canisme plus simple : le gestionnaire de contexte with . with open ( \"zoo.txt\" , \"r\" , encoding = \"utf8\" ) as file : print ( file . readlines ()) L'utilisation de with garanti la bonne fermeture du fichier, m\u00eame dans le cas d'exceptions. 1.4 Autres m\u00e9thodes de lecture En plus de la m\u00e9thode .readlines() , il existe aussi d'autres possibilit\u00e9s pour lire un fichier texte : - la m\u00e9thode .read : with open ( \"zoo.txt\" , \"r\" , encoding = \"utf8\" ) as file : contenu = file . read () contenu Cette m\u00e9thode lit l'int\u00e9gralit\u00e9 d'un fichier comme une unique chaine de caract\u00e8res. la m\u00e9thode .readline() with open ( \"zoo.txt\" , \"r\" , encoding = \"utf8\" ) as file : contenu = file . readline () contenu Cette m\u00e9thode lit le fichier ligne par ligne, en d\u00e9placant le curseur de lecture d'une ligne \u00e0 chaque appel. 2. Ecriture dans un fichier texte ### 2.1 Cr\u00e9ation d'un fichier texte La m\u00e9thode d'\u00e9criture dans un fichier texte est sensiblement la m\u00eame que pour la lecture : with open ( \"monPremierFichierTexte.txt\" , \"w\" , encoding = \"utf8\" ) as f : f . write ( \"J'\u00e9cris dans un fichier texte. \\n \" ) f . write ( \"J'\u00e9cris une deuxi\u00e8me ligne dans un fichier texte.\" ) f . write ( \"J'\u00e9cris la suite de la deuxi\u00e8me ligne.\" ) Ici, le gestionnaire de contexte with ouvre le fichier en \u00e9criture seule, ce qui est signal\u00e9 par le deuxi\u00e8me param\u00e8tre w ( comme write ). Le fichier n'existant pas au d\u00e9part, il est automatiquement cr\u00e9\u00e9 par Python. Le curseur d'\u00e9criture est plac\u00e9 au d\u00e9but du fichier.Puis l'appel de la m\u00e9thode .write() \u00e9crit la chaine de caract\u00e8re pass\u00e9e en argument dans le fichier, et place le curseur d'\u00e9criture \u00e0 la fin de la derni\u00e8re chaine de caract\u00e8re \u00e9crite. Notez qu'il n'y a pas de saut de ligne dans le fichier entre les chaines 2 et 3, pusisqu'on n'a pas explicitement demand\u00e9 un saut \u00e0 l'aide du caract\u00e8re sp\u00e9cial \\n . with open ( \"monPremierFichierTexte.txt\" , \"w\" , encoding = \"utf8\" ) as f : f . write ( \"Je r\u00e9\u00e9cris dans un fichier\" ) Apr\u00e8s ex\u00e9cution de la cellule ci-dessus, on constate l'effacement des donn\u00e9es pr\u00e9c\u00e9dentes du fichier. En effet, si le fichier existe d\u00e9j\u00e0, l'ouvertur avec le param\u00e8tre w va \u00e9craser l'ancien contenu, le curseur d'\u00e9criture \u00e9tant plac\u00e9 au d\u00e9but du fichier. 2.2 Ajouter des chaines \u00e0 un fichier pr\u00e9existant Pour ajouter des chaines de caract\u00e8res \u00e0 un fichier pr\u00e9existant, il faut utiliser la fonction open() de la mlani\u00e8re suivante : with open ( \"monPremierFichierTexte.txt\" , \"a\" , encoding = \"utf8\" ) as f : f . write ( \" \\n \" ) f . write ( \"Maintenant, j'ajoute \u00e0 mon fichier pr\u00e9c\u00e9dent.\" ) 2.3 Ajouter et lire des donn\u00e9es non textuelles Comment faire pour ajouter des donn\u00e9es num\u00e9riques \u00e0 un fichier texte ? with open ( \"monPremierFichierTexte.txt\" , \"a\" , encoding = \"utf8\" ) as f : for i in range ( 100 ): f . write ( i ) On constate que l'erreur donn\u00e9e est TypeError: write() argument must be str, not int . Il est donc impossible d'ajouter directement des donn\u00e9es num\u00e9riques, il faut d'abord les caster en type str : with open ( \"monPremierFichierTexte.txt\" , \"a\" , encoding = \"utf8\" ) as f : for i in range ( 100 ): f . write ( f \" { i } \" ) Il devient alors possible de passer dans un fichier texte le contenu de variables, en utilisant directement les f-string : dico = { \"Vache\" : \"Meuh\" , \"Chien\" : \"Wouf\" , \"Chat\" : \"Miaou\" , \"Poule\" : \"Cot-cot\" , \"Ane\" : \"Hi-Han\" , \"Cochon\" : \"Gruik\" , \"Dindon\" : \"Leon\" } with open ( \"sauvDico.txt\" , \"w\" , encoding = \"utf8\" ) as file : file . write ( f \" { dico } \" ) Pour lire ces donn\u00e9es, il suffit alors de relire l'int\u00e9gralit\u00e9 du fichier et de caster \u00e0 l'aide de la fonction built-in eval() : with open ( \"sauvDico.txt\" , \"r\" , encoding = \"utf8\" ) as file : textdic = file . read () newDico = eval ( textdic ) print ( type ( newDico )) print ( f \"Le chien fait { newDico [ 'Chien' ] } \" ) 3. Exercices 3.1 Exercice 1 Le fichier Notes.txt contient les notes re\u00e7ues par des \u00e9l\u00e8ves \u00e0 un examen de Python. Ecrire une fonction ouvreNote() qui ouvre le fichier, et renvoie la liste des notes sous la forme d'une liste d'entiers. Ecrire une fonction calculeMoyenne() qui calcule la moyenne du groupe d'\u00e9l\u00e8ve Ecrire une fonction admis() qui cr\u00e9e un nouveau fichier listeAdmis.txt , avec en face de chaque note la mention admis si la note est sup\u00e9rieure ou \u00e9gale \u00e0 10, ou la mention recal\u00e9 si la note est strictement inf\u00e9rieure \u00e0 10. 3.2 Exercice 2 Le Zen de Python est un ensemble de 19 principes qui influencent le design du langage de programmation Python, et sont utiles pour comprendre et utiliser le langage. \u00c9crit et publi\u00e9 sur la liste de discussion de Python en juin 1999 par Tim Peters, le Zen de Python a \u00e9t\u00e9 ensuite publi\u00e9 comme le Python Enhancement Proposal (PEP) num\u00e9ro 20 , et est aussi pr\u00e9sent sur le site web officiel de Python, en anglais. Il est aussi inclus comme Easter egg dans la distribution de l'interpr\u00e9teur Python, et apparait quand on tape la commande import this . (extrait de wikipedia) Sa traduction en fran\u00e7ais est donn\u00e9e dans la cellule suivante : zen = [ \"Pr\u00e9f\u00e8re : \\n \" , \"la beaut\u00e9 \u00e0 la laideur, \\n \" , \"l'explicite \u00e0 l'implicite, \\n \" , \"le simple au complexe \\n \" , \"et le complexe au compliqu\u00e9, \\n \" , \"le d\u00e9roul\u00e9 \u00e0 l'imbriqu\u00e9, \\n \" , \"l'a\u00e9r\u00e9 au compact. \\n \" , \"Prends en compte la lisibilit\u00e9. \\n \" , \"Les cas particuliers ne le sont jamais assez pour violer les r\u00e8gles. \\n \" , \"Mais, \u00e0 la puret\u00e9, privil\u00e9gie l'aspect pratique. \\n \" , \"Ne passe pas les erreurs sous silence, \\n \" , \"... ou b\u00e2illonne-les explicitement. \\n \" , \"Face \u00e0 l'ambigu\u00eft\u00e9, \u00e0 deviner ne te laisse pas aller. \\n \" , \"Sache qu'il ne devrait [y] avoir qu'une et une seule fa\u00e7on de proc\u00e9der, \\n \" , \"m\u00eame si, de prime abord, elle n'est pas \u00e9vidente, \u00e0 moins d'\u00eatre N\u00e9erlandais. \\n \" , \"Mieux vaut maintenant que jamais. \\n \" , \"Cependant jamais est souvent mieux qu'imm\u00e9diatement. \\n \" , \"Si l'impl\u00e9mentation s'explique difficilement, c'est une mauvaise id\u00e9e. \\n \" , \"Si l'impl\u00e9mentation s'explique ais\u00e9ment, c'est peut-\u00eatre une bonne id\u00e9e. \\n \" , \"Les espaces de nommage ! Sacr\u00e9e bonne id\u00e9e ! Faisons plus de trucs comme \u00e7a.\" ] Ecrire une fonction ecritZen() qui \u00e9crit le contenu de la variable zen dans le fichier zenPython.txt Ecrire une fonction inverseZen() qui lit le contenu du fichier zenPython.txt , et renvoie une chaine de caract\u00e8re contenant les phrases dans l'ordre inverse . 3.3 Exercice 3 Cr\u00e9er une fonction qui ouvre le fichier codeJedi.txt , et qui remplace le mot Jedi par le mot Sith , les n\u00e9gations ne et pas \u00e9tant ajout\u00e9es aux bonnes positions, sauf pour la ligne 2 o\u00f9 pour d\u00e9fendre et prot\u00e9ger est supprim\u00e9. with open ( \"codeJedi.txt\" , \"r\" , encoding = \"utf8\" ) as f : toto = f . readlines () toto ['Les Jedi sont les gardiens de la paix dans la galaxie.\\n', 'Les Jedi utilisent leurs pouvoirs pour d\u00e9fendre et prot\u00e9ger.\\n', 'Les Jedi respectent la vie, en toutes ses formes.\\n', 'Les Jedi servent autrui plut\u00f4t que les dominer, pour le bien de la galaxie.\\n', \"Les Jedi cherchent \u00e0 s'am\u00e9liorer \u00e0 travers le savoir et l'instruction.\"] for ligne in toto : print ( ligne . split ( \" \" )) ['Les', 'Jedi', 'sont', 'les', 'gardiens', 'de', 'la', 'paix', 'dans', 'la', 'galaxie.\\n'] ['Les', 'Jedi', 'utilisent', 'leurs', 'pouvoirs', 'pour', 'd\u00e9fendre', 'et', 'prot\u00e9ger.\\n'] ['Les', 'Jedi', 'respectent', 'la', 'vie,', 'en', 'toutes', 'ses', 'formes.\\n'] ['Les', 'Jedi', 'servent', 'autrui', 'plut\u00f4t', 'que', 'les', 'dominer,', 'pour', 'le', 'bien', 'de', 'la', 'galaxie.\\n'] ['Les', 'Jedi', 'cherchent', '\u00e0', \"s'am\u00e9liorer\", '\u00e0', 'travers', 'le', 'savoir', 'et', \"l'instruction.\"] toto ['Les Jedi sont les gardiens de la paix dans la galaxie.\\n', 'Les Jedi utilisent leurs pouvoirs pour d\u00e9fendre et prot\u00e9ger.\\n', 'Les Jedi respectent la vie, en toutes ses formes.\\n', 'Les Jedi servent autrui plut\u00f4t que les dominer, pour le bien de la galaxie.\\n', \"Les Jedi cherchent \u00e0 s'am\u00e9liorer \u00e0 travers le savoir et l'instruction.\"]","title":"Manipulation des fichiers textes"},{"location":"Miscellanees/Bases_Python/Fichiers_Textes/#manipulation-des-fichiers-textes-en-python","text":"","title":"Manipulation des fichiers textes en Python"},{"location":"Miscellanees/Bases_Python/Fichiers_Textes/#1-principes-de-lecture-de-fichier-textes","text":"","title":"1. Principes de lecture de fichier textes"},{"location":"Miscellanees/Bases_Python/Fichiers_Textes/#11-premier-exemple-ouvrir-et-lire-la-totalite-dun-fichier","text":"Copiez-collez le fichier zoo.txt dans le m\u00eame dossier que ce notebook, puis d\u00e9clenchez les deux cellules suivantes : file = open ( \"zoo.txt\" , \"r\" , encoding = \"utf8\" ) file La premi\u00e8re cellule ouvre le fichier zoo.txt en mode lecture seule, comme l'indique le second argument r (pour read ) de la fonction open() . Remarquez que le fichier n'est pas encore lu, mais simplement ouvert (un peu comme lorsqu'on ouvre un livre, mais qu'on ne l'a pas encore lu). Le curseur de lecture est pr\u00eat \u00e0 lire le premier caract\u00e8re du fichier, et lira les caract\u00e8res avec l' encodage utf8 . L'instruction open(\"zoo.txt\", \"r\",encoding=\"utf8\") suppose que le fichier zoo.txt est dans le r\u00e9pertoire depuis lequel l'interpr\u00e9teur Python a \u00e9t\u00e9 lanc\u00e9. Si ce n'est pas le cas, il faut pr\u00e9ciser le chemin d'acc\u00e8s au fichier, soit de mani\u00e8re absolue soit de mani\u00e8re relative. La seconde cellule nous confirme que la variable file contient la r\u00e9f\u00e9rence vers la zone de la m\u00e9moire vive dans laquelle est stock\u00e9e le fichier. lignes = file . readlines () lignes On lit ici la totalit\u00e9 du fichier gr\u00e2ce \u00e0 la m\u00e9thode .readlines() . Cette m\u00e9thode renvoie un tableau stock\u00e9 dans la varaible lignes o\u00f9 chaque \u00e9l\u00e9ment est une ligne du fichier texte. Le curseur de lecture est d\u00e9plac\u00e9 \u00e0 la fin de la derni\u00e8re ligne du fichier. file . readlines () Si on tente de relire une fois de plus les donn\u00e9es, la m\u00e9thode .readlines() renvoie une liste vide, car le curseur de lecture ne trouve plus rien. file . close () La ligne pr\u00e9c\u00e9dente ferme le fichier, plus pr\u00e9cis\u00e9ment elle ne renvoie rien mais modifie l'\u00e9tat de l'objet file en fichier ferm\u00e9. file . readlines () Il est donc impossible de lire de nouveau des informations. Exercice : 1) Quel est le type des \u00e9l\u00e9ments du tableau renvoy\u00e9 par la m\u00e9thode .readlines() ? 2) Ajouter \u00e0 l'aide de Notepad++ les animaux perroquets et ornithorynque \u00e0 la suite de zoo.txt , puis relancer l'ouverture, la lecture et la fermeture du fichier. 3) Lors de la lecture du fichier, apparaissent les caract\u00e8res \\n . A quoi correspondent-ils ?","title":"1.1 Premier exemple : ouvrir et lire la totalit\u00e9 d'un fichier"},{"location":"Miscellanees/Bases_Python/Fichiers_Textes/#12-lire-un-fichier-ligne-par-ligne","text":"Il ne vous a pas \u00e9chapp\u00e9 que l'objet renvoy\u00e9 par la m\u00e9thode .readlines() renvoie une liste. Il est donc possible d' it\u00e9rer sur cette liste, en utilisant une boucle for : file = open ( \"zoo.txt\" , \"r\" , encoding = \"utf8\" ) lines = file . readlines () for n , line in enumerate ( lines ) : print ( f \"Ligne { n } : { line } \" ) file . close ()","title":"1.2 Lire un fichier ligne par ligne"},{"location":"Miscellanees/Bases_Python/Fichiers_Textes/#13-simplification-decriture-avec-le-gestionnaire-de-contexte-with","text":"Il est n\u00e9cessaire de faire une remarque importante : Il est imp\u00e9ratif de fermer un fichier d\u00e8s qu'on en a fini avec lui ! En effet, si le fichier reste ouvert en m\u00e9moire vive, il est possible qu'un appel du syst\u00e8me d'exploitation modifie la zone m\u00e9moire li\u00e9e \u00e0 ce fichier, ce qui risque de ne pas enregistrer les changements(au mieux), voire de le rendre illisible (au pire - c'est ce qui arrivait souvent sur les cl\u00e9s USB quand elles \u00e9taient mal \u00e9ject\u00e9es). Pire que \u00e7a, si une exception (= erreur) se produit avant l'appel \u00e0 la m\u00e9thode .close() , le fichier demeurera ouvert en m\u00e9moire et... advienne que pourra... Il est bien entendu possible de pr\u00e9voir un tel probl\u00e8me avec un bloc try : ... finally : ... , de la mani\u00e8re suivante : try : file = open ( \"zoo.txt\" , \"r\" , encoding = \"utf8\" ) print ( file . readlines ()) finally : file . close () Cependant ce type de structure est tr\u00e8s lourd \u00e0 mettre en place, et heureusement les d\u00e9veloppeurs de Python ont pr\u00e9vu un m\u00e9canisme plus simple : le gestionnaire de contexte with . with open ( \"zoo.txt\" , \"r\" , encoding = \"utf8\" ) as file : print ( file . readlines ()) L'utilisation de with garanti la bonne fermeture du fichier, m\u00eame dans le cas d'exceptions.","title":"1.3 Simplification d'\u00e9criture avec le gestionnaire de contexte with"},{"location":"Miscellanees/Bases_Python/Fichiers_Textes/#14-autres-methodes-de-lecture","text":"En plus de la m\u00e9thode .readlines() , il existe aussi d'autres possibilit\u00e9s pour lire un fichier texte : - la m\u00e9thode .read : with open ( \"zoo.txt\" , \"r\" , encoding = \"utf8\" ) as file : contenu = file . read () contenu Cette m\u00e9thode lit l'int\u00e9gralit\u00e9 d'un fichier comme une unique chaine de caract\u00e8res. la m\u00e9thode .readline() with open ( \"zoo.txt\" , \"r\" , encoding = \"utf8\" ) as file : contenu = file . readline () contenu Cette m\u00e9thode lit le fichier ligne par ligne, en d\u00e9placant le curseur de lecture d'une ligne \u00e0 chaque appel.","title":"1.4 Autres m\u00e9thodes de lecture"},{"location":"Miscellanees/Bases_Python/Fichiers_Textes/#2-ecriture-dans-un-fichier-texte","text":"### 2.1 Cr\u00e9ation d'un fichier texte La m\u00e9thode d'\u00e9criture dans un fichier texte est sensiblement la m\u00eame que pour la lecture : with open ( \"monPremierFichierTexte.txt\" , \"w\" , encoding = \"utf8\" ) as f : f . write ( \"J'\u00e9cris dans un fichier texte. \\n \" ) f . write ( \"J'\u00e9cris une deuxi\u00e8me ligne dans un fichier texte.\" ) f . write ( \"J'\u00e9cris la suite de la deuxi\u00e8me ligne.\" ) Ici, le gestionnaire de contexte with ouvre le fichier en \u00e9criture seule, ce qui est signal\u00e9 par le deuxi\u00e8me param\u00e8tre w ( comme write ). Le fichier n'existant pas au d\u00e9part, il est automatiquement cr\u00e9\u00e9 par Python. Le curseur d'\u00e9criture est plac\u00e9 au d\u00e9but du fichier.Puis l'appel de la m\u00e9thode .write() \u00e9crit la chaine de caract\u00e8re pass\u00e9e en argument dans le fichier, et place le curseur d'\u00e9criture \u00e0 la fin de la derni\u00e8re chaine de caract\u00e8re \u00e9crite. Notez qu'il n'y a pas de saut de ligne dans le fichier entre les chaines 2 et 3, pusisqu'on n'a pas explicitement demand\u00e9 un saut \u00e0 l'aide du caract\u00e8re sp\u00e9cial \\n . with open ( \"monPremierFichierTexte.txt\" , \"w\" , encoding = \"utf8\" ) as f : f . write ( \"Je r\u00e9\u00e9cris dans un fichier\" ) Apr\u00e8s ex\u00e9cution de la cellule ci-dessus, on constate l'effacement des donn\u00e9es pr\u00e9c\u00e9dentes du fichier. En effet, si le fichier existe d\u00e9j\u00e0, l'ouvertur avec le param\u00e8tre w va \u00e9craser l'ancien contenu, le curseur d'\u00e9criture \u00e9tant plac\u00e9 au d\u00e9but du fichier.","title":"2. Ecriture dans un fichier texte"},{"location":"Miscellanees/Bases_Python/Fichiers_Textes/#22-ajouter-des-chaines-a-un-fichier-preexistant","text":"Pour ajouter des chaines de caract\u00e8res \u00e0 un fichier pr\u00e9existant, il faut utiliser la fonction open() de la mlani\u00e8re suivante : with open ( \"monPremierFichierTexte.txt\" , \"a\" , encoding = \"utf8\" ) as f : f . write ( \" \\n \" ) f . write ( \"Maintenant, j'ajoute \u00e0 mon fichier pr\u00e9c\u00e9dent.\" )","title":"2.2 Ajouter des chaines \u00e0 un fichier pr\u00e9existant"},{"location":"Miscellanees/Bases_Python/Fichiers_Textes/#23-ajouter-et-lire-des-donnees-non-textuelles","text":"Comment faire pour ajouter des donn\u00e9es num\u00e9riques \u00e0 un fichier texte ? with open ( \"monPremierFichierTexte.txt\" , \"a\" , encoding = \"utf8\" ) as f : for i in range ( 100 ): f . write ( i ) On constate que l'erreur donn\u00e9e est TypeError: write() argument must be str, not int . Il est donc impossible d'ajouter directement des donn\u00e9es num\u00e9riques, il faut d'abord les caster en type str : with open ( \"monPremierFichierTexte.txt\" , \"a\" , encoding = \"utf8\" ) as f : for i in range ( 100 ): f . write ( f \" { i } \" ) Il devient alors possible de passer dans un fichier texte le contenu de variables, en utilisant directement les f-string : dico = { \"Vache\" : \"Meuh\" , \"Chien\" : \"Wouf\" , \"Chat\" : \"Miaou\" , \"Poule\" : \"Cot-cot\" , \"Ane\" : \"Hi-Han\" , \"Cochon\" : \"Gruik\" , \"Dindon\" : \"Leon\" } with open ( \"sauvDico.txt\" , \"w\" , encoding = \"utf8\" ) as file : file . write ( f \" { dico } \" ) Pour lire ces donn\u00e9es, il suffit alors de relire l'int\u00e9gralit\u00e9 du fichier et de caster \u00e0 l'aide de la fonction built-in eval() : with open ( \"sauvDico.txt\" , \"r\" , encoding = \"utf8\" ) as file : textdic = file . read () newDico = eval ( textdic ) print ( type ( newDico )) print ( f \"Le chien fait { newDico [ 'Chien' ] } \" )","title":"2.3 Ajouter et lire des donn\u00e9es non textuelles"},{"location":"Miscellanees/Bases_Python/Fichiers_Textes/#3-exercices","text":"","title":"3. Exercices"},{"location":"Miscellanees/Bases_Python/Fichiers_Textes/#31-exercice-1","text":"Le fichier Notes.txt contient les notes re\u00e7ues par des \u00e9l\u00e8ves \u00e0 un examen de Python. Ecrire une fonction ouvreNote() qui ouvre le fichier, et renvoie la liste des notes sous la forme d'une liste d'entiers. Ecrire une fonction calculeMoyenne() qui calcule la moyenne du groupe d'\u00e9l\u00e8ve Ecrire une fonction admis() qui cr\u00e9e un nouveau fichier listeAdmis.txt , avec en face de chaque note la mention admis si la note est sup\u00e9rieure ou \u00e9gale \u00e0 10, ou la mention recal\u00e9 si la note est strictement inf\u00e9rieure \u00e0 10.","title":"3.1 Exercice 1"},{"location":"Miscellanees/Bases_Python/Fichiers_Textes/#32-exercice-2","text":"Le Zen de Python est un ensemble de 19 principes qui influencent le design du langage de programmation Python, et sont utiles pour comprendre et utiliser le langage. \u00c9crit et publi\u00e9 sur la liste de discussion de Python en juin 1999 par Tim Peters, le Zen de Python a \u00e9t\u00e9 ensuite publi\u00e9 comme le Python Enhancement Proposal (PEP) num\u00e9ro 20 , et est aussi pr\u00e9sent sur le site web officiel de Python, en anglais. Il est aussi inclus comme Easter egg dans la distribution de l'interpr\u00e9teur Python, et apparait quand on tape la commande import this . (extrait de wikipedia) Sa traduction en fran\u00e7ais est donn\u00e9e dans la cellule suivante : zen = [ \"Pr\u00e9f\u00e8re : \\n \" , \"la beaut\u00e9 \u00e0 la laideur, \\n \" , \"l'explicite \u00e0 l'implicite, \\n \" , \"le simple au complexe \\n \" , \"et le complexe au compliqu\u00e9, \\n \" , \"le d\u00e9roul\u00e9 \u00e0 l'imbriqu\u00e9, \\n \" , \"l'a\u00e9r\u00e9 au compact. \\n \" , \"Prends en compte la lisibilit\u00e9. \\n \" , \"Les cas particuliers ne le sont jamais assez pour violer les r\u00e8gles. \\n \" , \"Mais, \u00e0 la puret\u00e9, privil\u00e9gie l'aspect pratique. \\n \" , \"Ne passe pas les erreurs sous silence, \\n \" , \"... ou b\u00e2illonne-les explicitement. \\n \" , \"Face \u00e0 l'ambigu\u00eft\u00e9, \u00e0 deviner ne te laisse pas aller. \\n \" , \"Sache qu'il ne devrait [y] avoir qu'une et une seule fa\u00e7on de proc\u00e9der, \\n \" , \"m\u00eame si, de prime abord, elle n'est pas \u00e9vidente, \u00e0 moins d'\u00eatre N\u00e9erlandais. \\n \" , \"Mieux vaut maintenant que jamais. \\n \" , \"Cependant jamais est souvent mieux qu'imm\u00e9diatement. \\n \" , \"Si l'impl\u00e9mentation s'explique difficilement, c'est une mauvaise id\u00e9e. \\n \" , \"Si l'impl\u00e9mentation s'explique ais\u00e9ment, c'est peut-\u00eatre une bonne id\u00e9e. \\n \" , \"Les espaces de nommage ! Sacr\u00e9e bonne id\u00e9e ! Faisons plus de trucs comme \u00e7a.\" ] Ecrire une fonction ecritZen() qui \u00e9crit le contenu de la variable zen dans le fichier zenPython.txt Ecrire une fonction inverseZen() qui lit le contenu du fichier zenPython.txt , et renvoie une chaine de caract\u00e8re contenant les phrases dans l'ordre inverse .","title":"3.2 Exercice 2"},{"location":"Miscellanees/Bases_Python/Fichiers_Textes/#33-exercice-3","text":"Cr\u00e9er une fonction qui ouvre le fichier codeJedi.txt , et qui remplace le mot Jedi par le mot Sith , les n\u00e9gations ne et pas \u00e9tant ajout\u00e9es aux bonnes positions, sauf pour la ligne 2 o\u00f9 pour d\u00e9fendre et prot\u00e9ger est supprim\u00e9. with open ( \"codeJedi.txt\" , \"r\" , encoding = \"utf8\" ) as f : toto = f . readlines () toto ['Les Jedi sont les gardiens de la paix dans la galaxie.\\n', 'Les Jedi utilisent leurs pouvoirs pour d\u00e9fendre et prot\u00e9ger.\\n', 'Les Jedi respectent la vie, en toutes ses formes.\\n', 'Les Jedi servent autrui plut\u00f4t que les dominer, pour le bien de la galaxie.\\n', \"Les Jedi cherchent \u00e0 s'am\u00e9liorer \u00e0 travers le savoir et l'instruction.\"] for ligne in toto : print ( ligne . split ( \" \" )) ['Les', 'Jedi', 'sont', 'les', 'gardiens', 'de', 'la', 'paix', 'dans', 'la', 'galaxie.\\n'] ['Les', 'Jedi', 'utilisent', 'leurs', 'pouvoirs', 'pour', 'd\u00e9fendre', 'et', 'prot\u00e9ger.\\n'] ['Les', 'Jedi', 'respectent', 'la', 'vie,', 'en', 'toutes', 'ses', 'formes.\\n'] ['Les', 'Jedi', 'servent', 'autrui', 'plut\u00f4t', 'que', 'les', 'dominer,', 'pour', 'le', 'bien', 'de', 'la', 'galaxie.\\n'] ['Les', 'Jedi', 'cherchent', '\u00e0', \"s'am\u00e9liorer\", '\u00e0', 'travers', 'le', 'savoir', 'et', \"l'instruction.\"] toto ['Les Jedi sont les gardiens de la paix dans la galaxie.\\n', 'Les Jedi utilisent leurs pouvoirs pour d\u00e9fendre et prot\u00e9ger.\\n', 'Les Jedi respectent la vie, en toutes ses formes.\\n', 'Les Jedi servent autrui plut\u00f4t que les dominer, pour le bien de la galaxie.\\n', \"Les Jedi cherchent \u00e0 s'am\u00e9liorer \u00e0 travers le savoir et l'instruction.\"]","title":"3.3 Exercice 3"},{"location":"Miscellanees/Challenge_Ada_Lovelace/BDD/","text":"Les bases de donn\u00e9es et le SQL Une br\u00e8ve introduction aux bases de donn\u00e9es Vocabulaire Une base de donn\u00e9e peut \u00eatre repr\u00e9sent\u00e9e comme un ensemble de tables , o\u00f9 chaque table poss\u00e8de plusieurs colonnes nomm\u00e9es. Une donn\u00e9e est alors une ligne d'une des tables. Prenons par exemple la base de donn\u00e9e suivante concernant des groupes de musiques: Il y a 4 tables : la table chanteur , comportant 3 colonnes : idc : un num\u00e9ro d'identifiant (un nombre entier int ou INTEGER ); nom : le nom du chanteur (une chaine de caract\u00e8res string ou VARCHAR ) ; prenom : le pr\u00e9nom du chanteur (une chaine de caract\u00e8res string ou VARCHAR ) ; la table groupe , comportant 3 colonnes : idG : : un num\u00e9ro d'identifiant (un nombre entier int ou INTEGER ); nom : le nom du groupe (une chaine de caract\u00e8res string ou VARCHAR ) ; id_style : un num\u00e9ro d'identifiant li\u00e9 \u00e0 la table style (un nombre entier int ou INTEGER ); la table style avec deux colonnes qu'on ne d\u00e9taillera pas ici ; la table album avec quatre colonnes qu'on ne d\u00e9taillera pas ici. En liant les tables les unes aux autres gr\u00e2ce aux identifiants, on peut alors savoir que : L'album Fortitude vient du groupe d'identifiant 5 , qui est Gojira , dont le style est 2 , c'est-\u00e0-dire M\u00e9tal ; Le chanteur de l'album Era Vulgaris est d'identifiant 2 , et se nomme Josh Homme . etc. Utilisation du langage SQL Pr\u00e9sentation Le langage SQL est un langage sp\u00e9cifique invent\u00e9 pour communiquer avec des bases de donn\u00e9es \u00e0 l'aide de requ\u00eates . Les requ\u00eates peuvent \u00eatre de diff\u00e9rentes natures : interroger une table de la base de donn\u00e9e, par exemple renvoyer les noms de tous les chanteurs ou chercher tous les albums du groupe d'identifiant 5 ; interroger plusieurs tables de la base de donn\u00e9e en les liant, par exemple pour renvoyer tous les noms des groupes dont Josh Homme est le chanteur ; ins\u00e9rer une nouvelle ligne de donn\u00e9es dans une table ; modifier les donn\u00e9es d'une ligne d'une table ; supprimer une ligne d'une table. Quelques lignes de code Requ\u00eates d'interrogations simples Chercher les noms de tous les chanteurs : SELECT Nom FROM Chanteur ; Chercher tous les albums du groupe d'identifiant 5 : SELECT Titre FROM Album WHERE id_Groupe = 5 ; Requ\u00eates d'interrogations complexes Rechercher les titres des albums dont Josh Homme est le chanteur : SELECT Album . Titre FROM Album JOIN Chanteur ON Album . id_Chanteur == Chanteur . idC WHERE Chanteur . nom = \"Homme\" and Chanteur . prenom = \"Josh\" Ins\u00e9rer des donn\u00e9es dans une table Ins\u00e9rer deux nouveaux styles dans la table Style : INSERT INTO Style VALUES ( 3 , 'Reggae' ), ( 4 , 'Rap' ), ( 5 , 'HardRock' ); Ins\u00e9rer une ligne incompl\u00e8te dans la table Groupe : INSERT INTO Groupe ( idG , nom ) VALUES ( 6 , 'ACDC' ); Les donn\u00e9es NULL Dans une BDD, parfois certaines informations ne sont pas renseign\u00e9es. Elles ont alors une valeur NULL . Changer des donn\u00e9es Ajouter le style HardRock au groupe ACDC : UPDATE Groupe SET id_Style = 5 WHERE nom = 'ACDC' ; Supprimer des donn\u00e9es Pour supprimer la ligne correspondant \u00e0 l'album Fortitude : DELETE FROM Album WHERE Titre = 'Fortitude' ; Utilisation de PHP PHP ( Personnal Home Page ) est un langage de programmation utilis\u00e9 principalement sur le web, c\u00f4t\u00e9 serveur , ce qui signifie qu'il travaille du c\u00f4t\u00e9 de la machine serveur, pour fabriquer la page web demand\u00e9e par le client . Un code en PHP peut \u00eatre int\u00e9gr\u00e9 au sein d'une page HTML gr\u00e2ce \u00e0 une balise sp\u00e9ciale : < ?PHP .... ?> A lire On pourra simplement consid\u00e9rer que, pour construire une page web li\u00e9e \u00e0 PHP : on construit un squelette de page en HTML , comme d'habitude ; seules les informations sp\u00e9cifiques seront int\u00e9gr\u00e9es \u00e0 la page au moment de la construction, en rempla\u00e7ant certaines parties de texte Consid\u00e9rons par exemple le morceau de code HTML suivant : <p> Bonjour <?php echo $name ?> ! </p> on a du code HTML classique, avec une balise <p> ; au sein de ce code, on \u00e0 la balise <?PHP ... ?> , qui introduit du code ; le code PHP consiste \u00e0 \u00e9crire dans le HTML (commande echo ) le contenu de la variable $name . Les variables En PHP, les variables sont cr\u00e9es gr\u00e2ce au symbole $ . On peut d\u00e9finir des variables comme montr\u00e9 ci-dessous : <?php $prenom = 'Ada' ; // Type string (chaine de caract\u00e8res avec deux guillemets simples) $nom = \"Lovelace\" ; // Type string ( avec deux guillemets doubles) $age = 25 ; // Type entier $estLyceenne = true ; // Type bool\u00e9en $competences = array ( 'anglais' , 'math\u00e9matiques' , 'informatique' , 'algorithmique' ); // Type tableau ?> On peut alors utiliser les variables comme dans tout autre langage : <?php ?>","title":"BDD, SQL et PHP"},{"location":"Miscellanees/Challenge_Ada_Lovelace/BDD/#les-bases-de-donnees-et-le-sql","text":"","title":"Les bases de donn\u00e9es et le SQL"},{"location":"Miscellanees/Challenge_Ada_Lovelace/BDD/#une-breve-introduction-aux-bases-de-donnees","text":"Vocabulaire Une base de donn\u00e9e peut \u00eatre repr\u00e9sent\u00e9e comme un ensemble de tables , o\u00f9 chaque table poss\u00e8de plusieurs colonnes nomm\u00e9es. Une donn\u00e9e est alors une ligne d'une des tables. Prenons par exemple la base de donn\u00e9e suivante concernant des groupes de musiques: Il y a 4 tables : la table chanteur , comportant 3 colonnes : idc : un num\u00e9ro d'identifiant (un nombre entier int ou INTEGER ); nom : le nom du chanteur (une chaine de caract\u00e8res string ou VARCHAR ) ; prenom : le pr\u00e9nom du chanteur (une chaine de caract\u00e8res string ou VARCHAR ) ; la table groupe , comportant 3 colonnes : idG : : un num\u00e9ro d'identifiant (un nombre entier int ou INTEGER ); nom : le nom du groupe (une chaine de caract\u00e8res string ou VARCHAR ) ; id_style : un num\u00e9ro d'identifiant li\u00e9 \u00e0 la table style (un nombre entier int ou INTEGER ); la table style avec deux colonnes qu'on ne d\u00e9taillera pas ici ; la table album avec quatre colonnes qu'on ne d\u00e9taillera pas ici. En liant les tables les unes aux autres gr\u00e2ce aux identifiants, on peut alors savoir que : L'album Fortitude vient du groupe d'identifiant 5 , qui est Gojira , dont le style est 2 , c'est-\u00e0-dire M\u00e9tal ; Le chanteur de l'album Era Vulgaris est d'identifiant 2 , et se nomme Josh Homme . etc.","title":"Une br\u00e8ve introduction aux bases de donn\u00e9es"},{"location":"Miscellanees/Challenge_Ada_Lovelace/BDD/#utilisation-du-langage-sql","text":"","title":"Utilisation du langage SQL"},{"location":"Miscellanees/Challenge_Ada_Lovelace/BDD/#presentation","text":"Le langage SQL est un langage sp\u00e9cifique invent\u00e9 pour communiquer avec des bases de donn\u00e9es \u00e0 l'aide de requ\u00eates . Les requ\u00eates peuvent \u00eatre de diff\u00e9rentes natures : interroger une table de la base de donn\u00e9e, par exemple renvoyer les noms de tous les chanteurs ou chercher tous les albums du groupe d'identifiant 5 ; interroger plusieurs tables de la base de donn\u00e9e en les liant, par exemple pour renvoyer tous les noms des groupes dont Josh Homme est le chanteur ; ins\u00e9rer une nouvelle ligne de donn\u00e9es dans une table ; modifier les donn\u00e9es d'une ligne d'une table ; supprimer une ligne d'une table.","title":"Pr\u00e9sentation"},{"location":"Miscellanees/Challenge_Ada_Lovelace/BDD/#quelques-lignes-de-code","text":"","title":"Quelques lignes de code"},{"location":"Miscellanees/Challenge_Ada_Lovelace/BDD/#requetes-dinterrogations-simples","text":"Chercher les noms de tous les chanteurs : SELECT Nom FROM Chanteur ; Chercher tous les albums du groupe d'identifiant 5 : SELECT Titre FROM Album WHERE id_Groupe = 5 ;","title":"Requ\u00eates d'interrogations simples"},{"location":"Miscellanees/Challenge_Ada_Lovelace/BDD/#requetes-dinterrogations-complexes","text":"Rechercher les titres des albums dont Josh Homme est le chanteur : SELECT Album . Titre FROM Album JOIN Chanteur ON Album . id_Chanteur == Chanteur . idC WHERE Chanteur . nom = \"Homme\" and Chanteur . prenom = \"Josh\"","title":"Requ\u00eates d'interrogations complexes"},{"location":"Miscellanees/Challenge_Ada_Lovelace/BDD/#inserer-des-donnees-dans-une-table","text":"Ins\u00e9rer deux nouveaux styles dans la table Style : INSERT INTO Style VALUES ( 3 , 'Reggae' ), ( 4 , 'Rap' ), ( 5 , 'HardRock' ); Ins\u00e9rer une ligne incompl\u00e8te dans la table Groupe : INSERT INTO Groupe ( idG , nom ) VALUES ( 6 , 'ACDC' ); Les donn\u00e9es NULL Dans une BDD, parfois certaines informations ne sont pas renseign\u00e9es. Elles ont alors une valeur NULL .","title":"Ins\u00e9rer des donn\u00e9es dans une table"},{"location":"Miscellanees/Challenge_Ada_Lovelace/BDD/#changer-des-donnees","text":"Ajouter le style HardRock au groupe ACDC : UPDATE Groupe SET id_Style = 5 WHERE nom = 'ACDC' ;","title":"Changer des donn\u00e9es"},{"location":"Miscellanees/Challenge_Ada_Lovelace/BDD/#supprimer-des-donnees","text":"Pour supprimer la ligne correspondant \u00e0 l'album Fortitude : DELETE FROM Album WHERE Titre = 'Fortitude' ;","title":"Supprimer des donn\u00e9es"},{"location":"Miscellanees/Challenge_Ada_Lovelace/BDD/#utilisation-de-php","text":"PHP ( Personnal Home Page ) est un langage de programmation utilis\u00e9 principalement sur le web, c\u00f4t\u00e9 serveur , ce qui signifie qu'il travaille du c\u00f4t\u00e9 de la machine serveur, pour fabriquer la page web demand\u00e9e par le client . Un code en PHP peut \u00eatre int\u00e9gr\u00e9 au sein d'une page HTML gr\u00e2ce \u00e0 une balise sp\u00e9ciale : < ?PHP .... ?> A lire On pourra simplement consid\u00e9rer que, pour construire une page web li\u00e9e \u00e0 PHP : on construit un squelette de page en HTML , comme d'habitude ; seules les informations sp\u00e9cifiques seront int\u00e9gr\u00e9es \u00e0 la page au moment de la construction, en rempla\u00e7ant certaines parties de texte Consid\u00e9rons par exemple le morceau de code HTML suivant : <p> Bonjour <?php echo $name ?> ! </p> on a du code HTML classique, avec une balise <p> ; au sein de ce code, on \u00e0 la balise <?PHP ... ?> , qui introduit du code ; le code PHP consiste \u00e0 \u00e9crire dans le HTML (commande echo ) le contenu de la variable $name .","title":"Utilisation de PHP"},{"location":"Miscellanees/Challenge_Ada_Lovelace/BDD/#les-variables","text":"En PHP, les variables sont cr\u00e9es gr\u00e2ce au symbole $ . On peut d\u00e9finir des variables comme montr\u00e9 ci-dessous : <?php $prenom = 'Ada' ; // Type string (chaine de caract\u00e8res avec deux guillemets simples) $nom = \"Lovelace\" ; // Type string ( avec deux guillemets doubles) $age = 25 ; // Type entier $estLyceenne = true ; // Type bool\u00e9en $competences = array ( 'anglais' , 'math\u00e9matiques' , 'informatique' , 'algorithmique' ); // Type tableau ?> On peut alors utiliser les variables comme dans tout autre langage : <?php ?>","title":"Les variables"},{"location":"Miscellanees/Manim/BasesManim/","text":"Bases de Manim Installation au Lyc\u00e9e Le plus simple : Thonny T\u00e9l\u00e9charger archive ffmpeg , puis d\u00e9compresser. faire une sauvegarde de l'actuel path : PATH > sauvePath.txt Ajouter au path le chemin vers ffmpeg: PATH %PATH%;P:\\Documents\\ffmpeg\\bin","title":"Manim"},{"location":"Miscellanees/Manim/BasesManim/#bases-de-manim","text":"","title":"Bases de Manim"},{"location":"Miscellanees/Manim/BasesManim/#installation-au-lycee","text":"Le plus simple : Thonny T\u00e9l\u00e9charger archive ffmpeg , puis d\u00e9compresser. faire une sauvegarde de l'actuel path : PATH > sauvePath.txt Ajouter au path le chemin vers ffmpeg: PATH %PATH%;P:\\Documents\\ffmpeg\\bin","title":"Installation au Lyc\u00e9e"},{"location":"Miscellanees/Memorisation/Memorisation/","text":"La m\u00e9moire et les proc\u00e9ssus de m\u00e9morisation Pr\u00e9-TD universit\u00e9 de Savoir : diff\u00e9rentes m\u00e9moires environ 6 min : lien Le r\u00f4le de la m\u00e9moire dans le processus d\u2019apprentissage (plus pour prof) lien Votre cerveau vous joue des tours - Conf\u00e9rence d'Albert Moukheiber lien","title":"La m\u00e9moire et les proc\u00e9ssus de m\u00e9morisation"},{"location":"Miscellanees/Memorisation/Memorisation/#la-memoire-et-les-processus-de-memorisation","text":"Pr\u00e9-TD universit\u00e9 de Savoir : diff\u00e9rentes m\u00e9moires environ 6 min : lien Le r\u00f4le de la m\u00e9moire dans le processus d\u2019apprentissage (plus pour prof) lien Votre cerveau vous joue des tours - Conf\u00e9rence d'Albert Moukheiber lien","title":"La m\u00e9moire et les proc\u00e9ssus de m\u00e9morisation"},{"location":"Miscellanees/Pygame/Base_pygame/","text":"Bases de Pygame Ce cours est tr\u00e8s largement et assez honteusement copi\u00e9 sur celui-ci . Merci \u00e0 vous ! En cas de soucis de droits, n'h\u00e9sitez pas \u00e0 me contacter par le lien situ\u00e9 en bas de page ! Importer Pygame et ses constantes Pygame est une biblioth\u00e8que, et en tant que telle, elle est construite \u00e0 partir de plusieurs modules. Les noms de ces modules sont : display mixer draw event image mouse time Il existe alors plusieurs possibilit\u00e9s pour importe pygame Importation compl\u00e8te : import pygame La totalit\u00e9 de la biblioth\u00e8que est alors import\u00e9e, et pour utiliser la fonction update du module display on devra alors utiliser pygame.display.update() . Importation partielle des modules n\u00e9cessaires : from pygame import display Seul le module display est alors import\u00e9, et pour utiliser la fonction update de ce module, on devra alors utiliser display.update() . Importation compl\u00e8te avec import des constantes directement dans l'espace de nommage (conseill\u00e9e) : import pygame from pygame.locals import * Dans ce cas, pour utiliser la constante repr\u00e9sentant la touche espace, au lieu d'utiliser pygame.locals.K_SPACE , on utilisera simplement K_SPACE . Cr\u00e9ation d'une fen\u00eatre graphique et boucle d'\u00e9v\u00e8nements Le projet Commen\u00e7ons un petit programme qui nous am\u00e8nera \u00e0 d\u00e9placer un personnage de gauche \u00e0 droite sur un fond d'\u00e9cran, pendant que des balles tombent depuis le haut de l'\u00e9cran \u00e0 diff\u00e9rentes vitesses. Le jeu consistera \u00e0 \u00e9viter que le personnage entre en collision avec les balles, et s'arr\u00eatera d\u00e8s qu'une collision aura lieu. Le premier point est d'afficher une fen\u00eatre graphique d'une dimension donn\u00e9e : \\(640 \\times 480~ pixels^2\\) (oui, en bon prof de maths, je respecte \u00e0 minima les unit\u00e9s...). On utilise le script suivant, dans un fichier nomm\u00e9 dodgeTheBall.py : 1 2 3 4 5 6 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) Analysons le code Dans les deux premi\u00e8res lignes, nous importons pygame en totalit\u00e9 ainsi que les constantes sp\u00e9cifiques dans l'espace de nommage courant. En ligne 4, nous initialisons tous les modules de pygame . En ligne 6, nous appelons ensuite la fonction set_mode() contenue dans le module display de pygame , qui prend en argument un tuple contenant la largeur et la hauteur de la fen\u00eatre voulue (attention, c'est bien un tuple ! pygame.display.set_mode(640, 480) ne fonctionne pas !). Y'a un bug ! La fen\u00eatre reste bloqu\u00e9e et ne se ferme pas sauf si on force l'arr\u00eat du script ! Effectivement, on se retrouve bloqu\u00e9... Il faut rajouter \u00e0 notre code une instruction suppl\u00e9mentaire pour que la fen\u00ebtre se ferme : 1 2 3 4 5 6 7 8 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) pygame . quit () Encore un Et oui ! Notre fen\u00eatre s'ouvre mais se ferme imm\u00e9diatement ! Or nous aimerions qu'elle ne se ferme que sur demande explicite de l'utilisateur, par exemple par un clic sur la croix. C'est l\u00e0 qu'intervient la notion de boucle d'\u00e9v\u00e8nements . Dans un programme classique, en programmation imp\u00e9rative , le programme se d\u00e9roule plus ou moins lin\u00e9airement de la premi\u00e8re ligne \u00e0 la derni\u00e8re. Mais lorsqu'on utilise des interfaces graphiques , on ne peut pr\u00e9voir \u00e0 l'avance le comportement de l'utilisateur, et donc suivre un chemin clairement d\u00e9fini \u00e0 l'avance. C'est pour cette raison qu'on utilise plut\u00f4t le paradigme de la programmation \u00e9v\u00e9nementielle , c'est-\u00e0-dire un paradigme o\u00f9 on pr\u00e9voira l'action de l'utilisateur, mais pas dans un ordre pr\u00e9cis. Chaque action pr\u00e9vue dans la boucle d'\u00e9v\u00e8nements aura un impact pr\u00e9cis. Dans notre cas, nous souhaiterions que la fen\u00eatre reste ouverte tant que l'utilisateur n'a pas exprim\u00e9 le d\u00e9sir de la fermer, soit par l'interm\u00e9diaire de la croix, soit par l'interm\u00e9diaire de la combinaison de touches Alt + F4 . Notion d'\u00e9v\u00e8nements Dans la construction d'interfaces graphiques, on utilise souvent la notion d' \u00e9v\u00e8nements . Un \u00e9v\u00e8nement correspond \u00e0 : un d\u00e9placement de la souris ; le survol d'une zone sp\u00e9cifique de l'\u00e9cran par le pointeur de la souris ; un appui sur une ou plusieurs touches du clavier : le rel\u00e2chement d'une touche de clavier ; un appui ou rel\u00e2chement d'un bouton de la souris ; un \u00e9v\u00e9nement sp\u00e9cifique pr\u00e9vu dans le programme ; un changement de luminosit\u00e9 devant un capteur vid\u00e9o ; ... Ces \u00e9v\u00e8nements sont stock\u00e9s \u00e0 leur apparition dans une file (fifo) de dimension limit\u00e9e , nettoy\u00e9e r\u00e9guli\u00e8rement de ses \u00e9v\u00e8nements les plus anciens. Dans pygame , les \u00e9v\u00e8nements sont des constantes, et celui qui nous int\u00e9resse est l'\u00e9v\u00e8nement QUIT . Nous allons donc parcourir la liste des \u00e9v\u00e8nements pour ensuite pouvoir quitter la fen\u00eatre si celui-ci est exprim\u00e9 : 1 2 3 4 5 6 7 8 9 10 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) for event in pygame . event . get () : if event == QUIT : pygame . quit () L'arnaque : \u00e7a ne marche pas ! On retombe sur notre probl\u00e8me pr\u00e9c\u00e9dent : la fen\u00eatre ne se ferme plus... C'est parce que la file d'\u00e9v\u00e8nements se construit et se nettoie tr\u00e8s rapidement ! Nous n'avons pas le temps de cliquer sur la croix que d\u00e9j\u00e0 le parcours par la boucle for est termin\u00e9 ! Et donc dans ce cas on ne passe jamais par l'instruction pygame.quit() . Il va donc falloir r\u00e9p\u00e9ter la lecture d'\u00e9v\u00e8nements pour pouvoir d\u00e9tecter quand l'utilisateur souhaite fermer sa fen\u00eatre. Boucle d'\u00e9v\u00e8nements Une boucle d'\u00e9v\u00e8nements est une boucle qui se r\u00e9p\u00e8te tant qu'un \u00e9v\u00e8nement pr\u00e9cis ne s'est pas produit. A chaque tour de boucle on va lire la totalit\u00e9 des \u00e9v\u00e8nements enregistr\u00e9s dans la file, et on d\u00e9clenchera la sortie de cette boucle si l'\u00e9v\u00e8nement est trouv\u00e9. Pour notre exemple, nous allons cr\u00e9er une boucle while d\u00e9pendant d'une variable continuer initialis\u00e9e \u00e0 True , que nous basculerons \u00e0 False lorsque l'\u00e9v\u00e8nement QUIT est intercept\u00e9 : Un code fonctionnel 1 2 3 4 5 6 7 8 9 10 11 12 13 14 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False pygame . quit () Enfin ! Notre fen\u00eatre fonctionne ! Ajout d'image de Fond Image de fond Notre fond noir est un peu d\u00e9primant. Mettons un peu de verdure gr\u00e2ce \u00e0 l'image suivante : T\u00e9l\u00e9chargez cette image sous le nom background.jpg puis ajoutez la ligne suivante en ligne 7 : 7 fond = pygame . image . load ( \"background.jpg\" ) . convert () Bon : mauvaise nouvelle, ce ne sera pas suffisant ! La variable fond n'est qu'une r\u00e9f\u00e9rence \u00e0 une Surface de pygame , retourn\u00e9e par la fonction load() . Une Surface est une classe d'objets d\u00e9finie dans pygame qui poss\u00e8de de nombreux attributs et m\u00e9thodes (cf. la doc ). La m\u00e9thode convert() des objets Surface sert \u00e0 convertir l'image source au format utilis\u00e9 par pygame . Le principe d'affichage de la SDL (la sous-couche logicielle g\u00e9rant les images, le son, etc...) est \u00e0 conna\u00eetre pour bien afficher ses images : fenetre est une surface vide, sur laquelle on va \"coller\", ou \"empiler\" les autres images. Le fond doit donc \u00eatre empil\u00e9 sur la surface vide de la fen\u00eatre , gr\u00e2ce \u00e0 la m\u00e9thode blit() . Cette m\u00e9thode prend une Surface en argument ainsi qu'un tuple repr\u00e9sentant les coordonn\u00e9es du coin sup\u00e9rieur gauche auquel sera coll\u00e9 la Surface argument par rapport \u00e0 la Surface appelante. Syst\u00e8me de coordonn\u00e9es On peut donner comme exemples de tuple de coordonn\u00e9es ceux de l'image suivante : On pourrait donc utiliser le code suivant : 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False pygame . quit () Mais pourquoi \u00e7a n'affiche rien ! Parce que quand on blit une Surface , pygame calcule ce qu'il faut mais ne l'ex\u00e9cute pas r\u00e9ellement. Il faut forcer le rafra\u00eechissement de l'\u00e9cran pour y parvenir, par l'interm\u00e9diaire de la commande pygame.display.update() . Comme nous comptons bien faire bouger un personnage sur l'\u00e9cran, et que les mouvements de celui-ci d\u00e9pendront de la boucle d'\u00e9v\u00e8nements, autant mettre imm\u00e9diatement cette commande en fin de boucle, pour que l'image soit syst\u00e9matiquement mise \u00e0 jour. : 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () fenetre . blit ( fond ,( 0 , 0 )) continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False pygame . display . update () pygame . quit () Et voil\u00e0 ! 15 lignes de code, et nous voil\u00e0 avec une fen\u00eatre graphique digne de ce nom ! Ajout du sprite du joueur Les sprites Explications Code complet Ajoutons maintenant une nouvelle image, celle repr\u00e9sentant le personnage du joueur. Cette image est de dimension \\(100 \\times 100\\) , et nous voudrions la placer tout en bas de l'\u00e9cran, au centre. Les coordonn\u00e9es de son coin sup\u00e9rieur gauche seront donc \\((\\dfrac{640 - 100}{2} ; 480 - 100)\\) . Pour cela, on ajoute hors de la boucle la commande suivante perso = pygame.image.load(\"perso.png\").convert() , suivie de la commande fenetre.blit(perso,(270,380)) (mais apr\u00e8s avoir coll\u00e9 le fond). 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () perso = pygame . image . load ( \"Perso.png\" ) . convert () fenetre . blit ( fond ,( 0 , 0 )) fenetre . blit ( perso , ( 270 , 380 )) continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False pygame . display . update () pygame . quit () Transparence et canal alpha Canal Alpha Code complet Et les autres formats ? Le r\u00e9sultat est peu probant. En effet nous voyons un cadre noir autour sprite du personnage. Il va donc falloir ajouter de la transparence \u00e0 cette image. Cette possibilit\u00e9 est offerte par le format png , qui poss\u00e8de un format de couleur bas\u00e9 sur la syst\u00e8me RGB + canal Alpha . Un pixel est donc repr\u00e9sent\u00e9 par 4 octets : Les trois premiers pour les canaux RGB , chacun \u00e9tant donc repr\u00e9sent\u00e9 par un nombre entre 0 et 255 ( sommairement 0 repr\u00e9sentant le canal \u00e9teint, et 255 le canal allum\u00e9 au maximum) ; Le dernier octet pour le canal Alpha , qui va repr\u00e9senter le niveau de transparence du pixel. Ainsi un pixel poss\u00e9dant un canal Alpha \u00e0 \\(0\\) sera totalement transparent, alors qu'avec une valeur de \\(255\\) , il sera totalement opaque. Pygame est bien entendu capable de g\u00e9rer cette transparence, il suffit d'utiliser la m\u00e9thode convert_alpha() \u00e0 la place de la m\u00e9thode convert() . 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () perso = pygame . image . load ( \"Perso.png\" ) . convert_alpha () fenetre . blit ( fond ,( 0 , 0 )) fenetre . blit ( perso , ( 270 , 380 )) continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False pygame . display . update () pygame . quit () Le format png est \u00e0 privil\u00e9gier pour l'utilisation de sprites. cependant il est aussi possible de forcer une couleur d'une image de format quelconque \u00e0 devenir transparente, gr\u00e2ce \u00e0 la m\u00e9thode set_colorkey() utilis\u00e9e comme dans la ligne suivante : image.set_colorkey((255,255,255)) Ici on a rendu la couleur blanche (triplet RGB \\((255, 255, 255)\\) ) transparente pour l'objet image . D\u00e9placement du joueur Cette partie a pour objectif de vous faire comprendre deux points : la notion d'objet Rect de pygame ; l'utilisation d'\u00e9v\u00e8nements claviers. Elle n'est pas formellement correcte, car je n'utilise pas ici de constructeur d'objets et de capteurs d'\u00e9v\u00e8nements. Nous verrons ceci dans la partie suivante. Images et objets Rect Pygame utilises des objets de type Rect pour stocker et manipuler des surfaces rectangulaires. Un objet de type Rect peut \u00eatre cr\u00e9er par une combinaison de valeurs left, top, width, height repr\u00e9sentant respectivement l'abscisse du c\u00f4t\u00e9 gauche du rectangle, l'ordonn\u00e9e du c\u00f4t\u00e9 haut du rectangle, sa largeur puis sa hauteur en pixels. Des objets de type Rect peuvent \u00eatre aussi cr\u00e9\u00e9s \u00e0 partir d'autres objets pygame qui sont soit des Rect , soit poss\u00e8dent un attribut nomm\u00e9 rect (ce qui est le cas des images). Un objet de type Rect poss\u00e8de de nombreux attributs d\u00e9finissant la position et la taille de l'objet : x,y top, left, bottom, right topleft, bottomleft, topright, bottomright midtop, midleft, midbottom, midright center, centerx, centery size, width, height w,h On peut aussi affecter directement tous ces attributs : rect1.right = 10 rect2.center = (20,30) Affecter \u00e0 size, width, height, w ou h change les dimensions du rectangle. Toute les autres affectations d\u00e9placent le rectangle sans le redimmensionner. Notez que certains attributs sont des entiers ( x, y, top, bottom, centerx,... ), et que d'autres sont des tuples d'entiers de dimension 2 ( topleft, bottomright, center,... ) Les m\u00e9thodes ou fonctions `Rect` qui changent la position ou la taille d'un Rect renvoient une nouvelle copie de ce Rect avec les changements effectu\u00e9s . Le Rect original n'est pas modifi\u00e9. Cependant certaines m\u00e9thodes ont une version in-place qui retournent None mais affectent le Rect original. Ces m\u00e9thodes \"in-place\" sont celles pr\u00e9fix\u00e9es par ip_ . La liste compl\u00e8te des m\u00e9thodes et des d\u00e9tails est bien s\u00fbr disponible dans la doc pygame . Les \u00e9v\u00e8nements claviers Lorsque vous coderez une interface graphique, il est probable que vous assignerez des touches clavier aux diff\u00e9rentes actions. Le type d'\u00e9v\u00e9nement cr\u00e9\u00e9 lorsque l'on appuie sur une touche est rep\u00e9r\u00e9 par la constante KEYDOWN , (ou KEYUP au rel\u00e2chement de la touche). Dans la boucle d'\u00e9v\u00e8nement, on pourra alors utiliser une structure conditionnelle telle que if event.type == KEYDOWN: Mais attention, cette condition sera vraie quelque soit la touche press\u00e9e ! Pour d\u00e9finir une seule touche du clavier, vous devrez utilisez en plus event.key , qui d\u00e9termine la touche press\u00e9e, disponible uniquement lors d'un \u00e9v\u00e9nement clavier. Cet event.key peut prendre les valeurs suivantes : Lettres: K_a ... K_z Nombres: K_0 ... K_9 Contr\u00f4les: K_TAB, K_RETURN, K_ESCAPE,... Fl\u00e8ches: K_LEFT, K_UP, K_RIGHT, K_DOWN ... La liste compl\u00e8te des constantes est disponible ici D\u00e9placement du sprite de gauche \u00e0 droite Mise en place du code Code complet Bien maintenant nous savons a peu pr\u00eat quoi faire. Commen\u00e7ons par cr\u00e9er un Rect a partir de l'image du personnage, juste apr\u00e8s la ligne de cr\u00e9ation de l'image perso : persoRect = perso.get_rect() Mais attention, on ne vient que de cr\u00e9er le Rect , et il n'a pas de position d\u00e9finie. On va alors effacer la ligne de blit du personnage, et la remplacer par : persoRect.topleft = (270,380) Notre rectangle est ainsi positionn\u00e9 correctement au centre de l'\u00e9cran, en bas. Nous allons modifier ensuite persoRect pour d\u00e9placer le sprite. Nous fixons la vitesse de d\u00e9placement du sprite avec une base de \\(10\\) pixels par tour de boucle. Dans la boucle d'\u00e9v\u00e9nement, nous ajoutons alors les lignes suivantes : if event.type == KEYDOWN : if event.key == K_LEFT : if persoRect.left>=10 : persoRect = persoRect.move(-10,0) if event.key == K_RIGHT : if persoRect.right<=630 : persoRect = persoRect.move(10,0) Nous avons ainsi un d\u00e9placement, mais si vous testez le code \u00e0 ce moment, rien ne se passe. En effet, il ne faut pas oublier de blitter l'image \u00e0 la nouvelle position du Rect . On rajoute donc \u00e0 la fin de la boucle while True la ligne suivante : fenetre.blit(perso, persoRect) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () perso = pygame . image . load ( \"Perso.png\" ) . convert_alpha () persoRect = perso . get_rect () persoRect . topleft = ( 270 , 380 ) fenetre . blit ( fond ,( 0 , 0 )) continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False if event . type == KEYDOWN : if event . key == K_LEFT : if persoRect . left >= 10 : persoRect = persoRect . move ( - 10 , 0 ) if event . key == K_RIGHT : if persoRect . right <= 630 : persoRect = persoRect . move ( 10 , 0 ) fenetre . blit ( perso , persoRect ) pygame . display . update () pygame . quit () Mais c'est nul ! raisons et corrections Le code complet Et oui, pour plusieurs raisons : * la page ne se rafra\u00eechit pas totalement, et la trace des anciennes positions du sprite est gard\u00e9e; * il faut r\u00e9-appuyer sur la touche pour re-d\u00e9placer le personnage, le d\u00e9placement n'est pas fluide. Le premier probl\u00e8me vient de la ligne pygame.display.update() , qui ne change que les pixels modifi\u00e9s par rapport au dernier affichage. Une solution simple consiste \u00e0 forcer l'affichage du fond avant le blit du sprite : fenetre . blit ( fond , ( 0 , 0 )) fenetre . blit ( perso , persoRect ) Pour le second probl\u00e8me, une solution simple (mais pas toujours efficace) consiste \u00e0 utiliser la m\u00e9thode set_repeat() du module key ,qui prend en param\u00e8tres : le d\u00e9lai avant de continuer les d\u00e9placements quand la touche reste enfonc\u00e9e (en millisecondes); le temps entre chaque d\u00e9placement. (en millisecondes) Vous devez donc, apr\u00e8s initialisation de pygame placer la ligne : pygame.key.set_repeat(400, 30) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 import pygame from pygame.locals import * pygame . init () pygame . key . set_repeat ( 400 , 30 ) fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () perso = pygame . image . load ( \"Perso.png\" ) . convert_alpha () persoRect = perso . get_rect () persoRect . topleft = ( 270 , 380 ) fenetre . blit ( fond ,( 0 , 0 )) continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False if event . type == KEYDOWN : if event . key == K_LEFT : if persoRect . left >= 10 : persoRect = persoRect . move ( - 10 , 0 ) if event . key == K_RIGHT : if persoRect . right <= 630 : persoRect = persoRect . move ( 10 , 0 ) fenetre . blit ( fond , ( 0 , 0 )) fenetre . blit ( perso , persoRect ) pygame . display . update () pygame . quit () Une solution plus \u00e9l\u00e9gante, et plus efficace (mais inutile ici) Solution Le code de remplacement Le probl\u00e8me de l'utilisation de la m\u00e9thode ci-dessus est qu'il est impossible de traiter des appuis sur des combinaisons de touches, puisqu'une seule touche est repr\u00e9sent\u00e9e par l'attribut event.key . Heureusement, les concepteurs de pygame ont pr\u00e9vu une m\u00e9thode bien plus efficace : la m\u00e9thode get_pressed() du module key , qui renvoie un dictionnaire de bool\u00e9ens ayant pour cl\u00e9 la constante repr\u00e9sentant la touche, et pour lequel les valeurs True correspondent aux touches actuellement appuy\u00e9es. On peut alors retirer de la boucle d'\u00e9v\u00e8nements toute la partie concernant les appuis de touches, et les remplacer par : dicKeys = pygame . key . get_pressed () if dicKeys [ K_LEFT ] : if persoRect . left >= 10 : persoRect = persoRect . move ( - 10 , 0 ) if dicKeys [ K_RIGHT ] : if persoRect . right <= 630 : persoRect = persoRect . move ( 10 , 0 ) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 import pygame from pygame.locals import * pygame . init () pygame . key . set_repeat ( 400 , 30 ) fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () perso = pygame . image . load ( \"Perso.png\" ) . convert_alpha () persoRect = perso . get_rect () persoRect . topleft = ( 270 , 380 ) fenetre . blit ( fond ,( 0 , 0 )) continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False dicKeys = pygame . key . get_pressed () if dicKeys [ K_LEFT ] : if persoRect . left >= 10 : persoRect = persoRect . move ( - 10 , 0 ) if dicKeys [ K_RIGHT ] : if persoRect . right <= 630 : persoRect = persoRect . move ( 10 , 0 ) fenetre . blit ( fond , ( 0 , 0 )) fenetre . blit ( perso , persoRect ) pygame . display . update () pygame . quit () Cr\u00e9ation d'une classe d'objets \"Balle\" classe Balle Interface Code du fichier balle.py Sachant que plusieurs balles vont tomber simultan\u00e9ment, nous allons construire une classe d'objets pour repr\u00e9senter ces balles. Chaque balle sera repr\u00e9sent\u00e9e par une image , qui devra donc \u00eatre associ\u00e9e \u00e0 un rectangle . Chaque balle aura une position, qui sera donn\u00e9e originellement par son centre . Elle aura par ailleurs une vitesse , dont la valeur de d\u00e9part sera tir\u00e9e al\u00e9atoirement entre 1 et 5. Un certain nombre d'actions seront utilis\u00e9es sur ou par cette balle : elle se d\u00e9placera d'un nombre de pixels \u00e9gal \u00e0 sa vitesse ; on testera sa collision avec le joueur, en renvoyant un bool\u00e9en ; et bien sur on l' affichera dans la fenetre courante. On repr\u00e9sente donc la classe balle par l'interface suivante : Nous impl\u00e9mentons de cette classe dans un fichier balle.py . Le code est donn\u00e9 dans l'onglet ci contre, et ne n\u00e9cessite que peu de commentaires, \u00e0 part pour la m\u00e9thode collision(self,targetRect) . Dans le cadre de ce tutoriel, nous utiliserons la m\u00e9thode colliderect des objets Rect . Cette m\u00e9thode renvoie True si le rectangle de la balle est en collision avec le rectangle pass\u00e9 en argument et False sinon. Deux rectangles sont en collision si ils ont une partie commune. Pour les amateurs de hitbox plus pr\u00e9cises, il faudra voir du c\u00f4t\u00e9 de la classe Mask de pygame , qui utilise le canal alpha ou bien une cl\u00e9 colorim\u00e9trique pour d\u00e9tecter des collisions au pixel pr\u00e8s. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 import pygame from random import randint class Balle : def __init__ ( self , image , center ) : \"\"\" Initialisation d'un objet de classe Balle a partir de deux arguments : - image est l'adresse relative ou absolue de l'image voulue pour l'objet ; - center est un tuple de deux entiers donnant la position du centre de la balle lors de sa cr\u00e9ation.\"\"\" self . image = pygame . image . load ( image ) . convert_alpha () self . rect = self . image . get_rect () self . rect . center = center self . vitesse = randint ( 1 , 5 ) def affiche ( self , fenetre ) : fenetre . blit ( self . image , self . rect ) def deplace ( self ) : self . rect = self . rect . move ( 0 , self . vitesse ) def collision ( self , targetRect ) : return self . rect . colliderect ( targetRect ) Apparition des objets Balle et gestion des collisions \u00c9tablissons les r\u00e8gles On pose les r\u00e8gles suivantes concernant les balles : elles ne peuvent pas \u00eatre plus de 10 simultan\u00e9ment ; elles sont construites \u00e0 partir de l'image suivante, de dimension \\(50 \\times 50\\) : elles apparaissent avec une abscisse al\u00e9atoire entre 25 et 455 (pour ne pas d\u00e9passer de l'\u00e9cran ; elles disparaissent une fois compl\u00e8tement sorties de l'\u00e9cran ; le jeu s'arr\u00eate et ferme la fen\u00eatre d\u00e8s que le personnage est touch\u00e9 par une balle. Codons ! Description le code complet du fichier dodegTheBall.py Commen\u00e7ons d\u00e9j\u00e0 par importer les objets de types Balle depuis balle.py , et importons aussi au passage la fonction randint du module random dont nous aurons besoin pour les tirages al\u00e9atoires des positions de d\u00e9part. from balle import Balle from random import randint Les balles existantes seront stock\u00e9es dans une liste python tout ce qui est de plus classique. Nous cr\u00e9ons donc une variable listeBalles au d\u00e9part vide, juste avant la boucle while continuer : . listeBalles = [] Ensuite il faut cr\u00e9er un syst\u00e8me d'apparition des balles. Pour cela, dans la boucle while continuer : , nous allons \u00e0 chaque tour de boucle ajouter une balle, si la longueur de la liste est inf\u00e9rieure \u00e0 10. Mais ce ne sera pas suffisant ! En effet, la boucle tourne tr\u00e8s vite ! Plusieurs centaines de fois voir plusieurs milliers de fois par seconde . Donc dans ce cas, le joueur aurait l'impression que les 10 balles arrivent de mani\u00e8re simultan\u00e9es. Il faut donc introduire un syst\u00e8me permettant de limiter ces apparitions, tout en gardant un c\u00f4t\u00e9 al\u00e9atoire pour le jeu. On utilisera alors les lignes suivantes : if len ( listeBalles ) < 10 and randint ( 1 , 500 ) <= 10 : listeBalles . append ( Balle ( 'golfBall.png' ,( randint ( 25 , 455 ), - 25 ))) Les valeurs pr\u00e9sentes dans la condition randint ont \u00e9t\u00e9 test\u00e9e sur mon PC, mais elles peuvent \u00eatre modifi\u00e9es selon la puissance de votre machine. Voil\u00e0, les objets de type Balle sont cr\u00e9es selon les conditions que nous avons pos\u00e9es au d\u00e9part. Reste \u00e0 les afficher, les d\u00e9placer et les faire dispara\u00eetre le cas \u00e9ch\u00e9ant. Pour les d\u00e9placer et les afficher, pla\u00e7ons nous juste apr\u00e8s le blit de l'image de fond. Nous parcourons alors la liste des balles et leur appliquons successivement les m\u00e9thodes deplace() et affiche() , en donnant comme argument la fen\u00eatre courante pour l'affichage : for ball in listeBalles : ball . deplace () ball . affiche ( fenetre ) Probl\u00e8me : nos balles disparaissent de l'\u00e9cran, mais de nouvelles n'apparaissent plus. C'est normal, nous avons satur\u00e9 la variable listeBalles qui ne peut contenir plus de 10 objets. Il faut donc faire dispara\u00eetre les objets de la liste quand ils sortent de l'\u00e9cran. for ball in listeBalles : ball . deplace () if ball . rect . top >= 480 : listeBalles . remove ( ball ) else : ball . affiche ( fenetre ) Il ne nous reste plus qu'\u00e0 g\u00e9rer la fin du jeu : quand une balle entre en collision avec le joueur, nous basculons la variable continuer \u00e0 False pour arr\u00eater la boucle while : for ball in listeBalles : ball . deplace () if ball . rect . top >= 480 : listeBalles . remove ( ball ) else : if ball . collision ( persoRect ) : continuer = False ball . affiche ( fenetre ) Voil\u00e0, le contrat est rempli. Bien entendu ce n'est qu'un d\u00e9but de jeu, et il reste beaucoup de points \u00e0 am\u00e9liorer. Mais vous avez maintenant les bases pour vous permettre de r\u00e9aliser des jeux d'arcades classiques. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 import pygame from pygame.locals import * from balle import Balle from random import randint pygame . init () pygame . key . set_repeat ( 400 , 30 ) fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () perso = pygame . image . load ( \"Perso.png\" ) . convert_alpha () persoRect = perso . get_rect () persoRect . topleft = ( 270 , 380 ) fenetre . blit ( fond ,( 0 , 0 )) continuer = True listeBalles = [] while continuer : if len ( listeBalles ) < 10 and randint ( 1 , 500 ) <= 10 : listeBalles . append ( Balle ( 'golfBall.png' ,( randint ( 25 , 455 ), - 25 ))) for event in pygame . event . get (): if event . type == QUIT : continuer = False if event . type == KEYDOWN : if event . key == K_LEFT : if persoRect . left >= 10 : persoRect = persoRect . move ( - 10 , 0 ) if event . key == K_RIGHT : if persoRect . right <= 630 : persoRect = persoRect . move ( 10 , 0 ) fenetre . blit ( fond , ( 0 , 0 )) for ball in listeBalles : ball . deplace () if ball . rect . top >= 480 : listeBalles . remove ( ball ) else : if ball . collision ( persoRect ) : continuer = False ball . affiche ( fenetre ) fenetre . blit ( perso , persoRect ) pygame . display . update () pygame . time . wait ( 10 ) pygame . quit ()","title":"Bases de Pygame"},{"location":"Miscellanees/Pygame/Base_pygame/#bases-de-pygame","text":"Ce cours est tr\u00e8s largement et assez honteusement copi\u00e9 sur celui-ci . Merci \u00e0 vous ! En cas de soucis de droits, n'h\u00e9sitez pas \u00e0 me contacter par le lien situ\u00e9 en bas de page !","title":"Bases de Pygame"},{"location":"Miscellanees/Pygame/Base_pygame/#importer-pygame-et-ses-constantes","text":"Pygame est une biblioth\u00e8que, et en tant que telle, elle est construite \u00e0 partir de plusieurs modules. Les noms de ces modules sont : display mixer draw event image mouse time Il existe alors plusieurs possibilit\u00e9s pour importe pygame Importation compl\u00e8te : import pygame La totalit\u00e9 de la biblioth\u00e8que est alors import\u00e9e, et pour utiliser la fonction update du module display on devra alors utiliser pygame.display.update() . Importation partielle des modules n\u00e9cessaires : from pygame import display Seul le module display est alors import\u00e9, et pour utiliser la fonction update de ce module, on devra alors utiliser display.update() . Importation compl\u00e8te avec import des constantes directement dans l'espace de nommage (conseill\u00e9e) : import pygame from pygame.locals import * Dans ce cas, pour utiliser la constante repr\u00e9sentant la touche espace, au lieu d'utiliser pygame.locals.K_SPACE , on utilisera simplement K_SPACE .","title":"Importer Pygame et ses constantes"},{"location":"Miscellanees/Pygame/Base_pygame/#creation-dune-fenetre-graphique-et-boucle-devenements","text":"Le projet Commen\u00e7ons un petit programme qui nous am\u00e8nera \u00e0 d\u00e9placer un personnage de gauche \u00e0 droite sur un fond d'\u00e9cran, pendant que des balles tombent depuis le haut de l'\u00e9cran \u00e0 diff\u00e9rentes vitesses. Le jeu consistera \u00e0 \u00e9viter que le personnage entre en collision avec les balles, et s'arr\u00eatera d\u00e8s qu'une collision aura lieu. Le premier point est d'afficher une fen\u00eatre graphique d'une dimension donn\u00e9e : \\(640 \\times 480~ pixels^2\\) (oui, en bon prof de maths, je respecte \u00e0 minima les unit\u00e9s...). On utilise le script suivant, dans un fichier nomm\u00e9 dodgeTheBall.py : 1 2 3 4 5 6 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) Analysons le code Dans les deux premi\u00e8res lignes, nous importons pygame en totalit\u00e9 ainsi que les constantes sp\u00e9cifiques dans l'espace de nommage courant. En ligne 4, nous initialisons tous les modules de pygame . En ligne 6, nous appelons ensuite la fonction set_mode() contenue dans le module display de pygame , qui prend en argument un tuple contenant la largeur et la hauteur de la fen\u00eatre voulue (attention, c'est bien un tuple ! pygame.display.set_mode(640, 480) ne fonctionne pas !). Y'a un bug ! La fen\u00eatre reste bloqu\u00e9e et ne se ferme pas sauf si on force l'arr\u00eat du script ! Effectivement, on se retrouve bloqu\u00e9... Il faut rajouter \u00e0 notre code une instruction suppl\u00e9mentaire pour que la fen\u00ebtre se ferme : 1 2 3 4 5 6 7 8 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) pygame . quit () Encore un Et oui ! Notre fen\u00eatre s'ouvre mais se ferme imm\u00e9diatement ! Or nous aimerions qu'elle ne se ferme que sur demande explicite de l'utilisateur, par exemple par un clic sur la croix. C'est l\u00e0 qu'intervient la notion de boucle d'\u00e9v\u00e8nements . Dans un programme classique, en programmation imp\u00e9rative , le programme se d\u00e9roule plus ou moins lin\u00e9airement de la premi\u00e8re ligne \u00e0 la derni\u00e8re. Mais lorsqu'on utilise des interfaces graphiques , on ne peut pr\u00e9voir \u00e0 l'avance le comportement de l'utilisateur, et donc suivre un chemin clairement d\u00e9fini \u00e0 l'avance. C'est pour cette raison qu'on utilise plut\u00f4t le paradigme de la programmation \u00e9v\u00e9nementielle , c'est-\u00e0-dire un paradigme o\u00f9 on pr\u00e9voira l'action de l'utilisateur, mais pas dans un ordre pr\u00e9cis. Chaque action pr\u00e9vue dans la boucle d'\u00e9v\u00e8nements aura un impact pr\u00e9cis. Dans notre cas, nous souhaiterions que la fen\u00eatre reste ouverte tant que l'utilisateur n'a pas exprim\u00e9 le d\u00e9sir de la fermer, soit par l'interm\u00e9diaire de la croix, soit par l'interm\u00e9diaire de la combinaison de touches Alt + F4 . Notion d'\u00e9v\u00e8nements Dans la construction d'interfaces graphiques, on utilise souvent la notion d' \u00e9v\u00e8nements . Un \u00e9v\u00e8nement correspond \u00e0 : un d\u00e9placement de la souris ; le survol d'une zone sp\u00e9cifique de l'\u00e9cran par le pointeur de la souris ; un appui sur une ou plusieurs touches du clavier : le rel\u00e2chement d'une touche de clavier ; un appui ou rel\u00e2chement d'un bouton de la souris ; un \u00e9v\u00e9nement sp\u00e9cifique pr\u00e9vu dans le programme ; un changement de luminosit\u00e9 devant un capteur vid\u00e9o ; ... Ces \u00e9v\u00e8nements sont stock\u00e9s \u00e0 leur apparition dans une file (fifo) de dimension limit\u00e9e , nettoy\u00e9e r\u00e9guli\u00e8rement de ses \u00e9v\u00e8nements les plus anciens. Dans pygame , les \u00e9v\u00e8nements sont des constantes, et celui qui nous int\u00e9resse est l'\u00e9v\u00e8nement QUIT . Nous allons donc parcourir la liste des \u00e9v\u00e8nements pour ensuite pouvoir quitter la fen\u00eatre si celui-ci est exprim\u00e9 : 1 2 3 4 5 6 7 8 9 10 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) for event in pygame . event . get () : if event == QUIT : pygame . quit () L'arnaque : \u00e7a ne marche pas ! On retombe sur notre probl\u00e8me pr\u00e9c\u00e9dent : la fen\u00eatre ne se ferme plus... C'est parce que la file d'\u00e9v\u00e8nements se construit et se nettoie tr\u00e8s rapidement ! Nous n'avons pas le temps de cliquer sur la croix que d\u00e9j\u00e0 le parcours par la boucle for est termin\u00e9 ! Et donc dans ce cas on ne passe jamais par l'instruction pygame.quit() . Il va donc falloir r\u00e9p\u00e9ter la lecture d'\u00e9v\u00e8nements pour pouvoir d\u00e9tecter quand l'utilisateur souhaite fermer sa fen\u00eatre. Boucle d'\u00e9v\u00e8nements Une boucle d'\u00e9v\u00e8nements est une boucle qui se r\u00e9p\u00e8te tant qu'un \u00e9v\u00e8nement pr\u00e9cis ne s'est pas produit. A chaque tour de boucle on va lire la totalit\u00e9 des \u00e9v\u00e8nements enregistr\u00e9s dans la file, et on d\u00e9clenchera la sortie de cette boucle si l'\u00e9v\u00e8nement est trouv\u00e9. Pour notre exemple, nous allons cr\u00e9er une boucle while d\u00e9pendant d'une variable continuer initialis\u00e9e \u00e0 True , que nous basculerons \u00e0 False lorsque l'\u00e9v\u00e8nement QUIT est intercept\u00e9 : Un code fonctionnel 1 2 3 4 5 6 7 8 9 10 11 12 13 14 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False pygame . quit () Enfin ! Notre fen\u00eatre fonctionne !","title":"Cr\u00e9ation d'une fen\u00eatre graphique et boucle d'\u00e9v\u00e8nements"},{"location":"Miscellanees/Pygame/Base_pygame/#ajout-dimage-de-fond","text":"Image de fond Notre fond noir est un peu d\u00e9primant. Mettons un peu de verdure gr\u00e2ce \u00e0 l'image suivante : T\u00e9l\u00e9chargez cette image sous le nom background.jpg puis ajoutez la ligne suivante en ligne 7 : 7 fond = pygame . image . load ( \"background.jpg\" ) . convert () Bon : mauvaise nouvelle, ce ne sera pas suffisant ! La variable fond n'est qu'une r\u00e9f\u00e9rence \u00e0 une Surface de pygame , retourn\u00e9e par la fonction load() . Une Surface est une classe d'objets d\u00e9finie dans pygame qui poss\u00e8de de nombreux attributs et m\u00e9thodes (cf. la doc ). La m\u00e9thode convert() des objets Surface sert \u00e0 convertir l'image source au format utilis\u00e9 par pygame . Le principe d'affichage de la SDL (la sous-couche logicielle g\u00e9rant les images, le son, etc...) est \u00e0 conna\u00eetre pour bien afficher ses images : fenetre est une surface vide, sur laquelle on va \"coller\", ou \"empiler\" les autres images. Le fond doit donc \u00eatre empil\u00e9 sur la surface vide de la fen\u00eatre , gr\u00e2ce \u00e0 la m\u00e9thode blit() . Cette m\u00e9thode prend une Surface en argument ainsi qu'un tuple repr\u00e9sentant les coordonn\u00e9es du coin sup\u00e9rieur gauche auquel sera coll\u00e9 la Surface argument par rapport \u00e0 la Surface appelante. Syst\u00e8me de coordonn\u00e9es On peut donner comme exemples de tuple de coordonn\u00e9es ceux de l'image suivante : On pourrait donc utiliser le code suivant : 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False pygame . quit () Mais pourquoi \u00e7a n'affiche rien ! Parce que quand on blit une Surface , pygame calcule ce qu'il faut mais ne l'ex\u00e9cute pas r\u00e9ellement. Il faut forcer le rafra\u00eechissement de l'\u00e9cran pour y parvenir, par l'interm\u00e9diaire de la commande pygame.display.update() . Comme nous comptons bien faire bouger un personnage sur l'\u00e9cran, et que les mouvements de celui-ci d\u00e9pendront de la boucle d'\u00e9v\u00e8nements, autant mettre imm\u00e9diatement cette commande en fin de boucle, pour que l'image soit syst\u00e9matiquement mise \u00e0 jour. : 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () fenetre . blit ( fond ,( 0 , 0 )) continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False pygame . display . update () pygame . quit () Et voil\u00e0 ! 15 lignes de code, et nous voil\u00e0 avec une fen\u00eatre graphique digne de ce nom !","title":"Ajout d'image de Fond"},{"location":"Miscellanees/Pygame/Base_pygame/#ajout-du-sprite-du-joueur","text":"Les sprites Explications Code complet Ajoutons maintenant une nouvelle image, celle repr\u00e9sentant le personnage du joueur. Cette image est de dimension \\(100 \\times 100\\) , et nous voudrions la placer tout en bas de l'\u00e9cran, au centre. Les coordonn\u00e9es de son coin sup\u00e9rieur gauche seront donc \\((\\dfrac{640 - 100}{2} ; 480 - 100)\\) . Pour cela, on ajoute hors de la boucle la commande suivante perso = pygame.image.load(\"perso.png\").convert() , suivie de la commande fenetre.blit(perso,(270,380)) (mais apr\u00e8s avoir coll\u00e9 le fond). 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () perso = pygame . image . load ( \"Perso.png\" ) . convert () fenetre . blit ( fond ,( 0 , 0 )) fenetre . blit ( perso , ( 270 , 380 )) continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False pygame . display . update () pygame . quit () Transparence et canal alpha Canal Alpha Code complet Et les autres formats ? Le r\u00e9sultat est peu probant. En effet nous voyons un cadre noir autour sprite du personnage. Il va donc falloir ajouter de la transparence \u00e0 cette image. Cette possibilit\u00e9 est offerte par le format png , qui poss\u00e8de un format de couleur bas\u00e9 sur la syst\u00e8me RGB + canal Alpha . Un pixel est donc repr\u00e9sent\u00e9 par 4 octets : Les trois premiers pour les canaux RGB , chacun \u00e9tant donc repr\u00e9sent\u00e9 par un nombre entre 0 et 255 ( sommairement 0 repr\u00e9sentant le canal \u00e9teint, et 255 le canal allum\u00e9 au maximum) ; Le dernier octet pour le canal Alpha , qui va repr\u00e9senter le niveau de transparence du pixel. Ainsi un pixel poss\u00e9dant un canal Alpha \u00e0 \\(0\\) sera totalement transparent, alors qu'avec une valeur de \\(255\\) , il sera totalement opaque. Pygame est bien entendu capable de g\u00e9rer cette transparence, il suffit d'utiliser la m\u00e9thode convert_alpha() \u00e0 la place de la m\u00e9thode convert() . 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () perso = pygame . image . load ( \"Perso.png\" ) . convert_alpha () fenetre . blit ( fond ,( 0 , 0 )) fenetre . blit ( perso , ( 270 , 380 )) continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False pygame . display . update () pygame . quit () Le format png est \u00e0 privil\u00e9gier pour l'utilisation de sprites. cependant il est aussi possible de forcer une couleur d'une image de format quelconque \u00e0 devenir transparente, gr\u00e2ce \u00e0 la m\u00e9thode set_colorkey() utilis\u00e9e comme dans la ligne suivante : image.set_colorkey((255,255,255)) Ici on a rendu la couleur blanche (triplet RGB \\((255, 255, 255)\\) ) transparente pour l'objet image .","title":"Ajout du sprite du joueur"},{"location":"Miscellanees/Pygame/Base_pygame/#deplacement-du-joueur","text":"Cette partie a pour objectif de vous faire comprendre deux points : la notion d'objet Rect de pygame ; l'utilisation d'\u00e9v\u00e8nements claviers. Elle n'est pas formellement correcte, car je n'utilise pas ici de constructeur d'objets et de capteurs d'\u00e9v\u00e8nements. Nous verrons ceci dans la partie suivante. Images et objets Rect Pygame utilises des objets de type Rect pour stocker et manipuler des surfaces rectangulaires. Un objet de type Rect peut \u00eatre cr\u00e9er par une combinaison de valeurs left, top, width, height repr\u00e9sentant respectivement l'abscisse du c\u00f4t\u00e9 gauche du rectangle, l'ordonn\u00e9e du c\u00f4t\u00e9 haut du rectangle, sa largeur puis sa hauteur en pixels. Des objets de type Rect peuvent \u00eatre aussi cr\u00e9\u00e9s \u00e0 partir d'autres objets pygame qui sont soit des Rect , soit poss\u00e8dent un attribut nomm\u00e9 rect (ce qui est le cas des images). Un objet de type Rect poss\u00e8de de nombreux attributs d\u00e9finissant la position et la taille de l'objet : x,y top, left, bottom, right topleft, bottomleft, topright, bottomright midtop, midleft, midbottom, midright center, centerx, centery size, width, height w,h On peut aussi affecter directement tous ces attributs : rect1.right = 10 rect2.center = (20,30) Affecter \u00e0 size, width, height, w ou h change les dimensions du rectangle. Toute les autres affectations d\u00e9placent le rectangle sans le redimmensionner. Notez que certains attributs sont des entiers ( x, y, top, bottom, centerx,... ), et que d'autres sont des tuples d'entiers de dimension 2 ( topleft, bottomright, center,... ) Les m\u00e9thodes ou fonctions `Rect` qui changent la position ou la taille d'un Rect renvoient une nouvelle copie de ce Rect avec les changements effectu\u00e9s . Le Rect original n'est pas modifi\u00e9. Cependant certaines m\u00e9thodes ont une version in-place qui retournent None mais affectent le Rect original. Ces m\u00e9thodes \"in-place\" sont celles pr\u00e9fix\u00e9es par ip_ . La liste compl\u00e8te des m\u00e9thodes et des d\u00e9tails est bien s\u00fbr disponible dans la doc pygame . Les \u00e9v\u00e8nements claviers Lorsque vous coderez une interface graphique, il est probable que vous assignerez des touches clavier aux diff\u00e9rentes actions. Le type d'\u00e9v\u00e9nement cr\u00e9\u00e9 lorsque l'on appuie sur une touche est rep\u00e9r\u00e9 par la constante KEYDOWN , (ou KEYUP au rel\u00e2chement de la touche). Dans la boucle d'\u00e9v\u00e8nement, on pourra alors utiliser une structure conditionnelle telle que if event.type == KEYDOWN: Mais attention, cette condition sera vraie quelque soit la touche press\u00e9e ! Pour d\u00e9finir une seule touche du clavier, vous devrez utilisez en plus event.key , qui d\u00e9termine la touche press\u00e9e, disponible uniquement lors d'un \u00e9v\u00e9nement clavier. Cet event.key peut prendre les valeurs suivantes : Lettres: K_a ... K_z Nombres: K_0 ... K_9 Contr\u00f4les: K_TAB, K_RETURN, K_ESCAPE,... Fl\u00e8ches: K_LEFT, K_UP, K_RIGHT, K_DOWN ... La liste compl\u00e8te des constantes est disponible ici D\u00e9placement du sprite de gauche \u00e0 droite Mise en place du code Code complet Bien maintenant nous savons a peu pr\u00eat quoi faire. Commen\u00e7ons par cr\u00e9er un Rect a partir de l'image du personnage, juste apr\u00e8s la ligne de cr\u00e9ation de l'image perso : persoRect = perso.get_rect() Mais attention, on ne vient que de cr\u00e9er le Rect , et il n'a pas de position d\u00e9finie. On va alors effacer la ligne de blit du personnage, et la remplacer par : persoRect.topleft = (270,380) Notre rectangle est ainsi positionn\u00e9 correctement au centre de l'\u00e9cran, en bas. Nous allons modifier ensuite persoRect pour d\u00e9placer le sprite. Nous fixons la vitesse de d\u00e9placement du sprite avec une base de \\(10\\) pixels par tour de boucle. Dans la boucle d'\u00e9v\u00e9nement, nous ajoutons alors les lignes suivantes : if event.type == KEYDOWN : if event.key == K_LEFT : if persoRect.left>=10 : persoRect = persoRect.move(-10,0) if event.key == K_RIGHT : if persoRect.right<=630 : persoRect = persoRect.move(10,0) Nous avons ainsi un d\u00e9placement, mais si vous testez le code \u00e0 ce moment, rien ne se passe. En effet, il ne faut pas oublier de blitter l'image \u00e0 la nouvelle position du Rect . On rajoute donc \u00e0 la fin de la boucle while True la ligne suivante : fenetre.blit(perso, persoRect) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 import pygame from pygame.locals import * pygame . init () fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () perso = pygame . image . load ( \"Perso.png\" ) . convert_alpha () persoRect = perso . get_rect () persoRect . topleft = ( 270 , 380 ) fenetre . blit ( fond ,( 0 , 0 )) continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False if event . type == KEYDOWN : if event . key == K_LEFT : if persoRect . left >= 10 : persoRect = persoRect . move ( - 10 , 0 ) if event . key == K_RIGHT : if persoRect . right <= 630 : persoRect = persoRect . move ( 10 , 0 ) fenetre . blit ( perso , persoRect ) pygame . display . update () pygame . quit () Mais c'est nul ! raisons et corrections Le code complet Et oui, pour plusieurs raisons : * la page ne se rafra\u00eechit pas totalement, et la trace des anciennes positions du sprite est gard\u00e9e; * il faut r\u00e9-appuyer sur la touche pour re-d\u00e9placer le personnage, le d\u00e9placement n'est pas fluide. Le premier probl\u00e8me vient de la ligne pygame.display.update() , qui ne change que les pixels modifi\u00e9s par rapport au dernier affichage. Une solution simple consiste \u00e0 forcer l'affichage du fond avant le blit du sprite : fenetre . blit ( fond , ( 0 , 0 )) fenetre . blit ( perso , persoRect ) Pour le second probl\u00e8me, une solution simple (mais pas toujours efficace) consiste \u00e0 utiliser la m\u00e9thode set_repeat() du module key ,qui prend en param\u00e8tres : le d\u00e9lai avant de continuer les d\u00e9placements quand la touche reste enfonc\u00e9e (en millisecondes); le temps entre chaque d\u00e9placement. (en millisecondes) Vous devez donc, apr\u00e8s initialisation de pygame placer la ligne : pygame.key.set_repeat(400, 30) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 import pygame from pygame.locals import * pygame . init () pygame . key . set_repeat ( 400 , 30 ) fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () perso = pygame . image . load ( \"Perso.png\" ) . convert_alpha () persoRect = perso . get_rect () persoRect . topleft = ( 270 , 380 ) fenetre . blit ( fond ,( 0 , 0 )) continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False if event . type == KEYDOWN : if event . key == K_LEFT : if persoRect . left >= 10 : persoRect = persoRect . move ( - 10 , 0 ) if event . key == K_RIGHT : if persoRect . right <= 630 : persoRect = persoRect . move ( 10 , 0 ) fenetre . blit ( fond , ( 0 , 0 )) fenetre . blit ( perso , persoRect ) pygame . display . update () pygame . quit () Une solution plus \u00e9l\u00e9gante, et plus efficace (mais inutile ici) Solution Le code de remplacement Le probl\u00e8me de l'utilisation de la m\u00e9thode ci-dessus est qu'il est impossible de traiter des appuis sur des combinaisons de touches, puisqu'une seule touche est repr\u00e9sent\u00e9e par l'attribut event.key . Heureusement, les concepteurs de pygame ont pr\u00e9vu une m\u00e9thode bien plus efficace : la m\u00e9thode get_pressed() du module key , qui renvoie un dictionnaire de bool\u00e9ens ayant pour cl\u00e9 la constante repr\u00e9sentant la touche, et pour lequel les valeurs True correspondent aux touches actuellement appuy\u00e9es. On peut alors retirer de la boucle d'\u00e9v\u00e8nements toute la partie concernant les appuis de touches, et les remplacer par : dicKeys = pygame . key . get_pressed () if dicKeys [ K_LEFT ] : if persoRect . left >= 10 : persoRect = persoRect . move ( - 10 , 0 ) if dicKeys [ K_RIGHT ] : if persoRect . right <= 630 : persoRect = persoRect . move ( 10 , 0 ) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 import pygame from pygame.locals import * pygame . init () pygame . key . set_repeat ( 400 , 30 ) fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () perso = pygame . image . load ( \"Perso.png\" ) . convert_alpha () persoRect = perso . get_rect () persoRect . topleft = ( 270 , 380 ) fenetre . blit ( fond ,( 0 , 0 )) continuer = True while continuer : for event in pygame . event . get (): if event . type == QUIT : continuer = False dicKeys = pygame . key . get_pressed () if dicKeys [ K_LEFT ] : if persoRect . left >= 10 : persoRect = persoRect . move ( - 10 , 0 ) if dicKeys [ K_RIGHT ] : if persoRect . right <= 630 : persoRect = persoRect . move ( 10 , 0 ) fenetre . blit ( fond , ( 0 , 0 )) fenetre . blit ( perso , persoRect ) pygame . display . update () pygame . quit ()","title":"D\u00e9placement du joueur"},{"location":"Miscellanees/Pygame/Base_pygame/#creation-dune-classe-dobjets-balle","text":"classe Balle Interface Code du fichier balle.py Sachant que plusieurs balles vont tomber simultan\u00e9ment, nous allons construire une classe d'objets pour repr\u00e9senter ces balles. Chaque balle sera repr\u00e9sent\u00e9e par une image , qui devra donc \u00eatre associ\u00e9e \u00e0 un rectangle . Chaque balle aura une position, qui sera donn\u00e9e originellement par son centre . Elle aura par ailleurs une vitesse , dont la valeur de d\u00e9part sera tir\u00e9e al\u00e9atoirement entre 1 et 5. Un certain nombre d'actions seront utilis\u00e9es sur ou par cette balle : elle se d\u00e9placera d'un nombre de pixels \u00e9gal \u00e0 sa vitesse ; on testera sa collision avec le joueur, en renvoyant un bool\u00e9en ; et bien sur on l' affichera dans la fenetre courante. On repr\u00e9sente donc la classe balle par l'interface suivante : Nous impl\u00e9mentons de cette classe dans un fichier balle.py . Le code est donn\u00e9 dans l'onglet ci contre, et ne n\u00e9cessite que peu de commentaires, \u00e0 part pour la m\u00e9thode collision(self,targetRect) . Dans le cadre de ce tutoriel, nous utiliserons la m\u00e9thode colliderect des objets Rect . Cette m\u00e9thode renvoie True si le rectangle de la balle est en collision avec le rectangle pass\u00e9 en argument et False sinon. Deux rectangles sont en collision si ils ont une partie commune. Pour les amateurs de hitbox plus pr\u00e9cises, il faudra voir du c\u00f4t\u00e9 de la classe Mask de pygame , qui utilise le canal alpha ou bien une cl\u00e9 colorim\u00e9trique pour d\u00e9tecter des collisions au pixel pr\u00e8s. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 import pygame from random import randint class Balle : def __init__ ( self , image , center ) : \"\"\" Initialisation d'un objet de classe Balle a partir de deux arguments : - image est l'adresse relative ou absolue de l'image voulue pour l'objet ; - center est un tuple de deux entiers donnant la position du centre de la balle lors de sa cr\u00e9ation.\"\"\" self . image = pygame . image . load ( image ) . convert_alpha () self . rect = self . image . get_rect () self . rect . center = center self . vitesse = randint ( 1 , 5 ) def affiche ( self , fenetre ) : fenetre . blit ( self . image , self . rect ) def deplace ( self ) : self . rect = self . rect . move ( 0 , self . vitesse ) def collision ( self , targetRect ) : return self . rect . colliderect ( targetRect )","title":"Cr\u00e9ation d'une classe d'objets \"Balle\""},{"location":"Miscellanees/Pygame/Base_pygame/#apparition-des-objets-balle-et-gestion-des-collisions","text":"\u00c9tablissons les r\u00e8gles On pose les r\u00e8gles suivantes concernant les balles : elles ne peuvent pas \u00eatre plus de 10 simultan\u00e9ment ; elles sont construites \u00e0 partir de l'image suivante, de dimension \\(50 \\times 50\\) : elles apparaissent avec une abscisse al\u00e9atoire entre 25 et 455 (pour ne pas d\u00e9passer de l'\u00e9cran ; elles disparaissent une fois compl\u00e8tement sorties de l'\u00e9cran ; le jeu s'arr\u00eate et ferme la fen\u00eatre d\u00e8s que le personnage est touch\u00e9 par une balle. Codons ! Description le code complet du fichier dodegTheBall.py Commen\u00e7ons d\u00e9j\u00e0 par importer les objets de types Balle depuis balle.py , et importons aussi au passage la fonction randint du module random dont nous aurons besoin pour les tirages al\u00e9atoires des positions de d\u00e9part. from balle import Balle from random import randint Les balles existantes seront stock\u00e9es dans une liste python tout ce qui est de plus classique. Nous cr\u00e9ons donc une variable listeBalles au d\u00e9part vide, juste avant la boucle while continuer : . listeBalles = [] Ensuite il faut cr\u00e9er un syst\u00e8me d'apparition des balles. Pour cela, dans la boucle while continuer : , nous allons \u00e0 chaque tour de boucle ajouter une balle, si la longueur de la liste est inf\u00e9rieure \u00e0 10. Mais ce ne sera pas suffisant ! En effet, la boucle tourne tr\u00e8s vite ! Plusieurs centaines de fois voir plusieurs milliers de fois par seconde . Donc dans ce cas, le joueur aurait l'impression que les 10 balles arrivent de mani\u00e8re simultan\u00e9es. Il faut donc introduire un syst\u00e8me permettant de limiter ces apparitions, tout en gardant un c\u00f4t\u00e9 al\u00e9atoire pour le jeu. On utilisera alors les lignes suivantes : if len ( listeBalles ) < 10 and randint ( 1 , 500 ) <= 10 : listeBalles . append ( Balle ( 'golfBall.png' ,( randint ( 25 , 455 ), - 25 ))) Les valeurs pr\u00e9sentes dans la condition randint ont \u00e9t\u00e9 test\u00e9e sur mon PC, mais elles peuvent \u00eatre modifi\u00e9es selon la puissance de votre machine. Voil\u00e0, les objets de type Balle sont cr\u00e9es selon les conditions que nous avons pos\u00e9es au d\u00e9part. Reste \u00e0 les afficher, les d\u00e9placer et les faire dispara\u00eetre le cas \u00e9ch\u00e9ant. Pour les d\u00e9placer et les afficher, pla\u00e7ons nous juste apr\u00e8s le blit de l'image de fond. Nous parcourons alors la liste des balles et leur appliquons successivement les m\u00e9thodes deplace() et affiche() , en donnant comme argument la fen\u00eatre courante pour l'affichage : for ball in listeBalles : ball . deplace () ball . affiche ( fenetre ) Probl\u00e8me : nos balles disparaissent de l'\u00e9cran, mais de nouvelles n'apparaissent plus. C'est normal, nous avons satur\u00e9 la variable listeBalles qui ne peut contenir plus de 10 objets. Il faut donc faire dispara\u00eetre les objets de la liste quand ils sortent de l'\u00e9cran. for ball in listeBalles : ball . deplace () if ball . rect . top >= 480 : listeBalles . remove ( ball ) else : ball . affiche ( fenetre ) Il ne nous reste plus qu'\u00e0 g\u00e9rer la fin du jeu : quand une balle entre en collision avec le joueur, nous basculons la variable continuer \u00e0 False pour arr\u00eater la boucle while : for ball in listeBalles : ball . deplace () if ball . rect . top >= 480 : listeBalles . remove ( ball ) else : if ball . collision ( persoRect ) : continuer = False ball . affiche ( fenetre ) Voil\u00e0, le contrat est rempli. Bien entendu ce n'est qu'un d\u00e9but de jeu, et il reste beaucoup de points \u00e0 am\u00e9liorer. Mais vous avez maintenant les bases pour vous permettre de r\u00e9aliser des jeux d'arcades classiques. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 import pygame from pygame.locals import * from balle import Balle from random import randint pygame . init () pygame . key . set_repeat ( 400 , 30 ) fenetre = pygame . display . set_mode (( 640 , 480 )) fond = pygame . image . load ( \"background.jpg\" ) . convert () perso = pygame . image . load ( \"Perso.png\" ) . convert_alpha () persoRect = perso . get_rect () persoRect . topleft = ( 270 , 380 ) fenetre . blit ( fond ,( 0 , 0 )) continuer = True listeBalles = [] while continuer : if len ( listeBalles ) < 10 and randint ( 1 , 500 ) <= 10 : listeBalles . append ( Balle ( 'golfBall.png' ,( randint ( 25 , 455 ), - 25 ))) for event in pygame . event . get (): if event . type == QUIT : continuer = False if event . type == KEYDOWN : if event . key == K_LEFT : if persoRect . left >= 10 : persoRect = persoRect . move ( - 10 , 0 ) if event . key == K_RIGHT : if persoRect . right <= 630 : persoRect = persoRect . move ( 10 , 0 ) fenetre . blit ( fond , ( 0 , 0 )) for ball in listeBalles : ball . deplace () if ball . rect . top >= 480 : listeBalles . remove ( ball ) else : if ball . collision ( persoRect ) : continuer = False ball . affiche ( fenetre ) fenetre . blit ( perso , persoRect ) pygame . display . update () pygame . time . wait ( 10 ) pygame . quit ()","title":"Apparition des objets Balle et gestion des collisions"},{"location":"Miscellanees/Pygame/InstallationPygame/","text":"Installation de Pygame dans Thonny C'est quoi Pygame Pygame Pygame est une biblioth\u00e8que (= un ensemble de modules), libre, multiplate-forme, qui facilite le d\u00e9veloppement de jeux vid\u00e9o temps r\u00e9el avec le langage de programmation Python. \"Construite sur la biblioth\u00e8que SDL , elle permet de programmer la partie multim\u00e9dia (graphismes, son et entr\u00e9es au clavier, \u00e0 la souris ou au joystick), sans se heurter aux difficult\u00e9s des langages de bas niveaux comme le C et ses d\u00e9riv\u00e9s. Cela se fonde sur la supposition que la partie multim\u00e9dia, souvent la plus contraignante \u00e0 programmer dans un tel jeu, est suffisamment ind\u00e9pendante de la logique m\u00eame du jeu pour qu'on puisse utiliser un langage de haut niveau (en l'occurrence le Python) pour la structure du jeu. Pygame, en plus d'adapter la SDL au Python, fournit \u00e9galement un petit nombre de fonctions sp\u00e9cifiques au d\u00e9veloppement de jeux. On peut aussi remarquer que Pygame n'est plus utilis\u00e9e exclusivement pour des jeux vid\u00e9o, mais \u00e9galement pour des applications diverses n\u00e9cessitant du graphisme. \" wikipedia . Depuis Octobre 2020, apr\u00e8s 20 ans d'existence, pygame est pass\u00e9 en version 2, et c'est une tr\u00e8s bonne nouvelle ! O\u00f9 trouver de la documentation ? La documentation en fran\u00e7ais de Pygame est \u00e0 la fois assez limit\u00e9e (il n'y a pas un site de r\u00e9f\u00e9rence) et en m\u00eame temps tr\u00e8s touffue (on trouve des dizaines de vid\u00e9os tutorielles sur Youtube). On trouvera cependant l'excellent tutoriel situ\u00e9 autrefois sur le site du z\u00e9ro (c'est une copie de mauvaise qualit\u00e9 graphique, mais le document en lui m\u00eame est excellent). Pour les plus anglophones d'entre-vous (mais vous l'\u00eates tous \ud83d\ude1b ), vous trouverez toutes les informations n\u00e9cessaires dans la documentation de pygame . Installation du module dans Thonny How to Dans Thonny, ouvrez le menu Tools puis Manage Packages : Dans la nouvelle fen\u00eatre, tapez pygame puis Search on PyPI : S\u00e9lectionnez le module pygame dans la fen\u00eatre de r\u00e9sultats : Cliquez enfin sur Install : Une fois ces manipulations termin\u00e9es, vous pouvez tester l'installation de Pygame dans le shell de Thonny . Si vous avez un message de bienvenue tel que dans l'image ci-contre, Pygame est install\u00e9. Sinon vous devriez recommencer l'installation, ou bien chercher l'erreur rencontr\u00e9e sur StackOverflow . Installation hors de Thonny Si vous n'utilisez pas d' environnements virtuel python (c'est une tr\u00e8s mauvaise id\u00e9e), vous pouvez toujours utiliser la commande suivante pour installer pygame : python3 -m pip install pygame Si vous utilisez un venv python, vous savez d\u00e9j\u00e0 probablement quoi faire !","title":"Installation"},{"location":"Miscellanees/Pygame/InstallationPygame/#installation-de-pygame-dans-thonny","text":"","title":"Installation de Pygame dans Thonny"},{"location":"Miscellanees/Pygame/InstallationPygame/#cest-quoi-pygame","text":"Pygame Pygame est une biblioth\u00e8que (= un ensemble de modules), libre, multiplate-forme, qui facilite le d\u00e9veloppement de jeux vid\u00e9o temps r\u00e9el avec le langage de programmation Python. \"Construite sur la biblioth\u00e8que SDL , elle permet de programmer la partie multim\u00e9dia (graphismes, son et entr\u00e9es au clavier, \u00e0 la souris ou au joystick), sans se heurter aux difficult\u00e9s des langages de bas niveaux comme le C et ses d\u00e9riv\u00e9s. Cela se fonde sur la supposition que la partie multim\u00e9dia, souvent la plus contraignante \u00e0 programmer dans un tel jeu, est suffisamment ind\u00e9pendante de la logique m\u00eame du jeu pour qu'on puisse utiliser un langage de haut niveau (en l'occurrence le Python) pour la structure du jeu. Pygame, en plus d'adapter la SDL au Python, fournit \u00e9galement un petit nombre de fonctions sp\u00e9cifiques au d\u00e9veloppement de jeux. On peut aussi remarquer que Pygame n'est plus utilis\u00e9e exclusivement pour des jeux vid\u00e9o, mais \u00e9galement pour des applications diverses n\u00e9cessitant du graphisme. \" wikipedia . Depuis Octobre 2020, apr\u00e8s 20 ans d'existence, pygame est pass\u00e9 en version 2, et c'est une tr\u00e8s bonne nouvelle !","title":"C'est quoi Pygame"},{"location":"Miscellanees/Pygame/InstallationPygame/#ou-trouver-de-la-documentation","text":"La documentation en fran\u00e7ais de Pygame est \u00e0 la fois assez limit\u00e9e (il n'y a pas un site de r\u00e9f\u00e9rence) et en m\u00eame temps tr\u00e8s touffue (on trouve des dizaines de vid\u00e9os tutorielles sur Youtube). On trouvera cependant l'excellent tutoriel situ\u00e9 autrefois sur le site du z\u00e9ro (c'est une copie de mauvaise qualit\u00e9 graphique, mais le document en lui m\u00eame est excellent). Pour les plus anglophones d'entre-vous (mais vous l'\u00eates tous \ud83d\ude1b ), vous trouverez toutes les informations n\u00e9cessaires dans la documentation de pygame .","title":"O\u00f9 trouver de la documentation ?"},{"location":"Miscellanees/Pygame/InstallationPygame/#installation-du-module-dans-thonny","text":"How to Dans Thonny, ouvrez le menu Tools puis Manage Packages : Dans la nouvelle fen\u00eatre, tapez pygame puis Search on PyPI : S\u00e9lectionnez le module pygame dans la fen\u00eatre de r\u00e9sultats : Cliquez enfin sur Install : Une fois ces manipulations termin\u00e9es, vous pouvez tester l'installation de Pygame dans le shell de Thonny . Si vous avez un message de bienvenue tel que dans l'image ci-contre, Pygame est install\u00e9. Sinon vous devriez recommencer l'installation, ou bien chercher l'erreur rencontr\u00e9e sur StackOverflow .","title":"Installation du module dans Thonny"},{"location":"Miscellanees/Pygame/InstallationPygame/#installation-hors-de-thonny","text":"Si vous n'utilisez pas d' environnements virtuel python (c'est une tr\u00e8s mauvaise id\u00e9e), vous pouvez toujours utiliser la commande suivante pour installer pygame : python3 -m pip install pygame Si vous utilisez un venv python, vous savez d\u00e9j\u00e0 probablement quoi faire !","title":"Installation hors de Thonny"},{"location":"Miscellanees/Pyodide-mkdocs/Pyodide-mkdocs/","text":"Installation de Pyodide-mkdocs Depuis https://bouillotvincent.gitlab.io/pyodide-mkdocs/ , suivre \u00e0 la lettre le tutoriel. Modifier main.py : ajouter from math import log10 ajouter MAX_EMPTY_IDE = 10 \u00e0 define_env ajouter import hashlib dans read_ext_file , changer docs_path = f\"\"\"docs\"\"\" changement dans : python path_file = '/'.join(filter(lambda folder: folder != \"\", convert_url_to_utf8(env.variables.page.abs_url).split('/')[1:-2])) #Changer le 2 en 1 * changement dans if path == \"\" : print ( f \"Try to open { docs_path } / { nom_script } . { filetype } \" ) # suppression de /scripts/ f = open ( f \"\"\" { docs_path } / { nom_script } . { filetype } \"\"\" ) Plein de hacks pour les boutons : ```` pythonlen_path = len(convert_url_to_utf8(env.variables.page.abs_url).split('/')) fix_url = env.macros.fix_url if len_path> 1 : path_img = \"/\"+'../'*(len(convert_url_to_utf8(env.variables.page.abs_url).split('/'))-3) else : path_img =\"\" if '127.0.0.1' not in env.variables.config['site_url'] : path_img = fix_url(path_img) path_file = '/'.join(filter(lambda folder: folder != \"\", convert_url_to_utf8(env.variables.page.abs_url).split('/')[1:-2])) et ```` python div_edit += tooltip_button(f\"\"\"'interpretACE(\"editor_{tc}\",\"{mode}\")'\"\"\", f\"\"\"<img src=\"{path_img}images/buttons/icons8-play-64.png\"><span class=\"tooltiptext\">Lancer</span>\"\"\") div_edit += create_unittest_button(tc, nom_script, path_file, mode, MAX) + blank_space(1) div_edit += tooltip_button(f\"\"\"\\'downloadFile(\"editor_{tc}\",\"{nom_script}\")\\'\"\"\", f\"\"\"<img src=\"{path_img}images/buttons/icons8-download-64.png\"><span class=\"tooltiptext\">T\u00e9l\u00e9charger</span>\"\"\")+ blank_space() div_edit += create_upload_button(tc) + blank_space(1) div_edit += tooltip_button(f\"\"\"\\'reload(\"{tc}\")\\'\"\"\", f\"\"\"<img src=\"{path_img}images/buttons/icons8-restart-64.png\"><span class=\"tooltiptext\">Recharger</span>\"\"\") + blank_space() div_edit += tooltip_button(f\"\"\"\\'saveEditor(\"{tc}\")\\'\"\"\", f\"\"\"<img src=\"{path_img}images/buttons/icons8-save-64.png\"><span class=\"tooltiptext\">Sauvegarder</span>\"\"\") div_edit += '</div>' NE PAS OUBLIER DE CHANGER POUR TESTS ET UPLOAD","title":"Installation de Pyodide-mkdocs"},{"location":"Miscellanees/Pyodide-mkdocs/Pyodide-mkdocs/#installation-de-pyodide-mkdocs","text":"Depuis https://bouillotvincent.gitlab.io/pyodide-mkdocs/ , suivre \u00e0 la lettre le tutoriel. Modifier main.py : ajouter from math import log10 ajouter MAX_EMPTY_IDE = 10 \u00e0 define_env ajouter import hashlib dans read_ext_file , changer docs_path = f\"\"\"docs\"\"\" changement dans : python path_file = '/'.join(filter(lambda folder: folder != \"\", convert_url_to_utf8(env.variables.page.abs_url).split('/')[1:-2])) #Changer le 2 en 1 * changement dans if path == \"\" : print ( f \"Try to open { docs_path } / { nom_script } . { filetype } \" ) # suppression de /scripts/ f = open ( f \"\"\" { docs_path } / { nom_script } . { filetype } \"\"\" ) Plein de hacks pour les boutons : ```` pythonlen_path = len(convert_url_to_utf8(env.variables.page.abs_url).split('/')) fix_url = env.macros.fix_url if len_path> 1 : path_img = \"/\"+'../'*(len(convert_url_to_utf8(env.variables.page.abs_url).split('/'))-3) else : path_img =\"\" if '127.0.0.1' not in env.variables.config['site_url'] : path_img = fix_url(path_img) path_file = '/'.join(filter(lambda folder: folder != \"\", convert_url_to_utf8(env.variables.page.abs_url).split('/')[1:-2])) et ```` python div_edit += tooltip_button(f\"\"\"'interpretACE(\"editor_{tc}\",\"{mode}\")'\"\"\", f\"\"\"<img src=\"{path_img}images/buttons/icons8-play-64.png\"><span class=\"tooltiptext\">Lancer</span>\"\"\") div_edit += create_unittest_button(tc, nom_script, path_file, mode, MAX) + blank_space(1) div_edit += tooltip_button(f\"\"\"\\'downloadFile(\"editor_{tc}\",\"{nom_script}\")\\'\"\"\", f\"\"\"<img src=\"{path_img}images/buttons/icons8-download-64.png\"><span class=\"tooltiptext\">T\u00e9l\u00e9charger</span>\"\"\")+ blank_space() div_edit += create_upload_button(tc) + blank_space(1) div_edit += tooltip_button(f\"\"\"\\'reload(\"{tc}\")\\'\"\"\", f\"\"\"<img src=\"{path_img}images/buttons/icons8-restart-64.png\"><span class=\"tooltiptext\">Recharger</span>\"\"\") + blank_space() div_edit += tooltip_button(f\"\"\"\\'saveEditor(\"{tc}\")\\'\"\"\", f\"\"\"<img src=\"{path_img}images/buttons/icons8-save-64.png\"><span class=\"tooltiptext\">Sauvegarder</span>\"\"\") div_edit += '</div>' NE PAS OUBLIER DE CHANGER POUR TESTS ET UPLOAD","title":"Installation de Pyodide-mkdocs"},{"location":"Miscellanees/Securite/Securite_MDP/","text":"S\u00e9cuisation des mots de passes Un constat : vitesse de craquage des mots de passe ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder","title":"S\u00e9cuisation des mots de passes"},{"location":"Miscellanees/Securite/Securite_MDP/#secuisation-des-mots-de-passes","text":"","title":"S\u00e9cuisation des mots de passes"},{"location":"Miscellanees/Securite/Securite_MDP/#un-constat-vitesse-de-craquage-des-mots-de-passe","text":"### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder","title":"Un constat : vitesse de craquage des mots de passe"},{"location":"NSI/Premiere/C01/Bases_Python_1/","text":"D\u00e9buter avec Types de base Objets et types de base Le principe d'un programme est de manipuler des donn\u00e9es pour en produire de nouvelles. En Python, des donn\u00e9es sont appel\u00e9es des objets , et tout ce qui est manipulable est un objet. Tester les objets Test1 Test2 Test3 Test4 Une astuce Ex\u00e9cuter la commande suivante dans le terminal ci-dessous : 5 / 3 Ex\u00e9cuter la commande suivante dans le terminal ci-dessous : \"abra\" + \"cadabra\" Ex\u00e9cuter la commande suivante dans le terminal ci-dessous : 5 < 9 Ex\u00e9cuter la commande suivante dans le terminal ci-dessous : 4.5 + \"3.2\" Dans un terminal, la seule ligne active est celle du prompt , c'est-\u00e0-dire celle marqu\u00e9e par les chevrons >>> . On ne peut pas r\u00e9-ex\u00e9cuter une ligne d\u00e9j\u00e0 tap\u00e9e. Cependant, il est possible de r\u00e9cup\u00e9rer une ligne d\u00e9j\u00e0 tap\u00e9e, en utilisant l'historique de commande, en utilisant les fl\u00e8ches de direction Up et Down >>> Par exemple, dans le code suivant: ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder 5bksl-nl\"Toto\"bksl-nlTruebksl-nl4.5 # Attention, il s'agit de la notation americaine, donc pas de virgule mais un point...bksl-nl Lorsqu'on ex\u00e9cute ce code, on cr\u00e9e 4 objets diff\u00e9rents, pr\u00e9sents dans ce qu'on appelle l' espace des objets . Cependant l'ex\u00e9cution du script ne renvoie aucune donn\u00e9e (aucun objet ). En effet, un m\u00e9canisme existant dans tous les langages de programmation, appel\u00e9 garbage collector ( soit collecteur d'ordure ), nettoie automatiquement tout objet non utilis\u00e9. La m\u00e9moire de l'ordinateur \u00e9tant limit\u00e9e physiquement, il est n\u00e9cessaire de nettoyer tr\u00e8s r\u00e9guli\u00e8rement ( plusieurs centaines de fois par seconde) cette m\u00e9moire afin de garantir le bon fonctionnement de la machine. Le garbage collector a donc supprim\u00e9 les objets 5 , \"Toto\" , True et 4.5 . Regardons plus pr\u00e9cis\u00e9ment ces objets, en demandant \u00e0 Python gr\u00e2ce \u00e0 l'instruction built-in type() la nature des objets cr\u00e9es. Les types d'objets Dans la console ci-dessous, testez une par une les commandes suivantes : Test 1 Test 2 Test 3 Test 4 type ( \"Toto\" ) type ( True ) type ( 5 ) type ( 4.5 ) >>> Une erreur ? Si vous avez fait un copi\u00e9-coll\u00e9 du Test 4 pr\u00e9c\u00e9dent, vous avez obtenu une erreur telle que celle ci-dessous : >>> type ( 4.5 ) File \"<console>\" , line 1 type ( 4.5 ) ^ IndentationError : unexpected indent Il s'agit d'une erreur d'indentation , ce qui signifie que le code type(4.5) est d\u00e9cal\u00e9 par rapport au d\u00e9part de ligne. Ici, il y a 4 espaces devant, ce qui est obtenu en g\u00e9n\u00e9ral en appuyant sur la touche Tab dans les consoles Python ainsi que dans les principaux \u00e9diteurs. Il s'agit d'une erreur d'indentation , ce qui signifie que le code type(4.5) est d\u00e9cal\u00e9 par rapport au d\u00e9part de ligne. Ici, il y a 4 espaces devant, ce qui est obtenu en g\u00e9n\u00e9ral en appuyant sur la touche Tab dans les consoles Python ainsi que dans les principaux \u00e9diteurs. Types de bases et objets sp\u00e9cifiques Les types basiques de Python sont donc les suivants : le type int : qui permet de manipuler des nombres entiers relatifs, de \\(-2.10^{9}\\) \u00e0 \\(+2.10^9\\) (mais la plage pouvant \u00eatre \u00e9tendue, en pratique on ne s'int\u00e9resse pairs en python aux limites des entiers) ; le type float : qui permet de manipuler des nombres d\u00e9cimaux \u00e0 \\(32\\) bits (s'\u00e9crivant avec 32 chiffres binaires) entre \\(-10^{302}\\) et \\(+10^{302}\\) ( avec quelques subtilit\u00e9s, que nous verrons dans le chapitre correspondant au codage des nombres flottants ); le type str : qui permet de manipuler des cha\u00eenes de caract\u00e8res ; le type bool : qui permet de manipuler des valeurs bool\u00e9ennes , c'est \u00e0 dire vraies ou fausses, utilis\u00e9es par d\u00e9faut dans les instructions n\u00e9cessitant une condition ( if ou while par exemple). Chacun de ces types poss\u00e8de des op\u00e9rations qui lui sont propres. Elles sont nombreuses, et largement document\u00e9es dans la doc Python 3 officielle, en suivant le lien ci contre : Doc Python 3 en fran\u00e7ais . Il existe aussi des constantes sp\u00e9cifiques, c'est-\u00e0-dire des objets sp\u00e9ciaux, comme par exemple None , qui est un objet sans type, signifiant une absence de valeur. Nommage des objets et affectations Bien entendu, de mani\u00e8re quasi obligatoire, il est n\u00e9cessaire de conserver des objets et d'\u00e9viter que ceux-ci disparaissent avec le garbage collector . Pour cela, on va associer \u00e0 chaque objet un nom dans l' espace de nom , gr\u00e2ce \u00e0 l'op\u00e9ration d' affectation = , comme par exemple un_inconnu = \"Toto\" . Ici le nom de variable un_inconnu est associ\u00e9 \u00e0 l'objet de type cha\u00eene de caract\u00e8re \"Toto\" . Une fois un objet associ\u00e9 \u00e0 un nom, il n'est plus ramass\u00e9 automatiquement par le garbage collector , et peut \u00eatre rappel\u00e9 plus tard dans le code en utilisant son nom. Exemple Ex\u00e9cutez le code suivant, puis testez dans la console \u00e0 droite le type des objets suivants, en utilisant leur nom. ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder monpy-undentier = 5bksl-nllepy-undvraipy-undhero = \"Dark\"bksl-nlestpy-undactif = Truebksl-nlmonpy-undflottant = 3.2bksl-nlcpy-undestpy-undlui = \"Vador\"bksl-nl Testez ensuite chacune des propositions ci-dessous. Pour chacune d'entre elles, expliquez ce qui se passe. 1 2 3 4 5 6 7 mon_entier ** 2 le_vrai_hero + c_est_lui mon_flottant if est_actif else mon_entier mon_flottant if not ( est_actif ) else mon_entier type ( mon_flottant * mon_entier ) mon_entier == mon_flottant le_vrai_hero * 10 Comprendre l'affectation \u00c9nonc\u00e9 Solution On consid\u00e8re le code suivant : a = 5 b = 4.2 c = a + b a * c a = a * 3 Quel est l'\u00e9tat de la m\u00e9moire apr\u00e8s ex\u00e9cution du code ci-dessus ? . R\u00e8gles de nommage des variables Le nom donn\u00e9 \u00e0 l'objet peut \u00eatre n'importe lequel, en respectant les r\u00e8gles imp\u00e9ratives suivantes : Un nom de variable est une s\u00e9quence de lettres, de chiffres, qui ne doit pas commencer par un chiffre . La casse est significative (les caract\u00e8res majuscules et minuscules sont distingu\u00e9s). Donc Joseph , joseph , et JOSEPH sont des variables diff\u00e9rentes. Les \u00ab mots r\u00e9serv\u00e9s \u00bb du langage sont d\u00e9j\u00e0 pris (ex : type() , float , str ...). Il s'agit des instructions de bases et des fonctions natives ( voir ici ). Si vous nommez une variable comme un de ces mots, vous ne pourrez plus utiliser la fonctionnalit\u00e9 du mot r\u00e9serv\u00e9. Pour les cracks Il faut \u00e9galement noter que les variables dont le nom commence par le caract\u00e8re _ ont une signification particuli\u00e8re : les noms commen\u00e7ant par un _ ne sont pas export\u00e9s lorsqu'ils se trouvent dans un module ; les noms commen\u00e7ant par deux _ et finissant par deux _ sont r\u00e9serv\u00e9s par le langage lui m\u00eame, notamment pour la programmation orient\u00e9e objet. Ces deux points ci-dessus sont juste des indications pour l'instant, ils seront vu dans le futur, en particulier en terminale. Conventions de nommage et PEP8 Il existe quelques r\u00e8gles de \"bien nommage\" des variables, d\u00e9finies dans ce qu'on appelle la PEP8 , c'est-\u00e0-dire une description des bonnes pratiques d'\u00e9criture en Python. La PEP8 donne les conventions principales, qui permettent de lire plus facilement le code fourni par un\u00b7e autre codeur\u00b7euse. Les principales recommandations sont : Ne jamais utiliser les caract\u00e8res \"l\" (L minuscule), \"O\" (o majuscule), ou \"I\" (i majuscule) seuls comme nom de variables. Dans certaines polices, ces caract\u00e8res sont impossibles \u00e0 distinguer des num\u00e9riques un et z\u00e9ro. Lorsque vous \u00eates tent\u00e9\u00b7e d\u2019utiliser \"l\", utilisez \"L\" \u00e0 la place. Il est recommand\u00e9 d'\u00e9crire les noms de variables en minuscule. Si le nom de variable doit contenir plusieurs mots, on conseille d'\u00e9crire en snake_case , c'est-\u00e0-dire en s\u00e9parant les mots par le caract\u00e8re _ . Exemple : marge_brut . Il convient aussi d'\u00e9viter autant que possible l'\u00e9num\u00e9ration de variables ( toto1 , toto2 , toto3 , ...), cela rend le programme parfaitement incompr\u00e9hensible et sujet \u00e0 des erreurs. De mani\u00e8re g\u00e9n\u00e9rale, il convient de suivre aussi strictement que possible les r\u00e8gles \u00e9dict\u00e9es par la Python Software Foundation \u00e0 travers les normes PEP. Exercices \u00c9crire un code qui affecte l'objet 15 de type int \u00e0 une variable nomm\u00e9 valeur , puis ex\u00e9cuter l'instruction valeur*4 . ### Lancer benchmark = ['valeur == 15', 'valeurpy-str4 == 60']bksl-nl Valider 5/5 T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder bksl-nl \u00c9crire un code qui affecte l'objet \"15\" de type str \u00e0 une variable nomm\u00e9 texte , puis ex\u00e9cuter l'instruction texte*4 . ### Lancer benchmark = ['texte == \"15\"']bksl-nl Valider 5/5 T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder bksl-nl Compl\u00e9ter le code suivant afin que les objets des variables a et b soient invers\u00e9s, SANS UTILISER D'AFFECTATIONS DE NOMBRES, et sans toucher la valeur de c . ### Lancer benchmark = ['a == 200 and b == 10 and c == 4000']bksl-nl Valider 5/5 T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder a = 10bksl-nlb = 200bksl-nlc = 4000bksl-nl \u00c9crivez un code qui permute les objets des variables a , b et c ( l'objet de a est affect\u00e9 \u00e0 b , l'objet de b est affect\u00e9 \u00e0 c et l'objet de c est affect\u00e9 \u00e0 a ) sans utiliser de valeurs num\u00e9riques . ### Lancer benchmark = ['b = 10 and c = 200 and a = 4000']bksl-nl Valider 5/5 T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder a = 10bksl-nlb = 200 bksl-nlc = 4000bksl-nl Op\u00e9rations sur les objets Types num\u00e9riques et op\u00e9rations Pour les types num\u00e9riques, int et float (et pour le type complex , mais qui n'est pas vu en maths avant la terminale ), on trouve toutes les op\u00e9rations classiques. Addition enti\u00e8re >>> 5 + 2 #Addition enti\u00e8re 7 Addition flottante >>> 5.6 + 3.4 # Addition flottante ( Quel est le type du r\u00e9sultat ?) 9.0 Addition mixte >>> 5 + 3.4 # Addition entre un entier et un flottant ( Quel est le type du r\u00e9sultat ?) 8.4 Attention avec les flottants Testez dans la console ci-dessous l'instruction suivante 0.1 + 0.2 == 0.3 . Qu'obtient-on ? >>> Soustractions >>> 3.2 - 4 #Soustraction ( A tester de la m\u00eame mani\u00e8re) - 0.79999999999 Multiplication >>> 4 * 8.5 #Multiplication ( idem) 34.0 Division flottante >>> 1 / 3 #Division 0.3333333333333333 Attention ! Au r\u00e9sultat ci-dessus, le type obtenu est float , m\u00eame si le dividende et le diviseur sont entiers et que le r\u00e9sultat \u00ab tombe juste \u00bb... >>> 4 / 2 2.0 Division Euclidienne >>> 72 // 5 #Quotient de la division euclidienne 14 Ici par contre le r\u00e9sultat est bien de type int (A tester aussi...) Reste de la Division Euclidienne >>> 72 % 5 #reste de la division euclidienne ( ou modulo). 2 C'est un point important en informatique, nous avons souvent besoin du reste, aussi appel\u00e9 modulo . Par exemple pour savoir si un nombre entier est pair, on utilise : >>> 23 % 2 == 0 False Puissances >>> 10 ** 7 #Puissance 10000000 Op\u00e9rations avec les noms des objets Tourtes les op\u00e9rations faites avec les objets ci-dessus peuvent \u00eatre effectu\u00e9es directement sur les noms si ils existent : >>> a = 5 >>> b = 2 >>> a + b 7 >>> a % b 1 Vous pouvez tester ces \u00e9l\u00e9ments dans le terminal ci-dessous : >>> Types str (cha\u00eenes de caract\u00e8res) et op\u00e9rations D\u00e9clarations Une cha\u00eene de caract\u00e8re doit \u00eatre d\u00e9calr\u00e9e : soit entre une paire de guillemets simples ( simple quote ) : 'Toto' ; soit entre une paire de guillemets doubles ( double quote ) : \"Toto\" . L'utilisation de l'un ou de l'autre n'a pas d'importance, mais on peut rapidement se tromper selon le contenu de la cha\u00eene : Tester les cha\u00eenes de caract\u00e8res Tester les cha\u00eenes suivantes dans le terminal ci-dessous: 1 2 3 4 5 6 texte = \"Hello World !\" texte = 'Hello World !' texte = \"Salut l'ami !\" texte = 'Salut l' ami ! ' texte = 'Alors l\u00e0 je dis : \"Non !\"' texte = \"Alors l\u00e0 je dis : \" Non ! \"\" >>> Normalement, une cha\u00eene de caract\u00e8re, quelle que soit sa longueur, n'est consid\u00e9r\u00e9e \u00eatre que sur une seule et unique ligne. Il est cependant possible d'avoir des cha\u00eenes de caract\u00e8res multi-lignes, \u00e0 condition de les d\u00e9clarer entre trois paires de guillemets identiques : >>> zen = \"\"\" Pr\u00e9f\u00e8re : la beaut\u00e9 \u00e0 la laideur, l'explicite \u00e0 l'implicite, le simple au complexe et le complexe au compliqu\u00e9, le d\u00e9roul\u00e9 \u00e0 l'imbriqu\u00e9, l'a\u00e9r\u00e9 au compact. Prends en compte la lisibilit\u00e9. Les cas particuliers ne le sont jamais assez pour violer les r\u00e8gles. Mais, \u00e0 la puret\u00e9, privil\u00e9gie l'aspect pratique. Ne passe pas les erreurs sous silence, ... ou b\u00e2illonne-les explicitement. Face \u00e0 l'ambigu\u00eft\u00e9, \u00e0 deviner ne te laisse pas aller. Sache qu'il ne devrait [y] avoir qu'une et une seule fa\u00e7on de proc\u00e9der, m\u00eame si, de prime abord, elle n'est pas \u00e9vidente, \u00e0 moins d'\u00eatre N\u00e9erlandais. Mieux vaut maintenant que jamais. Cependant jamais est souvent mieux qu'imm\u00e9diatement. Si l'impl\u00e9mentation s'explique difficilement, c'est une mauvaise id\u00e9e. Si l'impl\u00e9mentation s'explique ais\u00e9ment, c'est peut-\u00eatre une bonne id\u00e9e. Les espaces de nommage ! Sacr\u00e9e bonne id\u00e9e ! Faisons plus de trucs comme \u00e7a. \"\"\" Indice d'un caract\u00e8re Chaque caract\u00e8re d'une cha\u00eene est rep\u00e9r\u00e9 par son indice , c'est-\u00e0-dire par un num\u00e9ro donnant sa position . Attention toutefois,en informatique, les indices commencent \u00e0 0 dans quasiment tous les langages ! Ainsi : Dans la cha\u00eene pr\u00e9c\u00e9dente, \"P\" \u00e0 pour indice 0, \"y\" a pour indice 1 et \"n\" a pour indice 5. Acc\u00e8s \u00e0 un caract\u00e8re par son indice Les crochets Vous utiliserez beaucoup les crochets en Python, pour les obtenir sur un clavier AZERTY : [ s'obtient par AltGr + [ ; ] s'obtient par AltGr + ] ; On utilise l'indice entre crochets, juste apr\u00e8s la cha\u00eene de caract\u00e8re. >>> \"Python\" [ 3 ] 'h' Si la cha\u00eene est associ\u00e9e \u00e0 un nom : >>> texte = \"DarkVador\" >>> texte [ 4 ] 'V' Attention, si on cherche un indice qui n'existe pas, on a l'erreur suivante : >>> \"Abcdefg\" [ 10 ] Traceback ( most recent call last ): File \"<input>\" , line 1 , in < module > IndexError : string index out of range Cependant il est aussi possible de parcourir une cha\u00eene \u00e0 l'envers : >>> \"Python\" [ - 1 ] 'n' >>> \"Python\" [ - 3 ] 'h' Longueur d'une cha\u00eene La longueur de la cha\u00eene \"Python\" , c'est-\u00e0-dire le nombre de caract\u00e8res qui la composent , est par contre bien de 6, et on peut y acc\u00e9der gr\u00e2ce \u00e0 la fonction built-in len() . >>> len ( \"Python\" ) 6 La longueur d'une cha\u00eene vide est 0 : >>> len ( \"\" ) 0 Concat\u00e9nation La concat\u00e9nation est l'op\u00e9ration consistant \u00e0 accoler deux cha\u00eenes de caract\u00e8res : >>> \"Toto\" + \"Tata\" 'TotoTata' On peut aussi concat\u00e9ner une cha\u00eene avec elle-m\u00eame \u00e0 plusieurs reprises : >>> \"Toto\" * 5 'TotoTotoTotoTotoToto' M\u00e9thodes des cha\u00eenes de caract\u00e8res Le type str poss\u00e8de lui aussi ses propres fonctionnalit\u00e9s ( ou m\u00e9thodes ) qui permettent de transformer ou modifier une cha\u00eene de caract\u00e8re. Parmi celles-ci, en voici quelques une utiles : Substitution d'une sous-cha\u00eene par une autre >>> \"abracadabra\" . replace ( \"bra\" , \"BRUHHH\" ) \"'aBRUHHHcadaBRUHHH'\" On utilise ici la m\u00e9thode replace sur la cha\u00eene de caract\u00e8re \"abracadabra\" , et on va r\u00e9cup\u00e9rer la nouvelle cha\u00eene 'aBRUHHHcadaBRUHHH' Modifications en place ou non ? Ex\u00e9cutez les lignes suivantes une par une dans le terminal ci-dessous : >>> texte = 'abracadabra' >>> texte . replace ( 'a' , 'U' ) >>> texte Le contenu de la variable texte n'a pas \u00e9t\u00e9 remplac\u00e9. Un nouvel objet de type str a \u00e9t\u00e9 cr\u00e9\u00e9, mais il a \u00e9t\u00e9 imm\u00e9diatemment ramass\u00e9 par le garbage collector , et a donc disparu. Il n'y a aucune modification de l'objet original qui est conserv\u00e9 (la modification n'est pas en place ).Si on veux conserver : la cha\u00eene originale et la cha\u00eene modifi\u00e9e, il faut donner un nouveau nom et affecter de la mani\u00e8re suivante : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder texte = 'abracadabra'bksl-nlnouveaupy-undtexte = texte.replace('a', 'U')bksl-nl uniquement la cha\u00eene modifi\u00e9e, il suffit de r\u00e9affecter la modification au nom texte : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder texte = 'abracadabra'bksl-nltexte = texte.replace('a', 'U')bksl-nl Changement de casse Il existe les m\u00e9thodes .lower() , .upper() et .capitalize() qui mettent respectivement la cha\u00efne originale en minuscule, en majuscule, et la premi\u00e8re lettre en majuscule puis le reste en minuscule. >>> \"Toto\" . lower () #mise en minuscule, appel encore une fois \u00e0 une m\u00e9thode de classe. 'toto' >>> \"Toto\" . upper () #mise en majuscule, idem 'TOTO' >>> \"une phrase SANS QUEUE ni t\u00cate.\" . capitalize () #Met en majuscule le premier caract\u00e8re de la cha\u00eene, et en minuscule les autres, idem 'Une phrase sans queue ni t\u00eate.' Suppression des espaces inutiles avant et apr\u00e8s une cha\u00eene Supprime les espaces inutiles devant et apr\u00e8s une cha\u00eene de caract\u00e8res >>> \" Des Blancs \" . strip () 'Des Blancs' S\u00e9paration d'une cha\u00eene selon un motif donn\u00e9 S\u00e9pare une cha\u00eene de caract\u00e8re en, fonction d'une cha\u00eene pass\u00e9e en argument, et renvoie une liste (que nous \u00e9tudierons plus tard) >>> \"Une phrase est faite avec des mots\" . split ( \"est\" ) [ 'Une phrase ' , ' faite avec des mots' ] >>> \"12:34:45:78\" . split ( \":\" ) [ '12' , '34' , '45' , '78' ] Interactions avec l'utilisateur, transtypage des donn\u00e9es, notions de formatage des cha\u00eenes de caract\u00e8res Afficher \u00e0 l'\u00e9cran Jusqu'\u00e0 pr\u00e9sent, les seules choses que nous avons obtenu dans le terminal \u00e9taient des affichages simples des objets attach\u00e9s \u00e0 un nom connu. Il est possible de personnaliser, de diff\u00e9rer, et de multiplier les affichages gr\u00e2ce \u00e0 la fonction built_in `print()'. Ex\u00e9cutez le code ci-dessous : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder a = 25bksl-nlprint(f\"La variable a contient {a}.\")bksl-nlb = 30bksl-nlprint(f\"La variable b contient {b}.\")bksl-nlprint(f\"La somme de a et b est {a+b}.\")bksl-nl D'une part la fonction print() \u00e9crit les cha\u00eenes de caract\u00e8res dans la console, mais en plus, gr\u00e2ce au f situ\u00e9 devant les cha\u00eenes comme : f \"La variable a contient { a } .\" on a le remplacement du nom de variable situ\u00e9 entre accolades par sa valeur. On appelle cela le formatage des cha\u00eenes de caract\u00e8res, la documentation python vous donnera toutes les subtilit\u00e9s n\u00e9cesaires. Les accolades Vous utiliserez beaucoup les accolades en Python, pour les obtenir sur un clavier AZERTY : { s'obtient par AltGr + ' ; } s'obtient par AltGr + = ; Demander \u00e0 l'utilisateur de saisir quelque chose au clavier Pour demander une saisie clavier \u00e0 un utilisateur, on utilise la fonction built-in input() , prenant \u00e9ventuellement en argument une cha\u00eene de caract\u00e8res. Celle-ci interrompt le programme et attend une saisie clavier de l'utilisateur, et retourne cette saisie sous la forme d'une cha\u00eene de caract\u00e8re d\u00e8s que la touche Enter est press\u00e9e. ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder nom = input(\"Entrez votre nom :\")bksl-nlprint(f\"Votre nom est {nom}\")bksl-nl Il faut cependant \u00eatre attentif \u00e0 ce qui est r\u00e9alis\u00e9 par la fonction input() . En effet, le retour effectu\u00e9 par cette fonction est renvoy\u00e9 sous la forme de cha\u00eene de caract\u00e8res, ce qui peut poser un probl\u00e8me, comme par exemple dans la situation ci-dessous : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder nb = input(\"Entrez un nombre entier :\")bksl-nlprint(2py-strnb)bksl-nl Pour lever cette ambigu\u00eft\u00e9, nous sommes parfois oblig\u00e9s d'effectuer un transtypage des donn\u00e9es , c'est-\u00e0-dire une modification du type , avec l'aide des fonctions built-in suivantes : str() int() float() bool() ... Par exemple : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder nb = int(input(\"Entrez un nombre entier :\"))bksl-nlprint(2py-strnb)bksl-nlbksl-nl On a forc\u00e9 ici dans la premi\u00e8re ligne Python \u00e0 transformer (si il le peut) le contenu de la variable nb comme \u00e9tant un nombre entier. Ceci ne l\u00e8ve cependant pas tous les probl\u00e8mes, puisque si l'utilisateur\u00b7trice saisit une cha\u00eene de caract\u00e8res ne pouvant \u00eatre transtyp\u00e9e en nombre entier, le programme renverra une erreur. Exercice \u00c9crire dans l'\u00e9diteur ci dessous un code python qui : demande deux nombres entiers a et b \u00e0 l'utilisateur\u00b7trice ; donne le produit des deux nombres, ainsi que le type du r\u00e9sultat, sous la forme d'une cha\u00eene de caract\u00e8res du type `3x4 = 12. Le r\u00e9sultat est de type int'. ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder","title":"Variables et affectations"},{"location":"NSI/Premiere/C01/Bases_Python_1/#debuter-avec","text":"","title":"D\u00e9buter avec"},{"location":"NSI/Premiere/C01/Bases_Python_1/#types-de-base","text":"","title":"Types de base"},{"location":"NSI/Premiere/C01/Bases_Python_1/#objets-et-types-de-base","text":"Le principe d'un programme est de manipuler des donn\u00e9es pour en produire de nouvelles. En Python, des donn\u00e9es sont appel\u00e9es des objets , et tout ce qui est manipulable est un objet. Tester les objets Test1 Test2 Test3 Test4 Une astuce Ex\u00e9cuter la commande suivante dans le terminal ci-dessous : 5 / 3 Ex\u00e9cuter la commande suivante dans le terminal ci-dessous : \"abra\" + \"cadabra\" Ex\u00e9cuter la commande suivante dans le terminal ci-dessous : 5 < 9 Ex\u00e9cuter la commande suivante dans le terminal ci-dessous : 4.5 + \"3.2\" Dans un terminal, la seule ligne active est celle du prompt , c'est-\u00e0-dire celle marqu\u00e9e par les chevrons >>> . On ne peut pas r\u00e9-ex\u00e9cuter une ligne d\u00e9j\u00e0 tap\u00e9e. Cependant, il est possible de r\u00e9cup\u00e9rer une ligne d\u00e9j\u00e0 tap\u00e9e, en utilisant l'historique de commande, en utilisant les fl\u00e8ches de direction Up et Down >>> Par exemple, dans le code suivant: ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder 5bksl-nl\"Toto\"bksl-nlTruebksl-nl4.5 # Attention, il s'agit de la notation americaine, donc pas de virgule mais un point...bksl-nl Lorsqu'on ex\u00e9cute ce code, on cr\u00e9e 4 objets diff\u00e9rents, pr\u00e9sents dans ce qu'on appelle l' espace des objets . Cependant l'ex\u00e9cution du script ne renvoie aucune donn\u00e9e (aucun objet ). En effet, un m\u00e9canisme existant dans tous les langages de programmation, appel\u00e9 garbage collector ( soit collecteur d'ordure ), nettoie automatiquement tout objet non utilis\u00e9. La m\u00e9moire de l'ordinateur \u00e9tant limit\u00e9e physiquement, il est n\u00e9cessaire de nettoyer tr\u00e8s r\u00e9guli\u00e8rement ( plusieurs centaines de fois par seconde) cette m\u00e9moire afin de garantir le bon fonctionnement de la machine. Le garbage collector a donc supprim\u00e9 les objets 5 , \"Toto\" , True et 4.5 . Regardons plus pr\u00e9cis\u00e9ment ces objets, en demandant \u00e0 Python gr\u00e2ce \u00e0 l'instruction built-in type() la nature des objets cr\u00e9es. Les types d'objets Dans la console ci-dessous, testez une par une les commandes suivantes : Test 1 Test 2 Test 3 Test 4 type ( \"Toto\" ) type ( True ) type ( 5 ) type ( 4.5 ) >>> Une erreur ? Si vous avez fait un copi\u00e9-coll\u00e9 du Test 4 pr\u00e9c\u00e9dent, vous avez obtenu une erreur telle que celle ci-dessous : >>> type ( 4.5 ) File \"<console>\" , line 1 type ( 4.5 ) ^ IndentationError : unexpected indent Il s'agit d'une erreur d'indentation , ce qui signifie que le code type(4.5) est d\u00e9cal\u00e9 par rapport au d\u00e9part de ligne. Ici, il y a 4 espaces devant, ce qui est obtenu en g\u00e9n\u00e9ral en appuyant sur la touche Tab dans les consoles Python ainsi que dans les principaux \u00e9diteurs. Il s'agit d'une erreur d'indentation , ce qui signifie que le code type(4.5) est d\u00e9cal\u00e9 par rapport au d\u00e9part de ligne. Ici, il y a 4 espaces devant, ce qui est obtenu en g\u00e9n\u00e9ral en appuyant sur la touche Tab dans les consoles Python ainsi que dans les principaux \u00e9diteurs. Types de bases et objets sp\u00e9cifiques Les types basiques de Python sont donc les suivants : le type int : qui permet de manipuler des nombres entiers relatifs, de \\(-2.10^{9}\\) \u00e0 \\(+2.10^9\\) (mais la plage pouvant \u00eatre \u00e9tendue, en pratique on ne s'int\u00e9resse pairs en python aux limites des entiers) ; le type float : qui permet de manipuler des nombres d\u00e9cimaux \u00e0 \\(32\\) bits (s'\u00e9crivant avec 32 chiffres binaires) entre \\(-10^{302}\\) et \\(+10^{302}\\) ( avec quelques subtilit\u00e9s, que nous verrons dans le chapitre correspondant au codage des nombres flottants ); le type str : qui permet de manipuler des cha\u00eenes de caract\u00e8res ; le type bool : qui permet de manipuler des valeurs bool\u00e9ennes , c'est \u00e0 dire vraies ou fausses, utilis\u00e9es par d\u00e9faut dans les instructions n\u00e9cessitant une condition ( if ou while par exemple). Chacun de ces types poss\u00e8de des op\u00e9rations qui lui sont propres. Elles sont nombreuses, et largement document\u00e9es dans la doc Python 3 officielle, en suivant le lien ci contre : Doc Python 3 en fran\u00e7ais . Il existe aussi des constantes sp\u00e9cifiques, c'est-\u00e0-dire des objets sp\u00e9ciaux, comme par exemple None , qui est un objet sans type, signifiant une absence de valeur.","title":"Objets et types de base"},{"location":"NSI/Premiere/C01/Bases_Python_1/#nommage-des-objets-et-affectations","text":"Bien entendu, de mani\u00e8re quasi obligatoire, il est n\u00e9cessaire de conserver des objets et d'\u00e9viter que ceux-ci disparaissent avec le garbage collector . Pour cela, on va associer \u00e0 chaque objet un nom dans l' espace de nom , gr\u00e2ce \u00e0 l'op\u00e9ration d' affectation = , comme par exemple un_inconnu = \"Toto\" . Ici le nom de variable un_inconnu est associ\u00e9 \u00e0 l'objet de type cha\u00eene de caract\u00e8re \"Toto\" . Une fois un objet associ\u00e9 \u00e0 un nom, il n'est plus ramass\u00e9 automatiquement par le garbage collector , et peut \u00eatre rappel\u00e9 plus tard dans le code en utilisant son nom. Exemple Ex\u00e9cutez le code suivant, puis testez dans la console \u00e0 droite le type des objets suivants, en utilisant leur nom. ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder monpy-undentier = 5bksl-nllepy-undvraipy-undhero = \"Dark\"bksl-nlestpy-undactif = Truebksl-nlmonpy-undflottant = 3.2bksl-nlcpy-undestpy-undlui = \"Vador\"bksl-nl Testez ensuite chacune des propositions ci-dessous. Pour chacune d'entre elles, expliquez ce qui se passe. 1 2 3 4 5 6 7 mon_entier ** 2 le_vrai_hero + c_est_lui mon_flottant if est_actif else mon_entier mon_flottant if not ( est_actif ) else mon_entier type ( mon_flottant * mon_entier ) mon_entier == mon_flottant le_vrai_hero * 10 Comprendre l'affectation \u00c9nonc\u00e9 Solution On consid\u00e8re le code suivant : a = 5 b = 4.2 c = a + b a * c a = a * 3 Quel est l'\u00e9tat de la m\u00e9moire apr\u00e8s ex\u00e9cution du code ci-dessus ? . R\u00e8gles de nommage des variables Le nom donn\u00e9 \u00e0 l'objet peut \u00eatre n'importe lequel, en respectant les r\u00e8gles imp\u00e9ratives suivantes : Un nom de variable est une s\u00e9quence de lettres, de chiffres, qui ne doit pas commencer par un chiffre . La casse est significative (les caract\u00e8res majuscules et minuscules sont distingu\u00e9s). Donc Joseph , joseph , et JOSEPH sont des variables diff\u00e9rentes. Les \u00ab mots r\u00e9serv\u00e9s \u00bb du langage sont d\u00e9j\u00e0 pris (ex : type() , float , str ...). Il s'agit des instructions de bases et des fonctions natives ( voir ici ). Si vous nommez une variable comme un de ces mots, vous ne pourrez plus utiliser la fonctionnalit\u00e9 du mot r\u00e9serv\u00e9. Pour les cracks Il faut \u00e9galement noter que les variables dont le nom commence par le caract\u00e8re _ ont une signification particuli\u00e8re : les noms commen\u00e7ant par un _ ne sont pas export\u00e9s lorsqu'ils se trouvent dans un module ; les noms commen\u00e7ant par deux _ et finissant par deux _ sont r\u00e9serv\u00e9s par le langage lui m\u00eame, notamment pour la programmation orient\u00e9e objet. Ces deux points ci-dessus sont juste des indications pour l'instant, ils seront vu dans le futur, en particulier en terminale. Conventions de nommage et PEP8 Il existe quelques r\u00e8gles de \"bien nommage\" des variables, d\u00e9finies dans ce qu'on appelle la PEP8 , c'est-\u00e0-dire une description des bonnes pratiques d'\u00e9criture en Python. La PEP8 donne les conventions principales, qui permettent de lire plus facilement le code fourni par un\u00b7e autre codeur\u00b7euse. Les principales recommandations sont : Ne jamais utiliser les caract\u00e8res \"l\" (L minuscule), \"O\" (o majuscule), ou \"I\" (i majuscule) seuls comme nom de variables. Dans certaines polices, ces caract\u00e8res sont impossibles \u00e0 distinguer des num\u00e9riques un et z\u00e9ro. Lorsque vous \u00eates tent\u00e9\u00b7e d\u2019utiliser \"l\", utilisez \"L\" \u00e0 la place. Il est recommand\u00e9 d'\u00e9crire les noms de variables en minuscule. Si le nom de variable doit contenir plusieurs mots, on conseille d'\u00e9crire en snake_case , c'est-\u00e0-dire en s\u00e9parant les mots par le caract\u00e8re _ . Exemple : marge_brut . Il convient aussi d'\u00e9viter autant que possible l'\u00e9num\u00e9ration de variables ( toto1 , toto2 , toto3 , ...), cela rend le programme parfaitement incompr\u00e9hensible et sujet \u00e0 des erreurs. De mani\u00e8re g\u00e9n\u00e9rale, il convient de suivre aussi strictement que possible les r\u00e8gles \u00e9dict\u00e9es par la Python Software Foundation \u00e0 travers les normes PEP.","title":"Nommage des objets et affectations"},{"location":"NSI/Premiere/C01/Bases_Python_1/#exercices","text":"\u00c9crire un code qui affecte l'objet 15 de type int \u00e0 une variable nomm\u00e9 valeur , puis ex\u00e9cuter l'instruction valeur*4 . ### Lancer benchmark = ['valeur == 15', 'valeurpy-str4 == 60']bksl-nl Valider 5/5 T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder bksl-nl \u00c9crire un code qui affecte l'objet \"15\" de type str \u00e0 une variable nomm\u00e9 texte , puis ex\u00e9cuter l'instruction texte*4 . ### Lancer benchmark = ['texte == \"15\"']bksl-nl Valider 5/5 T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder bksl-nl Compl\u00e9ter le code suivant afin que les objets des variables a et b soient invers\u00e9s, SANS UTILISER D'AFFECTATIONS DE NOMBRES, et sans toucher la valeur de c . ### Lancer benchmark = ['a == 200 and b == 10 and c == 4000']bksl-nl Valider 5/5 T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder a = 10bksl-nlb = 200bksl-nlc = 4000bksl-nl \u00c9crivez un code qui permute les objets des variables a , b et c ( l'objet de a est affect\u00e9 \u00e0 b , l'objet de b est affect\u00e9 \u00e0 c et l'objet de c est affect\u00e9 \u00e0 a ) sans utiliser de valeurs num\u00e9riques . ### Lancer benchmark = ['b = 10 and c = 200 and a = 4000']bksl-nl Valider 5/5 T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder a = 10bksl-nlb = 200 bksl-nlc = 4000bksl-nl","title":"Exercices"},{"location":"NSI/Premiere/C01/Bases_Python_1/#operations-sur-les-objets","text":"","title":"Op\u00e9rations sur les objets"},{"location":"NSI/Premiere/C01/Bases_Python_1/#types-numeriques-et-operations","text":"Pour les types num\u00e9riques, int et float (et pour le type complex , mais qui n'est pas vu en maths avant la terminale ), on trouve toutes les op\u00e9rations classiques.","title":"Types num\u00e9riques et op\u00e9rations"},{"location":"NSI/Premiere/C01/Bases_Python_1/#addition-entiere","text":">>> 5 + 2 #Addition enti\u00e8re 7","title":"Addition enti\u00e8re"},{"location":"NSI/Premiere/C01/Bases_Python_1/#addition-flottante","text":">>> 5.6 + 3.4 # Addition flottante ( Quel est le type du r\u00e9sultat ?) 9.0","title":"Addition flottante"},{"location":"NSI/Premiere/C01/Bases_Python_1/#addition-mixte","text":">>> 5 + 3.4 # Addition entre un entier et un flottant ( Quel est le type du r\u00e9sultat ?) 8.4 Attention avec les flottants Testez dans la console ci-dessous l'instruction suivante 0.1 + 0.2 == 0.3 . Qu'obtient-on ? >>>","title":"Addition mixte"},{"location":"NSI/Premiere/C01/Bases_Python_1/#soustractions","text":">>> 3.2 - 4 #Soustraction ( A tester de la m\u00eame mani\u00e8re) - 0.79999999999","title":"Soustractions"},{"location":"NSI/Premiere/C01/Bases_Python_1/#multiplication","text":">>> 4 * 8.5 #Multiplication ( idem) 34.0","title":"Multiplication"},{"location":"NSI/Premiere/C01/Bases_Python_1/#division-flottante","text":">>> 1 / 3 #Division 0.3333333333333333 Attention ! Au r\u00e9sultat ci-dessus, le type obtenu est float , m\u00eame si le dividende et le diviseur sont entiers et que le r\u00e9sultat \u00ab tombe juste \u00bb... >>> 4 / 2 2.0","title":"Division flottante"},{"location":"NSI/Premiere/C01/Bases_Python_1/#division-euclidienne","text":">>> 72 // 5 #Quotient de la division euclidienne 14 Ici par contre le r\u00e9sultat est bien de type int (A tester aussi...)","title":"Division Euclidienne"},{"location":"NSI/Premiere/C01/Bases_Python_1/#reste-de-la-division-euclidienne","text":">>> 72 % 5 #reste de la division euclidienne ( ou modulo). 2 C'est un point important en informatique, nous avons souvent besoin du reste, aussi appel\u00e9 modulo . Par exemple pour savoir si un nombre entier est pair, on utilise : >>> 23 % 2 == 0 False","title":"Reste de la Division Euclidienne"},{"location":"NSI/Premiere/C01/Bases_Python_1/#puissances","text":">>> 10 ** 7 #Puissance 10000000 Op\u00e9rations avec les noms des objets Tourtes les op\u00e9rations faites avec les objets ci-dessus peuvent \u00eatre effectu\u00e9es directement sur les noms si ils existent : >>> a = 5 >>> b = 2 >>> a + b 7 >>> a % b 1 Vous pouvez tester ces \u00e9l\u00e9ments dans le terminal ci-dessous : >>>","title":"Puissances"},{"location":"NSI/Premiere/C01/Bases_Python_1/#types-str-chaines-de-caracteres-et-operations","text":"","title":"Types str (cha\u00eenes de caract\u00e8res) et op\u00e9rations"},{"location":"NSI/Premiere/C01/Bases_Python_1/#declarations","text":"Une cha\u00eene de caract\u00e8re doit \u00eatre d\u00e9calr\u00e9e : soit entre une paire de guillemets simples ( simple quote ) : 'Toto' ; soit entre une paire de guillemets doubles ( double quote ) : \"Toto\" . L'utilisation de l'un ou de l'autre n'a pas d'importance, mais on peut rapidement se tromper selon le contenu de la cha\u00eene : Tester les cha\u00eenes de caract\u00e8res Tester les cha\u00eenes suivantes dans le terminal ci-dessous: 1 2 3 4 5 6 texte = \"Hello World !\" texte = 'Hello World !' texte = \"Salut l'ami !\" texte = 'Salut l' ami ! ' texte = 'Alors l\u00e0 je dis : \"Non !\"' texte = \"Alors l\u00e0 je dis : \" Non ! \"\" >>> Normalement, une cha\u00eene de caract\u00e8re, quelle que soit sa longueur, n'est consid\u00e9r\u00e9e \u00eatre que sur une seule et unique ligne. Il est cependant possible d'avoir des cha\u00eenes de caract\u00e8res multi-lignes, \u00e0 condition de les d\u00e9clarer entre trois paires de guillemets identiques : >>> zen = \"\"\" Pr\u00e9f\u00e8re : la beaut\u00e9 \u00e0 la laideur, l'explicite \u00e0 l'implicite, le simple au complexe et le complexe au compliqu\u00e9, le d\u00e9roul\u00e9 \u00e0 l'imbriqu\u00e9, l'a\u00e9r\u00e9 au compact. Prends en compte la lisibilit\u00e9. Les cas particuliers ne le sont jamais assez pour violer les r\u00e8gles. Mais, \u00e0 la puret\u00e9, privil\u00e9gie l'aspect pratique. Ne passe pas les erreurs sous silence, ... ou b\u00e2illonne-les explicitement. Face \u00e0 l'ambigu\u00eft\u00e9, \u00e0 deviner ne te laisse pas aller. Sache qu'il ne devrait [y] avoir qu'une et une seule fa\u00e7on de proc\u00e9der, m\u00eame si, de prime abord, elle n'est pas \u00e9vidente, \u00e0 moins d'\u00eatre N\u00e9erlandais. Mieux vaut maintenant que jamais. Cependant jamais est souvent mieux qu'imm\u00e9diatement. Si l'impl\u00e9mentation s'explique difficilement, c'est une mauvaise id\u00e9e. Si l'impl\u00e9mentation s'explique ais\u00e9ment, c'est peut-\u00eatre une bonne id\u00e9e. Les espaces de nommage ! Sacr\u00e9e bonne id\u00e9e ! Faisons plus de trucs comme \u00e7a. \"\"\"","title":"D\u00e9clarations"},{"location":"NSI/Premiere/C01/Bases_Python_1/#indice-dun-caractere","text":"Chaque caract\u00e8re d'une cha\u00eene est rep\u00e9r\u00e9 par son indice , c'est-\u00e0-dire par un num\u00e9ro donnant sa position . Attention toutefois,en informatique, les indices commencent \u00e0 0 dans quasiment tous les langages ! Ainsi : Dans la cha\u00eene pr\u00e9c\u00e9dente, \"P\" \u00e0 pour indice 0, \"y\" a pour indice 1 et \"n\" a pour indice 5.","title":"Indice d'un caract\u00e8re"},{"location":"NSI/Premiere/C01/Bases_Python_1/#acces-a-un-caractere-par-son-indice","text":"Les crochets Vous utiliserez beaucoup les crochets en Python, pour les obtenir sur un clavier AZERTY : [ s'obtient par AltGr + [ ; ] s'obtient par AltGr + ] ; On utilise l'indice entre crochets, juste apr\u00e8s la cha\u00eene de caract\u00e8re. >>> \"Python\" [ 3 ] 'h' Si la cha\u00eene est associ\u00e9e \u00e0 un nom : >>> texte = \"DarkVador\" >>> texte [ 4 ] 'V' Attention, si on cherche un indice qui n'existe pas, on a l'erreur suivante : >>> \"Abcdefg\" [ 10 ] Traceback ( most recent call last ): File \"<input>\" , line 1 , in < module > IndexError : string index out of range Cependant il est aussi possible de parcourir une cha\u00eene \u00e0 l'envers : >>> \"Python\" [ - 1 ] 'n' >>> \"Python\" [ - 3 ] 'h'","title":"Acc\u00e8s \u00e0 un caract\u00e8re par son indice"},{"location":"NSI/Premiere/C01/Bases_Python_1/#longueur-dune-chaine","text":"La longueur de la cha\u00eene \"Python\" , c'est-\u00e0-dire le nombre de caract\u00e8res qui la composent , est par contre bien de 6, et on peut y acc\u00e9der gr\u00e2ce \u00e0 la fonction built-in len() . >>> len ( \"Python\" ) 6 La longueur d'une cha\u00eene vide est 0 : >>> len ( \"\" ) 0","title":"Longueur d'une cha\u00eene"},{"location":"NSI/Premiere/C01/Bases_Python_1/#concatenation","text":"La concat\u00e9nation est l'op\u00e9ration consistant \u00e0 accoler deux cha\u00eenes de caract\u00e8res : >>> \"Toto\" + \"Tata\" 'TotoTata' On peut aussi concat\u00e9ner une cha\u00eene avec elle-m\u00eame \u00e0 plusieurs reprises : >>> \"Toto\" * 5 'TotoTotoTotoTotoToto'","title":"Concat\u00e9nation"},{"location":"NSI/Premiere/C01/Bases_Python_1/#methodes-des-chaines-de-caracteres","text":"Le type str poss\u00e8de lui aussi ses propres fonctionnalit\u00e9s ( ou m\u00e9thodes ) qui permettent de transformer ou modifier une cha\u00eene de caract\u00e8re. Parmi celles-ci, en voici quelques une utiles :","title":"M\u00e9thodes des cha\u00eenes de caract\u00e8res"},{"location":"NSI/Premiere/C01/Bases_Python_1/#substitution-dune-sous-chaine-par-une-autre","text":">>> \"abracadabra\" . replace ( \"bra\" , \"BRUHHH\" ) \"'aBRUHHHcadaBRUHHH'\" On utilise ici la m\u00e9thode replace sur la cha\u00eene de caract\u00e8re \"abracadabra\" , et on va r\u00e9cup\u00e9rer la nouvelle cha\u00eene 'aBRUHHHcadaBRUHHH' Modifications en place ou non ? Ex\u00e9cutez les lignes suivantes une par une dans le terminal ci-dessous : >>> texte = 'abracadabra' >>> texte . replace ( 'a' , 'U' ) >>> texte Le contenu de la variable texte n'a pas \u00e9t\u00e9 remplac\u00e9. Un nouvel objet de type str a \u00e9t\u00e9 cr\u00e9\u00e9, mais il a \u00e9t\u00e9 imm\u00e9diatemment ramass\u00e9 par le garbage collector , et a donc disparu. Il n'y a aucune modification de l'objet original qui est conserv\u00e9 (la modification n'est pas en place ).Si on veux conserver : la cha\u00eene originale et la cha\u00eene modifi\u00e9e, il faut donner un nouveau nom et affecter de la mani\u00e8re suivante : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder texte = 'abracadabra'bksl-nlnouveaupy-undtexte = texte.replace('a', 'U')bksl-nl uniquement la cha\u00eene modifi\u00e9e, il suffit de r\u00e9affecter la modification au nom texte : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder texte = 'abracadabra'bksl-nltexte = texte.replace('a', 'U')bksl-nl","title":"Substitution d'une sous-cha\u00eene par une autre"},{"location":"NSI/Premiere/C01/Bases_Python_1/#changement-de-casse","text":"Il existe les m\u00e9thodes .lower() , .upper() et .capitalize() qui mettent respectivement la cha\u00efne originale en minuscule, en majuscule, et la premi\u00e8re lettre en majuscule puis le reste en minuscule. >>> \"Toto\" . lower () #mise en minuscule, appel encore une fois \u00e0 une m\u00e9thode de classe. 'toto' >>> \"Toto\" . upper () #mise en majuscule, idem 'TOTO' >>> \"une phrase SANS QUEUE ni t\u00cate.\" . capitalize () #Met en majuscule le premier caract\u00e8re de la cha\u00eene, et en minuscule les autres, idem 'Une phrase sans queue ni t\u00eate.'","title":"Changement de casse"},{"location":"NSI/Premiere/C01/Bases_Python_1/#suppression-des-espaces-inutiles-avant-et-apres-une-chaine","text":"Supprime les espaces inutiles devant et apr\u00e8s une cha\u00eene de caract\u00e8res >>> \" Des Blancs \" . strip () 'Des Blancs'","title":"Suppression des espaces inutiles avant et apr\u00e8s une cha\u00eene"},{"location":"NSI/Premiere/C01/Bases_Python_1/#separation-dune-chaine-selon-un-motif-donne","text":"S\u00e9pare une cha\u00eene de caract\u00e8re en, fonction d'une cha\u00eene pass\u00e9e en argument, et renvoie une liste (que nous \u00e9tudierons plus tard) >>> \"Une phrase est faite avec des mots\" . split ( \"est\" ) [ 'Une phrase ' , ' faite avec des mots' ] >>> \"12:34:45:78\" . split ( \":\" ) [ '12' , '34' , '45' , '78' ]","title":"S\u00e9paration d'une cha\u00eene selon un motif donn\u00e9"},{"location":"NSI/Premiere/C01/Bases_Python_1/#interactions-avec-lutilisateur-transtypage-des-donnees-notions-de-formatage-des-chaines-de-caracteres","text":"","title":"Interactions avec l'utilisateur, transtypage des donn\u00e9es, notions de formatage des cha\u00eenes de caract\u00e8res"},{"location":"NSI/Premiere/C01/Bases_Python_1/#afficher-a-lecran","text":"Jusqu'\u00e0 pr\u00e9sent, les seules choses que nous avons obtenu dans le terminal \u00e9taient des affichages simples des objets attach\u00e9s \u00e0 un nom connu. Il est possible de personnaliser, de diff\u00e9rer, et de multiplier les affichages gr\u00e2ce \u00e0 la fonction built_in `print()'. Ex\u00e9cutez le code ci-dessous : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder a = 25bksl-nlprint(f\"La variable a contient {a}.\")bksl-nlb = 30bksl-nlprint(f\"La variable b contient {b}.\")bksl-nlprint(f\"La somme de a et b est {a+b}.\")bksl-nl D'une part la fonction print() \u00e9crit les cha\u00eenes de caract\u00e8res dans la console, mais en plus, gr\u00e2ce au f situ\u00e9 devant les cha\u00eenes comme : f \"La variable a contient { a } .\" on a le remplacement du nom de variable situ\u00e9 entre accolades par sa valeur. On appelle cela le formatage des cha\u00eenes de caract\u00e8res, la documentation python vous donnera toutes les subtilit\u00e9s n\u00e9cesaires. Les accolades Vous utiliserez beaucoup les accolades en Python, pour les obtenir sur un clavier AZERTY : { s'obtient par AltGr + ' ; } s'obtient par AltGr + = ;","title":"Afficher \u00e0 l'\u00e9cran"},{"location":"NSI/Premiere/C01/Bases_Python_1/#demander-a-lutilisateur-de-saisir-quelque-chose-au-clavier","text":"Pour demander une saisie clavier \u00e0 un utilisateur, on utilise la fonction built-in input() , prenant \u00e9ventuellement en argument une cha\u00eene de caract\u00e8res. Celle-ci interrompt le programme et attend une saisie clavier de l'utilisateur, et retourne cette saisie sous la forme d'une cha\u00eene de caract\u00e8re d\u00e8s que la touche Enter est press\u00e9e. ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder nom = input(\"Entrez votre nom :\")bksl-nlprint(f\"Votre nom est {nom}\")bksl-nl Il faut cependant \u00eatre attentif \u00e0 ce qui est r\u00e9alis\u00e9 par la fonction input() . En effet, le retour effectu\u00e9 par cette fonction est renvoy\u00e9 sous la forme de cha\u00eene de caract\u00e8res, ce qui peut poser un probl\u00e8me, comme par exemple dans la situation ci-dessous : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder nb = input(\"Entrez un nombre entier :\")bksl-nlprint(2py-strnb)bksl-nl Pour lever cette ambigu\u00eft\u00e9, nous sommes parfois oblig\u00e9s d'effectuer un transtypage des donn\u00e9es , c'est-\u00e0-dire une modification du type , avec l'aide des fonctions built-in suivantes : str() int() float() bool() ... Par exemple : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder nb = int(input(\"Entrez un nombre entier :\"))bksl-nlprint(2py-strnb)bksl-nlbksl-nl On a forc\u00e9 ici dans la premi\u00e8re ligne Python \u00e0 transformer (si il le peut) le contenu de la variable nb comme \u00e9tant un nombre entier. Ceci ne l\u00e8ve cependant pas tous les probl\u00e8mes, puisque si l'utilisateur\u00b7trice saisit une cha\u00eene de caract\u00e8res ne pouvant \u00eatre transtyp\u00e9e en nombre entier, le programme renverra une erreur. Exercice \u00c9crire dans l'\u00e9diteur ci dessous un code python qui : demande deux nombres entiers a et b \u00e0 l'utilisateur\u00b7trice ; donne le produit des deux nombres, ainsi que le type du r\u00e9sultat, sous la forme d'une cha\u00eene de caract\u00e8res du type `3x4 = 12. Le r\u00e9sultat est de type int'. ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder","title":"Demander \u00e0 l'utilisateur de saisir quelque chose au clavier"},{"location":"NSI/Premiere/C01/C01_Conditions_Boucles/","text":"Conditions et boucles en Structures conditionnelles Comparateurs et appartenance En Python, comme dans de nombreux langages, on utilise les comparateurs et op\u00e9rateurs d'appartenance : == : comparateur d'\u00e9galit\u00e9 ; != : comparateur de diff\u00e9rence; < , <= , > , >= : comparateurs d'ordre ; in , notin : op\u00e9rateurs d'inclusion. Ces op\u00e9rateurs renvoient une valeur de type bool\u00e9en ( donc True ou False ). Exemples Egalit\u00e9 : >>> 5 == 2.0 + 3.0 True In\u00e9galit\u00e9s : >>> 4 != 2 + 3 True Ordre : >>> 7 < 5 False >>> 7 >= 7 True Les relations d'ordre ne sont pas limit\u00e9es aux nombres, puisqu'on peut comparer des cha\u00eenes de caract\u00e8res gr\u00e2ce \u00e0 l'ordre lexicographique (grosso modo en Python l'ordre alphab\u00e9tique, les majuscules \u00e9tant situ\u00e9es avant les minuscules) : >>> 'ABC' < 'DEFGH' True >>> 'JKLMN' < 'OPQ' True >>> 'toto' < 'Toto' False Appartenance : >>> 'to' in 'Toto' True >>> 'TO' in 'Toto' False >>> 5 not in [ 0 , 1 , 2 , 3 , 4 ] # On utilise une structure de liste (objets entre crochets et s\u00e9par\u00e9s par des virgules) True Op\u00e9rations logiques Il est souvent n\u00e9cesaire de v\u00e9rifier que plusieurs conditions soient v\u00e9rifi\u00e9es en m\u00eame temps, ou bien qu'au moins une condition parmis plusieurs soit v\u00e9rifi\u00e9e. On utilisera aussi sovent la n\u00e9gation d'une condition. Pour combiner ainsi pluseiurs conditions ensembles, on va utiliser la logique bool\u00e9enne et les op\u00e9rateurs ET , OU : ET qui renverra Vrai si les deux conditions sont simultan\u00e9ment Vrai , comme pr\u00e9sent\u00e9 dans la table de v\u00e9rit\u00e9 ci-dessous : En python on utilisera l'op\u00e9rateur and . OU qui renverra Vrai si au moins une des deux conditions est Vrai , comme pr\u00e9sent\u00e9 dans la table de v\u00e9rit\u00e9 ci-dessous : En python on utilisera l'op\u00e9rateur or . Conditions sur les nombres entiers Enonc\u00e9 SOlution On consid\u00e8re un objet de type int dont le nom est nb . Que faut-il \u00e9crire pour : Savoir si le nombre nb est un nombre pair et strictement sup\u00e9rieur \u00e0 50 ? Savoir si le nombre nb est un nombre pair ou un multiple de 3 ? Savoir si le nombre nb appartient \u00e0 l'intervalle \\([-13 ; 25]\\) ? Savoir si le nombre nb n'appartient pas \u00e0 l'intervalle \\([-13 ; 25]\\) ? nb%2 == 0 and nb > 50 nb%2 == 0 or nb%3 == 0 nb >= -13 and nb <= 25 nb<-13 or nb >25 Vous pouvez tester les conditions ci-dessus en ex\u00e9cutant le code suivant, qui cr\u00e9e un objet int al\u00e9atoire entre -20 et 70, puis en v\u00e9rifiant en affichant la valeur de nb ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder from random import randintbksl-nlbksl-nlnb = randint(-20, 70)bksl-nl Une erreur courante Supposons qu'on ait besoin de savoir si le nombre nb est \u00e9gal \u00e0 0 ou \u00e0 1 . Il serait assez naturel d'\u00e9crire : a == 0 or 1 C'est une erreur courante chez les d\u00e9butants en programmation, mais qu'il faut \u00e9viter \u00e0 tout prix ! En effet, testons les lignes suivantes dans le terminal ci-dessous : 0 == 0 or 1 1 == 0 or 1 12 == 0 or 1 >>> Les trois expression ne renvoient pas True , True et False comme on pourrait s'y attendre, mais 1 , 1 et 1 (Ce qui est \u00e9quivalent \u00e0 trois True ). En effet l'op\u00e9rateur or , tout comme l'op\u00e9rateur and ne correspond uniquement qu'\u00e0 la table de v\u00e9rit\u00e9 donn\u00e9e ci-dessus, donc effectue une op\u00e9ration entre deux bool\u00e9ens . Dans le troisi\u00e8me exemple, il prend comme premier bool\u00e9en 12 == 0 , soit False , et comme second op\u00e9rateur, il n'utilise que l'objet 1 , qu'il essaye de transtyper en bool\u00e9en, et qui donne True (les r\u00e8gles de transtypage en bool\u00e9en en python sont donn\u00e9es ici , mais ne sont pas \u00e0 conna\u00eetre). Au final on a donc False or True , ce qui donne True . L'expression saisie est donc fausse. Il faut la corriger en utilisant a == 0 or a == 1 Exercice Enonc\u00e9 Solution Le code suivant est-il correct d'un point de vue logique ? 'toto' and 'plage' in 'toto va \u00e0 la plage' Non, il faut utiliser : 'toto' in 'toto va \u00e0 la plage' and 'plage' in 'toto va \u00e0 la plage' Pour les cracks : \u00e9valuation au plus court Dans une \u00e9valuation de condition poss\u00e9dant un ou plusieurs op\u00e9rateurs and et or , l'interpr\u00e9teur python \u00e9value de gauche vers la droite. Si les \u00e9valuations d\u00e9j\u00e0 effectu\u00e9es permettent d\u00e9j\u00e0 de donner le bool\u00e9en r\u00e9ponse, l'interpr\u00e9teur python s'arr\u00eate automatiquement. Ainsi : 5 < 7 or 5 < 9 : 5 < 7 renvoie True , et l'op\u00e9rateur or renvoie True d\u00e8s qu'une des deux condition est v\u00e9rifi\u00e9e. La condition 5 < 9 n'est donc pas \u00e9valu\u00e9e, ce serait inutile. 5 < 7 and 5 < 9 : 5 < 7 renvoie True , et l'op\u00e9rateur and renvoie True d\u00e8s que les deux conditions sont v\u00e9rifi\u00e9es. La condition 5 < 9 est donc obligatoirement \u00e9valu\u00e9e. 5 < 2 and 5 < 9 : 5 < 2 renvoie False , et l'op\u00e9rateur and renvoie False d\u00e8s qu'une des deux condition n'est pas v\u00e9rifi\u00e9e. La condition 5 < 2 n'est donc pas \u00e9valu\u00e9e, ce serait inutile. 5 < 9 and 5 < 2 : 5 < 9 renvoie True , et l'op\u00e9rateur and doit obligatoirement \u00e9valuer 5 < 2 pour conclure. Les deux derniers exemples montrent l'importance de l'ordre dans les op\u00e9rations bool\u00e9ennes, certains ordre permettant de gagner du temps de calcul. Structures conditionnelles En Python, on utilise pour les structures conditionnelles la syntaxe suivante : if condition1 : #Le : est important ! #bloc de une ou #plusieurs lignes #indent\u00e9es ( avec la touche tabulation) elif condition2 : #encore un autre bloc elif condition3 : #etc #etc #etc . . . else : #et enfin un dernier bloc si aucune des conditions pr\u00e9c\u00e9dentes n'a \u00e9t\u00e9 r\u00e9alis\u00e9e. Les diff\u00e9rents blocs d'instructions doivent \u00eatre correctement indent\u00e9s ( c'est-\u00e0-dire correctement d\u00e9cal\u00e9 s vers la droite). La r\u00e8gle de bonne conduite est d'utiliser 4 espaces par indentation (qu'il est souvent possible d'obtenir gr\u00e2ce \u00e0 la touche tabulation Tab ). Il est r\u00e9ellement fondamental de respecter au maximum les indentations, celles-ci \u00e9tant pour l'interpr\u00e9teur Python le signal de d\u00e9clenchement d'un bloc de code ind\u00e9pendant. Par exemple, le code ci-dessous renverra une erreur : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder nb = int(input(\"Entrez un nombre entre 1 et 100 :\"))bksl-nlif nb<1 :bksl-nl print(\"Votre nombre est trop petit\")bksl-nlelif nb>100 :bksl-nl print(\"Votre nombre est trop grand\")bksl-nl else :bksl-nl print(\"Merci !\")bksl-nlprint(\"FIN\")bksl-nl On peut aussi noter que les mots cl\u00e9s elif et else sont optionnels. if nb < 1 : print ( \"Votre nombre est trop petit !\" ) if nb > 100 : print ( \"Votre nombre est trop grand !\" ) if 1 < nb < 100 : print ( \"Merci !\" ) Votre nombre est trop petit ! Les structures conditionnelles peuvent aussi \u00eatre imbriqu\u00e9es, en indentant \u00e0 plusieurs reprises : nb = int ( input ( \"Entrez un nombre entier, positif ou n\u00e9gatif :\" )) if nb > 0 : print ( \"Votre nombre est positif !\" ) if nb % 2 == 0 : print ( \"Et c'est un multiple de 2 !\" ) else : print ( \"Et ce n'est pas un multiple de 2 !\" ) else : print ( \"Votre nombre est n\u00e9gatif !\" ) Entrez un nombre entier, positif ou n\u00e9gatif :9 Votre nombre est positif ! Et ce n'est pas un multiple de 2 ! Boucles Boucle non born\u00e9e while Boucle born\u00e9e On utilise une boucle born\u00e9e lorsqu'on veut r\u00e9-ex\u00e9cuter un bloc de code tant qu'une condition est v\u00e9rifi\u00e9e . La boucle while ( ou boucle Tant que en pseudo-code), poss\u00e8de la structure suivante en Python : while condition : #Encore une fois, ne pas oublier le signe : #bloc de code #indent\u00e9 Le bloc de code situ\u00e9 sous l'instruction while sera ex\u00e9cut\u00e9 tant que la condition donn\u00e9e sera vraie , comme dans l'exemple donn\u00e9 ci-dessous : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder nb= int(input(\"Donnez un nombre entier positif:\"))bksl-nlpuissance = 0bksl-nlwhile nb//2 >=1 :bksl-nl puissance = puissance +1bksl-nl nb=nb//2bksl-nlprint(\"Votre nombre est sup\u00e9rieur ou \u00e9gal \u00e0 2 puissance {p} et inf\u00e9rieur \u00e0 2 puissance {q}\".format(bksl-nl p=puissance,q=puissance+1))#A noter qu'ici le texte \u00e9tant trop long, on a pu \"sauter\" \u00e0 la lignebksl-nl #le saut de ligne \u00e9tant compris entre les parenth\u00e8ses de la m\u00e9thode formatbksl-nl Boucle born\u00e9e : for Boucle born\u00e9e On utilise une boucle born\u00e9e lorsqu' on connait \u00e0 l'avance le nombre de fois o\u00f9 un bloc de code doit \u00eatre ex\u00e9cut\u00e9 . La boucle classique for Dans de nombreux langages de programmation, une boucle for ( Pour en pseudo-code) fonctionne en : cr\u00e9ant un compteur ( ou it\u00e9rateur ), nomm\u00e9 traditionnellement i ; en initialisant ce compteur \u00e0 une valeur de d\u00e9part ; en augmentant \u00e0 chaque tour de boucle le compteur d'une certaine valeur appel\u00e9e le pas ( step en anglais); en continuant tant qu'une certaine valeur n'est pas d\u00e9pass\u00e9e (ou qu'une condition est respect\u00e9e). En Python, on utilisera la structure suivante : for i in range ( 12 , 24 , 3 ) : # Bloc de code o\u00f9 : i est le compteur. C'est une variable donc on peut choisir son nom selon les r\u00e8gles de nommages habituelles ; 12 est la valeur de d\u00e9part \u00e0 laquelle est initialis\u00e9e i , ce qui est \u00e9quivalent \u00e0 i = 12 ; 24 est la valeur telle que si i est sup\u00e9rieur ou \u00e9gal \u00e0 cette valeur, la boucle s'arr\u00eate. 3 est le pas, la varioable i augmente de 3 \u00e0 chaque tour de boucle, ce qui est \u00e9quivalent \u00e0 i = i + 3 . M\u00eame si il s'agit d'une simplification abusive de ma part, vous pouvez consid\u00e9rer que la fonction range() construit l'ensemble des valeurs que opeut prendre le compteur i , et fait passer i d'une valeur \u00e0 l'autre \u00e0 chque tour de boucle. Cette boucle for est donc exactement \u00e9quivalente au code suivant : i = 12 while i < 24 : # Bloc de code i = i + 3 Exercice Enonc\u00e9 Solution Combien y aura-t-il de r\u00e9p\u00e9titions du bloc de code dans cette boucle for ? Il y aura une ex\u00e9cution du bloc de code pour chacune des valeurs suivante de i : \\(12\\) , \\(15\\) , \\(18\\) , \\(21\\) . Lorsque i prend la valeur 24 , la boucle est arr\u00eat\u00e9e et le bloc n'est pas ex\u00e9cut\u00e9. Il existe des facilit\u00e9s de programmation qui permettent de simplifier l'\u00e9criture de la fonction range : Si le pas est de 1 , on peut l'omettre : range(12, 17) est \u00e9quivalent \u00e0 range(12, 17, 1) , et cr\u00e9e la liste 12, 13, 14, 15, 16 ; Si la valeur de d\u00e9part est 0 , et le pas de 1 , on peut les omettre : range(5) est \u00e9quivalent \u00e0 range(0, 5, 1) et cr\u00e9e la liste 0, 1, 2, 3, 4 (ce qui permet d'avoir exactement 5 tours de boucle) ; Attention, il n'est pas possible de donner le pas sans donner la valeur de d\u00e9part ! range(0, 45, 3) ne peut pas \u00eatre raccourci ! la boucle for en Python En python, la boucle for peut aussi \u00eatre utilis\u00e9e comme une boucle foreach ( Pour chaque en pseudo-code) : Testez par exemple le code suivant : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder texte ='Un texte quelconque'bksl-nlfor lettre in texte :bksl-nl if lettre in 'aeiouy':bksl-nl print(f\"Tiens, j'ai vu la voyelle {lettre}.\")bksl-nl Le compteur lettre prendra successivement chaque ( each ) caract\u00e8re de la cha\u00eene texte , soit U , n , (1 espace), t , ..., jusqu'\u00e0 ce que le parcours de la cha\u00eene soit termin\u00e9. Dans ce cas, il n'y a pas de pas , on parcourt chaque \u00e9l\u00e9ment d'un ensemble donn\u00e9. Nous verrons plus tard dans l'ann\u00e9e qu'on peut parcourir ainsi des listes, des tuples, etc... Exercice Comment faire pour prendre en compte les majuscules dans le compte des voyelles ? Exercices Conditions, saisies et affichages Enonc\u00e9 Solutions Ecrire un programme qui demande un nombre \u00e0 l'utilisateur, puis affiche le carr\u00e9 de ce nombre. Ecrire un programme qui demande l'heure qu'il est (un nombre pour les heures, un nombre pour les minutes et un pour les secondes). Cet algorithme indiquera en outre si l'heure donn\u00e9e est valide, c'est-\u00e0-dire que les nombres sont bien des entiers, et qu'ils sont compris entre 0 et 23 ou 0 et 59. On pourra utiliser la fonction isinstance(objet, type) utilisable de la mani\u00e8re suivante : >>> isinstance ( 4 , int ) True >>> isinstance ( \"5\" , int ) False Compl\u00e9ter le programme pr\u00e9c\u00e9dent afin que l'algorithme donne l'heure qu'il sera 10 minutes apr\u00e8s l'heure saisie. Une ann\u00e9e est dite bissextile si cette ann\u00e9e est divisible par 4, sauf si elle est divisible par 100 et pas par 400. Construire un programme qui dit si une ann\u00e9e saisie par un utilisateur\u00b7trice est bissextile ou non. Ecrire un programme qui demande les coefficients \\(a\\) et \\(b\\) d'une fonction affine, et qui donne son nombre de racines et leurs valeurs \u00e9ventuelles. Attention aux cas particuliers ! Etendre le programme pr\u00e9c\u00e9dent pour la r\u00e9solution d'\u00e9quations du type \\(ax+b = cx+d\\) , o\u00f9 \\(a,b,c,d\\) sont des entiers saisis par l'utilisateur\u00b7trice. Pour les \u00e9l\u00e8ves ayant encore des maths, reprendre le probl\u00e8me n\u00b05 pour un trin\u00f4me du second degr\u00e9. A venir ! Exercices sur les boucles for et while Enonc\u00e9 Solutions Ecrire un programme qui affiche les 20 premiers nombres de la table de multiplication d'un entier choisi par l'utilisateur\u00b7trice, sous la forme (avec choix de 7 par l'utilisateur) : 7 x 0 = 0 7 x 1 = 7 7 x 2 = 14 ... Ecrire un programme qui affiche les restes des divisions euclidiennes des \\(200\\) premiers entiers par \\(7\\) . Ecrire un programme qui affiche les restes des divisions euclidiennes des \\(300\\) premi\u00e8res puissances de \\(2\\) par \\(9\\) . Que constate-t-on ? Ecrire un programme qui affiche une suite de 12 nombres dont chaque terme soit \u00e9gal au triple du nombre pr\u00e9c\u00e9dent, le nombre de d\u00e9part \u00e9tant choisi par l'utilisateur\u00b7trice. La suite de Syracuse est d\u00e9finie ainsi : on part d'un nombre entier choisis par l'utilisateur.trice ; si le nombre est pair, on le divise par 2, et on recommence avec le r\u00e9sultat ; sinon on le multiplie par 3 et on ajoute 1, et on recommence avec le r\u00e9sultat. Construire un programme qui afiche les 30 premiers nombres de la suite de Syracuse \u00e0 partir d'un nombre entier choisis par un\u00b7e utilisateur\u00b7trice. Ecrire un programme qui demande un nombre entier entre 1 et 10 \u00e0 l'utilisateur\u00b7trice, et qui poursuit cette demande tant que l'utilisateur\u00b7trice n'a pas exactement fait ce qui lui \u00e9tait demand\u00e9 ( on appelle ce type de programme dumbproof ). A venir !","title":"Boucles et conditions"},{"location":"NSI/Premiere/C01/C01_Conditions_Boucles/#conditions-et-boucles-en","text":"","title":"Conditions et boucles en"},{"location":"NSI/Premiere/C01/C01_Conditions_Boucles/#structures-conditionnelles","text":"","title":"Structures conditionnelles"},{"location":"NSI/Premiere/C01/C01_Conditions_Boucles/#comparateurs-et-appartenance","text":"En Python, comme dans de nombreux langages, on utilise les comparateurs et op\u00e9rateurs d'appartenance : == : comparateur d'\u00e9galit\u00e9 ; != : comparateur de diff\u00e9rence; < , <= , > , >= : comparateurs d'ordre ; in , notin : op\u00e9rateurs d'inclusion. Ces op\u00e9rateurs renvoient une valeur de type bool\u00e9en ( donc True ou False ). Exemples Egalit\u00e9 : >>> 5 == 2.0 + 3.0 True In\u00e9galit\u00e9s : >>> 4 != 2 + 3 True Ordre : >>> 7 < 5 False >>> 7 >= 7 True Les relations d'ordre ne sont pas limit\u00e9es aux nombres, puisqu'on peut comparer des cha\u00eenes de caract\u00e8res gr\u00e2ce \u00e0 l'ordre lexicographique (grosso modo en Python l'ordre alphab\u00e9tique, les majuscules \u00e9tant situ\u00e9es avant les minuscules) : >>> 'ABC' < 'DEFGH' True >>> 'JKLMN' < 'OPQ' True >>> 'toto' < 'Toto' False Appartenance : >>> 'to' in 'Toto' True >>> 'TO' in 'Toto' False >>> 5 not in [ 0 , 1 , 2 , 3 , 4 ] # On utilise une structure de liste (objets entre crochets et s\u00e9par\u00e9s par des virgules) True","title":"Comparateurs et appartenance"},{"location":"NSI/Premiere/C01/C01_Conditions_Boucles/#operations-logiques","text":"Il est souvent n\u00e9cesaire de v\u00e9rifier que plusieurs conditions soient v\u00e9rifi\u00e9es en m\u00eame temps, ou bien qu'au moins une condition parmis plusieurs soit v\u00e9rifi\u00e9e. On utilisera aussi sovent la n\u00e9gation d'une condition. Pour combiner ainsi pluseiurs conditions ensembles, on va utiliser la logique bool\u00e9enne et les op\u00e9rateurs ET , OU : ET qui renverra Vrai si les deux conditions sont simultan\u00e9ment Vrai , comme pr\u00e9sent\u00e9 dans la table de v\u00e9rit\u00e9 ci-dessous : En python on utilisera l'op\u00e9rateur and . OU qui renverra Vrai si au moins une des deux conditions est Vrai , comme pr\u00e9sent\u00e9 dans la table de v\u00e9rit\u00e9 ci-dessous : En python on utilisera l'op\u00e9rateur or . Conditions sur les nombres entiers Enonc\u00e9 SOlution On consid\u00e8re un objet de type int dont le nom est nb . Que faut-il \u00e9crire pour : Savoir si le nombre nb est un nombre pair et strictement sup\u00e9rieur \u00e0 50 ? Savoir si le nombre nb est un nombre pair ou un multiple de 3 ? Savoir si le nombre nb appartient \u00e0 l'intervalle \\([-13 ; 25]\\) ? Savoir si le nombre nb n'appartient pas \u00e0 l'intervalle \\([-13 ; 25]\\) ? nb%2 == 0 and nb > 50 nb%2 == 0 or nb%3 == 0 nb >= -13 and nb <= 25 nb<-13 or nb >25 Vous pouvez tester les conditions ci-dessus en ex\u00e9cutant le code suivant, qui cr\u00e9e un objet int al\u00e9atoire entre -20 et 70, puis en v\u00e9rifiant en affichant la valeur de nb ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder from random import randintbksl-nlbksl-nlnb = randint(-20, 70)bksl-nl Une erreur courante Supposons qu'on ait besoin de savoir si le nombre nb est \u00e9gal \u00e0 0 ou \u00e0 1 . Il serait assez naturel d'\u00e9crire : a == 0 or 1 C'est une erreur courante chez les d\u00e9butants en programmation, mais qu'il faut \u00e9viter \u00e0 tout prix ! En effet, testons les lignes suivantes dans le terminal ci-dessous : 0 == 0 or 1 1 == 0 or 1 12 == 0 or 1 >>> Les trois expression ne renvoient pas True , True et False comme on pourrait s'y attendre, mais 1 , 1 et 1 (Ce qui est \u00e9quivalent \u00e0 trois True ). En effet l'op\u00e9rateur or , tout comme l'op\u00e9rateur and ne correspond uniquement qu'\u00e0 la table de v\u00e9rit\u00e9 donn\u00e9e ci-dessus, donc effectue une op\u00e9ration entre deux bool\u00e9ens . Dans le troisi\u00e8me exemple, il prend comme premier bool\u00e9en 12 == 0 , soit False , et comme second op\u00e9rateur, il n'utilise que l'objet 1 , qu'il essaye de transtyper en bool\u00e9en, et qui donne True (les r\u00e8gles de transtypage en bool\u00e9en en python sont donn\u00e9es ici , mais ne sont pas \u00e0 conna\u00eetre). Au final on a donc False or True , ce qui donne True . L'expression saisie est donc fausse. Il faut la corriger en utilisant a == 0 or a == 1 Exercice Enonc\u00e9 Solution Le code suivant est-il correct d'un point de vue logique ? 'toto' and 'plage' in 'toto va \u00e0 la plage' Non, il faut utiliser : 'toto' in 'toto va \u00e0 la plage' and 'plage' in 'toto va \u00e0 la plage' Pour les cracks : \u00e9valuation au plus court Dans une \u00e9valuation de condition poss\u00e9dant un ou plusieurs op\u00e9rateurs and et or , l'interpr\u00e9teur python \u00e9value de gauche vers la droite. Si les \u00e9valuations d\u00e9j\u00e0 effectu\u00e9es permettent d\u00e9j\u00e0 de donner le bool\u00e9en r\u00e9ponse, l'interpr\u00e9teur python s'arr\u00eate automatiquement. Ainsi : 5 < 7 or 5 < 9 : 5 < 7 renvoie True , et l'op\u00e9rateur or renvoie True d\u00e8s qu'une des deux condition est v\u00e9rifi\u00e9e. La condition 5 < 9 n'est donc pas \u00e9valu\u00e9e, ce serait inutile. 5 < 7 and 5 < 9 : 5 < 7 renvoie True , et l'op\u00e9rateur and renvoie True d\u00e8s que les deux conditions sont v\u00e9rifi\u00e9es. La condition 5 < 9 est donc obligatoirement \u00e9valu\u00e9e. 5 < 2 and 5 < 9 : 5 < 2 renvoie False , et l'op\u00e9rateur and renvoie False d\u00e8s qu'une des deux condition n'est pas v\u00e9rifi\u00e9e. La condition 5 < 2 n'est donc pas \u00e9valu\u00e9e, ce serait inutile. 5 < 9 and 5 < 2 : 5 < 9 renvoie True , et l'op\u00e9rateur and doit obligatoirement \u00e9valuer 5 < 2 pour conclure. Les deux derniers exemples montrent l'importance de l'ordre dans les op\u00e9rations bool\u00e9ennes, certains ordre permettant de gagner du temps de calcul.","title":"Op\u00e9rations logiques"},{"location":"NSI/Premiere/C01/C01_Conditions_Boucles/#structures-conditionnelles_1","text":"En Python, on utilise pour les structures conditionnelles la syntaxe suivante : if condition1 : #Le : est important ! #bloc de une ou #plusieurs lignes #indent\u00e9es ( avec la touche tabulation) elif condition2 : #encore un autre bloc elif condition3 : #etc #etc #etc . . . else : #et enfin un dernier bloc si aucune des conditions pr\u00e9c\u00e9dentes n'a \u00e9t\u00e9 r\u00e9alis\u00e9e. Les diff\u00e9rents blocs d'instructions doivent \u00eatre correctement indent\u00e9s ( c'est-\u00e0-dire correctement d\u00e9cal\u00e9 s vers la droite). La r\u00e8gle de bonne conduite est d'utiliser 4 espaces par indentation (qu'il est souvent possible d'obtenir gr\u00e2ce \u00e0 la touche tabulation Tab ). Il est r\u00e9ellement fondamental de respecter au maximum les indentations, celles-ci \u00e9tant pour l'interpr\u00e9teur Python le signal de d\u00e9clenchement d'un bloc de code ind\u00e9pendant. Par exemple, le code ci-dessous renverra une erreur : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder nb = int(input(\"Entrez un nombre entre 1 et 100 :\"))bksl-nlif nb<1 :bksl-nl print(\"Votre nombre est trop petit\")bksl-nlelif nb>100 :bksl-nl print(\"Votre nombre est trop grand\")bksl-nl else :bksl-nl print(\"Merci !\")bksl-nlprint(\"FIN\")bksl-nl On peut aussi noter que les mots cl\u00e9s elif et else sont optionnels. if nb < 1 : print ( \"Votre nombre est trop petit !\" ) if nb > 100 : print ( \"Votre nombre est trop grand !\" ) if 1 < nb < 100 : print ( \"Merci !\" ) Votre nombre est trop petit ! Les structures conditionnelles peuvent aussi \u00eatre imbriqu\u00e9es, en indentant \u00e0 plusieurs reprises : nb = int ( input ( \"Entrez un nombre entier, positif ou n\u00e9gatif :\" )) if nb > 0 : print ( \"Votre nombre est positif !\" ) if nb % 2 == 0 : print ( \"Et c'est un multiple de 2 !\" ) else : print ( \"Et ce n'est pas un multiple de 2 !\" ) else : print ( \"Votre nombre est n\u00e9gatif !\" ) Entrez un nombre entier, positif ou n\u00e9gatif :9 Votre nombre est positif ! Et ce n'est pas un multiple de 2 !","title":"Structures conditionnelles"},{"location":"NSI/Premiere/C01/C01_Conditions_Boucles/#boucles","text":"","title":"Boucles"},{"location":"NSI/Premiere/C01/C01_Conditions_Boucles/#boucle-non-bornee-while","text":"Boucle born\u00e9e On utilise une boucle born\u00e9e lorsqu'on veut r\u00e9-ex\u00e9cuter un bloc de code tant qu'une condition est v\u00e9rifi\u00e9e . La boucle while ( ou boucle Tant que en pseudo-code), poss\u00e8de la structure suivante en Python : while condition : #Encore une fois, ne pas oublier le signe : #bloc de code #indent\u00e9 Le bloc de code situ\u00e9 sous l'instruction while sera ex\u00e9cut\u00e9 tant que la condition donn\u00e9e sera vraie , comme dans l'exemple donn\u00e9 ci-dessous : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder nb= int(input(\"Donnez un nombre entier positif:\"))bksl-nlpuissance = 0bksl-nlwhile nb//2 >=1 :bksl-nl puissance = puissance +1bksl-nl nb=nb//2bksl-nlprint(\"Votre nombre est sup\u00e9rieur ou \u00e9gal \u00e0 2 puissance {p} et inf\u00e9rieur \u00e0 2 puissance {q}\".format(bksl-nl p=puissance,q=puissance+1))#A noter qu'ici le texte \u00e9tant trop long, on a pu \"sauter\" \u00e0 la lignebksl-nl #le saut de ligne \u00e9tant compris entre les parenth\u00e8ses de la m\u00e9thode formatbksl-nl","title":"Boucle non born\u00e9e while"},{"location":"NSI/Premiere/C01/C01_Conditions_Boucles/#boucle-bornee-for","text":"Boucle born\u00e9e On utilise une boucle born\u00e9e lorsqu' on connait \u00e0 l'avance le nombre de fois o\u00f9 un bloc de code doit \u00eatre ex\u00e9cut\u00e9 .","title":"Boucle born\u00e9e : for"},{"location":"NSI/Premiere/C01/C01_Conditions_Boucles/#la-boucle-classique-for","text":"Dans de nombreux langages de programmation, une boucle for ( Pour en pseudo-code) fonctionne en : cr\u00e9ant un compteur ( ou it\u00e9rateur ), nomm\u00e9 traditionnellement i ; en initialisant ce compteur \u00e0 une valeur de d\u00e9part ; en augmentant \u00e0 chaque tour de boucle le compteur d'une certaine valeur appel\u00e9e le pas ( step en anglais); en continuant tant qu'une certaine valeur n'est pas d\u00e9pass\u00e9e (ou qu'une condition est respect\u00e9e). En Python, on utilisera la structure suivante : for i in range ( 12 , 24 , 3 ) : # Bloc de code o\u00f9 : i est le compteur. C'est une variable donc on peut choisir son nom selon les r\u00e8gles de nommages habituelles ; 12 est la valeur de d\u00e9part \u00e0 laquelle est initialis\u00e9e i , ce qui est \u00e9quivalent \u00e0 i = 12 ; 24 est la valeur telle que si i est sup\u00e9rieur ou \u00e9gal \u00e0 cette valeur, la boucle s'arr\u00eate. 3 est le pas, la varioable i augmente de 3 \u00e0 chaque tour de boucle, ce qui est \u00e9quivalent \u00e0 i = i + 3 . M\u00eame si il s'agit d'une simplification abusive de ma part, vous pouvez consid\u00e9rer que la fonction range() construit l'ensemble des valeurs que opeut prendre le compteur i , et fait passer i d'une valeur \u00e0 l'autre \u00e0 chque tour de boucle. Cette boucle for est donc exactement \u00e9quivalente au code suivant : i = 12 while i < 24 : # Bloc de code i = i + 3 Exercice Enonc\u00e9 Solution Combien y aura-t-il de r\u00e9p\u00e9titions du bloc de code dans cette boucle for ? Il y aura une ex\u00e9cution du bloc de code pour chacune des valeurs suivante de i : \\(12\\) , \\(15\\) , \\(18\\) , \\(21\\) . Lorsque i prend la valeur 24 , la boucle est arr\u00eat\u00e9e et le bloc n'est pas ex\u00e9cut\u00e9. Il existe des facilit\u00e9s de programmation qui permettent de simplifier l'\u00e9criture de la fonction range : Si le pas est de 1 , on peut l'omettre : range(12, 17) est \u00e9quivalent \u00e0 range(12, 17, 1) , et cr\u00e9e la liste 12, 13, 14, 15, 16 ; Si la valeur de d\u00e9part est 0 , et le pas de 1 , on peut les omettre : range(5) est \u00e9quivalent \u00e0 range(0, 5, 1) et cr\u00e9e la liste 0, 1, 2, 3, 4 (ce qui permet d'avoir exactement 5 tours de boucle) ; Attention, il n'est pas possible de donner le pas sans donner la valeur de d\u00e9part ! range(0, 45, 3) ne peut pas \u00eatre raccourci !","title":"La boucle classique for"},{"location":"NSI/Premiere/C01/C01_Conditions_Boucles/#la-boucle-for-en-python","text":"En python, la boucle for peut aussi \u00eatre utilis\u00e9e comme une boucle foreach ( Pour chaque en pseudo-code) : Testez par exemple le code suivant : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder texte ='Un texte quelconque'bksl-nlfor lettre in texte :bksl-nl if lettre in 'aeiouy':bksl-nl print(f\"Tiens, j'ai vu la voyelle {lettre}.\")bksl-nl Le compteur lettre prendra successivement chaque ( each ) caract\u00e8re de la cha\u00eene texte , soit U , n , (1 espace), t , ..., jusqu'\u00e0 ce que le parcours de la cha\u00eene soit termin\u00e9. Dans ce cas, il n'y a pas de pas , on parcourt chaque \u00e9l\u00e9ment d'un ensemble donn\u00e9. Nous verrons plus tard dans l'ann\u00e9e qu'on peut parcourir ainsi des listes, des tuples, etc... Exercice Comment faire pour prendre en compte les majuscules dans le compte des voyelles ?","title":"la boucle for en Python"},{"location":"NSI/Premiere/C01/C01_Conditions_Boucles/#exercices","text":"Conditions, saisies et affichages Enonc\u00e9 Solutions Ecrire un programme qui demande un nombre \u00e0 l'utilisateur, puis affiche le carr\u00e9 de ce nombre. Ecrire un programme qui demande l'heure qu'il est (un nombre pour les heures, un nombre pour les minutes et un pour les secondes). Cet algorithme indiquera en outre si l'heure donn\u00e9e est valide, c'est-\u00e0-dire que les nombres sont bien des entiers, et qu'ils sont compris entre 0 et 23 ou 0 et 59. On pourra utiliser la fonction isinstance(objet, type) utilisable de la mani\u00e8re suivante : >>> isinstance ( 4 , int ) True >>> isinstance ( \"5\" , int ) False Compl\u00e9ter le programme pr\u00e9c\u00e9dent afin que l'algorithme donne l'heure qu'il sera 10 minutes apr\u00e8s l'heure saisie. Une ann\u00e9e est dite bissextile si cette ann\u00e9e est divisible par 4, sauf si elle est divisible par 100 et pas par 400. Construire un programme qui dit si une ann\u00e9e saisie par un utilisateur\u00b7trice est bissextile ou non. Ecrire un programme qui demande les coefficients \\(a\\) et \\(b\\) d'une fonction affine, et qui donne son nombre de racines et leurs valeurs \u00e9ventuelles. Attention aux cas particuliers ! Etendre le programme pr\u00e9c\u00e9dent pour la r\u00e9solution d'\u00e9quations du type \\(ax+b = cx+d\\) , o\u00f9 \\(a,b,c,d\\) sont des entiers saisis par l'utilisateur\u00b7trice. Pour les \u00e9l\u00e8ves ayant encore des maths, reprendre le probl\u00e8me n\u00b05 pour un trin\u00f4me du second degr\u00e9. A venir ! Exercices sur les boucles for et while Enonc\u00e9 Solutions Ecrire un programme qui affiche les 20 premiers nombres de la table de multiplication d'un entier choisi par l'utilisateur\u00b7trice, sous la forme (avec choix de 7 par l'utilisateur) : 7 x 0 = 0 7 x 1 = 7 7 x 2 = 14 ... Ecrire un programme qui affiche les restes des divisions euclidiennes des \\(200\\) premiers entiers par \\(7\\) . Ecrire un programme qui affiche les restes des divisions euclidiennes des \\(300\\) premi\u00e8res puissances de \\(2\\) par \\(9\\) . Que constate-t-on ? Ecrire un programme qui affiche une suite de 12 nombres dont chaque terme soit \u00e9gal au triple du nombre pr\u00e9c\u00e9dent, le nombre de d\u00e9part \u00e9tant choisi par l'utilisateur\u00b7trice. La suite de Syracuse est d\u00e9finie ainsi : on part d'un nombre entier choisis par l'utilisateur.trice ; si le nombre est pair, on le divise par 2, et on recommence avec le r\u00e9sultat ; sinon on le multiplie par 3 et on ajoute 1, et on recommence avec le r\u00e9sultat. Construire un programme qui afiche les 30 premiers nombres de la suite de Syracuse \u00e0 partir d'un nombre entier choisis par un\u00b7e utilisateur\u00b7trice. Ecrire un programme qui demande un nombre entier entre 1 et 10 \u00e0 l'utilisateur\u00b7trice, et qui poursuit cette demande tant que l'utilisateur\u00b7trice n'a pas exactement fait ce qui lui \u00e9tait demand\u00e9 ( on appelle ce type de programme dumbproof ). A venir !","title":"Exercices"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/","text":"Fonctions, assertions et docstring en Premiers pas avec les fonctions Pourquoi des fonctions ? Dans la partie pr\u00e9c\u00e9dente, nous avons termin\u00e9 par un petit programme qu demande \u00e0 un\u00b7e utilisateur\u00b7trice de donner un nombre entier entre 1 et 10, et qui v\u00e9rifie la saisie jusqu'\u00e0 ce que l'utilisateur\u00b7trice ait effectuer une saisie correcte. Voici un exemple simple d'impl\u00e9mentation de ce programme : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder while True : # Il s'agit d'une boucle infinie, la condition \u00e9tant toujours vraiebksl-nl nb = input(\"Entrez un nombre entre 1 et 10 : \")bksl-nl nb=int(nb)bksl-nl if 1<=nb<=10 :bksl-nl # L'instruction 'break' arr\u00eate imm\u00e9diatement la boucle et sort de la boucle whilebksl-nl breakbksl-nl else :bksl-nl print(\"Votre nombre n'est pas compris entre 1 et 10. Veuillez recommencer !\")bksl-nl bksl-nl#Une fois sorti de la boucle, on peut donc utiliser 'nb' en \u00e9tant certain qu'il s'agit d'un entier entre 1 et 10.bksl-nlprint(f'Le carr\u00e9 de {nb} est {nbpy-strpy-str2}')bksl-nl Un blocage ? Enonc\u00e9 Solution Essayez de saisir diff\u00e9rentes valeurs de diff\u00e9rents types . Quel est le probl\u00e8me rencontr\u00e9 ? Si 'utilisateur\u00b7trice saisi quelque chose qui ne peut pas \u00eatre transtyp\u00e9 en int , il y a une erreur lev\u00e9e et le programme est totalement interrompu. Ce peut-\u00eatre parfois compl\u00e8tement bloquant pour le fonctionnement r\u00e9el d'une application. La version ci-dessous est un peu plus dumbproof , mais je ne vous demande pas encore de comprendre les blocs try/except/else . ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder bksl-nlwhile True :bksl-nl nb = input(\"Entrez un nombre entier entre 1 et 10 : \")bksl-nl # Ici nb est du type 'str'bksl-nl # Il faut donc d'abord le convertir en entier, mais si l'utilisateur a saisi une chaine qu'il est impossiblebksl-nl # de convertir, l'interpr\u00e9teur l\u00e8vera par d\u00e9faut une erreur et arr\u00eatera le programme.bksl-nl # Or nous ne voulons pas d'interruption , nous signifions donc explicitement au programme ce que nous souhaitonsbksl-nl # qu'il fasse avec le bloc 'try : ...' 'except : ...' else : ... bksl-nl try :bksl-nl nb=int(nb)bksl-nl # si l'interpr\u00e9teur n'arrive pas \u00e0 ex\u00e9cuter l'instruction ci-dessus, il d\u00e9clenche une erreur et passebksl-nl # directement au bloc 'except'. Sinon il passe au bloc 'else'.bksl-nl except ValueError :bksl-nl print(\"Vous n'avez pas saisi un entier. Veuillez recommencer !\")bksl-nl else :bksl-nl if 1<= nb<= 10 :bksl-nl breakbksl-nl else :bksl-nl print(\"Votre nombre n'est pas compris entre 1 et 10. Veuillez recommencer !\")bksl-nl bksl-nlbksl-nlprint(f'Le carr\u00e9 de {nb} est {nbpy-strpy-str2}')bksl-nl Application 1 : Multiplier les codes Enonc\u00e9 Solution Imaginons maintenant un programme qui demande trois fois \u00e0 l'utilisateur d'entrer un tel nombre, puis qui v\u00e9rifie si les trois nombres correspondent \u00e0 une configuration de Pythagore. Vous devez vous inspirer du programme pr\u00e9c\u00e9dent pour compl\u00e9ter le programme ci-dessous afin d'obtenir trois nombres entiers nb1 , nb2 et nb3 saisis par l'utilisateur : Un code pouvant \u00eatre ins\u00e9r\u00e9 (avec notre niveau actuel en Python et sans utiliser de structures de listes) est le suivant : while True : nb1 = input ( \"Entrez un nombre entier entre 1 et 10 : \" ) try : nb1 = int ( nb1 ) except ValueError : print ( \"Vous n'avez pas saisi un entier. Veuillez recommencer !\" ) else : if 1 <= nb1 = 10 : break else : print ( \"Votre nombre n'est pas compris entre 1 et 10. Veuillez recommencer !\" ) while True : nb2 = input ( \"Entrez un nombre entier entre 1 et 10 : \" ) try : nb2 = int ( nb2 ) except ValueError : print ( \"Vous n'avez pas saisi un entier. Veuillez recommencer !\" ) else : if 1 <= nb2 <= 10 : break else : print ( \"Votre nombre n'est pas compris entre 1 et 10. Veuillez recommencer !\" ) while True : nb3 = input ( \"Entrez un nombre entier entre 1 et 10 : \" ) try : nb3 = int ( nb3 ) except ValueError : print ( \"Vous n'avez pas saisi un entier. Veuillez recommencer !\" ) else : if 1 <= nb3 <= 10 : break else : print ( \"Votre nombre n'est pas compris entre 1 et 10. Veuillez recommencer !\" ) ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder #### TAPEZ VOTRE CODE ENTRE LES DEUX COMMENTAIRESbksl-nlbksl-nlbksl-nl#### NE TOUCHEZ PAS AU CODE CI-DESSOUSbksl-nlbksl-nlif (nb1py-strpy-str2 == nb2py-strpy-str2 + nb3py-strpy-str2) or (nb2py-strpy-str2 == nb1py-strpy-str2 + nb3py-strpy-str2) or (nb3py-strpy-str2 == nb2py-strpy-str2 + nb1py-strpy-str2) :bksl-nl print(\"C'est une configuration de Pythagore !\")bksl-nlelse :bksl-nl print(\"Ce n'est pas une configuration de Pythagore !\")bksl-nl Mauvaise pratique Si ce code fait le travail demand\u00e9, il n'en est pas moins de mauvaise qualit\u00e9 pour plusieurs raisons : Il est long, avec des r\u00e9p\u00e9titions. Plus un code est long, plus il prend de place en m\u00e9moire, alors qu'on cherche plut\u00f4t \u00e0 minimiser ce facteur. Le copi\u00e9-coll\u00e9 force quand m\u00eame \u00e0 repasser sur chacune des parties pour modifier le nom des variables (sinon les valeurs seraient \u00e9cras\u00e9es). Ainsi toute modification doit \u00eatre r\u00e9\u00e9crite \u00e0 chaque fois que le morceau de code est appel\u00e9. Dans notre exemple, ce n'est que trois fois, le risque d'erreurs est minime, mais pour un plus grand nombre de r\u00e9p\u00e9titions, il est tr\u00e8s facile d'oublier une modification. Le code n'est plus lisible. Dans le cas d'un travail en \u00e9quipe, il est imp\u00e9ratif d'avoir un code clairement \u00e9crit, avec des fonctionnalit\u00e9s clairement d\u00e9finies. Premi\u00e8re fonction D\u00e9finition d'une fonction On va donc am\u00e9liorer non seulement la lisibilit\u00e9 de notre code, mais aussi son efficacit\u00e9 et sa simplicit\u00e9, en utilisant une fonction . D\u00e9finition : fonction Une fonction est un bloc de code nomm\u00e9 (c'est-\u00e0-dire poss\u00e9dant un nom dans l'espace de noms, comme toute autre variable). L'appel par l'interpr\u00e9teur du nom de la fonction suivi d'une paire de parenth\u00e8ses ex\u00e9cutera alors l'int\u00e9gralit\u00e9 du code et renverra une valeur de retour . Pour notre exemple : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder def askpy-unduserpy-undint() :bksl-nl while True :bksl-nl nb = input(\"Entrez un nombre entier entre 1 et 10 : \")bksl-nl try :bksl-nl nb=int(nb)bksl-nl except ValueError :bksl-nl print(\"Vous n'avez pas saisi un entier. Veuillez recommencer !\")bksl-nl else :bksl-nl if 1<= nb<= 10 :bksl-nl breakbksl-nl else :bksl-nl print(\"Votre nombre n'est pas compris entre 1 et 10. Veuillez recommencer !\")bksl-nl return nb #Renvoie l'objet associ\u00e9 \u00e0 nbbksl-nl La fonction est introduite par le mot cl\u00e9 def , suivi du nom de la fonction puis d'un couple de parenth\u00e8ses () , ce qui rend l'objet callable ( \"appelable\"). Le bloc de code est ensuite d\u00e9fini gr\u00e2ce \u00e0 une indentation en dessous du nom, tout comme on d\u00e9finit des blocs dans des structures conditionnelles ou des boucles. On fait appel \u00e0 cette fonction en appelant le nom ask_user_int() , ce qui d\u00e9clenche le bloc de code, puis cr\u00e9e un objet de retour correspondant \u00e0 la valeur saisie par l'utilisateur. Oubli des parenth\u00e8ses Dans le cas d'un oubli des parenth\u00e8ses lorsqu'on appelle une fonction, on obtient dans le terminal le message suivant : >>> ask_user_int < function ask_user_int at 0xe8c1a0 > Qui signifie simplement que le nom ask_user_int fait r\u00e9f\u00e9rence \u00e0 une fonction dont l'adresse m\u00e9moire est donn\u00e9e sous forme hexad\u00e9cimale. Notez que ask_user_int est juste un nom, l'objet correspondant est stock\u00e9 dans l'espace des objets. On peut donc \u00e9crire les choses suivantes : >>> demande_entier = ask_user_int >>> demande_entier () Utilisation de la valeur de retour Comme tout objet, la valeur de retour d'une fonction doit elle m\u00eame \u00eatre stock\u00e9e dans une variableafin de ne pas \u00eatre ramass\u00e9e par le garbage collector : >>> entier = ask_user_int () >>> print ( f 'La racine carr\u00e9e du nombre { entier } est { entier ** ( 1 / 2 ) } ' ) Factorisation du code de Pythagore Le code du programme de v\u00e9rification de Pythagore peut alors \u00eatre factoris\u00e9 , et devient alors : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder #### Zone des fonctionsbksl-nlbksl-nldef askpy-unduserpy-undint() :bksl-nl while True :bksl-nl nb = input(\"Entrez un nombre entier entre 1 et 10 : \")bksl-nl try :bksl-nl nb=int(nb)bksl-nl except ValueError :bksl-nl print(\"Vous n'avez pas saisi un entier. Veuillez recommencer !\")bksl-nl else :bksl-nl if 1<= nb<= 10 :bksl-nl breakbksl-nl else :bksl-nl print(\"Votre nombre n'est pas compris entre 1 et 10. Veuillez recommencer !\")bksl-nl return nb #Renvoie l'objet associ\u00e9 \u00e0 nbbksl-nlbksl-nl### Code principalbksl-nlbksl-nlnb1 = askpy-unduserpy-undint()bksl-nlnb2 = askpy-unduserpy-undint()bksl-nlnb3 = askpy-unduserpy-undint()bksl-nlif (nb1py-strpy-str2 == nb2py-strpy-str2 + nb3py-strpy-str2) or (nb2py-strpy-str2 == nb1py-strpy-str2 + nb3py-strpy-str2) or (nb3py-strpy-str2 == nb2py-strpy-str2 + nb1py-strpy-str2) :bksl-nl print(\"C'est une configuration de Pythagore !\")bksl-nlelse :bksl-nl print(\"Ce n'est pas une configuration de Pythagore !\")bksl-nl Ce qui a l'avantage d'\u00eatre vraiment vraiment plus clair. Exercices Application 2 Enonc\u00e9 Solution Cr\u00e9er une fonction nomm\u00e9e table7 qui renvoie la table de multiplication de 7 avec un multiplicateur allant de 0 \u00e0 10, sous la forme d'une cha\u00eene de caract\u00e8res comme ci-dessous : \"7x0=0 \\n 7x1=7 \\n 7x2=14 ...\" Indication : le symbole \\n , ins\u00e8re un saut de ligne dans une cha\u00eene de caract\u00e8res. def table7 () : table = '' for i in range ( 11 ) : table += f '7x { i } = { 7 * i } \\n ' return table Augmenter la capacit\u00e9 des fonctions : les arguments obligatoires L'exemple de la fonction ask_user_int est assez limit\u00e9. Dans l'absolu, on pourrait souhaiter que la fonction demande un nombre entier entre 2 valeurs variables. Pour ce faire, il faut, dans la d\u00e9finition de la fonction, pr\u00e9ciser des arguments qui seront des variables initialis\u00e9es \u00e0 certaines valeurs lors de l'appel \u00e0 la fonction : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder def askpy-unduserpy-undint(bornepy-undmin,bornepy-undmax) :bksl-nl if not(isinstance(bornepy-undmin,int)) or not(isinstance(bornepy-undmax,int)) :bksl-nl raise ValueError(\"One or both of the arguments are not of type int\")bksl-nl if bornepy-undmin>bornepy-undmax :bksl-nl raise ValueError(\"First argument must be lesser or equal to second argument\")bksl-nl while True :bksl-nl nb = input(f\"Entrez un nombre entier entre {bornepy-undmin} et {bornepy-undmax} : \")bksl-nl try :bksl-nl nb=int(nb)bksl-nl except ValueError :bksl-nl print(\"Vous n'avez pas saisi un entier. Veuillez recommencer !\")bksl-nl else :bksl-nl if bornepy-undmin<= nb<= bornepy-undmax :bksl-nl breakbksl-nl else :bksl-nl print(f\"Votre nombre n'est pas compris entre {bornepy-undmin} et {bornepy-undmax}. Veuillez recommencer !\")bksl-nl return nb bksl-nl Une fois la fonction d\u00e9finie, on peut l'appeler en pr\u00e9cisant les valeurs des deux arguments : >>> ask_user_int ( 1 , 100 ) >>> ask_user_int ( - 10 , 10 ) Des erreurs classiques On a aussi un certain nombre d'erreurs qui sont d\u00e9clench\u00e9es. Testez les lignes suivantes : 1 2 3 4 ask_user_int () ask_user_int ( 45 ) ask_user_int ( 0.5 , 2.5 ) ask_user_int ( 30 , 10 ) Application 3 Enonc\u00e9 Solution Cr\u00e9er une fonction table_multi qui prend un argument entier, le multiplicande, et \u00e9crit la table de multiplication de ce nombre, avec un multiplicateur allant de 1 \u00e0 10. def table_multi ( nb ) : table = '' for i in range ( 11 ) : table += f ' { nb }} x { i } = { nb * i } \\n ' return table Application 4 : motif dans une chaine Enonc\u00e9 Solution Cr\u00e9er une fonction trouve_chaine qui prend deux arguments, un motif ( une chaine de caract\u00e8res ) et un texte ( une autre chaine de caract\u00e8res ) et qui renvoie True si le motif est pr\u00e9sent dans la chaine , quel que soit la casse du motif ou celle de la chaine, et False sinon. Vous pouvez tester avec les lignes suivantes : assert trouve_chaine ( 'Toto' , 'Toto va \u00e0 la plage' ) == True , 'Meme casse pas trouv\u00e9e' assert trouve_chaine ( 'Totos' , 'Toto va \u00e0 la plage' ) == False , 'Chaine non pr\u00e9sente trouv\u00e9e' assert trouve_chaine ( 'TOTO' , 'Toto va \u00e0 la plage' ) == True , 'Probl\u00e8me de majuscules dans le motif' assert trouve_chaine ( 'toto' , 'TOTO va \u00e0 la plage' ) == True , 'Probl\u00e8me de minuscules dans le motif' assert trouve_chaine ( 'ToTo' , 'OtOtO va \u00e0 la plage' ) == True , 'Que dire ?' def trouve_chaine ( motif , texte ) : return motif . lower () in texte ; lower () Augmenter la capacit\u00e9 des fonctions : les arguments optionnels Notre fonction ask_user_int commence \u00e0 \u00eatre int\u00e9ressante. Mais nous pourrions souhaiter personnaliser le message de la question, sans pour autant avoir envie de le changer syst\u00e9matiquement. C'est tout \u00e0 fait possible en Python, gr\u00e2ce aux arguments optionnels . Il s'agit d'arguments dont le nom est donn\u00e9 dans la fonction, mais avec une valeur par d\u00e9faut . Ainsi : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder def askpy-unduserpy-undint(bornepy-undmin,bornepy-undmax, prenom='Inconnu') :bksl-nl if not(isinstance(bornepy-undmin,int)) or not(isinstance(bornepy-undmax,int)) :bksl-nl raise ValueError(\"One or both of the arguments are not of type int\")bksl-nl if bornepy-undmin>bornepy-undmax :bksl-nl raise ValueError(\"First argument must be lesser or equal to second argument\")bksl-nl while True :bksl-nl nb = input(f\"{prenom}, entrez un nombre entier entre {bornepy-undmin} et {bornepy-undmax} : \")bksl-nl try :bksl-nl nb=int(nb)bksl-nl except ValueError :bksl-nl print(f\"{Inconnu}, vous n'avez pas saisi un entier. Veuillez recommencer !\")bksl-nl else :bksl-nl if bornepy-undmin<= nb<= bornepy-undmax :bksl-nl breakbksl-nl else :bksl-nl print(f\"{Inconnu}, votre nombre n'est pas compris entre {bornepy-undmin} et {bornepy-undmax}. Veuillez recommencer !\")bksl-nl return nb bksl-nl Ainsi, la fonction ci-dessus posss\u00e8de trois arguments : deux arguments obligatoires , borne_min et borne_max ; un argument optionnel , prenom . Il est \u00e0 noter qu'imp\u00e9rativement les arguments obligatoires doivent \u00eatre plac\u00e9s avant les arguments optionnels . On peut alors appeller la fonction des diff\u00e9rentes mani\u00e8res suivantes (\u00e0 tester) : 1 2 3 ask_user_int ( 0 , 10 ) ask_user_int ( 0 , 10 , prenom = 'Toto' ) ask_user_int ( 0 , 10 , prenom = 'foo' ) >>> Application 5 : arguments optionnels Enonc\u00e9 Solution Compl\u00e9ter la fonction table_multi afin qu'elle utilise deux arguments optionnels, la valeur de d\u00e9part, fix\u00e9e \u00e0 0 initialement, et la valeur d'arriv\u00e9e du multiplicateur, fix\u00e9e \u00e0 10 initialement. def table_multi ( nb , depart = 0 , fin = 10 ) : table = '' for i in range ( depart , fin + 1 ) : table += f ' { nb }} x { i } = { nb * i } \\n ' return table Application 6 : arguments optionnels Enonc\u00e9 Solution R\u00e9\u00e9crire la fonction trouve_chaine afin qu'elle utilise un argument bool\u00e9en optionnel verifCasse , afin de d\u00e9terminer si le motif est pr\u00e9sent dans le texte en v\u00e9rifiant la casse ou non. Par d\u00e9faut l'argument sera False . Vous pouvez utiliser les tests ci-dessous : ### Cette cellule est une cellule vous permettant de tester votre fonction ##les assertions suivantes sont les m\u00eame que pr\u00e9c\u00e9demment assert trouve_chaine ( 'Toto' , 'Toto va \u00e0 la plage' ) == True , 'Meme casse pas trouv\u00e9e' assert trouve_chaine ( 'Totos' , 'Toto va \u00e0 la plage' ) == False , 'Chaine non pr\u00e9sente trouv\u00e9e' assert trouve_chaine ( 'TOTO' , 'Toto va \u00e0 la plage' ) == True , 'Probl\u00e8me de majuscules dans le motif' assert trouve_chaine ( 'toto' , 'TOTO va \u00e0 la plage' ) == True , 'Probl\u00e8me de minuscules dans le motif' assert trouve_chaine ( 'ToTo' , 'OtOtO va \u00e0 la plage' ) == True , 'Que dire ?' # Mais on rajoute celles-ci : assert trouve_chaine ( 'Toto' , 'Toto va \u00e0 la plage' , verifCasse = True ) == True , 'Meme casse pas trouv\u00e9e' assert trouve_chaine ( 'TOTO' , 'TOTO va \u00e0 la plage' , verifCasse = True ) == True , 'Meme casse pas trouv\u00e9e' assert trouve_chaine ( 'Totos' , 'Toto va \u00e0 la plage' , verifCasse = True ) == False , 'Chaine non pr\u00e9sente trouv\u00e9e' assert trouve_chaine ( 'TOTO' , 'Toto va \u00e0 la plage' , verifCasse = True ) == False , 'Probl\u00e8me de majuscules dans le motif' assert trouve_chaine ( 'toto' , 'TOTO va \u00e0 la plage' , verifCasse = True ) == False , 'Probl\u00e8me de minuscules dans le motif' assert trouve_chaine ( 'ToTo' , 'OtOtO va \u00e0 la plage' , verifCasse = True ) == False , 'Que dire ?' def trouve_chaine ( motif , texte , verifCasse = False ) : if verifCasse == True : return motif in texte else : return motif . lower () in texte . lower () : Commenter son code : les docstrings Commenter son code Une bonne habitude, \u00e0 prendre imm\u00e9diatement, est celle de commenter son code, c'est-\u00e0-dire d'expliquer l'impl\u00e9mentation de votre code sous la forme de commentaires, \u00e9crits en fran\u00e7ais (ou mieux, en anglais). Les commentaires sont des lignes non-lues par l'interpr\u00e9teur Python , commen\u00e7ant par le symbole di\u00e8se # . Ces explications sont importantes, car vous vous rendrez vite compte que vous serez parfois incapable de comprendre un code que vous avez \u00e9crit vous-m\u00eame quelques semaines voir quelques jours auparavant ! Alors imaginez celui qui doit lire votre code, mais qui ne l'a pas \u00e9crit... Les concepteur\u00b7trice\u00b7s de Python ont cr\u00e9e une fonction sp\u00e9cifique permettant d'obtenir des informations sur les autres objets : la fonction help . Testez par exemple la commande help(print) dans la console suivante, puis essayez avec d'autres objets de Python. >>> La fonction help va chercher dans l'objet pass\u00e9 en argument sa docstring , litt\u00e9ralement chaine de documentation , qui est une chaine de caract\u00e8res cr\u00e9e par le ou la codeur\u00b7euse pr\u00e9sentant l'utilisation de la fonction, ses param\u00e8tres obligatoires, ses param\u00e8tres optionnels, etc... Une docstring est construite comme une cha\u00eene de caract\u00e8res non nomm\u00e9e pr\u00e9sent\u00e9e imm\u00e9diatement apr\u00e8s la d\u00e9claration de la fonction, comme dans l'exemple ci-dessous : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder def somme(a,b) :bksl-nl \"\"\" fonction qui renvoie la somme des arguments a et b, bksl-nl en v\u00e9rifiant si a et b sont bien du m\u00eame type, bksl-nl et qui renvoie None sinon.bksl-nl Par exemple :bksl-nlbksl-nl somme(4, 3) renvoie 7bksl-nlbksl-nl somme(4, \"3\") renvoie Nonebksl-nl bksl-nl \"\"\"bksl-nl if type(a) == type(b) :bksl-nl return a+bbksl-nl else :bksl-nl return Nonebksl-nl La fonction somme contient donc une docstring - introduite par trois guillemets ( pour permettre les sauts de lignes ). Celle-ci d\u00e9crit l'effet de la fonction, de mani\u00e8re exacte. On peut alors acc\u00e9der \u00e0 la docstring d'une fonction en utilisant la fonction built-in help : Testez par exemple help(somme) . Les docstrings Une docstring est essentielle pour comprendre l'utilit\u00e9 d'une fonction ! Vous devrez en utiliser le plus souvent possible ! Typage des arguments Une possibilit\u00e9 offerte depuis la version 3.7 de Python est de pr\u00e9senter dans la fonction le type des arguments attendus, ainsi que le type du retour. On appelle ceci les type hints (*indices de types) Ces indications sont pr\u00e9cieuses pour l'utilisateur\u00b7trice de cette fonction. La fonction trouve_chaine peut \u00eatre iompl\u00e9ment\u00e9e ainsi : def trouve_chaine ( motif : str , texte : str , verifCasse : bool = False ) -> bool : if verifCasse == True : return motif in texte else : return motif . lower () in texte . lower () : Port\u00e9e des variables Au sein d'un m\u00eame programme, les variables d\u00e9finies n'ont pas syst\u00e9matiquement la m\u00eame port\u00e9e . La port\u00e9e d'une variable , c'est l'espace des objets/noms (on parle aussi de monde ) dans lequel est d\u00e9fini cette variable. En utilisant le site Python Tutor , nous allons essayer de comprendre cette notion de port\u00e9e des variables. Variables globales Dans l'exemple ci-dessus, la variable gvar est d\u00e9finie dans l'espace de nom global ( global frame ). Elle est accessible en lecture depuis l'int\u00e9rieur de la fonction f . On parlera alors de variable globale . Variables locales Dans l'exemple ci-dessus, la variable gvar2 est d\u00e9finie dans l'espace des noms associ\u00e9 \u00e0 la fonction f , et qui est cr\u00e9e au moment de l'appel \u00e0 cette fonction ( frame f ). Cet espace est d\u00e9truit par le garbage collector d\u00e8s que l'ex\u00e9cution de la fonction est termin\u00e9 (une fois la valeur de return renvoy\u00e9e dans l'espace appelant). Il devient donc impossible d'utiliser la variable gvar2 puisqu'elle a disparue. gvar2 est une variable locale \u00e0 la fonction f . Changer la valeur d'une variable globale Regardons maintenant le code suivant : Le code pr\u00e9c\u00e9dent d\u00e9clenche une erreur UnboundLocalError en ligne 3. Cela signifie que l'interpr\u00e9teur Python ne peut pas effectuer la ligne gvar=gvar+2 car il cherche une variable gvar qu'il peut modifier. Or une variable d\u00e9finie hors d'une fonction ne peut pas \u00eatre modifi\u00e9e par celle-ci . Il est par contre possible de travailler sur une copie de la variable souhait\u00e9e ( uniquement dans le cas des types primitifs int , float , str ...), en utilisant une fonction ayant un argument. Il faudra par cons\u00e9quent retourner la valeur chang\u00e9e * pour qu'elle soit effective. Par exemple comparez les deux scripts suivants : Code incorrect Code correct Ici on constate qu'en fait il y a deux variables a : une en dehors de la fonction, qui n'est pas modifi\u00e9e. C'est une variable globale . une \u00e0 l'int\u00e9rieur de la fonction, qui peut \u00eatre modifi\u00e9e, mais qui ne change pas la variable globale. C'est une variable locale \u00e0 la fonction. La fonction f ne renvoyant aucune donn\u00e9e, la variable locale a est d\u00e9truite apr\u00e8s la fin de la fonction f . Ici on a rajout\u00e9 deux lignes : return a qui permet \u00e0 la fonction de renvoyer la valeur modifi\u00e9e ; a = f(a) La valeur renvoy\u00e9e par l'appel f(a) est affect\u00e9 au nom de variable a . L'op\u00e9ration effectu\u00e9e \u00e0 l'int\u00e9rieur de la fonction se retrouve r\u00e9percut\u00e9e sur la variable globale a . Tests, assertions et module Doctest R\u00e9fl\u00e9chir avant d'agir : \u00e9crire les tests avant la fonction Lorqsu'on \u00e9crit une fonction, il est tr\u00e8s important d'avoir une id\u00e9e pr\u00e9cise de ce que la fonction doit renvoyer, y compris dans les cas extr\u00eames ou cas sp\u00e9cifiques . Par exemple, on pourrait consid\u00e9rer une fonction coefficient_directeur qui donne le coefficient directeur d'une droite quand on lui passe en argument les coordonn\u00e9es de deux points \\(A\\) et \\(B\\) . Je rappelle que le calcul du coefficient directeur de la droite \\((AB)\\) se fait par l'interm\u00e9diare de la formule : \\[m = \\frac{y_B-y_A}{x_B-x_A}\\] Ainsi nous aimerions que la fonction travaille avec 4 arguments de type entiers xA, yA, xB, yB , qu'elle renvoie le coefficient directeur de \\((AB)\\) sous la forme d'un flottant si ce coefficient existe, et qu'elle renvoie None quand il n'existe pas. On, d\u00e9finit ici ce qu'on appelle une interface de la fonction : def coefficient_directeur ( xA : int , yA : int , xB : int , yB : int ) -> float : \"\"\" Renvoie le coefficient directeur de la droite (AB) telle que : A (xA ; yA) et B(xB ; yB), et les coordonn\u00e9es de A ety B sont enti\u00e8res. Dans le cas ou le coefficient directeur n'existe pas, renvoie None \"\"\" ... On souhaite donc pr\u00e9voir en avance diff\u00e9rents cas de fonctionnement de la fonction, et on aimerait v\u00e9rifier que les calculs effectu\u00e9s par la fonction correspondent bien \u00e0 ces cas. Par exemple, nous aimerions que la fonction v\u00e9rifie le test suivant : >>> coefficient_directeur ( 2 , 4 , 3 , 7 ) 3.0 Ecrire des tests Enonc\u00e9 Solution Ecrire 5 tests prenant en compte tous les cas possibles d'utilisation de la fonction, en supposant que les tyypes fournis en argument soient bien des entiers. Compl\u00e9ter la fonction coefficient_directeur afin qu'elle remplisse le r\u00f4le qui lui est demand\u00e9. A venir ! Tester avec des assertions Vous avez vu plus haut dans ce document des assertions sous la forme : assert trouve_chaine ( 'Toto' , 'Toto va \u00e0 la plage' ) == True , 'Meme casse pas trouv\u00e9e' La fonction assert teste un bool\u00e9en, ici trouve_chaine('Toto', 'Toto va \u00e0 la plage')==True . Il peut alors se produire deux cas : soit le bool\u00e9en est True , auquel cas l'interpr\u00e9teur passe \u00e0 la ligne suivante ; soit le bool\u00e9en est False , auquel cas l'interpr\u00e9teur arr\u00eate le code et affiche la chaine de caract\u00e8re pass\u00e9e en second argument, ici 'Meme casse pas trouv\u00e9e' . J'utiliserai souvent les assertions dans les TP not\u00e9s sur la plateforme Capytale, certaines vous seront fournies, d'autres seront cach\u00e9es. Tester avec le module doctest Pyhton \u00e9tant user friendly , il permet au programmeur de tester automatiquement, gr\u00e2ce au module doctest . Un module Python est un fichier (ou un ensemble de fichiers) qui comporte(nt) des objets et des fonctions qui peuvent \u00eatre ajout\u00e9s aux fonctionnalit\u00e9 de base de Python. Il en existe un tr\u00e8s grand nombre, tous \u00e9tant sp\u00e9cialis\u00e9s dans un domaine. On trouve par exemple : le module math , qui contient beaucoup de fonctions math\u00e9matiques ; le module turtle , qui permet de dessiner g\u00e9om\u00e9triquement ; le module pygame , qui est un module permettant de g\u00e9rer les diff\u00e9rents \u00e9l\u00e9ments d'un jeu vid\u00e9o ; le module panda , qui est utilis\u00e9 pour faire du traitement de donn\u00e9es ; le module flask , qui permet de cr\u00e9er une application web ... Un module doit \u00eatre charg\u00e9 en m\u00e9moire une fois (de pr\u00e9f\u00e9rence au d\u00e9but du code), par l'interm\u00e9diaire de la commande : import nom_du_module Mais non, ca ne se fait pas que comme \u00e7a ! Oui, vous avez raison, mais ce n'est pas le cas de ce cours, nous verrons l'import de modules plus tard dans l'ann\u00e9e... Le module doctest , lui, permet d'int\u00e9grer \u00e0 la docstring un ensemble de tests qui sont v\u00e9rifi\u00e9s par l'appel de la fonction testmod du module doctest . Par exemple, copiez-collez le code suivant dans un fichier : import doctest # On charge en m\u00e9moire le module doctest # Zone de d\u00e9claration des fonctions def times2 ( n : object ) -> object : \"\"\" Fonction qui multiplie par 2, selon le type d'objet >>> times2(4) 8 >>> times2(5.4) 10.8 >>> times2('a') 'aa' \"\"\" return 2 * n # Zone du script global doctest . testmod () # Lance les tests des fonctions d\u00e9clar\u00e9es L'appel \u00e0 la fonction doctest.testmod() d\u00e9clenche les trois tests pr\u00e9sents dans la doctsring, et v\u00e9rifie que les r\u00e9sultats de la fonctions correspondent \u00e0 ceux fournit dans la docstring. Application 7 : Ajouter une fonction et des tests Enonc\u00e9 Solution Cr\u00e9ez une fonction times3 qui multiplie un objet par 3, en \u00e9crivant les tests correspondants. A venir ! Je me servirai de doctests ou bien d'assertions pour estimer la justesse de vos fonctions et de vos programmes. Une bonne id\u00e9e serait de TOUJOURS fournir un jeu d'exemple avant de se lancer dans la construction d'une fonction. Exercices Dans tous les exercices suivants, on supposera que l'utilisateur\u00b7trice de la fonction fournit des arguments du bon type Pour tester vos fonctions avec les jeux fournis, n'oubliez pas : d'importer le module avec import doctest ; de lancer les tests avec doctest.testmod() ; Vous pourrez cr\u00e9er un seul fichier contenant l'ensemble des fonctions ci-dessous. Ecrire une fonction qui renvoie le maximum de deux nombres \u00ecnt donn\u00e9s : def maxi ( a : int , b : int ) -> int : \"\"\" Fonction qui renvoie le maximum de deux nombres de type int. >>> maxi(12,3) 12 >>> maxi(-5,9) 9 >>> maxi(6,6) 6 \"\"\" Ecrire une fonction qui renvoie le minimum de deux nombres int donn\u00e9s : def mini ( a : int , b : int ) -> int : \"\"\" Fonction qui renvoie le minimum de deux nombres >>> mini(12,3) 3 >>> mini(-5,9) -5 >>> mini(6,6) 6 \"\"\" Ecrire une fonction qui renvoie le maximum de trois nombres int donn\u00e9s : def maxi3 ( a : int , b : int , c : int ) -> int : \"\"\" Fonction qui renvoie le maximum de trois nombres >>> maxi3(5,12,3) 12 >>> maxi3(-5,-7,2) 2 >>> maxi3(6,6,6) 6 >>> maxi3(5,7,7) 7 \"\"\" Ecrire une fonction qui renvoie le nombre interm\u00e9diaire dans trois nombres int donn\u00e9s def intermediaire ( a : int , b : int , c : int ) -> int : \"\"\" Fonction qui renvoie le nombre interm\u00e9diaire deux nombres >>> intermediaire(12,8,3) 8 >>> intermediaire(-5,9,0) 0 >>> intermediaire(7,7,7) 7 >>> intermediaire(7,4,7) 7 >>> intermediaire(4,4,7) 4 \"\"\" Erire une fonction qui supprime tous les caract\u00e8res qui ne sont pas des lettres ( majuscules ou minuscules, sans accents ) d'une chaine de caract\u00e8res donn\u00e9e. def rienQueDesLettres ( chaine ) : \"\"\" >>> rienQueDesLettres(' toto ') 'toto' >>> rienQueDesLettres('123Toto456') 'Toto' >>> rienQueDesLettres(\"Et!C'est Toto ?\") 'EtCestToto' \"\"\" Ecrire la fonction coefficient_directeur qui v\u00e9rifie les conditions ci-dessous def coefficient_directeur ( xA , yA , xB , yB ) : \"\"\"Fonction renvoyant le coefficient directeur de la droite (AB) en connaissant les coordonn\u00e9es des points A et B, ou None si c'est impossible >>> coefficient_directeur(0,0,1,5) 5 >>> coefficient_directeur(0,0,2,10) 5 >>> coefficient_directeur(3,4,4,6) 2 >>> coefficient_directeur(3,4,4,6) 2 >>> coefficient_directeur(3,4,4,4) 0 >>> coefficient_directeur(3,4,4,3) -1 >>> coefficient_directeur(3,4,3,7)==None True >>> coefficient_directeur(3,4,3,4)==None True >>> coefficient_directeur(4,4,3,4)==None False \"\"\" ###VOTRE CODE ICI Ecrire une fonction - et le jeu de test correspondant, qui calcule l'ordonn\u00e9e \u00e0 l'origine d'une droite \\((AB)\\) , en prenant en argument les coordonn\u00e9es des points \\(A\\) et \\(B\\) comme la fonction pr\u00e9c\u00e9dente, et qui renvoie None si c'est impossible. Ecrire une fonction - et le jeu de test qui va avec, qui renvoie l'\u00e9quation r\u00e9duite de la droite \\((AB)\\) , en prenant en argument les coordonn\u00e9es des points \\(A\\) et \\(B\\) comme dans les fonctions pr\u00e9c\u00e9dentes. Ecrire une fonction qui donne le discriminant d'un trinome du second degr\u00e9 $ax^2 +bx+c $, en fournissant un jeu d'exemples complets.","title":"Fonctions, assertions et tests unitaires"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#fonctions-assertions-et-docstring-en","text":"","title":"Fonctions, assertions et docstring en"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#premiers-pas-avec-les-fonctions","text":"","title":"Premiers pas avec les fonctions"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#pourquoi-des-fonctions","text":"Dans la partie pr\u00e9c\u00e9dente, nous avons termin\u00e9 par un petit programme qu demande \u00e0 un\u00b7e utilisateur\u00b7trice de donner un nombre entier entre 1 et 10, et qui v\u00e9rifie la saisie jusqu'\u00e0 ce que l'utilisateur\u00b7trice ait effectuer une saisie correcte. Voici un exemple simple d'impl\u00e9mentation de ce programme : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder while True : # Il s'agit d'une boucle infinie, la condition \u00e9tant toujours vraiebksl-nl nb = input(\"Entrez un nombre entre 1 et 10 : \")bksl-nl nb=int(nb)bksl-nl if 1<=nb<=10 :bksl-nl # L'instruction 'break' arr\u00eate imm\u00e9diatement la boucle et sort de la boucle whilebksl-nl breakbksl-nl else :bksl-nl print(\"Votre nombre n'est pas compris entre 1 et 10. Veuillez recommencer !\")bksl-nl bksl-nl#Une fois sorti de la boucle, on peut donc utiliser 'nb' en \u00e9tant certain qu'il s'agit d'un entier entre 1 et 10.bksl-nlprint(f'Le carr\u00e9 de {nb} est {nbpy-strpy-str2}')bksl-nl Un blocage ? Enonc\u00e9 Solution Essayez de saisir diff\u00e9rentes valeurs de diff\u00e9rents types . Quel est le probl\u00e8me rencontr\u00e9 ? Si 'utilisateur\u00b7trice saisi quelque chose qui ne peut pas \u00eatre transtyp\u00e9 en int , il y a une erreur lev\u00e9e et le programme est totalement interrompu. Ce peut-\u00eatre parfois compl\u00e8tement bloquant pour le fonctionnement r\u00e9el d'une application. La version ci-dessous est un peu plus dumbproof , mais je ne vous demande pas encore de comprendre les blocs try/except/else . ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder bksl-nlwhile True :bksl-nl nb = input(\"Entrez un nombre entier entre 1 et 10 : \")bksl-nl # Ici nb est du type 'str'bksl-nl # Il faut donc d'abord le convertir en entier, mais si l'utilisateur a saisi une chaine qu'il est impossiblebksl-nl # de convertir, l'interpr\u00e9teur l\u00e8vera par d\u00e9faut une erreur et arr\u00eatera le programme.bksl-nl # Or nous ne voulons pas d'interruption , nous signifions donc explicitement au programme ce que nous souhaitonsbksl-nl # qu'il fasse avec le bloc 'try : ...' 'except : ...' else : ... bksl-nl try :bksl-nl nb=int(nb)bksl-nl # si l'interpr\u00e9teur n'arrive pas \u00e0 ex\u00e9cuter l'instruction ci-dessus, il d\u00e9clenche une erreur et passebksl-nl # directement au bloc 'except'. Sinon il passe au bloc 'else'.bksl-nl except ValueError :bksl-nl print(\"Vous n'avez pas saisi un entier. Veuillez recommencer !\")bksl-nl else :bksl-nl if 1<= nb<= 10 :bksl-nl breakbksl-nl else :bksl-nl print(\"Votre nombre n'est pas compris entre 1 et 10. Veuillez recommencer !\")bksl-nl bksl-nlbksl-nlprint(f'Le carr\u00e9 de {nb} est {nbpy-strpy-str2}')bksl-nl Application 1 : Multiplier les codes Enonc\u00e9 Solution Imaginons maintenant un programme qui demande trois fois \u00e0 l'utilisateur d'entrer un tel nombre, puis qui v\u00e9rifie si les trois nombres correspondent \u00e0 une configuration de Pythagore. Vous devez vous inspirer du programme pr\u00e9c\u00e9dent pour compl\u00e9ter le programme ci-dessous afin d'obtenir trois nombres entiers nb1 , nb2 et nb3 saisis par l'utilisateur : Un code pouvant \u00eatre ins\u00e9r\u00e9 (avec notre niveau actuel en Python et sans utiliser de structures de listes) est le suivant : while True : nb1 = input ( \"Entrez un nombre entier entre 1 et 10 : \" ) try : nb1 = int ( nb1 ) except ValueError : print ( \"Vous n'avez pas saisi un entier. Veuillez recommencer !\" ) else : if 1 <= nb1 = 10 : break else : print ( \"Votre nombre n'est pas compris entre 1 et 10. Veuillez recommencer !\" ) while True : nb2 = input ( \"Entrez un nombre entier entre 1 et 10 : \" ) try : nb2 = int ( nb2 ) except ValueError : print ( \"Vous n'avez pas saisi un entier. Veuillez recommencer !\" ) else : if 1 <= nb2 <= 10 : break else : print ( \"Votre nombre n'est pas compris entre 1 et 10. Veuillez recommencer !\" ) while True : nb3 = input ( \"Entrez un nombre entier entre 1 et 10 : \" ) try : nb3 = int ( nb3 ) except ValueError : print ( \"Vous n'avez pas saisi un entier. Veuillez recommencer !\" ) else : if 1 <= nb3 <= 10 : break else : print ( \"Votre nombre n'est pas compris entre 1 et 10. Veuillez recommencer !\" ) ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder #### TAPEZ VOTRE CODE ENTRE LES DEUX COMMENTAIRESbksl-nlbksl-nlbksl-nl#### NE TOUCHEZ PAS AU CODE CI-DESSOUSbksl-nlbksl-nlif (nb1py-strpy-str2 == nb2py-strpy-str2 + nb3py-strpy-str2) or (nb2py-strpy-str2 == nb1py-strpy-str2 + nb3py-strpy-str2) or (nb3py-strpy-str2 == nb2py-strpy-str2 + nb1py-strpy-str2) :bksl-nl print(\"C'est une configuration de Pythagore !\")bksl-nlelse :bksl-nl print(\"Ce n'est pas une configuration de Pythagore !\")bksl-nl Mauvaise pratique Si ce code fait le travail demand\u00e9, il n'en est pas moins de mauvaise qualit\u00e9 pour plusieurs raisons : Il est long, avec des r\u00e9p\u00e9titions. Plus un code est long, plus il prend de place en m\u00e9moire, alors qu'on cherche plut\u00f4t \u00e0 minimiser ce facteur. Le copi\u00e9-coll\u00e9 force quand m\u00eame \u00e0 repasser sur chacune des parties pour modifier le nom des variables (sinon les valeurs seraient \u00e9cras\u00e9es). Ainsi toute modification doit \u00eatre r\u00e9\u00e9crite \u00e0 chaque fois que le morceau de code est appel\u00e9. Dans notre exemple, ce n'est que trois fois, le risque d'erreurs est minime, mais pour un plus grand nombre de r\u00e9p\u00e9titions, il est tr\u00e8s facile d'oublier une modification. Le code n'est plus lisible. Dans le cas d'un travail en \u00e9quipe, il est imp\u00e9ratif d'avoir un code clairement \u00e9crit, avec des fonctionnalit\u00e9s clairement d\u00e9finies.","title":"Pourquoi des fonctions ?"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#premiere-fonction","text":"","title":"Premi\u00e8re fonction"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#definition-dune-fonction","text":"On va donc am\u00e9liorer non seulement la lisibilit\u00e9 de notre code, mais aussi son efficacit\u00e9 et sa simplicit\u00e9, en utilisant une fonction . D\u00e9finition : fonction Une fonction est un bloc de code nomm\u00e9 (c'est-\u00e0-dire poss\u00e9dant un nom dans l'espace de noms, comme toute autre variable). L'appel par l'interpr\u00e9teur du nom de la fonction suivi d'une paire de parenth\u00e8ses ex\u00e9cutera alors l'int\u00e9gralit\u00e9 du code et renverra une valeur de retour . Pour notre exemple : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder def askpy-unduserpy-undint() :bksl-nl while True :bksl-nl nb = input(\"Entrez un nombre entier entre 1 et 10 : \")bksl-nl try :bksl-nl nb=int(nb)bksl-nl except ValueError :bksl-nl print(\"Vous n'avez pas saisi un entier. Veuillez recommencer !\")bksl-nl else :bksl-nl if 1<= nb<= 10 :bksl-nl breakbksl-nl else :bksl-nl print(\"Votre nombre n'est pas compris entre 1 et 10. Veuillez recommencer !\")bksl-nl return nb #Renvoie l'objet associ\u00e9 \u00e0 nbbksl-nl La fonction est introduite par le mot cl\u00e9 def , suivi du nom de la fonction puis d'un couple de parenth\u00e8ses () , ce qui rend l'objet callable ( \"appelable\"). Le bloc de code est ensuite d\u00e9fini gr\u00e2ce \u00e0 une indentation en dessous du nom, tout comme on d\u00e9finit des blocs dans des structures conditionnelles ou des boucles. On fait appel \u00e0 cette fonction en appelant le nom ask_user_int() , ce qui d\u00e9clenche le bloc de code, puis cr\u00e9e un objet de retour correspondant \u00e0 la valeur saisie par l'utilisateur. Oubli des parenth\u00e8ses Dans le cas d'un oubli des parenth\u00e8ses lorsqu'on appelle une fonction, on obtient dans le terminal le message suivant : >>> ask_user_int < function ask_user_int at 0xe8c1a0 > Qui signifie simplement que le nom ask_user_int fait r\u00e9f\u00e9rence \u00e0 une fonction dont l'adresse m\u00e9moire est donn\u00e9e sous forme hexad\u00e9cimale. Notez que ask_user_int est juste un nom, l'objet correspondant est stock\u00e9 dans l'espace des objets. On peut donc \u00e9crire les choses suivantes : >>> demande_entier = ask_user_int >>> demande_entier ()","title":"D\u00e9finition d'une fonction"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#utilisation-de-la-valeur-de-retour","text":"Comme tout objet, la valeur de retour d'une fonction doit elle m\u00eame \u00eatre stock\u00e9e dans une variableafin de ne pas \u00eatre ramass\u00e9e par le garbage collector : >>> entier = ask_user_int () >>> print ( f 'La racine carr\u00e9e du nombre { entier } est { entier ** ( 1 / 2 ) } ' )","title":"Utilisation de la valeur de retour"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#factorisation-du-code-de-pythagore","text":"Le code du programme de v\u00e9rification de Pythagore peut alors \u00eatre factoris\u00e9 , et devient alors : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder #### Zone des fonctionsbksl-nlbksl-nldef askpy-unduserpy-undint() :bksl-nl while True :bksl-nl nb = input(\"Entrez un nombre entier entre 1 et 10 : \")bksl-nl try :bksl-nl nb=int(nb)bksl-nl except ValueError :bksl-nl print(\"Vous n'avez pas saisi un entier. Veuillez recommencer !\")bksl-nl else :bksl-nl if 1<= nb<= 10 :bksl-nl breakbksl-nl else :bksl-nl print(\"Votre nombre n'est pas compris entre 1 et 10. Veuillez recommencer !\")bksl-nl return nb #Renvoie l'objet associ\u00e9 \u00e0 nbbksl-nlbksl-nl### Code principalbksl-nlbksl-nlnb1 = askpy-unduserpy-undint()bksl-nlnb2 = askpy-unduserpy-undint()bksl-nlnb3 = askpy-unduserpy-undint()bksl-nlif (nb1py-strpy-str2 == nb2py-strpy-str2 + nb3py-strpy-str2) or (nb2py-strpy-str2 == nb1py-strpy-str2 + nb3py-strpy-str2) or (nb3py-strpy-str2 == nb2py-strpy-str2 + nb1py-strpy-str2) :bksl-nl print(\"C'est une configuration de Pythagore !\")bksl-nlelse :bksl-nl print(\"Ce n'est pas une configuration de Pythagore !\")bksl-nl Ce qui a l'avantage d'\u00eatre vraiment vraiment plus clair.","title":"Factorisation du code de Pythagore"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#exercices","text":"Application 2 Enonc\u00e9 Solution Cr\u00e9er une fonction nomm\u00e9e table7 qui renvoie la table de multiplication de 7 avec un multiplicateur allant de 0 \u00e0 10, sous la forme d'une cha\u00eene de caract\u00e8res comme ci-dessous : \"7x0=0 \\n 7x1=7 \\n 7x2=14 ...\" Indication : le symbole \\n , ins\u00e8re un saut de ligne dans une cha\u00eene de caract\u00e8res. def table7 () : table = '' for i in range ( 11 ) : table += f '7x { i } = { 7 * i } \\n ' return table","title":"Exercices"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#augmenter-la-capacite-des-fonctions-les-arguments-obligatoires","text":"L'exemple de la fonction ask_user_int est assez limit\u00e9. Dans l'absolu, on pourrait souhaiter que la fonction demande un nombre entier entre 2 valeurs variables. Pour ce faire, il faut, dans la d\u00e9finition de la fonction, pr\u00e9ciser des arguments qui seront des variables initialis\u00e9es \u00e0 certaines valeurs lors de l'appel \u00e0 la fonction : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder def askpy-unduserpy-undint(bornepy-undmin,bornepy-undmax) :bksl-nl if not(isinstance(bornepy-undmin,int)) or not(isinstance(bornepy-undmax,int)) :bksl-nl raise ValueError(\"One or both of the arguments are not of type int\")bksl-nl if bornepy-undmin>bornepy-undmax :bksl-nl raise ValueError(\"First argument must be lesser or equal to second argument\")bksl-nl while True :bksl-nl nb = input(f\"Entrez un nombre entier entre {bornepy-undmin} et {bornepy-undmax} : \")bksl-nl try :bksl-nl nb=int(nb)bksl-nl except ValueError :bksl-nl print(\"Vous n'avez pas saisi un entier. Veuillez recommencer !\")bksl-nl else :bksl-nl if bornepy-undmin<= nb<= bornepy-undmax :bksl-nl breakbksl-nl else :bksl-nl print(f\"Votre nombre n'est pas compris entre {bornepy-undmin} et {bornepy-undmax}. Veuillez recommencer !\")bksl-nl return nb bksl-nl Une fois la fonction d\u00e9finie, on peut l'appeler en pr\u00e9cisant les valeurs des deux arguments : >>> ask_user_int ( 1 , 100 ) >>> ask_user_int ( - 10 , 10 ) Des erreurs classiques On a aussi un certain nombre d'erreurs qui sont d\u00e9clench\u00e9es. Testez les lignes suivantes : 1 2 3 4 ask_user_int () ask_user_int ( 45 ) ask_user_int ( 0.5 , 2.5 ) ask_user_int ( 30 , 10 ) Application 3 Enonc\u00e9 Solution Cr\u00e9er une fonction table_multi qui prend un argument entier, le multiplicande, et \u00e9crit la table de multiplication de ce nombre, avec un multiplicateur allant de 1 \u00e0 10. def table_multi ( nb ) : table = '' for i in range ( 11 ) : table += f ' { nb }} x { i } = { nb * i } \\n ' return table Application 4 : motif dans une chaine Enonc\u00e9 Solution Cr\u00e9er une fonction trouve_chaine qui prend deux arguments, un motif ( une chaine de caract\u00e8res ) et un texte ( une autre chaine de caract\u00e8res ) et qui renvoie True si le motif est pr\u00e9sent dans la chaine , quel que soit la casse du motif ou celle de la chaine, et False sinon. Vous pouvez tester avec les lignes suivantes : assert trouve_chaine ( 'Toto' , 'Toto va \u00e0 la plage' ) == True , 'Meme casse pas trouv\u00e9e' assert trouve_chaine ( 'Totos' , 'Toto va \u00e0 la plage' ) == False , 'Chaine non pr\u00e9sente trouv\u00e9e' assert trouve_chaine ( 'TOTO' , 'Toto va \u00e0 la plage' ) == True , 'Probl\u00e8me de majuscules dans le motif' assert trouve_chaine ( 'toto' , 'TOTO va \u00e0 la plage' ) == True , 'Probl\u00e8me de minuscules dans le motif' assert trouve_chaine ( 'ToTo' , 'OtOtO va \u00e0 la plage' ) == True , 'Que dire ?' def trouve_chaine ( motif , texte ) : return motif . lower () in texte ; lower ()","title":"Augmenter la capacit\u00e9 des fonctions : les arguments obligatoires"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#augmenter-la-capacite-des-fonctions-les-arguments-optionnels","text":"Notre fonction ask_user_int commence \u00e0 \u00eatre int\u00e9ressante. Mais nous pourrions souhaiter personnaliser le message de la question, sans pour autant avoir envie de le changer syst\u00e9matiquement. C'est tout \u00e0 fait possible en Python, gr\u00e2ce aux arguments optionnels . Il s'agit d'arguments dont le nom est donn\u00e9 dans la fonction, mais avec une valeur par d\u00e9faut . Ainsi : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder def askpy-unduserpy-undint(bornepy-undmin,bornepy-undmax, prenom='Inconnu') :bksl-nl if not(isinstance(bornepy-undmin,int)) or not(isinstance(bornepy-undmax,int)) :bksl-nl raise ValueError(\"One or both of the arguments are not of type int\")bksl-nl if bornepy-undmin>bornepy-undmax :bksl-nl raise ValueError(\"First argument must be lesser or equal to second argument\")bksl-nl while True :bksl-nl nb = input(f\"{prenom}, entrez un nombre entier entre {bornepy-undmin} et {bornepy-undmax} : \")bksl-nl try :bksl-nl nb=int(nb)bksl-nl except ValueError :bksl-nl print(f\"{Inconnu}, vous n'avez pas saisi un entier. Veuillez recommencer !\")bksl-nl else :bksl-nl if bornepy-undmin<= nb<= bornepy-undmax :bksl-nl breakbksl-nl else :bksl-nl print(f\"{Inconnu}, votre nombre n'est pas compris entre {bornepy-undmin} et {bornepy-undmax}. Veuillez recommencer !\")bksl-nl return nb bksl-nl Ainsi, la fonction ci-dessus posss\u00e8de trois arguments : deux arguments obligatoires , borne_min et borne_max ; un argument optionnel , prenom . Il est \u00e0 noter qu'imp\u00e9rativement les arguments obligatoires doivent \u00eatre plac\u00e9s avant les arguments optionnels . On peut alors appeller la fonction des diff\u00e9rentes mani\u00e8res suivantes (\u00e0 tester) : 1 2 3 ask_user_int ( 0 , 10 ) ask_user_int ( 0 , 10 , prenom = 'Toto' ) ask_user_int ( 0 , 10 , prenom = 'foo' ) >>> Application 5 : arguments optionnels Enonc\u00e9 Solution Compl\u00e9ter la fonction table_multi afin qu'elle utilise deux arguments optionnels, la valeur de d\u00e9part, fix\u00e9e \u00e0 0 initialement, et la valeur d'arriv\u00e9e du multiplicateur, fix\u00e9e \u00e0 10 initialement. def table_multi ( nb , depart = 0 , fin = 10 ) : table = '' for i in range ( depart , fin + 1 ) : table += f ' { nb }} x { i } = { nb * i } \\n ' return table Application 6 : arguments optionnels Enonc\u00e9 Solution R\u00e9\u00e9crire la fonction trouve_chaine afin qu'elle utilise un argument bool\u00e9en optionnel verifCasse , afin de d\u00e9terminer si le motif est pr\u00e9sent dans le texte en v\u00e9rifiant la casse ou non. Par d\u00e9faut l'argument sera False . Vous pouvez utiliser les tests ci-dessous : ### Cette cellule est une cellule vous permettant de tester votre fonction ##les assertions suivantes sont les m\u00eame que pr\u00e9c\u00e9demment assert trouve_chaine ( 'Toto' , 'Toto va \u00e0 la plage' ) == True , 'Meme casse pas trouv\u00e9e' assert trouve_chaine ( 'Totos' , 'Toto va \u00e0 la plage' ) == False , 'Chaine non pr\u00e9sente trouv\u00e9e' assert trouve_chaine ( 'TOTO' , 'Toto va \u00e0 la plage' ) == True , 'Probl\u00e8me de majuscules dans le motif' assert trouve_chaine ( 'toto' , 'TOTO va \u00e0 la plage' ) == True , 'Probl\u00e8me de minuscules dans le motif' assert trouve_chaine ( 'ToTo' , 'OtOtO va \u00e0 la plage' ) == True , 'Que dire ?' # Mais on rajoute celles-ci : assert trouve_chaine ( 'Toto' , 'Toto va \u00e0 la plage' , verifCasse = True ) == True , 'Meme casse pas trouv\u00e9e' assert trouve_chaine ( 'TOTO' , 'TOTO va \u00e0 la plage' , verifCasse = True ) == True , 'Meme casse pas trouv\u00e9e' assert trouve_chaine ( 'Totos' , 'Toto va \u00e0 la plage' , verifCasse = True ) == False , 'Chaine non pr\u00e9sente trouv\u00e9e' assert trouve_chaine ( 'TOTO' , 'Toto va \u00e0 la plage' , verifCasse = True ) == False , 'Probl\u00e8me de majuscules dans le motif' assert trouve_chaine ( 'toto' , 'TOTO va \u00e0 la plage' , verifCasse = True ) == False , 'Probl\u00e8me de minuscules dans le motif' assert trouve_chaine ( 'ToTo' , 'OtOtO va \u00e0 la plage' , verifCasse = True ) == False , 'Que dire ?' def trouve_chaine ( motif , texte , verifCasse = False ) : if verifCasse == True : return motif in texte else : return motif . lower () in texte . lower () :","title":"Augmenter la capacit\u00e9 des fonctions : les arguments optionnels"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#commenter-son-code-les-docstrings","text":"Commenter son code Une bonne habitude, \u00e0 prendre imm\u00e9diatement, est celle de commenter son code, c'est-\u00e0-dire d'expliquer l'impl\u00e9mentation de votre code sous la forme de commentaires, \u00e9crits en fran\u00e7ais (ou mieux, en anglais). Les commentaires sont des lignes non-lues par l'interpr\u00e9teur Python , commen\u00e7ant par le symbole di\u00e8se # . Ces explications sont importantes, car vous vous rendrez vite compte que vous serez parfois incapable de comprendre un code que vous avez \u00e9crit vous-m\u00eame quelques semaines voir quelques jours auparavant ! Alors imaginez celui qui doit lire votre code, mais qui ne l'a pas \u00e9crit... Les concepteur\u00b7trice\u00b7s de Python ont cr\u00e9e une fonction sp\u00e9cifique permettant d'obtenir des informations sur les autres objets : la fonction help . Testez par exemple la commande help(print) dans la console suivante, puis essayez avec d'autres objets de Python. >>> La fonction help va chercher dans l'objet pass\u00e9 en argument sa docstring , litt\u00e9ralement chaine de documentation , qui est une chaine de caract\u00e8res cr\u00e9e par le ou la codeur\u00b7euse pr\u00e9sentant l'utilisation de la fonction, ses param\u00e8tres obligatoires, ses param\u00e8tres optionnels, etc... Une docstring est construite comme une cha\u00eene de caract\u00e8res non nomm\u00e9e pr\u00e9sent\u00e9e imm\u00e9diatement apr\u00e8s la d\u00e9claration de la fonction, comme dans l'exemple ci-dessous : ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder def somme(a,b) :bksl-nl \"\"\" fonction qui renvoie la somme des arguments a et b, bksl-nl en v\u00e9rifiant si a et b sont bien du m\u00eame type, bksl-nl et qui renvoie None sinon.bksl-nl Par exemple :bksl-nlbksl-nl somme(4, 3) renvoie 7bksl-nlbksl-nl somme(4, \"3\") renvoie Nonebksl-nl bksl-nl \"\"\"bksl-nl if type(a) == type(b) :bksl-nl return a+bbksl-nl else :bksl-nl return Nonebksl-nl La fonction somme contient donc une docstring - introduite par trois guillemets ( pour permettre les sauts de lignes ). Celle-ci d\u00e9crit l'effet de la fonction, de mani\u00e8re exacte. On peut alors acc\u00e9der \u00e0 la docstring d'une fonction en utilisant la fonction built-in help : Testez par exemple help(somme) . Les docstrings Une docstring est essentielle pour comprendre l'utilit\u00e9 d'une fonction ! Vous devrez en utiliser le plus souvent possible ! Typage des arguments Une possibilit\u00e9 offerte depuis la version 3.7 de Python est de pr\u00e9senter dans la fonction le type des arguments attendus, ainsi que le type du retour. On appelle ceci les type hints (*indices de types) Ces indications sont pr\u00e9cieuses pour l'utilisateur\u00b7trice de cette fonction. La fonction trouve_chaine peut \u00eatre iompl\u00e9ment\u00e9e ainsi : def trouve_chaine ( motif : str , texte : str , verifCasse : bool = False ) -> bool : if verifCasse == True : return motif in texte else : return motif . lower () in texte . lower () :","title":"Commenter son code : les docstrings"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#portee-des-variables","text":"Au sein d'un m\u00eame programme, les variables d\u00e9finies n'ont pas syst\u00e9matiquement la m\u00eame port\u00e9e . La port\u00e9e d'une variable , c'est l'espace des objets/noms (on parle aussi de monde ) dans lequel est d\u00e9fini cette variable. En utilisant le site Python Tutor , nous allons essayer de comprendre cette notion de port\u00e9e des variables.","title":"Port\u00e9e des variables"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#variables-globales","text":"Dans l'exemple ci-dessus, la variable gvar est d\u00e9finie dans l'espace de nom global ( global frame ). Elle est accessible en lecture depuis l'int\u00e9rieur de la fonction f . On parlera alors de variable globale .","title":"Variables globales"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#variables-locales","text":"Dans l'exemple ci-dessus, la variable gvar2 est d\u00e9finie dans l'espace des noms associ\u00e9 \u00e0 la fonction f , et qui est cr\u00e9e au moment de l'appel \u00e0 cette fonction ( frame f ). Cet espace est d\u00e9truit par le garbage collector d\u00e8s que l'ex\u00e9cution de la fonction est termin\u00e9 (une fois la valeur de return renvoy\u00e9e dans l'espace appelant). Il devient donc impossible d'utiliser la variable gvar2 puisqu'elle a disparue. gvar2 est une variable locale \u00e0 la fonction f . Changer la valeur d'une variable globale Regardons maintenant le code suivant : Le code pr\u00e9c\u00e9dent d\u00e9clenche une erreur UnboundLocalError en ligne 3. Cela signifie que l'interpr\u00e9teur Python ne peut pas effectuer la ligne gvar=gvar+2 car il cherche une variable gvar qu'il peut modifier. Or une variable d\u00e9finie hors d'une fonction ne peut pas \u00eatre modifi\u00e9e par celle-ci . Il est par contre possible de travailler sur une copie de la variable souhait\u00e9e ( uniquement dans le cas des types primitifs int , float , str ...), en utilisant une fonction ayant un argument. Il faudra par cons\u00e9quent retourner la valeur chang\u00e9e * pour qu'elle soit effective. Par exemple comparez les deux scripts suivants : Code incorrect Code correct Ici on constate qu'en fait il y a deux variables a : une en dehors de la fonction, qui n'est pas modifi\u00e9e. C'est une variable globale . une \u00e0 l'int\u00e9rieur de la fonction, qui peut \u00eatre modifi\u00e9e, mais qui ne change pas la variable globale. C'est une variable locale \u00e0 la fonction. La fonction f ne renvoyant aucune donn\u00e9e, la variable locale a est d\u00e9truite apr\u00e8s la fin de la fonction f . Ici on a rajout\u00e9 deux lignes : return a qui permet \u00e0 la fonction de renvoyer la valeur modifi\u00e9e ; a = f(a) La valeur renvoy\u00e9e par l'appel f(a) est affect\u00e9 au nom de variable a . L'op\u00e9ration effectu\u00e9e \u00e0 l'int\u00e9rieur de la fonction se retrouve r\u00e9percut\u00e9e sur la variable globale a .","title":"Variables locales"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#tests-assertions-et-module-doctest","text":"","title":"Tests, assertions et module Doctest"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#reflechir-avant-dagir-ecrire-les-tests-avant-la-fonction","text":"Lorqsu'on \u00e9crit une fonction, il est tr\u00e8s important d'avoir une id\u00e9e pr\u00e9cise de ce que la fonction doit renvoyer, y compris dans les cas extr\u00eames ou cas sp\u00e9cifiques . Par exemple, on pourrait consid\u00e9rer une fonction coefficient_directeur qui donne le coefficient directeur d'une droite quand on lui passe en argument les coordonn\u00e9es de deux points \\(A\\) et \\(B\\) . Je rappelle que le calcul du coefficient directeur de la droite \\((AB)\\) se fait par l'interm\u00e9diare de la formule : \\[m = \\frac{y_B-y_A}{x_B-x_A}\\] Ainsi nous aimerions que la fonction travaille avec 4 arguments de type entiers xA, yA, xB, yB , qu'elle renvoie le coefficient directeur de \\((AB)\\) sous la forme d'un flottant si ce coefficient existe, et qu'elle renvoie None quand il n'existe pas. On, d\u00e9finit ici ce qu'on appelle une interface de la fonction : def coefficient_directeur ( xA : int , yA : int , xB : int , yB : int ) -> float : \"\"\" Renvoie le coefficient directeur de la droite (AB) telle que : A (xA ; yA) et B(xB ; yB), et les coordonn\u00e9es de A ety B sont enti\u00e8res. Dans le cas ou le coefficient directeur n'existe pas, renvoie None \"\"\" ... On souhaite donc pr\u00e9voir en avance diff\u00e9rents cas de fonctionnement de la fonction, et on aimerait v\u00e9rifier que les calculs effectu\u00e9s par la fonction correspondent bien \u00e0 ces cas. Par exemple, nous aimerions que la fonction v\u00e9rifie le test suivant : >>> coefficient_directeur ( 2 , 4 , 3 , 7 ) 3.0 Ecrire des tests Enonc\u00e9 Solution Ecrire 5 tests prenant en compte tous les cas possibles d'utilisation de la fonction, en supposant que les tyypes fournis en argument soient bien des entiers. Compl\u00e9ter la fonction coefficient_directeur afin qu'elle remplisse le r\u00f4le qui lui est demand\u00e9. A venir !","title":"R\u00e9fl\u00e9chir avant d'agir : \u00e9crire les tests avant la fonction"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#tester-avec-des-assertions","text":"Vous avez vu plus haut dans ce document des assertions sous la forme : assert trouve_chaine ( 'Toto' , 'Toto va \u00e0 la plage' ) == True , 'Meme casse pas trouv\u00e9e' La fonction assert teste un bool\u00e9en, ici trouve_chaine('Toto', 'Toto va \u00e0 la plage')==True . Il peut alors se produire deux cas : soit le bool\u00e9en est True , auquel cas l'interpr\u00e9teur passe \u00e0 la ligne suivante ; soit le bool\u00e9en est False , auquel cas l'interpr\u00e9teur arr\u00eate le code et affiche la chaine de caract\u00e8re pass\u00e9e en second argument, ici 'Meme casse pas trouv\u00e9e' . J'utiliserai souvent les assertions dans les TP not\u00e9s sur la plateforme Capytale, certaines vous seront fournies, d'autres seront cach\u00e9es.","title":"Tester avec des assertions"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#tester-avec-le-module-doctest","text":"Pyhton \u00e9tant user friendly , il permet au programmeur de tester automatiquement, gr\u00e2ce au module doctest . Un module Python est un fichier (ou un ensemble de fichiers) qui comporte(nt) des objets et des fonctions qui peuvent \u00eatre ajout\u00e9s aux fonctionnalit\u00e9 de base de Python. Il en existe un tr\u00e8s grand nombre, tous \u00e9tant sp\u00e9cialis\u00e9s dans un domaine. On trouve par exemple : le module math , qui contient beaucoup de fonctions math\u00e9matiques ; le module turtle , qui permet de dessiner g\u00e9om\u00e9triquement ; le module pygame , qui est un module permettant de g\u00e9rer les diff\u00e9rents \u00e9l\u00e9ments d'un jeu vid\u00e9o ; le module panda , qui est utilis\u00e9 pour faire du traitement de donn\u00e9es ; le module flask , qui permet de cr\u00e9er une application web ... Un module doit \u00eatre charg\u00e9 en m\u00e9moire une fois (de pr\u00e9f\u00e9rence au d\u00e9but du code), par l'interm\u00e9diaire de la commande : import nom_du_module Mais non, ca ne se fait pas que comme \u00e7a ! Oui, vous avez raison, mais ce n'est pas le cas de ce cours, nous verrons l'import de modules plus tard dans l'ann\u00e9e... Le module doctest , lui, permet d'int\u00e9grer \u00e0 la docstring un ensemble de tests qui sont v\u00e9rifi\u00e9s par l'appel de la fonction testmod du module doctest . Par exemple, copiez-collez le code suivant dans un fichier : import doctest # On charge en m\u00e9moire le module doctest # Zone de d\u00e9claration des fonctions def times2 ( n : object ) -> object : \"\"\" Fonction qui multiplie par 2, selon le type d'objet >>> times2(4) 8 >>> times2(5.4) 10.8 >>> times2('a') 'aa' \"\"\" return 2 * n # Zone du script global doctest . testmod () # Lance les tests des fonctions d\u00e9clar\u00e9es L'appel \u00e0 la fonction doctest.testmod() d\u00e9clenche les trois tests pr\u00e9sents dans la doctsring, et v\u00e9rifie que les r\u00e9sultats de la fonctions correspondent \u00e0 ceux fournit dans la docstring. Application 7 : Ajouter une fonction et des tests Enonc\u00e9 Solution Cr\u00e9ez une fonction times3 qui multiplie un objet par 3, en \u00e9crivant les tests correspondants. A venir ! Je me servirai de doctests ou bien d'assertions pour estimer la justesse de vos fonctions et de vos programmes. Une bonne id\u00e9e serait de TOUJOURS fournir un jeu d'exemple avant de se lancer dans la construction d'une fonction.","title":"Tester avec le module doctest"},{"location":"NSI/Premiere/C01/Fonctions_Assertions/#exercices_1","text":"Dans tous les exercices suivants, on supposera que l'utilisateur\u00b7trice de la fonction fournit des arguments du bon type Pour tester vos fonctions avec les jeux fournis, n'oubliez pas : d'importer le module avec import doctest ; de lancer les tests avec doctest.testmod() ; Vous pourrez cr\u00e9er un seul fichier contenant l'ensemble des fonctions ci-dessous. Ecrire une fonction qui renvoie le maximum de deux nombres \u00ecnt donn\u00e9s : def maxi ( a : int , b : int ) -> int : \"\"\" Fonction qui renvoie le maximum de deux nombres de type int. >>> maxi(12,3) 12 >>> maxi(-5,9) 9 >>> maxi(6,6) 6 \"\"\" Ecrire une fonction qui renvoie le minimum de deux nombres int donn\u00e9s : def mini ( a : int , b : int ) -> int : \"\"\" Fonction qui renvoie le minimum de deux nombres >>> mini(12,3) 3 >>> mini(-5,9) -5 >>> mini(6,6) 6 \"\"\" Ecrire une fonction qui renvoie le maximum de trois nombres int donn\u00e9s : def maxi3 ( a : int , b : int , c : int ) -> int : \"\"\" Fonction qui renvoie le maximum de trois nombres >>> maxi3(5,12,3) 12 >>> maxi3(-5,-7,2) 2 >>> maxi3(6,6,6) 6 >>> maxi3(5,7,7) 7 \"\"\" Ecrire une fonction qui renvoie le nombre interm\u00e9diaire dans trois nombres int donn\u00e9s def intermediaire ( a : int , b : int , c : int ) -> int : \"\"\" Fonction qui renvoie le nombre interm\u00e9diaire deux nombres >>> intermediaire(12,8,3) 8 >>> intermediaire(-5,9,0) 0 >>> intermediaire(7,7,7) 7 >>> intermediaire(7,4,7) 7 >>> intermediaire(4,4,7) 4 \"\"\" Erire une fonction qui supprime tous les caract\u00e8res qui ne sont pas des lettres ( majuscules ou minuscules, sans accents ) d'une chaine de caract\u00e8res donn\u00e9e. def rienQueDesLettres ( chaine ) : \"\"\" >>> rienQueDesLettres(' toto ') 'toto' >>> rienQueDesLettres('123Toto456') 'Toto' >>> rienQueDesLettres(\"Et!C'est Toto ?\") 'EtCestToto' \"\"\" Ecrire la fonction coefficient_directeur qui v\u00e9rifie les conditions ci-dessous def coefficient_directeur ( xA , yA , xB , yB ) : \"\"\"Fonction renvoyant le coefficient directeur de la droite (AB) en connaissant les coordonn\u00e9es des points A et B, ou None si c'est impossible >>> coefficient_directeur(0,0,1,5) 5 >>> coefficient_directeur(0,0,2,10) 5 >>> coefficient_directeur(3,4,4,6) 2 >>> coefficient_directeur(3,4,4,6) 2 >>> coefficient_directeur(3,4,4,4) 0 >>> coefficient_directeur(3,4,4,3) -1 >>> coefficient_directeur(3,4,3,7)==None True >>> coefficient_directeur(3,4,3,4)==None True >>> coefficient_directeur(4,4,3,4)==None False \"\"\" ###VOTRE CODE ICI Ecrire une fonction - et le jeu de test correspondant, qui calcule l'ordonn\u00e9e \u00e0 l'origine d'une droite \\((AB)\\) , en prenant en argument les coordonn\u00e9es des points \\(A\\) et \\(B\\) comme la fonction pr\u00e9c\u00e9dente, et qui renvoie None si c'est impossible. Ecrire une fonction - et le jeu de test qui va avec, qui renvoie l'\u00e9quation r\u00e9duite de la droite \\((AB)\\) , en prenant en argument les coordonn\u00e9es des points \\(A\\) et \\(B\\) comme dans les fonctions pr\u00e9c\u00e9dentes. Ecrire une fonction qui donne le discriminant d'un trinome du second degr\u00e9 $ax^2 +bx+c $, en fournissant un jeu d'exemples complets.","title":"Exercices"},{"location":"NSI/Premiere/C02/BinaireCodageEntiers/","text":"Binaire et repr\u00e9sentation des entiers L'information binaire Le bit L'histoire de l'informatique est intrins\u00e8quement d\u00e9pendante de l'histoire de la ma\u00eetrise de l'\u00e9lectricit\u00e9. Fondamentalement, tout ordinateur est construit \u00e0 partir de circuits \u00e9lectroniques qui: soit ne laissent pas passer le courant \u00e9lectrique ( Off ); soit laissent passer le courant \u00e9lectrique ( In ). Exemple Un circuit contenant un unique interrupteur admet donc deux \u00e9tats , il est binaire dans ce sens. D\u00e9finition : bit Un bit est l'unit\u00e9 \u00e9l\u00e9mentaire d'information pouvant prendre deux valeurs distinctes, not\u00e9es 0 et 1 (binaire). Le mot \u00ab bit \u00bb vient de l'anglais \u00ab Bi nary Digi t \u00bb, soit litt\u00e9ralement chiffre binaire . La notation internationale pour le bit est \\(b\\) . On parlera alors de \\(kb\\) , \\(Mb\\) , \\(Gb\\) . Grouper les bits Une information binaire est donc une suite de \\(0\\) et de \\(1\\) . Cette information peut-\u00eatre de diff\u00e9rente nature, tout d\u00e9pend de la norme d'encodage utilis\u00e9e. En soit, la m\u00eame suite binaire peut signifier des choses totalement diff\u00e9rentes comme : un nombre entier ; un nombre flottant ; un caract\u00e8re ; une note de musique ; ... Exemple L'\u00e9criture binaire \\(101010\\) signifie : \\(42\\) dans les nombres entiers non sign\u00e9s (c'est-\u00e0-dire positifs) ; >>> int ( '101010' , 2 ) 42 Le caract\u00e8re * en UTF-8 : >>> chr ( int ( '101010' , 2 )) '*' Bits et quantit\u00e9s d'informations Avec un unique bit, on ne peux stocker que deux informations (deux nombres, deux caract\u00e8res, deux notes de musiques,...). La quantit\u00e9 d'information diff\u00e9rentes pouvant \u00eatre repr\u00e9sent\u00e9es d\u00e9pend donc du nombre de bits utilis\u00e9s : Avec \\(2\\) bits : Avec \\(3\\) bits : Avec \\(4\\) bits : Done On peux repr\u00e9senter \\(2 \\times 2 = 2^2 = 4\\) informations diff\u00e9rentes. Done On peux repr\u00e9senter \\(2 \\times 2 \\times 2= 2^3 = 8\\) informations diff\u00e9rentes. Done On peux repr\u00e9senter \\(2 \\times 2 \\times 2 \\times 2= 2^4 = 16\\) informations diff\u00e9rentes. Avec un syst\u00e8me \u00e0 \\(n\\) bits, on peut repr\u00e9senter \\(2^n\\) informations diff\u00e9rentes. Octets Octets Pour quantifier les informations binaires, on utilise souvent le mot octet ( abusivement appel\u00e9 aussi byte dans le monde anglo-saxon). Un octet est un groupement de \\(8\\) bits. Il permet de repr\u00e9senter \\(2^8 = 256\\) informations diff\u00e9rentes. La notation internationale pour l'octet est \\(o\\) . On parlera alors de \\(ko\\) ( \\(1~ko = 1000 o\\) ), \\(Mo\\) ( \\(1~Mo = 10^3~ko = 10^6~o\\) ), \\(Go\\) ( \\(1~Go = 10^3~Mo = 10^9~o\\) ), etc, mais aussi de \\(ko/s\\) , \\(Mo/s\\) , etc... Remarque Les pr\u00e9fixes kilo , Mega , Giga ..., sont bien ceux du syst\u00e8me international, c'est-\u00e0-dire ceux pour \\(10^3\\) , \\(10^6\\) , \\(10^9\\) ... On verra dans la partie suivante qu'ils sont parfois confondus avec les pr\u00e9fixes binaires ( kibi , Mibi , Gibi ...) Ecritures en d'autres bases Les entiers en base d\u00e9cimale Rappels : Base d\u00e9cimale Un nombre entier \u00e9crit dans une base d\u00e9cimale ( base \\(10\\) ) v\u00e9rifie les conditions suivantes : il est \u00e9crit avec les dix chiffres arabes : \\(0,1,2,3,4,5,6,7,8,9\\) ; chaque chiffre poss\u00e8de un poids, repr\u00e9sentant une puissance de \\(10\\) , le poids augmentant de la droite vers la gauche en partant d'un exposant \\(0\\) . Exercice Enonc\u00e9 Solution \\(14~763 = 1 \\times 10^{\\dots} + 4 \\times 10^{\\dots} + 7 \\times 10^{\\dots}+ 6\\times 10^{\\dots} + 3\\times 10^{\\dots}\\) \\(100~042 = 1 \\times 10^{\\dots} + 4 \\times 10^{\\dots} + 2 \\times 10^{\\dots}\\) \\(14~763 = 1 \\times 10^{4} + 4 \\times 10^{3} + 7 \\times 10^{2}+ 6\\times 10^{1} + 3\\times 10^{0}\\) \\(100~042 = 1 \\times 10^{\\dots} + 4 \\times 10^{\\dots} + 2 \\times 10^{\\dots}\\) La base 2 (syst\u00e8me binaire) Syst\u00e8me binaire Un nombre entier \u00e9crit dans le syst\u00e8me binaire v\u00e9rifie les conditions suivantes : il est \u00e9crit avec les deux chiffres : \\(0\\) et \\(1\\) . chaque chiffre poss\u00e8de un poids repr\u00e9sentant une puissance de \\(2\\) , le poids augmentant de la droite vers la gauche en partant d'un exposant \\(0\\) . Remarques et notations L'\u00e9criture \\(101\\) poss\u00e8de aussi bien un sens en binaire (un-z\u00e9ro-un) qu'en d\u00e9cimal ( cent-un ). Pour lever l'ambigu\u00eft\u00e9 , on \u00e9crira : \\((101)_{10}\\) ou simplement \\(101\\) pour le nombre en base \\(10\\) ; \\((101)_2\\) pour le nombre en base \\(2\\) . Exercice Enonc\u00e9 Solution Consid\u00e9rons le nombre \\((101010)_2\\) . Convertissez ce nombre binaire en d\u00e9cimal : \\[ \\begin{array}{cccccccc} (101010)_2&=& 1 \\times 2^{5}&+ 0 \\times 2^{4}&+ 1 \\times 2^{3}&+ 0 \\times 2^{2}&+ 1 \\times 2^{1}&+ 0 \\times 2^{0}\\\\ & = & 1 \\times 32 & + 0 \\times 16& + 1 \\times 8& + 0 \\times 4& + 1 \\times 2& + 0 \\times 1\\\\ &=& 42 &&&&&\\\\ \\end{array} \\] Exercice : Conversions de la base \\(2\\) vers la base \\(10\\) Enonc\u00e9 Solution Ecrire les nombres suivants en base \\(10\\) : \\((101)_2\\) \\((11111111)_2\\) \\((10010011)_2\\) A venir ! Exercice : Un peu de Python Enonc\u00e9 Compl\u00e9ter la fonction suivante, sans utiliser int(x,2) , afin qu'elle renvoie en base 10 le nombre \\(x\\) pass\u00e9 en argument en base \\(2\\) , sous la forme d'une chaine de caract\u00e8res. Vous pouvez cependant utiliser la fonction built-in int afin de convertir une chaine de carat\u00e8re en un entier. def bin2dec ( x ) : \"\"\"fonction convertissant le nombre (x)_2 en base 10 >>> bin2dec('0') 0 >>> bin2dec('1') 1 >>> bin2dec('11') 3 >>> bin2dec('1000') 8 >>> bin2dec('11111111') 255 \"\"\" Conversions de la base \\(10\\) vers la base \\(2\\) M\u00e9thode : Algorithme de conversion du nombre \\((n)_{10}\\) en base \\(2\\) En langage naturel Sous forme de diagramme fonction dec2bin(n) : base2 <- chaine de caract\u00e8re vide Tant que n!=0 : base2 <- base2+caractere(n%2) n <- n//2 Renvoyer base2 invers\u00e9e Exemple : Conversion de \\((135)_{10}\\) en base \\(2\\) A venir ! Conversions manuelles Enonc\u00e9 Solution Convertir les nombres suivants en base \\(2\\) : \\((26)_{10}\\) \\((104)_{10}\\) \\((256)_{10}\\) \\((42)_{10}\\) A venir ! Exercice : De l'algorithme au programme Enonc\u00e9 Solution Compl\u00e9ter la fonction suivante en Python, qui renvoie la chaine de caract\u00e8res correspondant \u00e0 l'\u00e9criture de \\(n\\) en base \\(2\\) . def dec2bin ( n ) : \"\"\"fonction convertissant le nombre n en base 2, et renvoyant la chaine de caract\u00e8res correspondante >>> dec2bin(0) '0' >>> dec2bin(1) '1' >>> dec2bin(3) '11' >>> dec2bin(8) '1000' >>> dec2bin(255) '11111111' \"\"\" A venir ! Nombre de bits n\u00e9cessaires Soit \\((x)_{10}\\) un nombre \u00e9crit en base \\(10\\) . Si \\(n\\) est l'entier tel que \\(2^{n-1} \\leqslant x <2^n\\) , alors le nombre \\(x\\) n\u00e9cessitera \\(n\\) bits pour \u00eatre repr\u00e9sent\u00e9 en binaire. Exercice : Nombre de bits n\u00e9cessaires Enonc\u00e9 Solution D\u00e9terminer pour chacun des nombres ci-dessous le nombre de bits minimal qui seront n\u00e9cessaire dans l'\u00e9criture binaire de ce nombre : \\(12\\) \\(123\\) \\(999\\) \\(1927\\) A venir ! Une autre base utile : l'hexad\u00e9cimal Outre que la lecture des nombres en \u00e9criture binaire par un humain est tr\u00e8s compliqu\u00e9e, il faut remarquer que, de par la construction de ces nombres, la quantit\u00e9 de symboles utilis\u00e9s en base \\(2\\) est largement sup\u00e9rieur \u00e0 celui utilis\u00e9 en base \\(10\\) - \\(3,2\\) fois plus grand en moyenne sur les \\(100~000\\) premiers entiers. Il peut donc \u00eatre utile de trouver un compromis entre la base \\(2\\) , utile pour l'ordinateur, et la base \\(10\\) , plus compr\u00e9hensible par un \u00eatre humain. Ce compromis peut-\u00eatre trouv\u00e9 avec le syst\u00e8me hexad\u00e9cimal , c'est-\u00e0-dire un syst\u00e8me de base 16 . Base hexad\u00e9cimale Un nombre entier \u00e9crit dans une base hexad\u00e9cimale ( base \\(16\\) ) v\u00e9rifie les conditions suivantes : il est \u00e9crit avec les seize chiffres hexad\u00e9cimaux : \\(0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F\\) ; chaque chiffre poss\u00e8de un poids repr\u00e9sentant une puissance de \\(16\\) , le poids augmentant de la droite vers la gauche en partant d'un exposant \\(0\\) . Exemple Le nombre hexad\u00e9cimal \\((5B6)_{16}\\) correspond donc en d\u00e9cimal \u00e0 : A compl\u00e9ter Solution \\[ \\begin{array}{ccccc} (5B6)_{16}&=& \\dots \\times 16^{\\dots}&+ \\dots \\times 16^{\\dots}&+ \\dots \\times 16^{\\dots}\\\\ &=& \\dots \\times \\dots&+ \\dots \\times \\dots&+ \\dots \\times \\dots\\\\ &=&&&\\\\ \\end{array} \\] \\[ \\begin{array}{ccccc} (5B6)_{16}&=& 5 \\times 16^{2}&+ 11 \\times 16^{1}&+ 6 \\times 16^{0}\\\\ &=& 5 \\times 256&+ 11 \\times 16&+ 6 \\times 1\\\\ &=&1~462&&\\\\ \\end{array} \\] Exercice Enonc\u00e9 Convertir de l'hexad\u00e9cimal vers le d\u00e9cimal : \\((FF)_{16}\\) \\((6E)_{16}\\) \\((245A)_{16}\\) M\u00e9thode : Convertir vers l'hexad\u00e9cimal depuis le d\u00e9cimal Pour convertir vers l'hexad\u00e9cimal depuis le d\u00e9cimal, on utilise la m\u00eame m\u00e9thode qu'en binaire mais en divisant par \\(16\\) . Exemple Enonc\u00e9 Solution Convertir le nombre \\(244\\) en hexad\u00e9cimal. A venir ! Remarques A un chiffre dans la base \\(16\\) , correspond exactement \\(4\\) chiffres dans la base \\(2\\) . Cela signifie que pour \u00e9crire un octet en hexad\u00e9cimal, deux chiffres hexad\u00e9cimaux suffisent . C'est pour cette raison que les octets \u00e9crits en base deux sont group\u00e9s par 4 chiffres : \\[ (189)_{10} = (BD)_{16} = (1011~1101)_2 \\] Ce syst\u00e8me de notation est tr\u00e8s pratique pour noter les codes des couleurs (par exemple en RGB : #7455BA signifie que l'octet repr\u00e9sentant le canal rouge a pour valeur 74 , celui du canal vert 55 , et celui du canal bleu BA ), pour les cl\u00e9s de chiffrement (code Wifi par exemple), ... Roue num\u00e9rique Ecriture d\u00e9cimale 0 0 0 - Reset + Ecriture binaire 0 0 0 0 0 0 0 0 Ecriture hexad\u00e9cimale 0 0 Acc\u00e8s au fichier de base : ici Op\u00e9rations \u00e9l\u00e9mentaires sur les nombres binaires Sommes de nombres binaires M\u00e9thode : Additionner deux nombres entiers en base 2 La technique d'addition de deux nombres binaire est la m\u00eame que pour des nombres en \u00e9criture d\u00e9cimale : En d\u00e9cimal En binaire \\[ \\begin{array}{cccc} &1&4&9\\\\ +&&7&8\\\\\\hline &&&\\\\ \\end{array} \\] \\[ \\begin{array}{*{9}{c}} &1&0&0&1&0&1&0&1\\\\ +&&1&0&0&1&1&1&0\\\\\\hline &&&&&&&&\\\\ \\end{array} \\] Produits de nombres binaires M\u00e9thode : Multiplier deux nombres entiers en base 2 La technique de multiplication de deux nombres binaire est la m\u00eame que pour des nombres en \u00e9criture d\u00e9cimale - mais la retenue peut se propager parfois plus loin que le rang imm\u00e9diatement sup\u00e9rieur : En d\u00e9cimal En binaire \\[ \\begin{array}{cccc} &&2&7\\\\ \\times&&1&3\\\\\\hline &&&\\\\ +&&&\\\\\\hline &&&\\\\ \\end{array} \\] \\[ \\begin{array}{*{10}{c}} &&&&&1&1&0&1&1\\\\ \\times&&&&&&1&1&0&1\\\\\\hline &&&&&&&&&\\\\ +&&&&&&&&&\\\\ +&&&&&&&&&\\\\ +&&&&&&&&&\\\\\\hline &&&&&&&&&\\\\ \\end{array} \\]","title":"Binaire et codage des entiers"},{"location":"NSI/Premiere/C02/BinaireCodageEntiers/#binaire-et-representation-des-entiers","text":"","title":"Binaire et repr\u00e9sentation des entiers"},{"location":"NSI/Premiere/C02/BinaireCodageEntiers/#linformation-binaire","text":"","title":"L'information binaire"},{"location":"NSI/Premiere/C02/BinaireCodageEntiers/#le-bit","text":"L'histoire de l'informatique est intrins\u00e8quement d\u00e9pendante de l'histoire de la ma\u00eetrise de l'\u00e9lectricit\u00e9. Fondamentalement, tout ordinateur est construit \u00e0 partir de circuits \u00e9lectroniques qui: soit ne laissent pas passer le courant \u00e9lectrique ( Off ); soit laissent passer le courant \u00e9lectrique ( In ). Exemple Un circuit contenant un unique interrupteur admet donc deux \u00e9tats , il est binaire dans ce sens. D\u00e9finition : bit Un bit est l'unit\u00e9 \u00e9l\u00e9mentaire d'information pouvant prendre deux valeurs distinctes, not\u00e9es 0 et 1 (binaire). Le mot \u00ab bit \u00bb vient de l'anglais \u00ab Bi nary Digi t \u00bb, soit litt\u00e9ralement chiffre binaire . La notation internationale pour le bit est \\(b\\) . On parlera alors de \\(kb\\) , \\(Mb\\) , \\(Gb\\) .","title":"Le bit"},{"location":"NSI/Premiere/C02/BinaireCodageEntiers/#grouper-les-bits","text":"Une information binaire est donc une suite de \\(0\\) et de \\(1\\) . Cette information peut-\u00eatre de diff\u00e9rente nature, tout d\u00e9pend de la norme d'encodage utilis\u00e9e. En soit, la m\u00eame suite binaire peut signifier des choses totalement diff\u00e9rentes comme : un nombre entier ; un nombre flottant ; un caract\u00e8re ; une note de musique ; ... Exemple L'\u00e9criture binaire \\(101010\\) signifie : \\(42\\) dans les nombres entiers non sign\u00e9s (c'est-\u00e0-dire positifs) ; >>> int ( '101010' , 2 ) 42 Le caract\u00e8re * en UTF-8 : >>> chr ( int ( '101010' , 2 )) '*' Bits et quantit\u00e9s d'informations Avec un unique bit, on ne peux stocker que deux informations (deux nombres, deux caract\u00e8res, deux notes de musiques,...). La quantit\u00e9 d'information diff\u00e9rentes pouvant \u00eatre repr\u00e9sent\u00e9es d\u00e9pend donc du nombre de bits utilis\u00e9s : Avec \\(2\\) bits : Avec \\(3\\) bits : Avec \\(4\\) bits : Done On peux repr\u00e9senter \\(2 \\times 2 = 2^2 = 4\\) informations diff\u00e9rentes. Done On peux repr\u00e9senter \\(2 \\times 2 \\times 2= 2^3 = 8\\) informations diff\u00e9rentes. Done On peux repr\u00e9senter \\(2 \\times 2 \\times 2 \\times 2= 2^4 = 16\\) informations diff\u00e9rentes. Avec un syst\u00e8me \u00e0 \\(n\\) bits, on peut repr\u00e9senter \\(2^n\\) informations diff\u00e9rentes.","title":"Grouper les bits"},{"location":"NSI/Premiere/C02/BinaireCodageEntiers/#octets","text":"Octets Pour quantifier les informations binaires, on utilise souvent le mot octet ( abusivement appel\u00e9 aussi byte dans le monde anglo-saxon). Un octet est un groupement de \\(8\\) bits. Il permet de repr\u00e9senter \\(2^8 = 256\\) informations diff\u00e9rentes. La notation internationale pour l'octet est \\(o\\) . On parlera alors de \\(ko\\) ( \\(1~ko = 1000 o\\) ), \\(Mo\\) ( \\(1~Mo = 10^3~ko = 10^6~o\\) ), \\(Go\\) ( \\(1~Go = 10^3~Mo = 10^9~o\\) ), etc, mais aussi de \\(ko/s\\) , \\(Mo/s\\) , etc... Remarque Les pr\u00e9fixes kilo , Mega , Giga ..., sont bien ceux du syst\u00e8me international, c'est-\u00e0-dire ceux pour \\(10^3\\) , \\(10^6\\) , \\(10^9\\) ... On verra dans la partie suivante qu'ils sont parfois confondus avec les pr\u00e9fixes binaires ( kibi , Mibi , Gibi ...)","title":"Octets"},{"location":"NSI/Premiere/C02/BinaireCodageEntiers/#ecritures-en-dautres-bases","text":"","title":"Ecritures en d'autres bases"},{"location":"NSI/Premiere/C02/BinaireCodageEntiers/#les-entiers-en-base-decimale","text":"Rappels : Base d\u00e9cimale Un nombre entier \u00e9crit dans une base d\u00e9cimale ( base \\(10\\) ) v\u00e9rifie les conditions suivantes : il est \u00e9crit avec les dix chiffres arabes : \\(0,1,2,3,4,5,6,7,8,9\\) ; chaque chiffre poss\u00e8de un poids, repr\u00e9sentant une puissance de \\(10\\) , le poids augmentant de la droite vers la gauche en partant d'un exposant \\(0\\) . Exercice Enonc\u00e9 Solution \\(14~763 = 1 \\times 10^{\\dots} + 4 \\times 10^{\\dots} + 7 \\times 10^{\\dots}+ 6\\times 10^{\\dots} + 3\\times 10^{\\dots}\\) \\(100~042 = 1 \\times 10^{\\dots} + 4 \\times 10^{\\dots} + 2 \\times 10^{\\dots}\\) \\(14~763 = 1 \\times 10^{4} + 4 \\times 10^{3} + 7 \\times 10^{2}+ 6\\times 10^{1} + 3\\times 10^{0}\\) \\(100~042 = 1 \\times 10^{\\dots} + 4 \\times 10^{\\dots} + 2 \\times 10^{\\dots}\\)","title":"Les entiers en base d\u00e9cimale"},{"location":"NSI/Premiere/C02/BinaireCodageEntiers/#la-base-2-systeme-binaire","text":"Syst\u00e8me binaire Un nombre entier \u00e9crit dans le syst\u00e8me binaire v\u00e9rifie les conditions suivantes : il est \u00e9crit avec les deux chiffres : \\(0\\) et \\(1\\) . chaque chiffre poss\u00e8de un poids repr\u00e9sentant une puissance de \\(2\\) , le poids augmentant de la droite vers la gauche en partant d'un exposant \\(0\\) . Remarques et notations L'\u00e9criture \\(101\\) poss\u00e8de aussi bien un sens en binaire (un-z\u00e9ro-un) qu'en d\u00e9cimal ( cent-un ). Pour lever l'ambigu\u00eft\u00e9 , on \u00e9crira : \\((101)_{10}\\) ou simplement \\(101\\) pour le nombre en base \\(10\\) ; \\((101)_2\\) pour le nombre en base \\(2\\) . Exercice Enonc\u00e9 Solution Consid\u00e9rons le nombre \\((101010)_2\\) . Convertissez ce nombre binaire en d\u00e9cimal : \\[ \\begin{array}{cccccccc} (101010)_2&=& 1 \\times 2^{5}&+ 0 \\times 2^{4}&+ 1 \\times 2^{3}&+ 0 \\times 2^{2}&+ 1 \\times 2^{1}&+ 0 \\times 2^{0}\\\\ & = & 1 \\times 32 & + 0 \\times 16& + 1 \\times 8& + 0 \\times 4& + 1 \\times 2& + 0 \\times 1\\\\ &=& 42 &&&&&\\\\ \\end{array} \\] Exercice : Conversions de la base \\(2\\) vers la base \\(10\\) Enonc\u00e9 Solution Ecrire les nombres suivants en base \\(10\\) : \\((101)_2\\) \\((11111111)_2\\) \\((10010011)_2\\) A venir ! Exercice : Un peu de Python Enonc\u00e9 Compl\u00e9ter la fonction suivante, sans utiliser int(x,2) , afin qu'elle renvoie en base 10 le nombre \\(x\\) pass\u00e9 en argument en base \\(2\\) , sous la forme d'une chaine de caract\u00e8res. Vous pouvez cependant utiliser la fonction built-in int afin de convertir une chaine de carat\u00e8re en un entier. def bin2dec ( x ) : \"\"\"fonction convertissant le nombre (x)_2 en base 10 >>> bin2dec('0') 0 >>> bin2dec('1') 1 >>> bin2dec('11') 3 >>> bin2dec('1000') 8 >>> bin2dec('11111111') 255 \"\"\"","title":"La base 2 (syst\u00e8me binaire)"},{"location":"NSI/Premiere/C02/BinaireCodageEntiers/#conversions-de-la-base-10-vers-la-base-2","text":"M\u00e9thode : Algorithme de conversion du nombre \\((n)_{10}\\) en base \\(2\\) En langage naturel Sous forme de diagramme fonction dec2bin(n) : base2 <- chaine de caract\u00e8re vide Tant que n!=0 : base2 <- base2+caractere(n%2) n <- n//2 Renvoyer base2 invers\u00e9e Exemple : Conversion de \\((135)_{10}\\) en base \\(2\\) A venir ! Conversions manuelles Enonc\u00e9 Solution Convertir les nombres suivants en base \\(2\\) : \\((26)_{10}\\) \\((104)_{10}\\) \\((256)_{10}\\) \\((42)_{10}\\) A venir ! Exercice : De l'algorithme au programme Enonc\u00e9 Solution Compl\u00e9ter la fonction suivante en Python, qui renvoie la chaine de caract\u00e8res correspondant \u00e0 l'\u00e9criture de \\(n\\) en base \\(2\\) . def dec2bin ( n ) : \"\"\"fonction convertissant le nombre n en base 2, et renvoyant la chaine de caract\u00e8res correspondante >>> dec2bin(0) '0' >>> dec2bin(1) '1' >>> dec2bin(3) '11' >>> dec2bin(8) '1000' >>> dec2bin(255) '11111111' \"\"\" A venir ! Nombre de bits n\u00e9cessaires Soit \\((x)_{10}\\) un nombre \u00e9crit en base \\(10\\) . Si \\(n\\) est l'entier tel que \\(2^{n-1} \\leqslant x <2^n\\) , alors le nombre \\(x\\) n\u00e9cessitera \\(n\\) bits pour \u00eatre repr\u00e9sent\u00e9 en binaire. Exercice : Nombre de bits n\u00e9cessaires Enonc\u00e9 Solution D\u00e9terminer pour chacun des nombres ci-dessous le nombre de bits minimal qui seront n\u00e9cessaire dans l'\u00e9criture binaire de ce nombre : \\(12\\) \\(123\\) \\(999\\) \\(1927\\) A venir !","title":"Conversions de la base \\(10\\) vers la base \\(2\\)"},{"location":"NSI/Premiere/C02/BinaireCodageEntiers/#une-autre-base-utile-lhexadecimal","text":"Outre que la lecture des nombres en \u00e9criture binaire par un humain est tr\u00e8s compliqu\u00e9e, il faut remarquer que, de par la construction de ces nombres, la quantit\u00e9 de symboles utilis\u00e9s en base \\(2\\) est largement sup\u00e9rieur \u00e0 celui utilis\u00e9 en base \\(10\\) - \\(3,2\\) fois plus grand en moyenne sur les \\(100~000\\) premiers entiers. Il peut donc \u00eatre utile de trouver un compromis entre la base \\(2\\) , utile pour l'ordinateur, et la base \\(10\\) , plus compr\u00e9hensible par un \u00eatre humain. Ce compromis peut-\u00eatre trouv\u00e9 avec le syst\u00e8me hexad\u00e9cimal , c'est-\u00e0-dire un syst\u00e8me de base 16 . Base hexad\u00e9cimale Un nombre entier \u00e9crit dans une base hexad\u00e9cimale ( base \\(16\\) ) v\u00e9rifie les conditions suivantes : il est \u00e9crit avec les seize chiffres hexad\u00e9cimaux : \\(0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F\\) ; chaque chiffre poss\u00e8de un poids repr\u00e9sentant une puissance de \\(16\\) , le poids augmentant de la droite vers la gauche en partant d'un exposant \\(0\\) . Exemple Le nombre hexad\u00e9cimal \\((5B6)_{16}\\) correspond donc en d\u00e9cimal \u00e0 : A compl\u00e9ter Solution \\[ \\begin{array}{ccccc} (5B6)_{16}&=& \\dots \\times 16^{\\dots}&+ \\dots \\times 16^{\\dots}&+ \\dots \\times 16^{\\dots}\\\\ &=& \\dots \\times \\dots&+ \\dots \\times \\dots&+ \\dots \\times \\dots\\\\ &=&&&\\\\ \\end{array} \\] \\[ \\begin{array}{ccccc} (5B6)_{16}&=& 5 \\times 16^{2}&+ 11 \\times 16^{1}&+ 6 \\times 16^{0}\\\\ &=& 5 \\times 256&+ 11 \\times 16&+ 6 \\times 1\\\\ &=&1~462&&\\\\ \\end{array} \\] Exercice Enonc\u00e9 Convertir de l'hexad\u00e9cimal vers le d\u00e9cimal : \\((FF)_{16}\\) \\((6E)_{16}\\) \\((245A)_{16}\\) M\u00e9thode : Convertir vers l'hexad\u00e9cimal depuis le d\u00e9cimal Pour convertir vers l'hexad\u00e9cimal depuis le d\u00e9cimal, on utilise la m\u00eame m\u00e9thode qu'en binaire mais en divisant par \\(16\\) . Exemple Enonc\u00e9 Solution Convertir le nombre \\(244\\) en hexad\u00e9cimal. A venir ! Remarques A un chiffre dans la base \\(16\\) , correspond exactement \\(4\\) chiffres dans la base \\(2\\) . Cela signifie que pour \u00e9crire un octet en hexad\u00e9cimal, deux chiffres hexad\u00e9cimaux suffisent . C'est pour cette raison que les octets \u00e9crits en base deux sont group\u00e9s par 4 chiffres : \\[ (189)_{10} = (BD)_{16} = (1011~1101)_2 \\] Ce syst\u00e8me de notation est tr\u00e8s pratique pour noter les codes des couleurs (par exemple en RGB : #7455BA signifie que l'octet repr\u00e9sentant le canal rouge a pour valeur 74 , celui du canal vert 55 , et celui du canal bleu BA ), pour les cl\u00e9s de chiffrement (code Wifi par exemple), ... Roue num\u00e9rique Ecriture d\u00e9cimale 0 0 0 - Reset + Ecriture binaire 0 0 0 0 0 0 0 0 Ecriture hexad\u00e9cimale 0 0 Acc\u00e8s au fichier de base : ici","title":"Une autre base utile : l'hexad\u00e9cimal"},{"location":"NSI/Premiere/C02/BinaireCodageEntiers/#operations-elementaires-sur-les-nombres-binaires","text":"","title":"Op\u00e9rations \u00e9l\u00e9mentaires sur les nombres binaires"},{"location":"NSI/Premiere/C02/BinaireCodageEntiers/#sommes-de-nombres-binaires","text":"M\u00e9thode : Additionner deux nombres entiers en base 2 La technique d'addition de deux nombres binaire est la m\u00eame que pour des nombres en \u00e9criture d\u00e9cimale : En d\u00e9cimal En binaire \\[ \\begin{array}{cccc} &1&4&9\\\\ +&&7&8\\\\\\hline &&&\\\\ \\end{array} \\] \\[ \\begin{array}{*{9}{c}} &1&0&0&1&0&1&0&1\\\\ +&&1&0&0&1&1&1&0\\\\\\hline &&&&&&&&\\\\ \\end{array} \\]","title":"Sommes de nombres binaires"},{"location":"NSI/Premiere/C02/BinaireCodageEntiers/#produits-de-nombres-binaires","text":"M\u00e9thode : Multiplier deux nombres entiers en base 2 La technique de multiplication de deux nombres binaire est la m\u00eame que pour des nombres en \u00e9criture d\u00e9cimale - mais la retenue peut se propager parfois plus loin que le rang imm\u00e9diatement sup\u00e9rieur : En d\u00e9cimal En binaire \\[ \\begin{array}{cccc} &&2&7\\\\ \\times&&1&3\\\\\\hline &&&\\\\ +&&&\\\\\\hline &&&\\\\ \\end{array} \\] \\[ \\begin{array}{*{10}{c}} &&&&&1&1&0&1&1\\\\ \\times&&&&&&1&1&0&1\\\\\\hline &&&&&&&&&\\\\ +&&&&&&&&&\\\\ +&&&&&&&&&\\\\ +&&&&&&&&&\\\\\\hline &&&&&&&&&\\\\ \\end{array} \\]","title":"Produits de nombres binaires"},{"location":"NSI/Premiere/C02/CodageCaractere/","text":"Normes d'encodage des caract\u00e8res Nous avons vu que les nombres entiers et flottants sont cod\u00e9s en binaires, ainsi bien entendu que les bool\u00e9ens. Il en est de m\u00eame pour les caract\u00e8res. Cependant, de nombreuses normes existent . Les raisons en sont pour la plupart historiques, mais pas seulement. Nous regarderons dans ce cours trois de ces normes, dont la derni\u00e8re - l' unicode - est aujourd'hui celle majoritairement utilis\u00e9e. Historiquement - la norme ASCII \u00c0 partir des ann\u00e9es 1960, les ordinateurs commencent \u00e0 \u00eatre \u00e9quip\u00e9s d'un clavier et d'un rouleau pour imprimer les sorties. Il fut donc n\u00e9cessaire de d\u00e9cider comment manipuler les caract\u00e8res alphanum\u00e9riques. La d\u00e9cision fut prise de repr\u00e9senter les caract\u00e8res de l'alphabet anglais sur un octet de la mani\u00e8re suivante : les 7 octets de poids faible (les plus \u00e0 droite) serviront \u00e0 associer une valeur num\u00e9rique \u00e0 chaque caract\u00e8re ; l'octet de poids fort (celui le plus \u00e0 gauche) sera le bit de parit\u00e9 - une cl\u00e9 de contr\u00f4le. Bit de parit\u00e9 Les ordinateurs de cette \u00e9poque \u00e9tant peu fiables au niveau des transmissions et traitement des bits, il arrivait des erreurs lors du traitement des signaux et un octet 1101 1011 pouvait vite se transformer en 1001 1011 : les donn\u00e9es \u00e9taient alors corrompues et le mauvais caract\u00e8re serait affich\u00e9. Le bit de parit\u00e9 est un bit qui prenait la valeur 0 ou 1 selon la parit\u00e9 du nombre de 1 dans les 7 bits repr\u00e9sentant le caract\u00e8re. Ainsi, si les 7 bits sont 101 1001 , le bit de parit\u00e9 est \u00e0 0 , et l'octet complet devient 0101 1001 . Si celui re\u00e7u est 0101 0001 , un simple calcul avec le bit de parit\u00e9 permet de constater que le traitement du signal est d\u00e9fectueux. Il reste donc \\(7\\) bits pour encoder les caract\u00e8res, soit \\(2^7 = 128\\) possibilit\u00e9s. Ce codage est appel\u00e9 American Standard Code for Information Interchange , soit ASCII , et est pr\u00e9sent\u00e9 dans la table de jeu de caract\u00e8res ASCII ci-dessous : La table ASCII contient 95 caract\u00e8res imprimables : les chiffres de 0 \u00e0 9 ; les lettres minuscules de a \u00e0 z et majuscules de A \u00e0 Z ; des symboles math\u00e9matiques et de ponctuation. Les 32 premiers caract\u00e8res de 00 \u00e0 1F , ainsi que le \\(128^e\\) caract\u00e8re FF ne sont pas imprimables, ils correspondent \u00e0 des commandes de contr\u00f4le de terminaux informatiques (le caract\u00e8re FF est la commande pour effacer le caract\u00e8re pr\u00e9c\u00e9dent, le 07 provoque l'\u00e9mission d'un signal sonore, etc). Il faut diff\u00e9rencier la notion de jeu de caract\u00e8re ( Character set en anglais) de celle de police de caract\u00e8re . Dans une police de caract\u00e8re, chaque glyphe est associ\u00e9 \u00e0 un num\u00e9ro correspondant \u00e0 un caract\u00e8re du jeu de caract\u00e8re . Intrins\u00e8quement, un ordinateur ne fait aucune diff\u00e9rence entre deux glyphes de la m\u00eame lettre. Glyphes Un glyphe est une repr\u00e9sentation graphique d'un signe typographique, c'est-\u00e0-dire d'un caract\u00e8re ou bien un id\u00e9ogramme. En Python \u00c9nonc\u00e9 R\u00e9ponses Pour obtenir un caract\u00e8re correspondant \u00e0 un code hexad\u00e9cimal donn\u00e9, il faut convertir en entier le nombre hexad\u00e9cimal avec int puis passer par la fonction chr : chr ( int ( 'Ox41' , 16 )) V\u00e9rifiez avec quelques caract\u00e8res. Comment faire \u00e0 partir du code binaire ? Testez ord('A') . Que renvoie cette fonction ? Testez de m\u00eame les fonctions hex() et bin() . A venir Discussion Enonc\u00e9 R\u00e9ponse Quelles sont les limites de la norme ASCII ? La norme ISO-8859 D\u00e8s la fin des ann\u00e9es 60, alors que la qualit\u00e9 des ordinateurs s'am\u00e9liore, il devient possible de b\u00e9n\u00e9ficier de l'octet de poids fort pour disposer de \\(2^8 = 256\\) possibilit\u00e9s de codage. Les diff\u00e9rents constructeurs d'ordinateurs se pr\u00e9cipitent sur cette possibilit\u00e9 afin de palier aux d\u00e9fauts de l'ASCII, malheureusement sans se coordonner. Diff\u00e9rentes normes voient le jour, appel\u00e9es ASCII \u00e9tendues , pour la plupart incompatibles entre elles . Par exemple IBM produit une table, la CP437 , poss\u00e9dant des accents, ainsi que de nombreux symboles de trac\u00e9s de boites - les interfaces graphiques n'existant pas encore sur ces machines : ISO-8859 et ses variantes Malgr\u00e9 tout, une norme arrive \u00e0 \u00eatre \u00e9tablie, l' ISO-8859 , avec les conventions suivantes : le codage des caract\u00e8res pr\u00e9sents dans la tables ASCII est conserv\u00e9 (principe de r\u00e9tro-compatibilit\u00e9 ) ; on conserve le principe de caract\u00e8res sur 1 octet, avec utilisation compl\u00e8te de \\(8\\) bits. Plusieurs jeux de caract\u00e8res coexistent alors : Le jeu occidental ISO 8859-1 , aussi appel\u00e9 ISO-Latin-1 , a \u00e9t\u00e9 le jeu par d\u00e9faut du web avant d'\u00eatre \u00e0 son tour remplac\u00e9 par l' unicode . La norme ISO 8859-1 a \u00e9t\u00e9 r\u00e9vis\u00e9e en ISO 8859-15 \u00e0 la fin des ann\u00e9es 1990 pour y ajouter de nouveaux caract\u00e8res (comme le symbole \u20ac). \u00c0 noter que les efforts de normalisation ont parfois men\u00e9 \u00e0 des absurdit\u00e9s : pas moins de 5 normes ISO 8859 diff\u00e9rentes coexistent pour l'alphabet cyrillique... Cependant, un probl\u00e8me majeur demeurait : certaines langues, comme le chinois, ne pouvaient tout simplement pas \u00eatre utilis\u00e9es, le nombres de glyphes n\u00e9cessaires \u00e9tant bien sup\u00e9rieur \u00e0 \\(256\\) . Avec Python \u00c9nonc\u00e9 R\u00e9ponses Il est possible avec Python de basculer d'un jeu de caract\u00e8re \u00e0 un autre. Le principe est de r\u00e9cup\u00e9rer l'octet correspondant \u00e0 un caract\u00e8re dans un charmap , et d'afficher le caract\u00e8re correspondant dans le nouveau charmap . Pour cela on utilise les m\u00e9thodes suivantes : .encode(charmap) : transforme une chaine de caract\u00e8re de la charmap pass\u00e9e en argument en une s\u00e9quence d'octets ; .decode(charmap) : transforme une s\u00e9quence d'octets en une chaine de caract\u00e8re de la charmap pass\u00e9e en argument. Questions : Tester l'encodage de la chaine 'A' d'abord en ASCII , puis en ISO8859-1 , puis en ISO8859-5 et enfin en CP437 . Que constate-t-on ? Faire de m\u00eame avec la chaine '\u00e9' . Que constate-t-on ? A quels caract\u00e8res correspond l'octet dont le code Python est b'\\xe7' selon l'encodage utilis\u00e9 : en Latin-1 ? en CP437 ? en ISO8859-5 ? Quel est le code Latin-1 correspondant \u00e0 la lettre '\u0153' ? Quel est le probl\u00e8me ? A venir ! L'encodage unicode UTF-8 Naissance d'Unicode Internet naissant, les probl\u00e8mes li\u00e9s aux diff\u00e9rents encodages ont augment\u00e9s exponentiellement (et perdurent toujours aujourd'hui sur certains logiciels). La solution trouv\u00e9e est le standard unicode , n\u00e9 au d\u00e9but des ann\u00e9es 1990. L'objectif de cette norme est triple : R\u00e9tro-compatibilit\u00e9 avec ASCII , et en grande partie avec ISO8859-1 ; Gestion d'un plus grand nombre de caract\u00e8res ; Affichage de textes bi-directionnels. Un des formats d'encodage de l'unicode, et le plus utilis\u00e9, est l' UTF-8 pour \u00ab 8-Bit Universal Character Set Transformation Format \u00bb. L\u2019UTF-8 code les caract\u00e8res en utilisant jusqu'\u00e0 4 octets. Il attribue \u00e0 chaque caract\u00e8re unicode existant une s\u00e9quence de bits pr\u00e9cise. La force de cette norme est de ne pas forc\u00e9ment utiliser 4 octets . La table ASCII est d\u2019ailleurs cod\u00e9e sur 1 seul octet (8 bits), pour garantir la r\u00e9tro-compatibilit\u00e9. En utf-8 , chaque caract\u00e8re est repr\u00e9sent\u00e9 sous la forme d'un bloc U+xxxx (o\u00f9 xxxx est un hexad\u00e9cimal de 4 \u00e0 6 chiffres, entre U+0000 et U+10FFFF ). La plage ainsi d\u00e9finie permet d'attribuer jusqu'\u00e0 1 114 112 caract\u00e8res. \u00c0 l'heure actuelle, on recense environ 130 000 caract\u00e8res dans unicode. Pour savoir combien d\u2019octets on va utiliser les bits de poids fort du premier octet (celui de gauche) et pour savoir qu\u2019un octet est la suite du pr\u00e9c\u00e9dent on commence par 10 : Codes Qt\u00e9 Encodage en UTF-8 Caract\u00e8res dans cet intervalle jusqu\u2019\u00e0 U+007F \\(2^7-1 = 127\\) 0bbbbbbb latin de base (ASCII) jusqu\u2019\u00e0 U+07FF \\(2^{11}-1=2047\\) 110bbbbb 10bbbbbb alphabets d\u2019Europe et du Moyen-Orient jusqu\u2019\u00e0 U+FFFF \\(2^{16-1} = 65535\\) 1110bbbb 10bbbbbb 10bbbbbb La quasi-totalit\u00e9 des alphabets actuels jusqu\u2019\u00e0 U+10FFFF \\(2^{21}-1\\simeq 2\\times 10^6\\) 11110bbb 10bbbbbb 10bbbbbb 10bbbbbb tous les caract\u00e8res Cette norme permet donc d\u2019\u00eatre rapide pour les alphabets courants. Elle pr\u00e9sente le d\u00e9faut de ne pas pouvoir aller directement chercher le \\(10^e\\) caract\u00e8re d\u2019une phrase puisque le nombre d\u2019octets par lettre est variable. L\u2019 UTF-16 , lui, est cod\u00e9 sur 4 octets ou 2 octets en fonction du code du caract\u00e8re. La norme UTF-32 utilise, elle, 32 bits en permanence. Cela consomme bien plus de m\u00e9moire, mais permet de trouver tr\u00e8s rapidement le x-i\u00e8me caract\u00e8re d\u2019une, chaine de caract\u00e8res. L' UTF-8 est utilis\u00e9 par \\(82,2\\%\\) des sites web en d\u00e9cembre 2014, puis \\(87.6\\%\\) en 2016 et enfin \\(95,2\\%\\) en octobre 2020. Par sa nature, UTF-8 est d'un usage de plus en plus courant sur Internet, et dans les syst\u00e8mes devant \u00e9changer de l'information. Il s'agit \u00e9galement du codage le plus utilis\u00e9 dans les syst\u00e8mes GNU/Linux et compatibles pour g\u00e9rer le plus simplement possible des textes et leurs traductions dans tous les syst\u00e8mes d'\u00e9critures et tous les alphabets du monde. Concr\u00e8tement, UTF-8 est utilis\u00e9 par quasi tous les serveurs Web . Aujourd'hui, il n'y a plus de questions \u00e0 se poser : choisissez syst\u00e9matiquement l'encodage utf-8 pour vos travaux , et comme explicit is better than implicit , comme dit le zen de Python, expliquez clairement dans tous vos codes l'encodage utilis\u00e9 : en HTML : < meta charset = \"utf8\" > au d\u00e9but d'un script Python, avec le shebang : #-*- coding: utf-8 -*- Jouer avec les encodages \u00c9nonc\u00e9 R\u00e9ponses On consid\u00e8re la liste Python suivante : [233, 112, 97, 116, 97, 110, 116, 32, 33] . Quel est le message cach\u00e9 ? En HTML : Cr\u00e9ez une page vide en HTML avec la code suivant dans Notepad++, en v\u00e9rifiant que l'encodage est bien UTF-8 : <!DOCTYPE html> < html lang = \"fr\" > < head > < meta charset = \"utf-8\" > < title > Nombreux accents </ title > </ head > < body > </ body > </ html > Ins\u00e9rez la phrase suivante dans le corps du document : Portez ce vieux whisky au juge blond qui fume sur son \u00eele int\u00e9rieure, \u00e0 c\u00f4t\u00e9 de l'alc\u00f4ve ovo\u00efde, o\u00f9 les b\u00fbches se consument dans l'\u00e2tre, ce qui lui permet de penser \u00e0 la c\u00e6nog\u00e9n\u00e8se de l'\u00eatre dont il est question dans la cause ambigu\u00eb entendue \u00e0 Mo\u00ff, dans un capharna\u00fcm qui, pense-t-il, diminue \u00e7\u00e0 et l\u00e0 la qualit\u00e9 de son \u0153uvre. Ouvrez ensuite le fichier dans un navigateur. L'affichage est-il correct ? Remplacez maintenant la ligne <meta charset=\"utf-8\"> par la ligne <meta charset=\"iso-8859-1\"> . Actualisez la page. Que se passe-t-il ? Ouvrez maintenant le fichier HTML avec le logiciel HexEditorNeo . Que retrouve-t-on ? A venir !","title":"Codage des caract\u00e8res"},{"location":"NSI/Premiere/C02/CodageCaractere/#normes-dencodage-des-caracteres","text":"Nous avons vu que les nombres entiers et flottants sont cod\u00e9s en binaires, ainsi bien entendu que les bool\u00e9ens. Il en est de m\u00eame pour les caract\u00e8res. Cependant, de nombreuses normes existent . Les raisons en sont pour la plupart historiques, mais pas seulement. Nous regarderons dans ce cours trois de ces normes, dont la derni\u00e8re - l' unicode - est aujourd'hui celle majoritairement utilis\u00e9e.","title":"Normes d'encodage des caract\u00e8res"},{"location":"NSI/Premiere/C02/CodageCaractere/#historiquement-la-norme-ascii","text":"\u00c0 partir des ann\u00e9es 1960, les ordinateurs commencent \u00e0 \u00eatre \u00e9quip\u00e9s d'un clavier et d'un rouleau pour imprimer les sorties. Il fut donc n\u00e9cessaire de d\u00e9cider comment manipuler les caract\u00e8res alphanum\u00e9riques. La d\u00e9cision fut prise de repr\u00e9senter les caract\u00e8res de l'alphabet anglais sur un octet de la mani\u00e8re suivante : les 7 octets de poids faible (les plus \u00e0 droite) serviront \u00e0 associer une valeur num\u00e9rique \u00e0 chaque caract\u00e8re ; l'octet de poids fort (celui le plus \u00e0 gauche) sera le bit de parit\u00e9 - une cl\u00e9 de contr\u00f4le. Bit de parit\u00e9 Les ordinateurs de cette \u00e9poque \u00e9tant peu fiables au niveau des transmissions et traitement des bits, il arrivait des erreurs lors du traitement des signaux et un octet 1101 1011 pouvait vite se transformer en 1001 1011 : les donn\u00e9es \u00e9taient alors corrompues et le mauvais caract\u00e8re serait affich\u00e9. Le bit de parit\u00e9 est un bit qui prenait la valeur 0 ou 1 selon la parit\u00e9 du nombre de 1 dans les 7 bits repr\u00e9sentant le caract\u00e8re. Ainsi, si les 7 bits sont 101 1001 , le bit de parit\u00e9 est \u00e0 0 , et l'octet complet devient 0101 1001 . Si celui re\u00e7u est 0101 0001 , un simple calcul avec le bit de parit\u00e9 permet de constater que le traitement du signal est d\u00e9fectueux. Il reste donc \\(7\\) bits pour encoder les caract\u00e8res, soit \\(2^7 = 128\\) possibilit\u00e9s. Ce codage est appel\u00e9 American Standard Code for Information Interchange , soit ASCII , et est pr\u00e9sent\u00e9 dans la table de jeu de caract\u00e8res ASCII ci-dessous : La table ASCII contient 95 caract\u00e8res imprimables : les chiffres de 0 \u00e0 9 ; les lettres minuscules de a \u00e0 z et majuscules de A \u00e0 Z ; des symboles math\u00e9matiques et de ponctuation. Les 32 premiers caract\u00e8res de 00 \u00e0 1F , ainsi que le \\(128^e\\) caract\u00e8re FF ne sont pas imprimables, ils correspondent \u00e0 des commandes de contr\u00f4le de terminaux informatiques (le caract\u00e8re FF est la commande pour effacer le caract\u00e8re pr\u00e9c\u00e9dent, le 07 provoque l'\u00e9mission d'un signal sonore, etc). Il faut diff\u00e9rencier la notion de jeu de caract\u00e8re ( Character set en anglais) de celle de police de caract\u00e8re . Dans une police de caract\u00e8re, chaque glyphe est associ\u00e9 \u00e0 un num\u00e9ro correspondant \u00e0 un caract\u00e8re du jeu de caract\u00e8re . Intrins\u00e8quement, un ordinateur ne fait aucune diff\u00e9rence entre deux glyphes de la m\u00eame lettre. Glyphes Un glyphe est une repr\u00e9sentation graphique d'un signe typographique, c'est-\u00e0-dire d'un caract\u00e8re ou bien un id\u00e9ogramme. En Python \u00c9nonc\u00e9 R\u00e9ponses Pour obtenir un caract\u00e8re correspondant \u00e0 un code hexad\u00e9cimal donn\u00e9, il faut convertir en entier le nombre hexad\u00e9cimal avec int puis passer par la fonction chr : chr ( int ( 'Ox41' , 16 )) V\u00e9rifiez avec quelques caract\u00e8res. Comment faire \u00e0 partir du code binaire ? Testez ord('A') . Que renvoie cette fonction ? Testez de m\u00eame les fonctions hex() et bin() . A venir Discussion Enonc\u00e9 R\u00e9ponse Quelles sont les limites de la norme ASCII ?","title":"Historiquement - la norme ASCII"},{"location":"NSI/Premiere/C02/CodageCaractere/#la-norme-iso-8859","text":"D\u00e8s la fin des ann\u00e9es 60, alors que la qualit\u00e9 des ordinateurs s'am\u00e9liore, il devient possible de b\u00e9n\u00e9ficier de l'octet de poids fort pour disposer de \\(2^8 = 256\\) possibilit\u00e9s de codage. Les diff\u00e9rents constructeurs d'ordinateurs se pr\u00e9cipitent sur cette possibilit\u00e9 afin de palier aux d\u00e9fauts de l'ASCII, malheureusement sans se coordonner. Diff\u00e9rentes normes voient le jour, appel\u00e9es ASCII \u00e9tendues , pour la plupart incompatibles entre elles . Par exemple IBM produit une table, la CP437 , poss\u00e9dant des accents, ainsi que de nombreux symboles de trac\u00e9s de boites - les interfaces graphiques n'existant pas encore sur ces machines : ISO-8859 et ses variantes Malgr\u00e9 tout, une norme arrive \u00e0 \u00eatre \u00e9tablie, l' ISO-8859 , avec les conventions suivantes : le codage des caract\u00e8res pr\u00e9sents dans la tables ASCII est conserv\u00e9 (principe de r\u00e9tro-compatibilit\u00e9 ) ; on conserve le principe de caract\u00e8res sur 1 octet, avec utilisation compl\u00e8te de \\(8\\) bits. Plusieurs jeux de caract\u00e8res coexistent alors : Le jeu occidental ISO 8859-1 , aussi appel\u00e9 ISO-Latin-1 , a \u00e9t\u00e9 le jeu par d\u00e9faut du web avant d'\u00eatre \u00e0 son tour remplac\u00e9 par l' unicode . La norme ISO 8859-1 a \u00e9t\u00e9 r\u00e9vis\u00e9e en ISO 8859-15 \u00e0 la fin des ann\u00e9es 1990 pour y ajouter de nouveaux caract\u00e8res (comme le symbole \u20ac). \u00c0 noter que les efforts de normalisation ont parfois men\u00e9 \u00e0 des absurdit\u00e9s : pas moins de 5 normes ISO 8859 diff\u00e9rentes coexistent pour l'alphabet cyrillique... Cependant, un probl\u00e8me majeur demeurait : certaines langues, comme le chinois, ne pouvaient tout simplement pas \u00eatre utilis\u00e9es, le nombres de glyphes n\u00e9cessaires \u00e9tant bien sup\u00e9rieur \u00e0 \\(256\\) . Avec Python \u00c9nonc\u00e9 R\u00e9ponses Il est possible avec Python de basculer d'un jeu de caract\u00e8re \u00e0 un autre. Le principe est de r\u00e9cup\u00e9rer l'octet correspondant \u00e0 un caract\u00e8re dans un charmap , et d'afficher le caract\u00e8re correspondant dans le nouveau charmap . Pour cela on utilise les m\u00e9thodes suivantes : .encode(charmap) : transforme une chaine de caract\u00e8re de la charmap pass\u00e9e en argument en une s\u00e9quence d'octets ; .decode(charmap) : transforme une s\u00e9quence d'octets en une chaine de caract\u00e8re de la charmap pass\u00e9e en argument. Questions : Tester l'encodage de la chaine 'A' d'abord en ASCII , puis en ISO8859-1 , puis en ISO8859-5 et enfin en CP437 . Que constate-t-on ? Faire de m\u00eame avec la chaine '\u00e9' . Que constate-t-on ? A quels caract\u00e8res correspond l'octet dont le code Python est b'\\xe7' selon l'encodage utilis\u00e9 : en Latin-1 ? en CP437 ? en ISO8859-5 ? Quel est le code Latin-1 correspondant \u00e0 la lettre '\u0153' ? Quel est le probl\u00e8me ? A venir !","title":"La norme ISO-8859"},{"location":"NSI/Premiere/C02/CodageCaractere/#lencodage-unicode-utf-8","text":"Naissance d'Unicode Internet naissant, les probl\u00e8mes li\u00e9s aux diff\u00e9rents encodages ont augment\u00e9s exponentiellement (et perdurent toujours aujourd'hui sur certains logiciels). La solution trouv\u00e9e est le standard unicode , n\u00e9 au d\u00e9but des ann\u00e9es 1990. L'objectif de cette norme est triple : R\u00e9tro-compatibilit\u00e9 avec ASCII , et en grande partie avec ISO8859-1 ; Gestion d'un plus grand nombre de caract\u00e8res ; Affichage de textes bi-directionnels. Un des formats d'encodage de l'unicode, et le plus utilis\u00e9, est l' UTF-8 pour \u00ab 8-Bit Universal Character Set Transformation Format \u00bb. L\u2019UTF-8 code les caract\u00e8res en utilisant jusqu'\u00e0 4 octets. Il attribue \u00e0 chaque caract\u00e8re unicode existant une s\u00e9quence de bits pr\u00e9cise. La force de cette norme est de ne pas forc\u00e9ment utiliser 4 octets . La table ASCII est d\u2019ailleurs cod\u00e9e sur 1 seul octet (8 bits), pour garantir la r\u00e9tro-compatibilit\u00e9. En utf-8 , chaque caract\u00e8re est repr\u00e9sent\u00e9 sous la forme d'un bloc U+xxxx (o\u00f9 xxxx est un hexad\u00e9cimal de 4 \u00e0 6 chiffres, entre U+0000 et U+10FFFF ). La plage ainsi d\u00e9finie permet d'attribuer jusqu'\u00e0 1 114 112 caract\u00e8res. \u00c0 l'heure actuelle, on recense environ 130 000 caract\u00e8res dans unicode. Pour savoir combien d\u2019octets on va utiliser les bits de poids fort du premier octet (celui de gauche) et pour savoir qu\u2019un octet est la suite du pr\u00e9c\u00e9dent on commence par 10 : Codes Qt\u00e9 Encodage en UTF-8 Caract\u00e8res dans cet intervalle jusqu\u2019\u00e0 U+007F \\(2^7-1 = 127\\) 0bbbbbbb latin de base (ASCII) jusqu\u2019\u00e0 U+07FF \\(2^{11}-1=2047\\) 110bbbbb 10bbbbbb alphabets d\u2019Europe et du Moyen-Orient jusqu\u2019\u00e0 U+FFFF \\(2^{16-1} = 65535\\) 1110bbbb 10bbbbbb 10bbbbbb La quasi-totalit\u00e9 des alphabets actuels jusqu\u2019\u00e0 U+10FFFF \\(2^{21}-1\\simeq 2\\times 10^6\\) 11110bbb 10bbbbbb 10bbbbbb 10bbbbbb tous les caract\u00e8res Cette norme permet donc d\u2019\u00eatre rapide pour les alphabets courants. Elle pr\u00e9sente le d\u00e9faut de ne pas pouvoir aller directement chercher le \\(10^e\\) caract\u00e8re d\u2019une phrase puisque le nombre d\u2019octets par lettre est variable. L\u2019 UTF-16 , lui, est cod\u00e9 sur 4 octets ou 2 octets en fonction du code du caract\u00e8re. La norme UTF-32 utilise, elle, 32 bits en permanence. Cela consomme bien plus de m\u00e9moire, mais permet de trouver tr\u00e8s rapidement le x-i\u00e8me caract\u00e8re d\u2019une, chaine de caract\u00e8res. L' UTF-8 est utilis\u00e9 par \\(82,2\\%\\) des sites web en d\u00e9cembre 2014, puis \\(87.6\\%\\) en 2016 et enfin \\(95,2\\%\\) en octobre 2020. Par sa nature, UTF-8 est d'un usage de plus en plus courant sur Internet, et dans les syst\u00e8mes devant \u00e9changer de l'information. Il s'agit \u00e9galement du codage le plus utilis\u00e9 dans les syst\u00e8mes GNU/Linux et compatibles pour g\u00e9rer le plus simplement possible des textes et leurs traductions dans tous les syst\u00e8mes d'\u00e9critures et tous les alphabets du monde. Concr\u00e8tement, UTF-8 est utilis\u00e9 par quasi tous les serveurs Web . Aujourd'hui, il n'y a plus de questions \u00e0 se poser : choisissez syst\u00e9matiquement l'encodage utf-8 pour vos travaux , et comme explicit is better than implicit , comme dit le zen de Python, expliquez clairement dans tous vos codes l'encodage utilis\u00e9 : en HTML : < meta charset = \"utf8\" > au d\u00e9but d'un script Python, avec le shebang : #-*- coding: utf-8 -*- Jouer avec les encodages \u00c9nonc\u00e9 R\u00e9ponses On consid\u00e8re la liste Python suivante : [233, 112, 97, 116, 97, 110, 116, 32, 33] . Quel est le message cach\u00e9 ? En HTML : Cr\u00e9ez une page vide en HTML avec la code suivant dans Notepad++, en v\u00e9rifiant que l'encodage est bien UTF-8 : <!DOCTYPE html> < html lang = \"fr\" > < head > < meta charset = \"utf-8\" > < title > Nombreux accents </ title > </ head > < body > </ body > </ html > Ins\u00e9rez la phrase suivante dans le corps du document : Portez ce vieux whisky au juge blond qui fume sur son \u00eele int\u00e9rieure, \u00e0 c\u00f4t\u00e9 de l'alc\u00f4ve ovo\u00efde, o\u00f9 les b\u00fbches se consument dans l'\u00e2tre, ce qui lui permet de penser \u00e0 la c\u00e6nog\u00e9n\u00e8se de l'\u00eatre dont il est question dans la cause ambigu\u00eb entendue \u00e0 Mo\u00ff, dans un capharna\u00fcm qui, pense-t-il, diminue \u00e7\u00e0 et l\u00e0 la qualit\u00e9 de son \u0153uvre. Ouvrez ensuite le fichier dans un navigateur. L'affichage est-il correct ? Remplacez maintenant la ligne <meta charset=\"utf-8\"> par la ligne <meta charset=\"iso-8859-1\"> . Actualisez la page. Que se passe-t-il ? Ouvrez maintenant le fichier HTML avec le logiciel HexEditorNeo . Que retrouve-t-on ? A venir !","title":"L'encodage unicode UTF-8"},{"location":"NSI/Premiere/C02/Entiers_relatifs_Flottants/","text":"Repr\u00e9sentation des entiers relatifs et des flottants Nous avons vu pr\u00e9c\u00e9demment comment \u00e9crire les nombres entiers naturels en binaire : \\((101)_{2} = 1 \\times 2^2 +0 \\times 2^1 + 1\\times 2^0 = 4 + 0 +1 = 5\\) \\((1111)_2 = 1 \\times 2^3 + 1 \\times 2^2+ 1 \\times 2^1+ 1 \\times 2^0 = 8 + 4 +2 +1 = 15\\) Nous avons vu aussi que les nombres entiers \u00e9taient cod\u00e9s au niveau machine sur un nombre d'octets bien d\u00e9fini : sur 1 octet, on code \\(2^8 = 256\\) nombres, soit les nombres de \\(0\\) \u00e0 \\(255\\) ; sur 2 octets, on code \\(2^{16} = 65~536\\) nombres, soit les nombres de \\(0\\) \u00e0 \\(65~535\\) (en C, c'est le type int ); sur 4 octets, on code \\(2^{32} \\simeq 4,3 \\times 10^9\\) nombres (en C, c'est-le type long ); sur 8 octets, on code \\(2^{64} \\simeq 1,8 \\times 10^{19}\\) nombres (en C, c'est-le type long long ). Enfin nous avons constat\u00e9 que les op\u00e9rations arithm\u00e9tiques basiques ( addition, soustraction, multiplication,...) \u00e9taient compatibles avec cette notation. Il nous faut maintenant nous int\u00e9resser aux autres possibilit\u00e9s de nombres : les nombres sign\u00e9s (relatifs) et les flottants. Les Entiers Relatifs (entiers sign\u00e9s) Une version na\u00efve Bit de signe Sur un octet, le bit de poids fort - c'est-\u00e0-dire le bit le plus \u00e0 gauche du nombre, repr\u00e9sente le signe ( \\(0\\) pour positif et \\(1\\) pour n\u00e9gatif) et les 7 autres repr\u00e9sentent la valeur absolue du nombre. Exercice Enonc\u00e9 Solution Quelle est la repr\u00e9sentation de \\(3\\) ? Quelle est la repr\u00e9sentation de \\(-4\\) ? Quel est le plus grand nombre repr\u00e9sentable sur un octet ? Quel est le plus petit nombre repr\u00e9sentable sur un octet ? Combien de nombre sont alors repr\u00e9sent\u00e9s ? Quel est le premier probl\u00e8me ? Effectuer l'addition binaire des nombres \\(3\\) et \\(-4\\) . Le r\u00e9sultat est-il logique ? A venir ! Compl\u00e9ment \u00e0 2 Compl\u00e9ment \u00e0 2 Pour rem\u00e9dier aux probl\u00e8mes soulev\u00e9s par la version na\u00efve, on utilisera la notation en compl\u00e9ment \u00e0 deux . Dans cette notation, sur un octet : Les nombres positifs sont repr\u00e9sent\u00e9s comme pour les nombres entiers naturels. Pour les nombres n\u00e9gatifs, par contre : On inverse les bits de l'\u00e9criture binaire de la valeur absolue, ce qu'on appelle le compl\u00e9ment \u00e0 1 . Cela correspond \u00e0 une op\u00e9ration logique NON sur chaque bit. On ajoute \\(1\\) au r\u00e9sultat, les d\u00e9passements ( overflow ) \u00e9tant ignor\u00e9s - ce qui signifie qu'on reste bien sur \\(8\\) bits. Exemple Le nombre \\(13\\) est repr\u00e9sent\u00e9 par \\((00001101)_2\\) . Pour le nombre \\(-4\\) , on cherche d'abord la repr\u00e9sentation de sa valeur absolue : \\((0000 0100)_2\\) . En suite on inverse chaque bit : \\((1111 1011)_2\\) puis on ajoute \\(1\\) au r\u00e9sultat : \\((1111 1100)_2\\) Exercice Enonc\u00e9 Solution Compl\u00e9ter le tableau suivant - un calcul par \u00e9l\u00e8ve : \\[ \\begin{array}{|c|p|p|p|p|} \\hline \\text{Nombre relatif} & \\text{V.A binaire sur 1 octet} &\\text{Compl\u00e9ment \u00e0 1} & \\text{Compl\u00e9ment \u00e0 2} & \\text{Entier Naturel}\\\\\\hline -12&&&&\\\\\\hline -8&&&&\\\\\\hline -50&&&&\\\\\\hline -64&&&&\\\\\\hline -128&&&&\\\\\\hline -32&&&&\\\\\\hline -127&&&&\\\\\\hline -45&&&&\\\\\\hline -18&&&&\\\\\\hline -81&&&&\\\\\\hline \\end{array} \\] Quel est le bit de poids fort sur chacun des nombres donn\u00e9s ? Quel relation existe-t-il entre les nombres relatifs et leur entier naturel correspondant ? Quel est le plus grand nombre repr\u00e9sentable sur un octet ? Quel est le plus petit nombre repr\u00e9sentable sur un octet ? Combien de nombre sont alors repr\u00e9sent\u00e9s ? Effectuer l'addition binaire de \\(-45\\) et \\(13\\) . Est-elle correcte ? A venir ! Compl\u00e9ment \u00e0 \\(2\\) Le nombre entier relatif \\(x\\) n\u00e9gatif poss\u00e8de le m\u00eame codage sur \\(n\\) bits que le nombre entier naturel \\(2^n-|x|\\) . Remarque Un algorithme simple pour trouver un compl\u00e9ment \u00e0 2 de t\u00eate est de garder tous les chiffres de la valeur absolue depuis la droite jusqu'au premier \\(1\\) , puis d'inverser tous les suivants. Par exemple : Le nombre \\(40\\) s'\u00e9crit \\((0010 1000)_2\\) On garde la partie \u00e0 droite \\((0010\\mathbf{1000})_2\\) On inverse la partie \u00e0 gauche apr\u00e8s le premier \\(1\\) \\((\\mathbf{1101}1000)_2\\) On a ainsi obtenu le codage du nombre \\(-40\\) sur 1 octet. Les Flottants Repr\u00e9sentation de la partie d\u00e9cimale d'un nombre en \u00e9criture binaire Repr\u00e9sentation de la partie d\u00e9cimale en base 10 En base 10, on a : \\[ \\begin{array}{rl} 23,145 &= 2 \\times 10^1 + 3 \\times 10^{0}+ \\dfrac{1}{10^1}+ \\dfrac{4}{10^2}+ \\dfrac{5}{10^3}\\\\ 23,145 &= 2 \\times 10^1 + 3 \\times 10^{0} + 1 \\times 10^{-1}+ 4 \\times 10^{-2}+ 5 \\times 10^{-3} \\end{array} \\] Partie \u00ab d\u00e9cimale \u00bb en \u00e9criture binaire De la m\u00eame mani\u00e8re qu'en \u00e9criture de base \\(10\\) , on aura : \\[ \\begin{array}{rl} (10,0101)_2 &= 1 \\times 2^1 + 0 \\times 2^0+ 0 \\times 2^{-1}+ 1 \\times 2^{-2}+ 0 \\times 2^{-3}+ 1 \\times 2^{-4}\\\\ &= 2 + 0 + \\dfrac{0}{2} + \\dfrac{1}{4}+ \\dfrac{0}{8}+ \\dfrac{1}{16}\\\\ &=2 + 0 +0 +0,25+0+0,0625\\\\ &= 2,3125 \\end{array} \\] Convertir de la base 10 \u00e0 la base 2 On cherche \u00e0 convertir en binaire le nombre \\(13,6875\\) . On commence par convertir la partie enti\u00e8re \\(13 = (1101)_2\\) . Il faut ensuite convertir la partie d\u00e9cimale \\(0,6875\\) . Pour y arriver on applique l'algorithme suivant : on multiplie \\(0,6875\\) par \\(2\\) : \\(0,6875 \\times 2 = 1,375\\) , et on note le r\u00e9sultat \\(\\mathbf{1} + 0,375\\) ; on multiplie \\(0,375\\) par \\(2\\) : \\(0,375 \\times 2 = 0,75\\) , et on note le r\u00e9sultat \\(\\mathbf{0} + 0,75\\) ; on multiplie \\(0,75\\) par \\(2\\) : \\(0,75 \\times 2 = 1,5\\) , et on note le r\u00e9sultat \\(\\mathbf{1} + 0,5\\) ; on multiplie \\(0,5\\) par \\(2\\) : \\(0,5 \\times 2 = 1\\) , et on note le r\u00e9sultat \\(\\mathbf{1}\\) , la partie d\u00e9cimale \u00e9tant nulle on arr\u00eate l'algorithme ; On r\u00e9cup\u00e8re les parties enti\u00e8res obtenues \u00e0 chaque \u00e9tape, soit \\(\\mathbf{1011}\\) , qui repr\u00e9sente la partie d\u00e9cimale de notre nombre. D'o\u00f9 : \\[ 13,6875 = (1101,1011)_2 \\] Exercice Enonc\u00e9 Solution Trouver la repr\u00e9sentation d\u00e9cimale de \\((100,0011)_2\\) . Trouver la repr\u00e9sentation binaire de \\((6,625)_{10}\\) . Trouver la repr\u00e9sentation binaire de \\((0,1)_{10}\\) . Que remarque-t-on ? A venir ! Remarque Tout comme le nombre \\(\\dfrac{1}{3}\\) ne poss\u00e8de pas d'\u00e9criture d\u00e9cimale finie, certains nombres ne poss\u00e8dent pas d'\u00e9critures binaires finies. \u00c9criture scientifique des nombres en \u00e9criture binaires \u00c9criture d\u00e9cimale scientifique Pour \u00e9crire de tr\u00e8s grands nombres, ou de tr\u00e8s petits, on utilise souvent une \u00e9criture scientifique, c'est-\u00e0-dire sous la forme \\(a \\times 10^n\\) , o\u00f9 \\(a \\in [1;10[\\) et \\(n\\in\\mathbb{Z}\\) . Ainsi : \\(4~571,23 = 4,57123 \\times 10^3\\) \\(0,003~45 = 3,45 \\times 10^{-3}\\) \u00c9criture scientifique en binaire Pour \u00e9crire un nombre binaire en \u00ab \u00e9criture scientifique \u00bb , on l'\u00e9crira sous la forme \\(a \\times 2^n\\) , o\u00f9 : \\(a\\) est un nombre binaire, avec partie \u00ab apr\u00e8s la virgule \u00bb et dont la partie enti\u00e8re est \\(1\\) ; \\(n\\) est un nombre entier relatif, \u00e9crit en binaire . Exemple Pour \u00e9crire le nombre \\(11010\\) en \u00ab \u00e9criture scientifique \u00bb, il faudra d\u00e9caler la virgule de \\(4\\) rangs sur la gauche, soit une puissance positive. Or \\(4 = (100)_2\\) . Donc \\(11010 = 1,1010\\times 2^{100}\\) . Pour \u00e9crire le nombre \\(0,001011\\) en \u00ab \u00e9criture scientifique \u00bb, il faudra d\u00e9caler la virgule de \\(3\\) rangs sur la droite, soit une puissance n\u00e9gative, or \\(3 = (11)_2\\) . Donc \\(0,001011 = 1,011\\times 2^{-11}\\) . Repr\u00e9sentation des flottants en machine Le contenu de cette partie est largement issu de Pixees.fr . Norme IEEE 754 La norme IEEE 754 est la norme la plus employ\u00e9e pour la repr\u00e9sentation des nombres \u00e0 virgule flottante dans le domaine informatique. La premi\u00e8re version de cette norme date de 1985. Nous allons \u00e9tudier deux formats associ\u00e9s \u00e0 cette norme : le format dit \u00ab simple pr\u00e9cision\u00bb et le format dit \u00ab double pr\u00e9cision\u00bb. Le format \u00ab simple pr\u00e9cision\u00bb utilise \\(32\\) bits pour \u00e9crire un nombre flottant alors que le format \u00ab double pr\u00e9cision\u00bb utilise \\(64\\) bits. Dans la suite nous travaillerons principalement sur le format \\(32\\) bits. Que cela soit en simple pr\u00e9cision ou en double pr\u00e9cision, la norme IEEE 754 utilise : 1 bit de signe (1 si le nombre est n\u00e9gatif et 0 si le nombre est positif); des bits consacr\u00e9s \u00e0 l' exposant (8 bits pour la simple pr\u00e9cision et 11 bits pour la double pr\u00e9cision); des bits consacr\u00e9s \u00e0 la mantisse (23 bits pour la simple pr\u00e9cision et 52 bits pour la double pr\u00e9cision). Nous pouvons v\u00e9rifier que l'on a bien \\(1 + 8 + 23 = 32\\) bits pour la simple pr\u00e9cision et \\(1 + 11 + 52 = 64\\) bits pour la double pr\u00e9cision. D\u00e9terminer la mantisse Pour \u00e9crire un nombre au format IEEE 754 , il est n\u00e9cessaire de commencer par \u00e9crire notre nombre sous \u00ab \u00e9criture scientifique \u00bb binaire, sous la forme \\(1,XXXXX.2^e\\) . Ainsi on sait d\u00e9j\u00e0 que le nombre \\(11010 = 1,1010\\times 2^{100}\\) . La partie \u00ab \\(XXXXX\\) \u00bb du nombre, c'est-\u00e0-dire \\(1010\\) , correspond \u00e0 la mantisse . Mais comme la mantisse doit contenir exactement \\(23\\) bits en simple pr\u00e9cision, il faut donc la compl\u00e9ter avec \\(23-4 = 19\\) z\u00e9ros \u00e0 droite pour obtenir \\(23\\) bits, soit : \\[ \\mathbf{1010}0000000000000000000 \\] Exposant des nombres flottants Notre premi\u00e8re intuition serait de dire que la partie exposant correspond simplement au \u00ab e \u00bb de \\(1,XXXXX.2^e\\) (dans notre exemple \\(1,1010\\times 2^{100}\\) , nous aurions \\(100\\) ). En fait, c'est un peu plus compliqu\u00e9... En effet, comment repr\u00e9senter les exposants n\u00e9gatifs, sachant que dans la norme IEEE 754 , aucun bit pour le signe de l'exposant n'a \u00e9t\u00e9 pr\u00e9vu. Il a donc \u00e9t\u00e9 n\u00e9cessaire de choisir une m\u00e9thode, et c'est celle du d\u00e9calage d'exposant qui a \u00e9t\u00e9 retenue : en simple pr\u00e9cision, on d\u00e9cale l'exposant de \\(127\\) ; en double pr\u00e9cision, on d\u00e9cale l'exposant de \\(1~023\\) . D\u00e9terminer l'exposant Pour le format simple pr\u00e9cision, \\(8\\) bits sont consacr\u00e9s \u00e0 l'exposant, il est donc possible de repr\u00e9senter \\(256\\) valeurs, nous allons pouvoir repr\u00e9senter des exposants compris entre \\((-126)_{10}\\) et \\((+127)_{10}\\) (les valeurs \\(-127\\) et \\(+128\\) sont des valeurs r\u00e9serv\u00e9es, nous n'aborderons pas ce sujet ici, mais vous trouverez des pr\u00e9cisions sur l'article IEEE 754 de wikipedia}). Pour avoir des valeurs uniquement positives, il va falloir proc\u00e9der \u00e0 un d\u00e9calage : ajouter syst\u00e9matiquement \\(127\\) \u00e0 la valeur de l'exposant. Dans notre exemple, on a \\(11010 = 1,1010\\times 2^{100}\\) . L'exposant est donc \\(4 =(100)_2\\) , et pour le repr\u00e9senter il faut donc le d\u00e9caler : \\(4 + 127 = 131\\) soit \\(131=(10000011)_2\\) . L'exposant poss\u00e8de 8 chiffres binaires, il n'est donc pas n\u00e9cessaire de rajouter de z\u00e9ros \u00e0 gauche .\\ Au format simple pr\u00e9cision, le nombre \\(11010\\) s'\u00e9crit donc : \\[ 0\\mathbf{10000011}10100000000000000000000 \\] Exemple Soit le nombre \u00ab \\(-10,125\\) \u00bb en base \\(10\\) . Repr\u00e9sentons-le au format simple pr\u00e9cision : nous avons \\((10)_{10} = (1010)_2\\) et \\((0,125)_{10} = (0,001)_2\\) soit \\((10,125)_{10} = (1010,001)_2\\) ; d\u00e9calons la virgule : \\(1010,001\\) = \\(1,010001.2^3\\) , soit avec le d\u00e9calage de l'exposant \\(1,010001.2^{130}\\) , en \u00e9crivant l'exposant en base 2, nous obtenons \\(1,010001.2^{10000010}\\) ; nous avons donc : notre bit de signe = \\(1\\) (nombre n\u00e9gatif), nos 8 bits d'exposant = \\(10000010\\) et nos 23 bits de mantisse = \\(01000100000000000000000\\) soit en \"collant\" tous les \"morceaux\" : \\[ 11000001001000100000000000000000 \\] Exercice \u00c9nonc\u00e9 Solution D\u00e9terminez la repr\u00e9sentation au format simple pr\u00e9cision de \\((0,25)_{10}\\) en binaire. D\u00e9terminez la repr\u00e9sentation au format simple pr\u00e9cision de \\((0,1)_{10}\\) en binaire. Soit le nombre flottant au format simple pr\u00e9cision : \\(00111101110011001100110011001100\\) . Trouvez la repr\u00e9sentation en base 10 de ce nombre. \u00c0 l'aide de Thonny, tapez dans la console : \\(0.1+0.2\\) . Faites de m\u00eame dans la console Javascript de Firefox. Que constate-t-on ? Pourquoi ? A venir !","title":"Entiers relatifs et flottants"},{"location":"NSI/Premiere/C02/Entiers_relatifs_Flottants/#representation-des-entiers-relatifs-et-des-flottants","text":"Nous avons vu pr\u00e9c\u00e9demment comment \u00e9crire les nombres entiers naturels en binaire : \\((101)_{2} = 1 \\times 2^2 +0 \\times 2^1 + 1\\times 2^0 = 4 + 0 +1 = 5\\) \\((1111)_2 = 1 \\times 2^3 + 1 \\times 2^2+ 1 \\times 2^1+ 1 \\times 2^0 = 8 + 4 +2 +1 = 15\\) Nous avons vu aussi que les nombres entiers \u00e9taient cod\u00e9s au niveau machine sur un nombre d'octets bien d\u00e9fini : sur 1 octet, on code \\(2^8 = 256\\) nombres, soit les nombres de \\(0\\) \u00e0 \\(255\\) ; sur 2 octets, on code \\(2^{16} = 65~536\\) nombres, soit les nombres de \\(0\\) \u00e0 \\(65~535\\) (en C, c'est le type int ); sur 4 octets, on code \\(2^{32} \\simeq 4,3 \\times 10^9\\) nombres (en C, c'est-le type long ); sur 8 octets, on code \\(2^{64} \\simeq 1,8 \\times 10^{19}\\) nombres (en C, c'est-le type long long ). Enfin nous avons constat\u00e9 que les op\u00e9rations arithm\u00e9tiques basiques ( addition, soustraction, multiplication,...) \u00e9taient compatibles avec cette notation. Il nous faut maintenant nous int\u00e9resser aux autres possibilit\u00e9s de nombres : les nombres sign\u00e9s (relatifs) et les flottants.","title":"Repr\u00e9sentation des entiers relatifs et des flottants"},{"location":"NSI/Premiere/C02/Entiers_relatifs_Flottants/#les-entiers-relatifs-entiers-signes","text":"","title":"Les Entiers Relatifs (entiers sign\u00e9s)"},{"location":"NSI/Premiere/C02/Entiers_relatifs_Flottants/#une-version-naive","text":"Bit de signe Sur un octet, le bit de poids fort - c'est-\u00e0-dire le bit le plus \u00e0 gauche du nombre, repr\u00e9sente le signe ( \\(0\\) pour positif et \\(1\\) pour n\u00e9gatif) et les 7 autres repr\u00e9sentent la valeur absolue du nombre. Exercice Enonc\u00e9 Solution Quelle est la repr\u00e9sentation de \\(3\\) ? Quelle est la repr\u00e9sentation de \\(-4\\) ? Quel est le plus grand nombre repr\u00e9sentable sur un octet ? Quel est le plus petit nombre repr\u00e9sentable sur un octet ? Combien de nombre sont alors repr\u00e9sent\u00e9s ? Quel est le premier probl\u00e8me ? Effectuer l'addition binaire des nombres \\(3\\) et \\(-4\\) . Le r\u00e9sultat est-il logique ? A venir !","title":"Une version na\u00efve"},{"location":"NSI/Premiere/C02/Entiers_relatifs_Flottants/#complement-a-2","text":"Compl\u00e9ment \u00e0 2 Pour rem\u00e9dier aux probl\u00e8mes soulev\u00e9s par la version na\u00efve, on utilisera la notation en compl\u00e9ment \u00e0 deux . Dans cette notation, sur un octet : Les nombres positifs sont repr\u00e9sent\u00e9s comme pour les nombres entiers naturels. Pour les nombres n\u00e9gatifs, par contre : On inverse les bits de l'\u00e9criture binaire de la valeur absolue, ce qu'on appelle le compl\u00e9ment \u00e0 1 . Cela correspond \u00e0 une op\u00e9ration logique NON sur chaque bit. On ajoute \\(1\\) au r\u00e9sultat, les d\u00e9passements ( overflow ) \u00e9tant ignor\u00e9s - ce qui signifie qu'on reste bien sur \\(8\\) bits. Exemple Le nombre \\(13\\) est repr\u00e9sent\u00e9 par \\((00001101)_2\\) . Pour le nombre \\(-4\\) , on cherche d'abord la repr\u00e9sentation de sa valeur absolue : \\((0000 0100)_2\\) . En suite on inverse chaque bit : \\((1111 1011)_2\\) puis on ajoute \\(1\\) au r\u00e9sultat : \\((1111 1100)_2\\) Exercice Enonc\u00e9 Solution Compl\u00e9ter le tableau suivant - un calcul par \u00e9l\u00e8ve : \\[ \\begin{array}{|c|p|p|p|p|} \\hline \\text{Nombre relatif} & \\text{V.A binaire sur 1 octet} &\\text{Compl\u00e9ment \u00e0 1} & \\text{Compl\u00e9ment \u00e0 2} & \\text{Entier Naturel}\\\\\\hline -12&&&&\\\\\\hline -8&&&&\\\\\\hline -50&&&&\\\\\\hline -64&&&&\\\\\\hline -128&&&&\\\\\\hline -32&&&&\\\\\\hline -127&&&&\\\\\\hline -45&&&&\\\\\\hline -18&&&&\\\\\\hline -81&&&&\\\\\\hline \\end{array} \\] Quel est le bit de poids fort sur chacun des nombres donn\u00e9s ? Quel relation existe-t-il entre les nombres relatifs et leur entier naturel correspondant ? Quel est le plus grand nombre repr\u00e9sentable sur un octet ? Quel est le plus petit nombre repr\u00e9sentable sur un octet ? Combien de nombre sont alors repr\u00e9sent\u00e9s ? Effectuer l'addition binaire de \\(-45\\) et \\(13\\) . Est-elle correcte ? A venir ! Compl\u00e9ment \u00e0 \\(2\\) Le nombre entier relatif \\(x\\) n\u00e9gatif poss\u00e8de le m\u00eame codage sur \\(n\\) bits que le nombre entier naturel \\(2^n-|x|\\) . Remarque Un algorithme simple pour trouver un compl\u00e9ment \u00e0 2 de t\u00eate est de garder tous les chiffres de la valeur absolue depuis la droite jusqu'au premier \\(1\\) , puis d'inverser tous les suivants. Par exemple : Le nombre \\(40\\) s'\u00e9crit \\((0010 1000)_2\\) On garde la partie \u00e0 droite \\((0010\\mathbf{1000})_2\\) On inverse la partie \u00e0 gauche apr\u00e8s le premier \\(1\\) \\((\\mathbf{1101}1000)_2\\) On a ainsi obtenu le codage du nombre \\(-40\\) sur 1 octet.","title":"Compl\u00e9ment \u00e0 2"},{"location":"NSI/Premiere/C02/Entiers_relatifs_Flottants/#les-flottants","text":"","title":"Les Flottants"},{"location":"NSI/Premiere/C02/Entiers_relatifs_Flottants/#representation-de-la-partie-decimale-dun-nombre-en-ecriture-binaire","text":"Repr\u00e9sentation de la partie d\u00e9cimale en base 10 En base 10, on a : \\[ \\begin{array}{rl} 23,145 &= 2 \\times 10^1 + 3 \\times 10^{0}+ \\dfrac{1}{10^1}+ \\dfrac{4}{10^2}+ \\dfrac{5}{10^3}\\\\ 23,145 &= 2 \\times 10^1 + 3 \\times 10^{0} + 1 \\times 10^{-1}+ 4 \\times 10^{-2}+ 5 \\times 10^{-3} \\end{array} \\] Partie \u00ab d\u00e9cimale \u00bb en \u00e9criture binaire De la m\u00eame mani\u00e8re qu'en \u00e9criture de base \\(10\\) , on aura : \\[ \\begin{array}{rl} (10,0101)_2 &= 1 \\times 2^1 + 0 \\times 2^0+ 0 \\times 2^{-1}+ 1 \\times 2^{-2}+ 0 \\times 2^{-3}+ 1 \\times 2^{-4}\\\\ &= 2 + 0 + \\dfrac{0}{2} + \\dfrac{1}{4}+ \\dfrac{0}{8}+ \\dfrac{1}{16}\\\\ &=2 + 0 +0 +0,25+0+0,0625\\\\ &= 2,3125 \\end{array} \\] Convertir de la base 10 \u00e0 la base 2 On cherche \u00e0 convertir en binaire le nombre \\(13,6875\\) . On commence par convertir la partie enti\u00e8re \\(13 = (1101)_2\\) . Il faut ensuite convertir la partie d\u00e9cimale \\(0,6875\\) . Pour y arriver on applique l'algorithme suivant : on multiplie \\(0,6875\\) par \\(2\\) : \\(0,6875 \\times 2 = 1,375\\) , et on note le r\u00e9sultat \\(\\mathbf{1} + 0,375\\) ; on multiplie \\(0,375\\) par \\(2\\) : \\(0,375 \\times 2 = 0,75\\) , et on note le r\u00e9sultat \\(\\mathbf{0} + 0,75\\) ; on multiplie \\(0,75\\) par \\(2\\) : \\(0,75 \\times 2 = 1,5\\) , et on note le r\u00e9sultat \\(\\mathbf{1} + 0,5\\) ; on multiplie \\(0,5\\) par \\(2\\) : \\(0,5 \\times 2 = 1\\) , et on note le r\u00e9sultat \\(\\mathbf{1}\\) , la partie d\u00e9cimale \u00e9tant nulle on arr\u00eate l'algorithme ; On r\u00e9cup\u00e8re les parties enti\u00e8res obtenues \u00e0 chaque \u00e9tape, soit \\(\\mathbf{1011}\\) , qui repr\u00e9sente la partie d\u00e9cimale de notre nombre. D'o\u00f9 : \\[ 13,6875 = (1101,1011)_2 \\] Exercice Enonc\u00e9 Solution Trouver la repr\u00e9sentation d\u00e9cimale de \\((100,0011)_2\\) . Trouver la repr\u00e9sentation binaire de \\((6,625)_{10}\\) . Trouver la repr\u00e9sentation binaire de \\((0,1)_{10}\\) . Que remarque-t-on ? A venir ! Remarque Tout comme le nombre \\(\\dfrac{1}{3}\\) ne poss\u00e8de pas d'\u00e9criture d\u00e9cimale finie, certains nombres ne poss\u00e8dent pas d'\u00e9critures binaires finies.","title":"Repr\u00e9sentation de la partie d\u00e9cimale d'un nombre en \u00e9criture binaire"},{"location":"NSI/Premiere/C02/Entiers_relatifs_Flottants/#ecriture-scientifique-des-nombres-en-ecriture-binaires","text":"\u00c9criture d\u00e9cimale scientifique Pour \u00e9crire de tr\u00e8s grands nombres, ou de tr\u00e8s petits, on utilise souvent une \u00e9criture scientifique, c'est-\u00e0-dire sous la forme \\(a \\times 10^n\\) , o\u00f9 \\(a \\in [1;10[\\) et \\(n\\in\\mathbb{Z}\\) . Ainsi : \\(4~571,23 = 4,57123 \\times 10^3\\) \\(0,003~45 = 3,45 \\times 10^{-3}\\) \u00c9criture scientifique en binaire Pour \u00e9crire un nombre binaire en \u00ab \u00e9criture scientifique \u00bb , on l'\u00e9crira sous la forme \\(a \\times 2^n\\) , o\u00f9 : \\(a\\) est un nombre binaire, avec partie \u00ab apr\u00e8s la virgule \u00bb et dont la partie enti\u00e8re est \\(1\\) ; \\(n\\) est un nombre entier relatif, \u00e9crit en binaire . Exemple Pour \u00e9crire le nombre \\(11010\\) en \u00ab \u00e9criture scientifique \u00bb, il faudra d\u00e9caler la virgule de \\(4\\) rangs sur la gauche, soit une puissance positive. Or \\(4 = (100)_2\\) . Donc \\(11010 = 1,1010\\times 2^{100}\\) . Pour \u00e9crire le nombre \\(0,001011\\) en \u00ab \u00e9criture scientifique \u00bb, il faudra d\u00e9caler la virgule de \\(3\\) rangs sur la droite, soit une puissance n\u00e9gative, or \\(3 = (11)_2\\) . Donc \\(0,001011 = 1,011\\times 2^{-11}\\) .","title":"\u00c9criture scientifique des nombres en \u00e9criture binaires"},{"location":"NSI/Premiere/C02/Entiers_relatifs_Flottants/#representation-des-flottants-en-machine","text":"Le contenu de cette partie est largement issu de Pixees.fr . Norme IEEE 754 La norme IEEE 754 est la norme la plus employ\u00e9e pour la repr\u00e9sentation des nombres \u00e0 virgule flottante dans le domaine informatique. La premi\u00e8re version de cette norme date de 1985. Nous allons \u00e9tudier deux formats associ\u00e9s \u00e0 cette norme : le format dit \u00ab simple pr\u00e9cision\u00bb et le format dit \u00ab double pr\u00e9cision\u00bb. Le format \u00ab simple pr\u00e9cision\u00bb utilise \\(32\\) bits pour \u00e9crire un nombre flottant alors que le format \u00ab double pr\u00e9cision\u00bb utilise \\(64\\) bits. Dans la suite nous travaillerons principalement sur le format \\(32\\) bits. Que cela soit en simple pr\u00e9cision ou en double pr\u00e9cision, la norme IEEE 754 utilise : 1 bit de signe (1 si le nombre est n\u00e9gatif et 0 si le nombre est positif); des bits consacr\u00e9s \u00e0 l' exposant (8 bits pour la simple pr\u00e9cision et 11 bits pour la double pr\u00e9cision); des bits consacr\u00e9s \u00e0 la mantisse (23 bits pour la simple pr\u00e9cision et 52 bits pour la double pr\u00e9cision). Nous pouvons v\u00e9rifier que l'on a bien \\(1 + 8 + 23 = 32\\) bits pour la simple pr\u00e9cision et \\(1 + 11 + 52 = 64\\) bits pour la double pr\u00e9cision. D\u00e9terminer la mantisse Pour \u00e9crire un nombre au format IEEE 754 , il est n\u00e9cessaire de commencer par \u00e9crire notre nombre sous \u00ab \u00e9criture scientifique \u00bb binaire, sous la forme \\(1,XXXXX.2^e\\) . Ainsi on sait d\u00e9j\u00e0 que le nombre \\(11010 = 1,1010\\times 2^{100}\\) . La partie \u00ab \\(XXXXX\\) \u00bb du nombre, c'est-\u00e0-dire \\(1010\\) , correspond \u00e0 la mantisse . Mais comme la mantisse doit contenir exactement \\(23\\) bits en simple pr\u00e9cision, il faut donc la compl\u00e9ter avec \\(23-4 = 19\\) z\u00e9ros \u00e0 droite pour obtenir \\(23\\) bits, soit : \\[ \\mathbf{1010}0000000000000000000 \\] Exposant des nombres flottants Notre premi\u00e8re intuition serait de dire que la partie exposant correspond simplement au \u00ab e \u00bb de \\(1,XXXXX.2^e\\) (dans notre exemple \\(1,1010\\times 2^{100}\\) , nous aurions \\(100\\) ). En fait, c'est un peu plus compliqu\u00e9... En effet, comment repr\u00e9senter les exposants n\u00e9gatifs, sachant que dans la norme IEEE 754 , aucun bit pour le signe de l'exposant n'a \u00e9t\u00e9 pr\u00e9vu. Il a donc \u00e9t\u00e9 n\u00e9cessaire de choisir une m\u00e9thode, et c'est celle du d\u00e9calage d'exposant qui a \u00e9t\u00e9 retenue : en simple pr\u00e9cision, on d\u00e9cale l'exposant de \\(127\\) ; en double pr\u00e9cision, on d\u00e9cale l'exposant de \\(1~023\\) . D\u00e9terminer l'exposant Pour le format simple pr\u00e9cision, \\(8\\) bits sont consacr\u00e9s \u00e0 l'exposant, il est donc possible de repr\u00e9senter \\(256\\) valeurs, nous allons pouvoir repr\u00e9senter des exposants compris entre \\((-126)_{10}\\) et \\((+127)_{10}\\) (les valeurs \\(-127\\) et \\(+128\\) sont des valeurs r\u00e9serv\u00e9es, nous n'aborderons pas ce sujet ici, mais vous trouverez des pr\u00e9cisions sur l'article IEEE 754 de wikipedia}). Pour avoir des valeurs uniquement positives, il va falloir proc\u00e9der \u00e0 un d\u00e9calage : ajouter syst\u00e9matiquement \\(127\\) \u00e0 la valeur de l'exposant. Dans notre exemple, on a \\(11010 = 1,1010\\times 2^{100}\\) . L'exposant est donc \\(4 =(100)_2\\) , et pour le repr\u00e9senter il faut donc le d\u00e9caler : \\(4 + 127 = 131\\) soit \\(131=(10000011)_2\\) . L'exposant poss\u00e8de 8 chiffres binaires, il n'est donc pas n\u00e9cessaire de rajouter de z\u00e9ros \u00e0 gauche .\\ Au format simple pr\u00e9cision, le nombre \\(11010\\) s'\u00e9crit donc : \\[ 0\\mathbf{10000011}10100000000000000000000 \\] Exemple Soit le nombre \u00ab \\(-10,125\\) \u00bb en base \\(10\\) . Repr\u00e9sentons-le au format simple pr\u00e9cision : nous avons \\((10)_{10} = (1010)_2\\) et \\((0,125)_{10} = (0,001)_2\\) soit \\((10,125)_{10} = (1010,001)_2\\) ; d\u00e9calons la virgule : \\(1010,001\\) = \\(1,010001.2^3\\) , soit avec le d\u00e9calage de l'exposant \\(1,010001.2^{130}\\) , en \u00e9crivant l'exposant en base 2, nous obtenons \\(1,010001.2^{10000010}\\) ; nous avons donc : notre bit de signe = \\(1\\) (nombre n\u00e9gatif), nos 8 bits d'exposant = \\(10000010\\) et nos 23 bits de mantisse = \\(01000100000000000000000\\) soit en \"collant\" tous les \"morceaux\" : \\[ 11000001001000100000000000000000 \\] Exercice \u00c9nonc\u00e9 Solution D\u00e9terminez la repr\u00e9sentation au format simple pr\u00e9cision de \\((0,25)_{10}\\) en binaire. D\u00e9terminez la repr\u00e9sentation au format simple pr\u00e9cision de \\((0,1)_{10}\\) en binaire. Soit le nombre flottant au format simple pr\u00e9cision : \\(00111101110011001100110011001100\\) . Trouvez la repr\u00e9sentation en base 10 de ce nombre. \u00c0 l'aide de Thonny, tapez dans la console : \\(0.1+0.2\\) . Faites de m\u00eame dans la console Javascript de Firefox. Que constate-t-on ? Pourquoi ? A venir !","title":"Repr\u00e9sentation des flottants en machine"},{"location":"NSI/Premiere/C03/CSS/","text":"Mettre en forme : le CSS S\u00e9parer le fond et la forme : un exemple avec un traitement de texte Activit\u00e9 avec un traitement de texte T\u00e9l\u00e9chargez puis ouvrez le fichier Styles_et_mod\u00e8les.odt avec Libre Office . Allez \u00e0 la page 7 du document. Ouvrez la fen\u00eatre de style en appuyant sur F11 . cherchez le menu Titre 1 , puis cliquez-droit et Modifier . Passez la couleur de la police en rouge, puis activez un surlignage simple en jaune. Validez puis observez le document. Quelles parties ont \u00e9t\u00e9 chang\u00e9es ? Y-a-t-il eu des changements sur d'autres pages ? Qu'ont en commun toutes les zones chang\u00e9es ? Dans la fen\u00eatre de style, modifiez Liste -> Puce 1 en ajoutant une lettrine, et en ajoutant au fond un d\u00e9grad\u00e9 de type Radial . Observez les modifications du document. Allez \u00e0 la page 11, s\u00e9lectionnez les \u00e9l\u00e9ments de la liste \u00e0 puce, et changez le style de celle-ci, qui est actuellement en Liste Puce 1 , en Liste Puce 2 . Le texte at-il \u00e9t\u00e9 chang\u00e9 ? S\u00e9parer le fond de la forme Un m\u00eame document num\u00e9rique peut \u00eatre lu de diff\u00e9rentes mani\u00e8res : sur un \u00e9cran couleur ; par un logiciel de synth\u00e8se vocale ; sur un \u00e9cran monochrome ( ou dans la console) ; sur un \u00e9cran de smartphone ; par une impression sur un papier A4, ou A3, ou autres formats ; ... Pour \u00e9viter de cr\u00e9er un document diff\u00e9rent pour chacun de ces supports, l'id\u00e9e est apparue \u00e0 la fin des ann\u00e9es 1960 de cr\u00e9er une s\u00e9paration compl\u00e8te entre la structure logique d'un document (titres, chapitres, paragraphes, illustrations...), et sa mise en page, qui d\u00e9pend du support de pr\u00e9sentation, et qui est d\u00e9finie en dehors du document lui-m\u00eame dans une ou plusieurs feuilles de style , regroupant police, style, taille et couleur des caract\u00e8res, alignement et espacement des paragraphes... Cascading Style Sheets D\u00e9finition CSS CSS est l'acronyme de Cascading Style Sheets , soit Feuilles de Styles en cascades en fran\u00e7ais. Un fichier CSS est appel\u00e9 par une ou plusieurs pages HTML (entre autre), et associe \u00e0 certaines balises et/ou attributs html certaines caract\u00e9ristiques graphiques, \u00e0 l'aide d'un s\u00e9lecteur de balises. Pour utiliser une feuille de style nomm\u00e9e toto.css dans une page html , il faut inclure entre les balises <head> et </head> la ligne suivante : < link href = \"toto.css\" rel = \"stylesheet\" type = \"text/css\" /> Exemple Dans l'exemple ci-dessous, le fichier style.css est utilis\u00e9 par les diff\u00e9rentes pages html : D\u00e9claration d'une r\u00e8gle CSS : vocabulaire associ\u00e9 et premiers exemples Vocabulaire Au sein d'un fichier CSS, on d\u00e9clare des r\u00e8gles , qui vont permettre la mise en forme d'\u00e9l\u00e9ments bien pr\u00e9cis. Par exemple : le s\u00e9l\u00e9cteur p signale que les d\u00e9clarations suivantes s'appliquent \u00e0 toutes les balises <p> et </p> . Toutes les d\u00e9clarations doivent \u00eatre \u00e0 l'int\u00e9rieur d'une paire d'accolades ( Ctrl + Alt + ` ou AltGr + ` donne { et Ctrl + Alt + = ou AltGr + = donne } ). la propri\u00e9t\u00e9 color indique que la r\u00e8gle concerne la couleur de police ; la valeur associ\u00e9e red indique que la couleur de police sera rouge ; la d\u00e9claration est termin\u00e9e par un point-virgule (c'est important !), et propri\u00e9t\u00e9 et valeur sont s\u00e9par\u00e9es par un symbole deux-points. Il est possible et m\u00eame souhaitable d'effectuer plusieurs d\u00e9clarations au sein de la m\u00eame r\u00e8gle. Par exemple, la d\u00e9claration suivante est parfaitement valable : h1 { color : magenta ; background-color : lightblue ; font-style : italic ; font-size : 3 em ; font-variant : small-caps ; } Il existe des dizaines de propri\u00e9t\u00e9s et des centaines de d\u00e9clarations possibles . Pour les trouver je vous conseille fortement le site MDN webdocs et surtourt (mais en anglais) W3Schools . Vous pouvez essayer de modifier le CSS dans le bac-\u00e0-sable suivant sur capytale . L'inspecteur d'objet Il est possible dans Firefox , comme dans de nombreux navigateurs actuels, d'afficher les informations d'une page web, y compris bien s\u00fbr les styles CSS attach\u00e9s \u00e0 cette page. Dans Firefox , vous obtiendrez cet inspecteur de style par l'interm\u00e9diaire des touches Ctrl + Shift + I , ou bien par Menu > Outils suppl\u00e9mentaires > Outils de d\u00e9veloppement web . L'int\u00e9r\u00eat de l'inspecteur est de pouvoir modifier \u00e0 sa guise les attributs et valeurs CSS d'une page web et d'en voir imm\u00e9diatement les effets. Les modifications sont bien entendues locales (elles ne sont valables que sur la copie de la page web dans votre navigateur, vous ne modifiez pas vraiment la page web r\u00e9elle... Et heureusement !!!) Exercice : Modifier une page web existante Rendez-vous sur la page https://www.zonensi.fr/SNT/Web/CSS/ . Ouvrez l'inspecteur d'objets . Cliquez sur la petite fl\u00e8che situ\u00e9e \u00e0 droite de la barre de menu de l'inspecteur, puis s\u00e9lectionnez ensuite le titre de la page Mettre en forme : le CSS . Vous devez voir appar\u00e2itre toutes les d\u00e9clarations dont d\u00e9pend le titre de la page. Ajoutez au s\u00e9lecteur .md-typeset h1 la d\u00e9claration background-color : pink . Enjoy Les s\u00e9lecteurs en CSS Le DOM, ou comment \u00e7a marche en vrai ! le DOM Le DOM , ou Document Object Model est une interface de programmation pour des documents HTML ou XML qui repr\u00e9sente le document (la page web actuelle) sous une forme qui permet aux langages de script comme le JavaScript d'y acc\u00e9der et d'en manipuler le contenu et les styles. Le DOM est ainsi une repr\u00e9sentation structur\u00e9e du document sous forme \u00ab d'arbre \u00bb cr\u00e9e automatiquement par le navigateur Pratiquement,le DOM est cr\u00e9\u00e9 \u00e0 partir du code HTML 1 , et chaque style CSS est attach\u00e9 \u00e0 un noeud du DOM : Pour atteindre en CSS un noeud du DOM, ou pour interagir avec lui, il faut utiliser le bon s\u00e9lecteur . Il est possible de cibler de mani\u00e8re tr\u00e8s pr\u00e9cise des \u00e9l\u00e9ments d'une page web par l'interm\u00e9diaire de ces s\u00e9lecteurs. La syntaxe permettant d'effectuer ce ciblage est tr\u00e8s pr\u00e9cise, mais particuli\u00e8rement efficace quand elle est bien utilis\u00e9e. L'objectif du cours n'est pas d'apprendre tous les s\u00e9lecteurs, mais d'en discerner les plus utiles. S\u00e9lecteur de type : Cible toutes les balises d'un certain nom. Par exemple : body { background-color : black ; } p { color : green ; } S\u00e9lecteur de classe : Il est possible de regrouper des balises, m\u00eame diff\u00e9rentes, en leur donnant un attribut class . Toutes les balises poss\u00e9dant le m\u00eame attribut class peuvent \u00eatre alors cibl\u00e9es en ajoutant un point . pr\u00e9c\u00e9dant le nom de la classe. Par exemples : cibler toutes les balises poss\u00e9dant l'attribut class=\"definition\" . definition { color : red ; border-width : 2 px ; border-style : dashed ; } cible les titres de rang h2 et poss\u00e9dant l'attribut class=\"chapitre\" (les autres balises poss\u00e9dant uniquement l'un des deux attributs ne sont pas cibl\u00e9es) h2 . chapitre { text-decoration : underline ; } S\u00e9lecteur d'identifiant : Il est aussi possible de sp\u00e9cifier une balise sp\u00e9cifique en lui attribuant un identifiant unique par l'interm\u00e9diaire de l'attribut id . Par exemple, pour cibler la balise poss\u00e9dant l'attribut id=\"titresite\" , on utilise le symbole # : # titresite { text-align : center ; } S\u00e9lecteur d'enfants : Cible toutes les balises descendantes directes d'un autre \u00e9l\u00e9ment. Par exemple : body > p { background-color : red ; } Ici on s\u00e9lectionne les balises p qui sont directement h\u00e9rit\u00e9es de body (c'est-\u00e0-dire directement encadr\u00e9es par les balises <body> et </body> ). S\u00e9lecteur de descendants : Cible toutes les balises qui descendent d'un autre \u00e9l\u00e9ment Par exemple : body p { background-color : red ; } Ici on s\u00e9lectionne toutes les balises p qui sont \u00e0 l'int\u00e9rieur de <body>...</body> . S\u00e9lecteurs de pseudo-classes Lors de la construction de l'arbre du DOM, certaines pseudo-classes sont ajout\u00e9es automatiquement \u00e0 certains noeuds. Il est possible d'int\u00e9ragir avec ces pseudo-classes : :first-child : Cible un \u00e9l\u00e9ment quand il est le premier enfant d'un autre \u00e9l\u00e9ment. li : first-child { background-color : yellow ; } Existe aussi en version :last-child , :nth-child , je vous laisse rechercher les possibilit\u00e9s en ligne. :hover : Cible un \u00e9l\u00e9ment quand il poss\u00e8de la souris le survole. h1 : hover { font-size : 5 em ; } :link : Cible un lien qui n'a pas \u00e9t\u00e9 visit\u00e9. a : link { text-color : red ; } :visited : Cible un lien qui a \u00e9t\u00e9 visit\u00e9. a : link { text-color : orange ; } Il existe bien d'autres pseudo-classes. Comme toujours Mozilla a fait un travail remarquable de documentation . Ordre d'application des s\u00e9lecteurs Priorit\u00e9 des s\u00e9lecteurs Il existe une priorit\u00e9 des s\u00e9lecteurs, tout comme existe une priorit\u00e9 des op\u00e9rations arithm\u00e9tiques. Il s'agit d'une norme, donc par nature elle est \u00e0 conna\u00eetre pour \u00e9viter les comportement erratiques du CSS : La mise en forme d\u00e9finie pour le s\u00e9lecteur le plus pr\u00e9cis l'emporte ( id est plus pr\u00e9cis que class qui est plus pr\u00e9cis que le nom de la balise). Le dernier d\u00e9fini est appliqu\u00e9 lorsque le niveau de priorit\u00e9 est \u00e9gal. Les bo\u00eetes CSS... Cette partie est quasiment copi\u00e9-coll\u00e9e depuis MDN Mozilla . Une bo\u00eete... Vous verrez rapidement qu'avec les CSS, tout tourne autour de bo\u00eetes : d\u00e9finir leurs tailles, leurs couleurs, leurs positions, etc. Les \u00e9l\u00e9ments HTML d'une page peuvent, pour la plupart, \u00eatre vus comme des bo\u00eetes plac\u00e9es les unes sur les autres. Chacun de ces blocs prend un certain espace sur la page, de cette fa\u00e7on : padding : l'espace autour, proche du contenu (par exemple, l'espace autour du texte d'un paragraphe) (en fran\u00e7ais, on pourrait traduire cela par du \u00ab remplissage \u00bb mais le terme padding \u00e9tant commun\u00e9ment utilis\u00e9 lorsqu'on parle de CSS, on continuera \u00e0 utiliser ce terme) border : la ligne qui est juste autour du padding (en fran\u00e7ais cela correspond \u00e0 la bordure). margin : l'espace ext\u00e9rieur, autour de l'\u00e9l\u00e9ment (en fran\u00e7ais cela correspond \u00e0 la marge). Des boites ! Chaque \u00e9l\u00e9ment poss\u00e8de par d\u00e9faut un type de placement : \u00e9l\u00e9ment block : un \u00e9l\u00e9ment block occupe par d\u00e9faut toute la largeur de l'\u00e9cran. Quand des \u00e9l\u00e9ments block s'enchainent, ils sont les uns au dessus des autres. Par d\u00e9faut les \u00e9l\u00e9ments <h1>,<h2>,...,<h6> , <p> et surtout <div> (balise g\u00e9n\u00e9rique de type block ) sont des \u00e9l\u00e9ments de type block . \u00e9l\u00e9ment inline : un \u00e9l\u00e9ment inline s'ins\u00e8re dans la ligne de texte, sans g\u00e9n\u00e9rer de saut de ligne avant ou apr\u00e8s.Par d\u00e9faut les \u00e9l\u00e9ments <a>,<img>,<strong>,... sont des \u00e9l\u00e9ments de type inline . Il existe bien des subtilit\u00e9s concernant les \u00e9l\u00e9ments inline et block , qui d\u00e9passent largement le cadre de ce cours. Ce document permettra peut-\u00eatre de r\u00e9pondre \u00e0 certaines questions que vous poyurriez vous poser. Modifier le type d'un \u00e9l\u00e9ment : display Il est possible de sp\u00e9cifier explicitement pour un \u00e9l\u00e9ment son type d'apparition dans le flux de donn\u00e9es d'une page html. Pour cela on utilise la propri\u00e9t\u00e9 display et ses diff\u00e9rentes valeurs : none : retire l'\u00e9l\u00e9ment des \u00e9l\u00e9ments disponibles. Cet \u00e9l\u00e9ment ainsi que ses descendants ne sont plus accessibles. block : rend l'\u00e9l\u00e9ment de type block ; inline : rend l'\u00e9l\u00e9ment de type inline ; grid : ins\u00e8re l'\u00e9l\u00e9ment comme \u00e9l\u00e9ment d'une grille(ou tableau) ; flex : ins\u00e8re l'\u00e9l\u00e9ment comme \u00e9l\u00e9ment de dimension flexible - outil \u00e0 privil\u00e9gier pour rendre la page ou le site visible sur diff\u00e9rents appareils. La documentation en ligne est tr\u00e8s bien faite. Les dimensions et unit\u00e9s de mesures les plus utiles En CSS, il est souvent imp\u00e9ratif de donner des longueurs, ou des bases de dimensions pour les \u00e9l\u00e9ments. Les unit\u00e9s sont nombreuses, souvent myst\u00e9rieuses ou absconses pour nous europ\u00e9ens. En voici quelques types : valeur en pourcentage : font-size : 120\\%; d\u00e9finit une taille de police valant 120% de la valeur de l'\u00e9l\u00e9ment parent. Il ne faut pas d'espace entre le nombre et le symbole %. hauteur em : cadratin, ou hauteur de la fonte dans une police donn\u00e9e \u00e9gal \u00e0 la largeur du caract\u00e8re M . font-size : 1.5em; \u00e9crira le texte 50% plus gros que la taille de base utilis\u00e9e, qui est par d\u00e9finition de 1em . valeur en pixels : il est toujours possible de calculer une taille en pixels, mais l'application exacte d\u00e9pend du navigateur utilis\u00e9. Par exemple width : 50px; mettra la largeur de l'\u00e9l\u00e9ment \u00e0 500 pixels. A proscrire sauf cas particuliers. valeur en unit\u00e9 relative \u00e0 la largeur de la fen\u00eatre : margin-left : 50vw; permettra de cr\u00e9er une marge \u00e0 gauche de la boite valant 50% de la largeur de la fen\u00eatre. valeur en unit\u00e9 relative \u00e0 la largeur de la fen\u00eatre : margin-left : 50vh; permettra de cr\u00e9er une marge en haut de la boite valant 50\\% de la hauteur de la fen\u00eatre. Adaptation aux diff\u00e9rents \u00e9crans/m\u00e9dias de sortie Jusqu'aux ann\u00e9es 2010, les sites web \u00e9taient souvent con\u00e7us pour n'\u00eatre lus que sur des \u00e9crans d'ordinateurs. Depuis, les smartphones sont arriv\u00e9s, avec leurs nombreuses tailles d'\u00e9crans diff\u00e9rentes, et leur capacit\u00e9 \u00e0 basculer du format portrait au format paysage. Afin d'afficher correctement un site web, il faut donc pr\u00e9voir \u00e0 l'avance, dans le fichier css , diff\u00e9rentes version du site. Pour cela on utilise des media-queries - soit requ\u00eates de media . Il s'agit d'un type particulier de commande qui \u00e9value certaines caract\u00e9ristiques du m\u00e9dia utilis\u00e9 pour lire le site. Il existe de nombreuses requ\u00eates, mais en pratique nous n'utiliserons que les deux requ\u00eates suivantes : max-width : applique les r\u00e8gles si la largeur de l'\u00e9cran est inf\u00e9rieure ou \u00e9gale \u00e0 la taille donn\u00e9e en pixel ; min-width : applique les r\u00e8gles si la largeur de l'\u00e9cran est sup\u00e9rieure ou \u00e9gale \u00e0 la taille donn\u00e9e en pixel ; Exemple L'exemple suivant provient du document Outils CSS pour le responsive design d'Alexandre Niveau, sur le site de l'Universit\u00e9 de Caen. /* version par d\u00e9faut: sur grand \u00e9cran */ . menu { width : 30 em ; /* etc. */ } /* \u00e9cran plus petit: on passe le menu en horizontal */ @ media ( max-width : 100em ) { . menu { width : 100 % ; } . menu li { display : inline-block ; } /* etc. */ } /* \u00e9cran encore plus petit: on cache le menu */ @ media ( max-width : 50em ) { . menu { display : none ; } } Le HTML n'a pas besoin d'\u00eatre int\u00e9gralement charg\u00e9 pour que le CSS lui soit ajout\u00e9. Il est tout \u00e0 fait possible de passer le HTML par morceaux depuis le serveur, et l'arbre du DOM se construit petit \u00e0 petit. Merci Armand pour cette remarque pertinente ! \u21a9","title":"CSS"},{"location":"NSI/Premiere/C03/CSS/#mettre-en-forme-le-css","text":"","title":"Mettre en forme : le CSS"},{"location":"NSI/Premiere/C03/CSS/#separer-le-fond-et-la-forme-un-exemple-avec-un-traitement-de-texte","text":"Activit\u00e9 avec un traitement de texte T\u00e9l\u00e9chargez puis ouvrez le fichier Styles_et_mod\u00e8les.odt avec Libre Office . Allez \u00e0 la page 7 du document. Ouvrez la fen\u00eatre de style en appuyant sur F11 . cherchez le menu Titre 1 , puis cliquez-droit et Modifier . Passez la couleur de la police en rouge, puis activez un surlignage simple en jaune. Validez puis observez le document. Quelles parties ont \u00e9t\u00e9 chang\u00e9es ? Y-a-t-il eu des changements sur d'autres pages ? Qu'ont en commun toutes les zones chang\u00e9es ? Dans la fen\u00eatre de style, modifiez Liste -> Puce 1 en ajoutant une lettrine, et en ajoutant au fond un d\u00e9grad\u00e9 de type Radial . Observez les modifications du document. Allez \u00e0 la page 11, s\u00e9lectionnez les \u00e9l\u00e9ments de la liste \u00e0 puce, et changez le style de celle-ci, qui est actuellement en Liste Puce 1 , en Liste Puce 2 . Le texte at-il \u00e9t\u00e9 chang\u00e9 ? S\u00e9parer le fond de la forme Un m\u00eame document num\u00e9rique peut \u00eatre lu de diff\u00e9rentes mani\u00e8res : sur un \u00e9cran couleur ; par un logiciel de synth\u00e8se vocale ; sur un \u00e9cran monochrome ( ou dans la console) ; sur un \u00e9cran de smartphone ; par une impression sur un papier A4, ou A3, ou autres formats ; ... Pour \u00e9viter de cr\u00e9er un document diff\u00e9rent pour chacun de ces supports, l'id\u00e9e est apparue \u00e0 la fin des ann\u00e9es 1960 de cr\u00e9er une s\u00e9paration compl\u00e8te entre la structure logique d'un document (titres, chapitres, paragraphes, illustrations...), et sa mise en page, qui d\u00e9pend du support de pr\u00e9sentation, et qui est d\u00e9finie en dehors du document lui-m\u00eame dans une ou plusieurs feuilles de style , regroupant police, style, taille et couleur des caract\u00e8res, alignement et espacement des paragraphes...","title":"S\u00e9parer le fond et la forme : un exemple avec un traitement de texte"},{"location":"NSI/Premiere/C03/CSS/#cascading-style-sheets","text":"","title":"Cascading Style Sheets"},{"location":"NSI/Premiere/C03/CSS/#definition","text":"CSS CSS est l'acronyme de Cascading Style Sheets , soit Feuilles de Styles en cascades en fran\u00e7ais. Un fichier CSS est appel\u00e9 par une ou plusieurs pages HTML (entre autre), et associe \u00e0 certaines balises et/ou attributs html certaines caract\u00e9ristiques graphiques, \u00e0 l'aide d'un s\u00e9lecteur de balises. Pour utiliser une feuille de style nomm\u00e9e toto.css dans une page html , il faut inclure entre les balises <head> et </head> la ligne suivante : < link href = \"toto.css\" rel = \"stylesheet\" type = \"text/css\" /> Exemple Dans l'exemple ci-dessous, le fichier style.css est utilis\u00e9 par les diff\u00e9rentes pages html :","title":"D\u00e9finition"},{"location":"NSI/Premiere/C03/CSS/#declaration-dune-regle-css-vocabulaire-associe-et-premiers-exemples","text":"Vocabulaire Au sein d'un fichier CSS, on d\u00e9clare des r\u00e8gles , qui vont permettre la mise en forme d'\u00e9l\u00e9ments bien pr\u00e9cis. Par exemple : le s\u00e9l\u00e9cteur p signale que les d\u00e9clarations suivantes s'appliquent \u00e0 toutes les balises <p> et </p> . Toutes les d\u00e9clarations doivent \u00eatre \u00e0 l'int\u00e9rieur d'une paire d'accolades ( Ctrl + Alt + ` ou AltGr + ` donne { et Ctrl + Alt + = ou AltGr + = donne } ). la propri\u00e9t\u00e9 color indique que la r\u00e8gle concerne la couleur de police ; la valeur associ\u00e9e red indique que la couleur de police sera rouge ; la d\u00e9claration est termin\u00e9e par un point-virgule (c'est important !), et propri\u00e9t\u00e9 et valeur sont s\u00e9par\u00e9es par un symbole deux-points. Il est possible et m\u00eame souhaitable d'effectuer plusieurs d\u00e9clarations au sein de la m\u00eame r\u00e8gle. Par exemple, la d\u00e9claration suivante est parfaitement valable : h1 { color : magenta ; background-color : lightblue ; font-style : italic ; font-size : 3 em ; font-variant : small-caps ; } Il existe des dizaines de propri\u00e9t\u00e9s et des centaines de d\u00e9clarations possibles . Pour les trouver je vous conseille fortement le site MDN webdocs et surtourt (mais en anglais) W3Schools . Vous pouvez essayer de modifier le CSS dans le bac-\u00e0-sable suivant sur capytale . L'inspecteur d'objet Il est possible dans Firefox , comme dans de nombreux navigateurs actuels, d'afficher les informations d'une page web, y compris bien s\u00fbr les styles CSS attach\u00e9s \u00e0 cette page. Dans Firefox , vous obtiendrez cet inspecteur de style par l'interm\u00e9diaire des touches Ctrl + Shift + I , ou bien par Menu > Outils suppl\u00e9mentaires > Outils de d\u00e9veloppement web . L'int\u00e9r\u00eat de l'inspecteur est de pouvoir modifier \u00e0 sa guise les attributs et valeurs CSS d'une page web et d'en voir imm\u00e9diatement les effets. Les modifications sont bien entendues locales (elles ne sont valables que sur la copie de la page web dans votre navigateur, vous ne modifiez pas vraiment la page web r\u00e9elle... Et heureusement !!!) Exercice : Modifier une page web existante Rendez-vous sur la page https://www.zonensi.fr/SNT/Web/CSS/ . Ouvrez l'inspecteur d'objets . Cliquez sur la petite fl\u00e8che situ\u00e9e \u00e0 droite de la barre de menu de l'inspecteur, puis s\u00e9lectionnez ensuite le titre de la page Mettre en forme : le CSS . Vous devez voir appar\u00e2itre toutes les d\u00e9clarations dont d\u00e9pend le titre de la page. Ajoutez au s\u00e9lecteur .md-typeset h1 la d\u00e9claration background-color : pink . Enjoy","title":"D\u00e9claration d'une r\u00e8gle CSS : vocabulaire associ\u00e9 et premiers exemples"},{"location":"NSI/Premiere/C03/CSS/#les-selecteurs-en-css","text":"","title":"Les s\u00e9lecteurs en CSS"},{"location":"NSI/Premiere/C03/CSS/#le-dom-ou-comment-ca-marche-en-vrai","text":"le DOM Le DOM , ou Document Object Model est une interface de programmation pour des documents HTML ou XML qui repr\u00e9sente le document (la page web actuelle) sous une forme qui permet aux langages de script comme le JavaScript d'y acc\u00e9der et d'en manipuler le contenu et les styles. Le DOM est ainsi une repr\u00e9sentation structur\u00e9e du document sous forme \u00ab d'arbre \u00bb cr\u00e9e automatiquement par le navigateur Pratiquement,le DOM est cr\u00e9\u00e9 \u00e0 partir du code HTML 1 , et chaque style CSS est attach\u00e9 \u00e0 un noeud du DOM : Pour atteindre en CSS un noeud du DOM, ou pour interagir avec lui, il faut utiliser le bon s\u00e9lecteur . Il est possible de cibler de mani\u00e8re tr\u00e8s pr\u00e9cise des \u00e9l\u00e9ments d'une page web par l'interm\u00e9diaire de ces s\u00e9lecteurs. La syntaxe permettant d'effectuer ce ciblage est tr\u00e8s pr\u00e9cise, mais particuli\u00e8rement efficace quand elle est bien utilis\u00e9e. L'objectif du cours n'est pas d'apprendre tous les s\u00e9lecteurs, mais d'en discerner les plus utiles.","title":"Le DOM, ou comment \u00e7a marche en vrai !"},{"location":"NSI/Premiere/C03/CSS/#selecteur-de-type","text":"Cible toutes les balises d'un certain nom. Par exemple : body { background-color : black ; } p { color : green ; }","title":"S\u00e9lecteur de type :"},{"location":"NSI/Premiere/C03/CSS/#selecteur-de-classe","text":"Il est possible de regrouper des balises, m\u00eame diff\u00e9rentes, en leur donnant un attribut class . Toutes les balises poss\u00e9dant le m\u00eame attribut class peuvent \u00eatre alors cibl\u00e9es en ajoutant un point . pr\u00e9c\u00e9dant le nom de la classe. Par exemples : cibler toutes les balises poss\u00e9dant l'attribut class=\"definition\" . definition { color : red ; border-width : 2 px ; border-style : dashed ; } cible les titres de rang h2 et poss\u00e9dant l'attribut class=\"chapitre\" (les autres balises poss\u00e9dant uniquement l'un des deux attributs ne sont pas cibl\u00e9es) h2 . chapitre { text-decoration : underline ; }","title":"S\u00e9lecteur de classe :"},{"location":"NSI/Premiere/C03/CSS/#selecteur-didentifiant","text":"Il est aussi possible de sp\u00e9cifier une balise sp\u00e9cifique en lui attribuant un identifiant unique par l'interm\u00e9diaire de l'attribut id . Par exemple, pour cibler la balise poss\u00e9dant l'attribut id=\"titresite\" , on utilise le symbole # : # titresite { text-align : center ; }","title":"S\u00e9lecteur d'identifiant :"},{"location":"NSI/Premiere/C03/CSS/#selecteur-denfants","text":"Cible toutes les balises descendantes directes d'un autre \u00e9l\u00e9ment. Par exemple : body > p { background-color : red ; } Ici on s\u00e9lectionne les balises p qui sont directement h\u00e9rit\u00e9es de body (c'est-\u00e0-dire directement encadr\u00e9es par les balises <body> et </body> ).","title":"S\u00e9lecteur d'enfants :"},{"location":"NSI/Premiere/C03/CSS/#selecteur-de-descendants","text":"Cible toutes les balises qui descendent d'un autre \u00e9l\u00e9ment Par exemple : body p { background-color : red ; } Ici on s\u00e9lectionne toutes les balises p qui sont \u00e0 l'int\u00e9rieur de <body>...</body> .","title":"S\u00e9lecteur de descendants :"},{"location":"NSI/Premiere/C03/CSS/#selecteurs-de-pseudo-classes","text":"Lors de la construction de l'arbre du DOM, certaines pseudo-classes sont ajout\u00e9es automatiquement \u00e0 certains noeuds. Il est possible d'int\u00e9ragir avec ces pseudo-classes : :first-child : Cible un \u00e9l\u00e9ment quand il est le premier enfant d'un autre \u00e9l\u00e9ment. li : first-child { background-color : yellow ; } Existe aussi en version :last-child , :nth-child , je vous laisse rechercher les possibilit\u00e9s en ligne. :hover : Cible un \u00e9l\u00e9ment quand il poss\u00e8de la souris le survole. h1 : hover { font-size : 5 em ; } :link : Cible un lien qui n'a pas \u00e9t\u00e9 visit\u00e9. a : link { text-color : red ; } :visited : Cible un lien qui a \u00e9t\u00e9 visit\u00e9. a : link { text-color : orange ; } Il existe bien d'autres pseudo-classes. Comme toujours Mozilla a fait un travail remarquable de documentation .","title":"S\u00e9lecteurs de pseudo-classes"},{"location":"NSI/Premiere/C03/CSS/#ordre-dapplication-des-selecteurs","text":"Priorit\u00e9 des s\u00e9lecteurs Il existe une priorit\u00e9 des s\u00e9lecteurs, tout comme existe une priorit\u00e9 des op\u00e9rations arithm\u00e9tiques. Il s'agit d'une norme, donc par nature elle est \u00e0 conna\u00eetre pour \u00e9viter les comportement erratiques du CSS : La mise en forme d\u00e9finie pour le s\u00e9lecteur le plus pr\u00e9cis l'emporte ( id est plus pr\u00e9cis que class qui est plus pr\u00e9cis que le nom de la balise). Le dernier d\u00e9fini est appliqu\u00e9 lorsque le niveau de priorit\u00e9 est \u00e9gal.","title":"Ordre d'application des s\u00e9lecteurs"},{"location":"NSI/Premiere/C03/CSS/#les-boites-css","text":"Cette partie est quasiment copi\u00e9-coll\u00e9e depuis MDN Mozilla .","title":"Les bo\u00eetes CSS..."},{"location":"NSI/Premiere/C03/CSS/#une-boite","text":"Vous verrez rapidement qu'avec les CSS, tout tourne autour de bo\u00eetes : d\u00e9finir leurs tailles, leurs couleurs, leurs positions, etc. Les \u00e9l\u00e9ments HTML d'une page peuvent, pour la plupart, \u00eatre vus comme des bo\u00eetes plac\u00e9es les unes sur les autres. Chacun de ces blocs prend un certain espace sur la page, de cette fa\u00e7on : padding : l'espace autour, proche du contenu (par exemple, l'espace autour du texte d'un paragraphe) (en fran\u00e7ais, on pourrait traduire cela par du \u00ab remplissage \u00bb mais le terme padding \u00e9tant commun\u00e9ment utilis\u00e9 lorsqu'on parle de CSS, on continuera \u00e0 utiliser ce terme) border : la ligne qui est juste autour du padding (en fran\u00e7ais cela correspond \u00e0 la bordure). margin : l'espace ext\u00e9rieur, autour de l'\u00e9l\u00e9ment (en fran\u00e7ais cela correspond \u00e0 la marge).","title":"Une bo\u00eete..."},{"location":"NSI/Premiere/C03/CSS/#des-boites","text":"Chaque \u00e9l\u00e9ment poss\u00e8de par d\u00e9faut un type de placement : \u00e9l\u00e9ment block : un \u00e9l\u00e9ment block occupe par d\u00e9faut toute la largeur de l'\u00e9cran. Quand des \u00e9l\u00e9ments block s'enchainent, ils sont les uns au dessus des autres. Par d\u00e9faut les \u00e9l\u00e9ments <h1>,<h2>,...,<h6> , <p> et surtout <div> (balise g\u00e9n\u00e9rique de type block ) sont des \u00e9l\u00e9ments de type block . \u00e9l\u00e9ment inline : un \u00e9l\u00e9ment inline s'ins\u00e8re dans la ligne de texte, sans g\u00e9n\u00e9rer de saut de ligne avant ou apr\u00e8s.Par d\u00e9faut les \u00e9l\u00e9ments <a>,<img>,<strong>,... sont des \u00e9l\u00e9ments de type inline . Il existe bien des subtilit\u00e9s concernant les \u00e9l\u00e9ments inline et block , qui d\u00e9passent largement le cadre de ce cours. Ce document permettra peut-\u00eatre de r\u00e9pondre \u00e0 certaines questions que vous poyurriez vous poser. Modifier le type d'un \u00e9l\u00e9ment : display Il est possible de sp\u00e9cifier explicitement pour un \u00e9l\u00e9ment son type d'apparition dans le flux de donn\u00e9es d'une page html. Pour cela on utilise la propri\u00e9t\u00e9 display et ses diff\u00e9rentes valeurs : none : retire l'\u00e9l\u00e9ment des \u00e9l\u00e9ments disponibles. Cet \u00e9l\u00e9ment ainsi que ses descendants ne sont plus accessibles. block : rend l'\u00e9l\u00e9ment de type block ; inline : rend l'\u00e9l\u00e9ment de type inline ; grid : ins\u00e8re l'\u00e9l\u00e9ment comme \u00e9l\u00e9ment d'une grille(ou tableau) ; flex : ins\u00e8re l'\u00e9l\u00e9ment comme \u00e9l\u00e9ment de dimension flexible - outil \u00e0 privil\u00e9gier pour rendre la page ou le site visible sur diff\u00e9rents appareils. La documentation en ligne est tr\u00e8s bien faite.","title":"Des boites !"},{"location":"NSI/Premiere/C03/CSS/#les-dimensions-et-unites-de-mesures-les-plus-utiles","text":"En CSS, il est souvent imp\u00e9ratif de donner des longueurs, ou des bases de dimensions pour les \u00e9l\u00e9ments. Les unit\u00e9s sont nombreuses, souvent myst\u00e9rieuses ou absconses pour nous europ\u00e9ens. En voici quelques types : valeur en pourcentage : font-size : 120\\%; d\u00e9finit une taille de police valant 120% de la valeur de l'\u00e9l\u00e9ment parent. Il ne faut pas d'espace entre le nombre et le symbole %. hauteur em : cadratin, ou hauteur de la fonte dans une police donn\u00e9e \u00e9gal \u00e0 la largeur du caract\u00e8re M . font-size : 1.5em; \u00e9crira le texte 50% plus gros que la taille de base utilis\u00e9e, qui est par d\u00e9finition de 1em . valeur en pixels : il est toujours possible de calculer une taille en pixels, mais l'application exacte d\u00e9pend du navigateur utilis\u00e9. Par exemple width : 50px; mettra la largeur de l'\u00e9l\u00e9ment \u00e0 500 pixels. A proscrire sauf cas particuliers. valeur en unit\u00e9 relative \u00e0 la largeur de la fen\u00eatre : margin-left : 50vw; permettra de cr\u00e9er une marge \u00e0 gauche de la boite valant 50% de la largeur de la fen\u00eatre. valeur en unit\u00e9 relative \u00e0 la largeur de la fen\u00eatre : margin-left : 50vh; permettra de cr\u00e9er une marge en haut de la boite valant 50\\% de la hauteur de la fen\u00eatre.","title":"Les dimensions et unit\u00e9s de mesures les plus utiles"},{"location":"NSI/Premiere/C03/CSS/#adaptation-aux-differents-ecransmedias-de-sortie","text":"Jusqu'aux ann\u00e9es 2010, les sites web \u00e9taient souvent con\u00e7us pour n'\u00eatre lus que sur des \u00e9crans d'ordinateurs. Depuis, les smartphones sont arriv\u00e9s, avec leurs nombreuses tailles d'\u00e9crans diff\u00e9rentes, et leur capacit\u00e9 \u00e0 basculer du format portrait au format paysage. Afin d'afficher correctement un site web, il faut donc pr\u00e9voir \u00e0 l'avance, dans le fichier css , diff\u00e9rentes version du site. Pour cela on utilise des media-queries - soit requ\u00eates de media . Il s'agit d'un type particulier de commande qui \u00e9value certaines caract\u00e9ristiques du m\u00e9dia utilis\u00e9 pour lire le site. Il existe de nombreuses requ\u00eates, mais en pratique nous n'utiliserons que les deux requ\u00eates suivantes : max-width : applique les r\u00e8gles si la largeur de l'\u00e9cran est inf\u00e9rieure ou \u00e9gale \u00e0 la taille donn\u00e9e en pixel ; min-width : applique les r\u00e8gles si la largeur de l'\u00e9cran est sup\u00e9rieure ou \u00e9gale \u00e0 la taille donn\u00e9e en pixel ; Exemple L'exemple suivant provient du document Outils CSS pour le responsive design d'Alexandre Niveau, sur le site de l'Universit\u00e9 de Caen. /* version par d\u00e9faut: sur grand \u00e9cran */ . menu { width : 30 em ; /* etc. */ } /* \u00e9cran plus petit: on passe le menu en horizontal */ @ media ( max-width : 100em ) { . menu { width : 100 % ; } . menu li { display : inline-block ; } /* etc. */ } /* \u00e9cran encore plus petit: on cache le menu */ @ media ( max-width : 50em ) { . menu { display : none ; } } Le HTML n'a pas besoin d'\u00eatre int\u00e9gralement charg\u00e9 pour que le CSS lui soit ajout\u00e9. Il est tout \u00e0 fait possible de passer le HTML par morceaux depuis le serveur, et l'arbre du DOM se construit petit \u00e0 petit. Merci Armand pour cette remarque pertinente ! \u21a9","title":"Adaptation aux diff\u00e9rents \u00e9crans/m\u00e9dias de sortie"},{"location":"NSI/Premiere/C03/HTML/","text":"Mettre du fond : HTML Ce document est une version rapide du cours de SNT de seconde, \u00e0 destination des \u00e9l\u00e8ves n'ayant que peu travaill\u00e9 sur HTML/CSS. C'est quoi une page Web Commen\u00e7ons par placer du vocabulaire ainsi qu'un bref apper\u00e7u de l'histoire du web. Donner une d\u00e9finition de World Wide Web : Done Le World Wide Web ( WWW ou 3W ) est un syst\u00e8me hypertexte fonctionnant sur Internet . Il a \u00e9t\u00e9 invent\u00e9 par Tim Berners-Lee et Robert Cailleau au CERN de Gen\u00e8ve, en 1989. Donner une d\u00e9finition d' Internet : Done Internet est le r\u00e9seau mondial d'ordinateurs accessibles au public. Nous verrons un historique rapide de la cr\u00e9ation d'Internet dans la partie R\u00e9seau du programme. Donner une d\u00e9finition de syst\u00e8me hypertexte : Done Un hypertexte est un document ou un ensemble de documents contenant des unit\u00e9s d'information li\u00e9es entre elles par des hyperliens . Ce syst\u00e8me permet \u00e0 l'utilisateur d'aller directement \u00e0 l'unit\u00e9 qui l'int\u00e9resse, \u00e0 son gr\u00e9, d'une fa\u00e7on non lin\u00e9aire. Le terme a \u00e9t\u00e9 cr\u00e9\u00e9 en 1965 par Ted Nelson , sociologue am\u00e9ricain. Donner une d\u00e9finition de Uniform Ressource Locator ( URL ) : Done Une URL (sigle de l\u2019anglais : Uniform Resource Locator , litt\u00e9ralement \u00ab localisateur uniforme de ressource \u00bb ), couramment appel\u00e9e adresse web, est une cha\u00eene de caract\u00e8res uniforme qui permet d'identifier une ressource du World Wide Web par son emplacement et de pr\u00e9ciser le protocole internet pour la r\u00e9cup\u00e9rer (par exemple http ou https). 1 Que signifie http et https ? Done http signifie HyperText Transfer Protocol , soit litt\u00e9ralement * \u00ab Protocole de transfert Hypertexte \u00bb. C'est un protocole de communication client-serveur d\u00e9velopp\u00e9 pour le World Wide Web. Il existe aussi en version s\u00e9curis\u00e9e (protocole https ). Expliquez ce qu'est Standard Generalized Markup Language : Done Standard Generalized Markup Language (\u00ab langage de balisage g\u00e9n\u00e9ralis\u00e9 normalis\u00e9 &raquo - SGML ) est un langage de description \u00e0 balises, de norme ISO (ISO 8879:1986). Ce langage, publi\u00e9 en 1986 par Charles Goldfarb, mais dont les pr\u00e9misses remontent \u00e0 1969, est un langage qui a eu pour vocation de s'affranchir des capacit\u00e9s techniques sp\u00e9cifiques des imprimantes pour d\u00e9crire un document texte. Ce standard, vite adopt\u00e9 par la communaut\u00e9 internationale, repose sur la s\u00e9paration compl\u00e8te entre la structure logique d'un document (titres, chapitres, paragraphes, illustrations,...), qui est identifi\u00e9 par des balises ins\u00e9r\u00e9es dans le document lui-m\u00eame, de sa mise en page , qui d\u00e9pend du support de pr\u00e9sentation (livre, journal, pr\u00e9sentation, \u00e9cran, ...). HTML ( HyperText Markup Language ) est une application de SGML, cr\u00e9e par Tim Berners-Lee en 1989. Un langage de balise : HTML Une page web, dans sa partie logique, c'est un fichier contenant du texte , ce texte \u00e9tant enrichi par un syst\u00e8me de balises ouvrantes - par exemple <p> et fermantes - par exemple </p> , permettant de donner un sens particulier au texte encadr\u00e9 par ces balises ( titres, chapitres, paragraphes, illustrations... ). Le langage utilis\u00e9 qui contient le texte et les balises s'appelle HTML ( d'o\u00f9 le nom de l'extension de fichier .html ), qui est un acronyme pour Hyper Text Markup Language , soit langage de balisage hypertexte. Il est \u00e0 noter que HTML n'est pas un langage de programmation , mais simplement un langage de description du texte, privil\u00e9giant la mise en avant du sens avant la forme. Il existe de nombreux langages de balisages, permettant de donner une forme particuli\u00e8re \u00e0 du texte ou \u00e0 des chaines de caract\u00e8res. Par exemple, HTML pour le Web, \\(\\LaTeX\\) pour les documents scientifiques et les formules math\u00e9matiques, XML pour organiser des donn\u00e9es, ou m\u00eame Mardown , utilis\u00e9 dans les Notebooks et pour la conception de ce site. Un fichier html se pr\u00e9sente donc sous la forme suivante : <!DOCTYPE html> < html lang = \"fr\" > < head > < meta charset = \"utf-8\" /> < title > Une simple page web &#129409; </ title > </ head > < body > < h1 > Ma premi\u00e8re page web </ h1 > < h2 > Le code html </ h2 > <!-- ceci est un commentairen comme en Python, il n'est pas interpr\u00e9t\u00e9 par le navigateur, et n'est l\u00e0 que pour les codeurs ou les curieux --> < p > Pour faire une page web, il faut taper du code < strong > HTML </ strong > . < p > Afin de faire fonctionner celui-ci, il faut placer des < strong > balises </ strong > qui encadrent des portions du texte : < ul > < li > Une balise ouvrante, utilisant les symboles &lt; et &gt; , qui encadrent un mot cl\u00e9 ; </ li > < li > Une balise fermante, identique \u00e0 la balise ouvrante, mais un slash / pr\u00e9c\u00e8de le mot cl\u00e9 ; </ li > < li > \u00e9ventuellement des < strong > attributs </ strong > viennent compl\u00e9ter le mot cl\u00e9, afin de pr\u00e9ciser un peu plus la balise, par exemple en donnant un identifiant particulier, ou l'url d'un lien. </ li > </ ul > </ p > < h2 > Les diff\u00e9rentes balises </ h2 > < p > Il existe de nombreuses balises en HTML. On peut trouver des explications sur leur fonctionnement en suivant < a href = \"https://developer.mozilla.org/fr/docs/Apprendre/HTML/Balises_HTML\" > ce lien </ a ></ p > </ body > </ html > Notepad++ Pour l'\u00e9dition de fichier de type .html , il ne faut surtout pas utiliser un traitement de texte classique, comme Word ou LibreOffice. En effet ceux-ci rajoutent de mani\u00e8re cach\u00e9e des informations dans le fichier en \u00e9dition, ce qui risque de pr\u00e9senter de s\u00e9rieux probl\u00e8mes lors de l'affichage de la page web par un navigateur. Dans la suite de ce chapitre, nous utiliserons majoritairement le logiciel Notepad++ , qui est un \u00e9diteur de texte orient\u00e9 codage, reconnaissant la plupart des langages informatiques. Ce logiciel est libre, disponible sur les ordinateurs du Lyc\u00e9e, et peut-\u00eatre t\u00e9l\u00e9charg\u00e9 en suivant ce lien . Notez qu'il existe aussi en version portable, et que vous pouvez donc l'installer sur une cl\u00e9 USB. une premi\u00e8re page web Ouvrez le logiciel Notepad++ Cr\u00e9ez un fichier vide nomm\u00e9 pagesimple.html dans un dossier NSI/Web . Copiez dans le corps de ce fichier le contenu HTML pr\u00e9sent\u00e9 au dessus. Enregistrez le fichier. Avec l'explorateur de fichier, allez dans le dossier NSI/Web et double-cliquez sur le fichier pagesimple.html . Que se passe-t-il ? Quel est le r\u00f4le des balises pr\u00e9sentes dans ce document ? Structure d'un document HTML et balises les plus utiles. Une balise HTML classique est de la forme suivante : < p class = \"Toto\" > ... </ p > o\u00f9 : p est l'identificateur de balise, ici celui d'un paragraphe ; class est un attribut de la balise <p> ; \"Toto\" est la valeur de l'attribut class . Une valeur est toujours entre guillemets . </p> est la balise fermante. Entre les deux balises se trouve le corps du paragraphe. Cas particulier : la balise <img /> La balise <img /> est la balise permettant d'ins\u00e9rer des images dans le document HTML. Elle poss\u00e8de une particularit\u00e9 : elle est auto-fermante (car elle n'encadre aucun \u00e9l\u00e9ment, elle contient la r\u00e9f\u00e9rence vers l'image). Elle poss\u00e8de entre-autres les attributs suivants : src : l'adresse de l'image, absolue ou relative, ou sous la forme d'une URL (Attention aux URL google image, qui ne sont que temporaires !) ; alt : le texte de remplacement si l'image est manquante (voir remarque ci-dessus) ; title : le texte de l'info-bulle de l'image width : la largeur de l'image, en pixels ou en pourcentage ; height : la hauteur de l'image, en pixels ou en pourcentage ; ... Les balises HTML sont des \u00e9l\u00e9ments pr\u00e9cisant la nature du texte qu'elles encadrent. En aucun cas elles ne donnent d'indications de placement, d'alignement, bref de mise en page. Il s'agit donc de pr\u00e9ciser un d\u00e9coupage logique de la page. Les balises Pour chacune des balises suivantes, donner leur r\u00f4le et leurs principaux attributs, en s'aidant de la page d\u00e9veloppeur Mozilla . <html> <head> <meta> <title> <body> <header> et <footer> <h1> , <h2> , ..., <h6> <ol> , <ul> et <li> <div> <a> <br> Les balises et attributs obsol\u00e8tes Attention, vous trouverez dans de nombreux sites web des conseils forts mauvais pour l'utilisation des balises. certains en effet continuent d'utiliser des balises d\u00e9pr\u00e9ci\u00e9es ou obsol\u00e8tes , comme <center> par exemple. Vous pouvez trouver ici quelques-unes de ces balises et attributs A vous de jouer Cr\u00e9ez une page web sur le sujet que vous souhaitez, et qui respecte au moins les conditions suivantes : Un titre Deux parties de 3 paragraphes, avec au moins une liste (num\u00e9rot\u00e9e ou non). Un lien interne \u00e0 la page Un lien externe \u00e0 la page Une image locale (sur l'ordinateur) une image distante (par URL) Une incrustation vid\u00e9o (voir directement depuis YT pour obtenir le lien) V\u00e9rifier son code : le v\u00e9rificateur du W3C Le W3C ( World Wide Web Consortium ) est l'organisme \u00e0 buts non lucratifs charg\u00e9 de standardiser et promouvoir les technologies du web. Sa gestion est assur\u00e9e conjointement par le MIT aux \u00c9tats-Unis, l'ERCIM en Europe (dont l'INRIA en France), l'universit\u00e9 Keio au Japon et l'universit\u00e9 Beihang en Chine. \u00c0 c\u00f4t\u00e9 d'industriels et d'\u00e9diteurs informatiques, en particulier les \u00e9diteurs des navigateurs (Mozilla Fondation, Microsoft, Apple, Opera ou Google), ses membres se composent aussi des centres de recherches (Inria, National Research Council Canada, etc.), des op\u00e9rateurs de r\u00e9seaux, ainsi que des entreprises investies dans le Web comme Braillenet, la Biblioth\u00e8que du Congr\u00e8s ou la BBC. Le W3C offre un service de validation des pages web , v\u00e9rifiant que leur structure est conforme aux normes en vigueur. On le trouve \u00e0 l'adresse https://validator.w3.org/ . https://fr.wikipedia.org/wiki/Uniform_Resource_Locator \u21a9","title":"HTML strict"},{"location":"NSI/Premiere/C03/HTML/#mettre-du-fond-html","text":"Ce document est une version rapide du cours de SNT de seconde, \u00e0 destination des \u00e9l\u00e8ves n'ayant que peu travaill\u00e9 sur HTML/CSS.","title":"Mettre du fond : HTML"},{"location":"NSI/Premiere/C03/HTML/#cest-quoi-une-page-web","text":"Commen\u00e7ons par placer du vocabulaire ainsi qu'un bref apper\u00e7u de l'histoire du web. Donner une d\u00e9finition de World Wide Web : Done Le World Wide Web ( WWW ou 3W ) est un syst\u00e8me hypertexte fonctionnant sur Internet . Il a \u00e9t\u00e9 invent\u00e9 par Tim Berners-Lee et Robert Cailleau au CERN de Gen\u00e8ve, en 1989. Donner une d\u00e9finition d' Internet : Done Internet est le r\u00e9seau mondial d'ordinateurs accessibles au public. Nous verrons un historique rapide de la cr\u00e9ation d'Internet dans la partie R\u00e9seau du programme. Donner une d\u00e9finition de syst\u00e8me hypertexte : Done Un hypertexte est un document ou un ensemble de documents contenant des unit\u00e9s d'information li\u00e9es entre elles par des hyperliens . Ce syst\u00e8me permet \u00e0 l'utilisateur d'aller directement \u00e0 l'unit\u00e9 qui l'int\u00e9resse, \u00e0 son gr\u00e9, d'une fa\u00e7on non lin\u00e9aire. Le terme a \u00e9t\u00e9 cr\u00e9\u00e9 en 1965 par Ted Nelson , sociologue am\u00e9ricain. Donner une d\u00e9finition de Uniform Ressource Locator ( URL ) : Done Une URL (sigle de l\u2019anglais : Uniform Resource Locator , litt\u00e9ralement \u00ab localisateur uniforme de ressource \u00bb ), couramment appel\u00e9e adresse web, est une cha\u00eene de caract\u00e8res uniforme qui permet d'identifier une ressource du World Wide Web par son emplacement et de pr\u00e9ciser le protocole internet pour la r\u00e9cup\u00e9rer (par exemple http ou https). 1 Que signifie http et https ? Done http signifie HyperText Transfer Protocol , soit litt\u00e9ralement * \u00ab Protocole de transfert Hypertexte \u00bb. C'est un protocole de communication client-serveur d\u00e9velopp\u00e9 pour le World Wide Web. Il existe aussi en version s\u00e9curis\u00e9e (protocole https ). Expliquez ce qu'est Standard Generalized Markup Language : Done Standard Generalized Markup Language (\u00ab langage de balisage g\u00e9n\u00e9ralis\u00e9 normalis\u00e9 &raquo - SGML ) est un langage de description \u00e0 balises, de norme ISO (ISO 8879:1986). Ce langage, publi\u00e9 en 1986 par Charles Goldfarb, mais dont les pr\u00e9misses remontent \u00e0 1969, est un langage qui a eu pour vocation de s'affranchir des capacit\u00e9s techniques sp\u00e9cifiques des imprimantes pour d\u00e9crire un document texte. Ce standard, vite adopt\u00e9 par la communaut\u00e9 internationale, repose sur la s\u00e9paration compl\u00e8te entre la structure logique d'un document (titres, chapitres, paragraphes, illustrations,...), qui est identifi\u00e9 par des balises ins\u00e9r\u00e9es dans le document lui-m\u00eame, de sa mise en page , qui d\u00e9pend du support de pr\u00e9sentation (livre, journal, pr\u00e9sentation, \u00e9cran, ...). HTML ( HyperText Markup Language ) est une application de SGML, cr\u00e9e par Tim Berners-Lee en 1989.","title":"C'est quoi une page Web"},{"location":"NSI/Premiere/C03/HTML/#un-langage-de-balise-html","text":"Une page web, dans sa partie logique, c'est un fichier contenant du texte , ce texte \u00e9tant enrichi par un syst\u00e8me de balises ouvrantes - par exemple <p> et fermantes - par exemple </p> , permettant de donner un sens particulier au texte encadr\u00e9 par ces balises ( titres, chapitres, paragraphes, illustrations... ). Le langage utilis\u00e9 qui contient le texte et les balises s'appelle HTML ( d'o\u00f9 le nom de l'extension de fichier .html ), qui est un acronyme pour Hyper Text Markup Language , soit langage de balisage hypertexte. Il est \u00e0 noter que HTML n'est pas un langage de programmation , mais simplement un langage de description du texte, privil\u00e9giant la mise en avant du sens avant la forme. Il existe de nombreux langages de balisages, permettant de donner une forme particuli\u00e8re \u00e0 du texte ou \u00e0 des chaines de caract\u00e8res. Par exemple, HTML pour le Web, \\(\\LaTeX\\) pour les documents scientifiques et les formules math\u00e9matiques, XML pour organiser des donn\u00e9es, ou m\u00eame Mardown , utilis\u00e9 dans les Notebooks et pour la conception de ce site. Un fichier html se pr\u00e9sente donc sous la forme suivante : <!DOCTYPE html> < html lang = \"fr\" > < head > < meta charset = \"utf-8\" /> < title > Une simple page web &#129409; </ title > </ head > < body > < h1 > Ma premi\u00e8re page web </ h1 > < h2 > Le code html </ h2 > <!-- ceci est un commentairen comme en Python, il n'est pas interpr\u00e9t\u00e9 par le navigateur, et n'est l\u00e0 que pour les codeurs ou les curieux --> < p > Pour faire une page web, il faut taper du code < strong > HTML </ strong > . < p > Afin de faire fonctionner celui-ci, il faut placer des < strong > balises </ strong > qui encadrent des portions du texte : < ul > < li > Une balise ouvrante, utilisant les symboles &lt; et &gt; , qui encadrent un mot cl\u00e9 ; </ li > < li > Une balise fermante, identique \u00e0 la balise ouvrante, mais un slash / pr\u00e9c\u00e8de le mot cl\u00e9 ; </ li > < li > \u00e9ventuellement des < strong > attributs </ strong > viennent compl\u00e9ter le mot cl\u00e9, afin de pr\u00e9ciser un peu plus la balise, par exemple en donnant un identifiant particulier, ou l'url d'un lien. </ li > </ ul > </ p > < h2 > Les diff\u00e9rentes balises </ h2 > < p > Il existe de nombreuses balises en HTML. On peut trouver des explications sur leur fonctionnement en suivant < a href = \"https://developer.mozilla.org/fr/docs/Apprendre/HTML/Balises_HTML\" > ce lien </ a ></ p > </ body > </ html > Notepad++ Pour l'\u00e9dition de fichier de type .html , il ne faut surtout pas utiliser un traitement de texte classique, comme Word ou LibreOffice. En effet ceux-ci rajoutent de mani\u00e8re cach\u00e9e des informations dans le fichier en \u00e9dition, ce qui risque de pr\u00e9senter de s\u00e9rieux probl\u00e8mes lors de l'affichage de la page web par un navigateur. Dans la suite de ce chapitre, nous utiliserons majoritairement le logiciel Notepad++ , qui est un \u00e9diteur de texte orient\u00e9 codage, reconnaissant la plupart des langages informatiques. Ce logiciel est libre, disponible sur les ordinateurs du Lyc\u00e9e, et peut-\u00eatre t\u00e9l\u00e9charg\u00e9 en suivant ce lien . Notez qu'il existe aussi en version portable, et que vous pouvez donc l'installer sur une cl\u00e9 USB. une premi\u00e8re page web Ouvrez le logiciel Notepad++ Cr\u00e9ez un fichier vide nomm\u00e9 pagesimple.html dans un dossier NSI/Web . Copiez dans le corps de ce fichier le contenu HTML pr\u00e9sent\u00e9 au dessus. Enregistrez le fichier. Avec l'explorateur de fichier, allez dans le dossier NSI/Web et double-cliquez sur le fichier pagesimple.html . Que se passe-t-il ? Quel est le r\u00f4le des balises pr\u00e9sentes dans ce document ?","title":"Un langage de balise : HTML"},{"location":"NSI/Premiere/C03/HTML/#structure-dun-document-html-et-balises-les-plus-utiles","text":"Une balise HTML classique est de la forme suivante : < p class = \"Toto\" > ... </ p > o\u00f9 : p est l'identificateur de balise, ici celui d'un paragraphe ; class est un attribut de la balise <p> ; \"Toto\" est la valeur de l'attribut class . Une valeur est toujours entre guillemets . </p> est la balise fermante. Entre les deux balises se trouve le corps du paragraphe. Cas particulier : la balise <img /> La balise <img /> est la balise permettant d'ins\u00e9rer des images dans le document HTML. Elle poss\u00e8de une particularit\u00e9 : elle est auto-fermante (car elle n'encadre aucun \u00e9l\u00e9ment, elle contient la r\u00e9f\u00e9rence vers l'image). Elle poss\u00e8de entre-autres les attributs suivants : src : l'adresse de l'image, absolue ou relative, ou sous la forme d'une URL (Attention aux URL google image, qui ne sont que temporaires !) ; alt : le texte de remplacement si l'image est manquante (voir remarque ci-dessus) ; title : le texte de l'info-bulle de l'image width : la largeur de l'image, en pixels ou en pourcentage ; height : la hauteur de l'image, en pixels ou en pourcentage ; ... Les balises HTML sont des \u00e9l\u00e9ments pr\u00e9cisant la nature du texte qu'elles encadrent. En aucun cas elles ne donnent d'indications de placement, d'alignement, bref de mise en page. Il s'agit donc de pr\u00e9ciser un d\u00e9coupage logique de la page. Les balises Pour chacune des balises suivantes, donner leur r\u00f4le et leurs principaux attributs, en s'aidant de la page d\u00e9veloppeur Mozilla . <html> <head> <meta> <title> <body> <header> et <footer> <h1> , <h2> , ..., <h6> <ol> , <ul> et <li> <div> <a> <br> Les balises et attributs obsol\u00e8tes Attention, vous trouverez dans de nombreux sites web des conseils forts mauvais pour l'utilisation des balises. certains en effet continuent d'utiliser des balises d\u00e9pr\u00e9ci\u00e9es ou obsol\u00e8tes , comme <center> par exemple. Vous pouvez trouver ici quelques-unes de ces balises et attributs A vous de jouer Cr\u00e9ez une page web sur le sujet que vous souhaitez, et qui respecte au moins les conditions suivantes : Un titre Deux parties de 3 paragraphes, avec au moins une liste (num\u00e9rot\u00e9e ou non). Un lien interne \u00e0 la page Un lien externe \u00e0 la page Une image locale (sur l'ordinateur) une image distante (par URL) Une incrustation vid\u00e9o (voir directement depuis YT pour obtenir le lien)","title":"Structure d'un document HTML et balises les plus utiles."},{"location":"NSI/Premiere/C03/HTML/#verifier-son-code-le-verificateur-du-w3c","text":"Le W3C ( World Wide Web Consortium ) est l'organisme \u00e0 buts non lucratifs charg\u00e9 de standardiser et promouvoir les technologies du web. Sa gestion est assur\u00e9e conjointement par le MIT aux \u00c9tats-Unis, l'ERCIM en Europe (dont l'INRIA en France), l'universit\u00e9 Keio au Japon et l'universit\u00e9 Beihang en Chine. \u00c0 c\u00f4t\u00e9 d'industriels et d'\u00e9diteurs informatiques, en particulier les \u00e9diteurs des navigateurs (Mozilla Fondation, Microsoft, Apple, Opera ou Google), ses membres se composent aussi des centres de recherches (Inria, National Research Council Canada, etc.), des op\u00e9rateurs de r\u00e9seaux, ainsi que des entreprises investies dans le Web comme Braillenet, la Biblioth\u00e8que du Congr\u00e8s ou la BBC. Le W3C offre un service de validation des pages web , v\u00e9rifiant que leur structure est conforme aux normes en vigueur. On le trouve \u00e0 l'adresse https://validator.w3.org/ . https://fr.wikipedia.org/wiki/Uniform_Resource_Locator \u21a9","title":"V\u00e9rifier son code : le v\u00e9rificateur du W3C"},{"location":"NSI/Premiere/C03/JS01/","text":"Ajouter de l'interactivit\u00e9 : Introduction \u00e0 JavaScript Premi\u00e8re approche Javascript ? Javascript , souvent raccourci en JS , est un langage de programmation interpr\u00e9t\u00e9, tout comme Python. Il est une des briques angulaire de HTML 5 , avec HTML et CSS . A chaque fois qu'une page fait plus que simplement afficher du texte et des images - un contenu statique , copmme par exemple affiocher des animations, des cartes interactives, des menus d\u00e9roulants, etc, il y a de bonnes chances pour que ce soit un script JavaScript qui en soit la raison. Comme souvent, un tutoriel complet sur Javascript est disponible sur MDN Web Docs . Vous y trouverez de nombreuses explications absentes de ce cours. Une premi\u00e8re approche : modifier le texte d'un paragraphe par un click. Tips Cette partie est int\u00e9gralement trait\u00e9e sous la forme d'une vid\u00e9o : Observons les codes de la page web (corrig\u00e9 pour la position de la balise <script> 1 ) : <!DOCTYPE html> < html lang = \"fr\" > < head > < meta charset = \"utf-8\" /> < title > Un exemple de l'utilit\u00e9 de JS </ title > < link href = \"style.css\" rel = \"stylesheet\" type = \"text/css\" /> </ head > < body > < p > Bonjour Inconnu ! </ p > < script > let texte = document . querySelector ( 'p' ); texte . addEventListener ( 'click' , changeNom ); function changeNom (){ let name = prompt ( \"Entrez votre nom :\" ); texte . textContent = \"Bonjour \" + name + \" !\" ; } </ script > </ body > </ html > p { text-align : center ; border : 2 px solid rgba ( 0 , 0 , 200 , 0.6 ); background : rgba ( 0 , 0 , 200 , 0.3 ); color : rgba ( 0 , 0 , 200 , 0.6 ); box-shadow : 1 px 1 px 2 px rgba ( 0 , 0 , 200 , 0.4 ); border-radius : 10 px ; padding : 3 px 10 px ; cursor : pointer ; } Ainsi que l'arbre du DOM correspondant : La construction d l'arbre du DOM se fait au fur et \u00e0 mesure de la lecture du fichier .html , et est pr\u00e9sent\u00e9e sur le sch\u00e9ma ci-dessus de gauche \u00e0 droite. La balise <script> \u00e9tant la derni\u00e8re balise pr\u00e9sente dans <body> , ell est lue en dernier. L'ex\u00e9cution du code JS est donc la suivante : Cr\u00e9ation d'une variable texte qui r\u00e9f\u00e9rence la premi\u00e8re balise <p> trouv\u00e9e dans le DOM (surlignage jaune ). Ajout \u00e0 l'\u00e9l\u00e9ment <p> s\u00e9lectionn\u00e9 d'un \u00e9couteur d'\u00e9v\u00e8nement qui attends une action clique-gauche (fl\u00e8che rouge ). Fin de la lecture du code, avec cr\u00e9ation d'une r\u00e9f\u00e9rence vers une fonction changeNom , qui n'est pas ex\u00e9cut\u00e9e. Une fois la construction du DOM termin\u00e9e, le gestionnaire d'\u00e9v\u00e8nement g\u00e9n\u00e9ral du navigateur \u00e9coute toutes les actions de l'utilisateur (mouvement souris, clique gauche ou clique droit, appuis sur le clavier, voire \u00e9coute micro si celui-ci a \u00e9t\u00e9 activ\u00e9....) Un clique-droit sur l'\u00e9l\u00e9ment <p> d\u00e9clenche l'ex\u00e9cution de la fonction changeNom (fl\u00e8che bleue , qui elle m\u00eame va modifier l'attribut textContent de l'\u00e9l\u00e9ment <p> (fl\u00e8che verte ). Bases de Javascript S\u00e9parer le code Pour conserver la coh\u00e9rence de HTML5, on a s\u00e9par\u00e9 le code HTML, d\u00e9finissant la nature des \u00e9lements de la page, du CSS, qui d\u00e9finit la forme que prendront ces \u00e9l\u00e9ments. Il faudra faire de m\u00eame avec le code javascript , en le s\u00e9parant du code html en renseigant dans la balise <script> l'attribut src avec l'adresse (absolue ou relative) du fichier contenant le code javascript. Ainsi si le fichier javascript s'appelle mon_fichier.js et est dans le m\u00eame dossier que le fichier html , il suffira d'\u00e9crire la balise suivante : < script src = \"mon_fichier.js\" > </ script > Un fichier javascript est donc simplement un fichier d'extension .js contenant du code javascript. L'exemple pr\u00e9c\u00e9dent peut donc \u00eatre class\u00e9 en trois fichiers : Fichier `pagesimple.html` <!DOCTYPE html> < html lang = \"fr\" > < head > < meta charset = \"utf-8\" /> < title > Un exemple de l'utilit\u00e9 de JS </ title > < link href = \"style.css\" rel = \"stylesheet\" type = \"text/css\" /> </ head > < body > < p > Bonjour Inconnu ! </ p > < script src = \"code.js\" ></ script > </ body > </ html > Fichier `style.css` p { text-align : center ; border : 2 px solid rgba ( 0 , 0 , 200 , 0.6 ); background : rgba ( 0 , 0 , 200 , 0.3 ); color : rgba ( 0 , 0 , 200 , 0.6 ); box-shadow : 1 px 1 px 2 px rgba ( 0 , 0 , 200 , 0.4 ); border-radius : 10 px ; padding : 3 px 10 px ; cursor : pointer ; } Fichier `code.js` let texte = document . querySelector ( 'p' ); texte . addEventListener ( 'click' , changeNom ); function changeNom (){ let name = prompt ( \"Entrez votre nom :\" ); texte . textContent = \"Bonjour \" + name + \" !\" ; } Utilisation de l'inspecteur d'objet L'inspecteur d'objet permet d'avoir acc\u00e8s \u00e0 une console javascript, fort utile pour aider au d\u00e9boggage de code. Celle-ci est disponible une fois l'inspecteur d'objet ouvert : prise en main de la console js Ouvrez la console javascript de votre navigateur, sur une page au choix. Tapez le code suivant : function plop (){ console . log ( \"Plop !\" ); } Ex\u00e9cutez la fonction plop : plop (); Que se passe-t-il ? Tapez maintenant le code suivant : let cible = document . querySelector ( \"h1\" ); cible . addEventListener ( 'click' , plop ); Cherchez la premi\u00e8re balise <h1> de la page et cliquez sur cet \u00e9l\u00e9ment. Que se passe-t-il ? Tapez le code suivant : cible . addEventListener ( 'mouseover' , plop ); Comment faire pour d\u00e9clencher l'\u00e9criture dans la console \u00e0 partir de cet \u00e9v\u00e9nement ? Utilisation de console.log() Il est parfois difficile de voir comment s'ex\u00e9cute un code javscript. L'utilisation de console.log(message); dans votre code, avec comme message une cha\u00eene de caract\u00e8re explicative, est parfois un bon moyen de v\u00e9rifier qu'un bloc de code est ex\u00e9cut\u00e9 par javascript. Programmer en javascript : les bases D\u00e9claration des variables Javascript est un langage faiblement typ\u00e9. Cela signifie que lorsqu'on d\u00e9clare une variable, il n'est pas n\u00e9cessaire de d\u00e9clarer son type. Il suffit de d\u00e9clarer son nom , en ajoutant devant les mots-cl\u00e9s let ou var selon la situation 2 . On peut aussi d\u00e9clarer et initialiser une variable dans le m\u00eame temps : let x ; // x est d\u00e9clar\u00e9e, mais pas initialis\u00e9e let y = 10 ; // y est d\u00e9clar\u00e9e et initialis\u00e9e \u00e0 la valeur 10 var z = \"toto\" ; // z est d\u00e9clar\u00e9e et initialis\u00e9e avec la cha\u00eene \"toto\" Sachez seulement que : let d\u00e9finit des variables dont la port\u00e9e (=l'ensemble des lignes o\u00f9 la variable est connue et utilisable) est celle du bloc ; var d\u00e9finit des variables dont la port\u00e9e est celle de la fonction. Pour ceux int\u00e9ress\u00e9s les exemples ci-dessous sont parlants : Exemples de port\u00e9es 2 les deux codes suivant expliquent en partie la diff\u00e9rence entre let et var function varTest () { var x = 31 ; if ( true ) { var x = 71 ; // c'est la m\u00eame variable (m\u00eame fonction)! console . log ( x ); // 71 } console . log ( x ); // 71 } function letTest () { let x = 31 ; if ( true ) { let x = 71 ; // c'est une variable diff\u00e9rente (changement de bloc) console . log ( x ); // 71 } console . log ( x ); // 31 } Une ex\u00e9cution pas-\u00e0-pas est possible gr\u00e2ce au site pythontutor.com . Op\u00e9rations arithm\u00e9tiques Les op\u00e9rations arithm\u00e9tiques de base sont les m\u00eame qu'en Python : \\(+\\) , \\(-\\) , \\(\\times\\) et \\(\\div\\) sont repr\u00e9sent\u00e9es par + , - , * et / . Ainsi le calcul \\(3 + \\dfrac{4}{2-7}\\) est effectu\u00e9 par : >> 3 + 4 / ( 2 - 7 ) 2.2 Les op\u00e9rations de modulo et d'exposants sont utilisables comme en Python : >> 22 % 5 2 >> 5 ** 3 125 Quotient de la division euclidienne Il n'est pas possible comme en Python d'utiliser l'op\u00e9rateur // pour obtenir le quotient de la division euclidienne de deux entiers. Il faut donc utiliser une fonction sp\u00e9cifique du module Math pour l'obtenir : >>> Math . floor ( 24 / 5 ) 4 Les fonctions math\u00e9matiques plus complexes ( \\(\\sqrt{~~}\\) , \\(sin\\) , \\(cos\\) ...) peuvent \u00eatre utlis\u00e9es en les pr\u00e9fixant par Math. >> Math . sqrt ( 25 ) 5 >> Math . cos ( 45 ) 0.5253219888177297 Les cha\u00eenes de caract\u00e8res Le type primitif cha\u00eene de caract\u00e8re en javascript est rep\u00e9r\u00e9 comme en python par un encadrement par des guillemets simples ' , doubles \" ou m\u00eame des accents graves ` . Ce type primitif est converti automatiquement en objets String d\u00e8s qu'on fait appel aux m\u00e9thodes des objets String . Ainsi si ma_chaine est une chaine de caract\u00e8re : ma_chaine.length donne la longueur de la cha\u00eene de caract\u00e8res ; ma_chaine.toLowerCase() renvoie la cha\u00eene de caract\u00e8res en minuscules ( on a de m\u00eame .toUpperCase() ) ma_chaine[i] renvoie le caract\u00e8re d'indice i (toujours en partant de z\u00e9ro !) ... La totalit\u00e9 des m\u00e9thodes li\u00e9es aux objets String sont d\u00e9crits dans cette page . Javascript et le transtypage En Python, une instruction telle que \"Bonjour num\u00e9ro \"+6 ne fonctionne pas. On re\u00e7oit une erreur TypeError: can only concatenate str (not \"int\") to str , ce qui signifie qu'il est impossible de concat\u00e9ner un type str avec autre chose. Contrairement \u00e0 Python, en javascript il n'est pas n\u00e9cessaire de transtyper une variable pour qu'elle soit int\u00e9gr\u00e9e \u00e0 une op\u00e9ration avec d'autre types de variables. L'instruction \"Bonjour num\u00e9ro \"+6 renvoie la cha\u00eene de caract\u00e8res \"Bonjour num\u00e9ro 6\" 3 . C'est tr\u00e8s pratique, mais attention ! Certaines erreurs peuvent tr\u00e8s vite \u00eatre commise ! Un petit exemple de comportement de Javascript est donn\u00e9 dans l'exemple ci-dessous : Fonctions Une fonction en javascript est introduite par le mot-cl\u00e9 function , suivie du nom de la fonction, de parenth\u00e8ses contenant ou non des arguments . Le bloc de code de la fonction est d\u00e9limit\u00e9 par une paire d'accolades ouvrantes et fermantes. Une valeur de retour est possible en utilisant le mot cl\u00e9 return . Exemples Fonction calculant le discriminant d'un polyn\u00f4me de degr\u00e9 2 function discriminant ( a , b , c ){ return b ** 2 - 4 * a * c ; } Fonction renvoyant true si les deux vecteurs \\(\\vec{u}\\left(\\begin{array}{c}x1\\\\y1\\end{array}\\right)\\) et \\(\\vec{v}\\left(\\begin{array}{c}x2\\\\y2\\end{array}\\right)\\) sont colin\u00e9aires, et false sinon function colineaires ( x1 , y1 , x2 , y2 ){ det = x1 * y2 - x2 * y1 ; return det == 0 ; } Structures conditionnelles La structure conditionnelle de base est obtenue gr\u00e2ce au code suivant : if ( booleen ){ // Bloc Si } else { // Bloc Sinon } Remarques la condition bool\u00e9enne doit \u00eatre entre parenth\u00e8ses. L'interpr\u00e9teur javascript signalera une erreur dans le cas contraire : il n'y a pas comme en Python de clause elif . Si on veut tester plusieurs sous conditions, il faudra imbriquer les structures conditionnelles. Voici une comparaison entre python et javascript : if condition 1 : # bloc condition 1 elif condition 2 : # bloc condition 2 else : # bloc sinon if ( condition 1 ){ // bloc condition 1 } else { if ( condition 2 ) { // bloc condition 2 } else { // bloc sinon } } L'imbrication est tout de suite plus compliqu\u00e9e... Il faut \u00eatre rigoureux , et particuli\u00e8rement \u00eatre attentif \u00e0 bien fermer les accolades d\u00e8s qu'on en a ouvert une . Pour les cas avec trop d'imbrications, il est parfois n\u00e9cessaire de se servir plut\u00f4t de l'instruction switch pour laquelle la documentation est tr\u00e8s bien faite. ET et OU en javascript Attention ! En javascript les mots-cl\u00e9s AND et OR n'existent pas : pour obtenir ET on utilise && ; pour obtenir OU on utilise || ; Une condition \\(\\in [0;10]\\) s'exprimera alors sous la forme (a>=0) && (a=<10) . Boucles born\u00e9es Une boucle born\u00e9e en javascript s'\u00e9crit de la mani\u00e8re suivante : for ( initialisation ; conditions de continuit\u00e9 ; incr\u00e9mentation ){ // bloc d'instructions \u00e0 r\u00e9p\u00e9ter } Plus simplement, pour r\u00e9p\u00e9ter 10 fois un bloc d'instructions, on peut utiliser la structure suivante : for ( let i = 0 ; i < 10 ; i = i + 1 ){ // bloc d'instructions \u00e0 r\u00e9p\u00e9ter } on commence par cr\u00e9er une variable sur laquelle on va it\u00e9rer : var i=0; on indique une condition de continuit\u00e9 de l'action : i<10; (tant que i est inf\u00e9rieur \u00e0 10 , on effectue le bloc d'instruction de la boucle) on indique comment varie la variable \u00e0 chaque tour de boucle : i=i+1 (\u00e0 chaque tour, la variable i est incr\u00e9ment\u00e9e de 1$. Il faut noter que la variable i n'existe plus une fois la boucle termin\u00e9e, vu qu'n a utilis\u00e9 let : Boucles non-born\u00e9es Une boucle non-born\u00e9e est obtenue en javascript par l'instruction suivante : while ( booleen ) { // bloc d'instruction } Un exemple d'utilisation avec les chaines de caract\u00e8res est disponible ici : Exercices Exercice 1 Enonc\u00e9 Solution Ecrivez une fonction nomm\u00e9e isTooLong qui : prend une cha\u00eene de caract\u00e8res comme argument; renvoie vrai si la longueur de la cha\u00eene d\u00e9passe 10 caract\u00e8res; renvoie faux dans les autres cas. function isTooLong ( mot ){ if ( mot . length > 10 ){ return true ; } else { return false ; } } Exercice 2 Enonc\u00e9 Solution Cr\u00e9ez une fonction nomm\u00e9e aprec qui : prend une note sur 20 en argument ; renvoie \"Hideux\" si la note est entre 0 et 7 exclus ; renvoie \"Moche\" si la note entre 7 et 10 exclus ; renvoie \"Nice\" si la note entre 10 et 15 exclus ; renvoie \"GG\" si la note entre 15 et 20 inclus ; renvoie \"BUG\" si la note n'est pas correcte. function aprec ( note ){ if (( note >= 0 ) && ( note < 7 )){ return \"Hideux; } else if ((note>=7) && (note< 10)){ return \" Moche \"; } else if ((note>=10) && (note< 15)){ return \" Nice \"; } else if ((note>=15) && (note<= 20)){ return \" GG \"; } else { return \" BUG \" ; } } Exercice 3 Enonc\u00e9 Solution \u00c9crivez une fonction max3 qui renvoie le plus grand nombre parmi trois entiers pass\u00e9s en argument. function max3 ( n1 , n2 , n3 ){ if (( n1 >= n2 ) && ( n1 >= n3 )){ return n1 } else if (( n2 >= n1 ) && ( n3 >= n1 )){ return n2 } else { return n3 } } Exercice 4 Enonc\u00e9 Solution Cr\u00e9er une fonction affichant les 10 premiers multiples de 7. function multiple7 (){ for ( let i = 0 ; i < 10 ; i = i + 1 ){ console . log ( \"7x\" + i + \" = \" + ( 7 * i )); } } Exercice 5 Enonc\u00e9 Solution Cr\u00e9er une fonction puissance2(v) qui renvoie gr\u00e2ce \u00e0 une boucle non-born\u00e9e l'entier n tel que : \\[ 2^n \\leqslant v < 2^{n+1} \\] On supposera que v est bien un entier positif. function puissance2 ( v ){ let p = 0 ; while ( v > 1 ){ v = Math . floor ( v / 2 ); p = p + 1 ; } return p } une vid\u00e9o d\u00e9taillant pourquoi la balise <script> doit \u00eatre plac\u00e9e dans la balise <body> est disponible ici . \u21a9 La question de l'utilisation de let ou var d\u00e9passe largement le cadre de ce cours. On trouvera ici un d\u00e9but d'explication. \u21a9 \u21a9 https://fr.wikipedia.org/wiki/Le_Prisonnier#Synopsis \u21a9","title":"Introduction \u00e0 Javascript"},{"location":"NSI/Premiere/C03/JS01/#ajouter-de-linteractivite-introduction-a-javascript","text":"","title":"Ajouter de l'interactivit\u00e9 : Introduction \u00e0 JavaScript"},{"location":"NSI/Premiere/C03/JS01/#premiere-approche","text":"","title":"Premi\u00e8re approche"},{"location":"NSI/Premiere/C03/JS01/#javascript","text":"Javascript , souvent raccourci en JS , est un langage de programmation interpr\u00e9t\u00e9, tout comme Python. Il est une des briques angulaire de HTML 5 , avec HTML et CSS . A chaque fois qu'une page fait plus que simplement afficher du texte et des images - un contenu statique , copmme par exemple affiocher des animations, des cartes interactives, des menus d\u00e9roulants, etc, il y a de bonnes chances pour que ce soit un script JavaScript qui en soit la raison. Comme souvent, un tutoriel complet sur Javascript est disponible sur MDN Web Docs . Vous y trouverez de nombreuses explications absentes de ce cours.","title":"Javascript ?"},{"location":"NSI/Premiere/C03/JS01/#une-premiere-approche-modifier-le-texte-dun-paragraphe-par-un-click","text":"Tips Cette partie est int\u00e9gralement trait\u00e9e sous la forme d'une vid\u00e9o : Observons les codes de la page web (corrig\u00e9 pour la position de la balise <script> 1 ) : <!DOCTYPE html> < html lang = \"fr\" > < head > < meta charset = \"utf-8\" /> < title > Un exemple de l'utilit\u00e9 de JS </ title > < link href = \"style.css\" rel = \"stylesheet\" type = \"text/css\" /> </ head > < body > < p > Bonjour Inconnu ! </ p > < script > let texte = document . querySelector ( 'p' ); texte . addEventListener ( 'click' , changeNom ); function changeNom (){ let name = prompt ( \"Entrez votre nom :\" ); texte . textContent = \"Bonjour \" + name + \" !\" ; } </ script > </ body > </ html > p { text-align : center ; border : 2 px solid rgba ( 0 , 0 , 200 , 0.6 ); background : rgba ( 0 , 0 , 200 , 0.3 ); color : rgba ( 0 , 0 , 200 , 0.6 ); box-shadow : 1 px 1 px 2 px rgba ( 0 , 0 , 200 , 0.4 ); border-radius : 10 px ; padding : 3 px 10 px ; cursor : pointer ; } Ainsi que l'arbre du DOM correspondant : La construction d l'arbre du DOM se fait au fur et \u00e0 mesure de la lecture du fichier .html , et est pr\u00e9sent\u00e9e sur le sch\u00e9ma ci-dessus de gauche \u00e0 droite. La balise <script> \u00e9tant la derni\u00e8re balise pr\u00e9sente dans <body> , ell est lue en dernier. L'ex\u00e9cution du code JS est donc la suivante : Cr\u00e9ation d'une variable texte qui r\u00e9f\u00e9rence la premi\u00e8re balise <p> trouv\u00e9e dans le DOM (surlignage jaune ). Ajout \u00e0 l'\u00e9l\u00e9ment <p> s\u00e9lectionn\u00e9 d'un \u00e9couteur d'\u00e9v\u00e8nement qui attends une action clique-gauche (fl\u00e8che rouge ). Fin de la lecture du code, avec cr\u00e9ation d'une r\u00e9f\u00e9rence vers une fonction changeNom , qui n'est pas ex\u00e9cut\u00e9e. Une fois la construction du DOM termin\u00e9e, le gestionnaire d'\u00e9v\u00e8nement g\u00e9n\u00e9ral du navigateur \u00e9coute toutes les actions de l'utilisateur (mouvement souris, clique gauche ou clique droit, appuis sur le clavier, voire \u00e9coute micro si celui-ci a \u00e9t\u00e9 activ\u00e9....) Un clique-droit sur l'\u00e9l\u00e9ment <p> d\u00e9clenche l'ex\u00e9cution de la fonction changeNom (fl\u00e8che bleue , qui elle m\u00eame va modifier l'attribut textContent de l'\u00e9l\u00e9ment <p> (fl\u00e8che verte ).","title":"Une premi\u00e8re approche : modifier le texte d'un paragraphe par un click."},{"location":"NSI/Premiere/C03/JS01/#bases-de-javascript","text":"","title":"Bases de Javascript"},{"location":"NSI/Premiere/C03/JS01/#separer-le-code","text":"Pour conserver la coh\u00e9rence de HTML5, on a s\u00e9par\u00e9 le code HTML, d\u00e9finissant la nature des \u00e9lements de la page, du CSS, qui d\u00e9finit la forme que prendront ces \u00e9l\u00e9ments. Il faudra faire de m\u00eame avec le code javascript , en le s\u00e9parant du code html en renseigant dans la balise <script> l'attribut src avec l'adresse (absolue ou relative) du fichier contenant le code javascript. Ainsi si le fichier javascript s'appelle mon_fichier.js et est dans le m\u00eame dossier que le fichier html , il suffira d'\u00e9crire la balise suivante : < script src = \"mon_fichier.js\" > </ script > Un fichier javascript est donc simplement un fichier d'extension .js contenant du code javascript. L'exemple pr\u00e9c\u00e9dent peut donc \u00eatre class\u00e9 en trois fichiers : Fichier `pagesimple.html` <!DOCTYPE html> < html lang = \"fr\" > < head > < meta charset = \"utf-8\" /> < title > Un exemple de l'utilit\u00e9 de JS </ title > < link href = \"style.css\" rel = \"stylesheet\" type = \"text/css\" /> </ head > < body > < p > Bonjour Inconnu ! </ p > < script src = \"code.js\" ></ script > </ body > </ html > Fichier `style.css` p { text-align : center ; border : 2 px solid rgba ( 0 , 0 , 200 , 0.6 ); background : rgba ( 0 , 0 , 200 , 0.3 ); color : rgba ( 0 , 0 , 200 , 0.6 ); box-shadow : 1 px 1 px 2 px rgba ( 0 , 0 , 200 , 0.4 ); border-radius : 10 px ; padding : 3 px 10 px ; cursor : pointer ; } Fichier `code.js` let texte = document . querySelector ( 'p' ); texte . addEventListener ( 'click' , changeNom ); function changeNom (){ let name = prompt ( \"Entrez votre nom :\" ); texte . textContent = \"Bonjour \" + name + \" !\" ; }","title":"S\u00e9parer le code"},{"location":"NSI/Premiere/C03/JS01/#utilisation-de-linspecteur-dobjet","text":"L'inspecteur d'objet permet d'avoir acc\u00e8s \u00e0 une console javascript, fort utile pour aider au d\u00e9boggage de code. Celle-ci est disponible une fois l'inspecteur d'objet ouvert : prise en main de la console js Ouvrez la console javascript de votre navigateur, sur une page au choix. Tapez le code suivant : function plop (){ console . log ( \"Plop !\" ); } Ex\u00e9cutez la fonction plop : plop (); Que se passe-t-il ? Tapez maintenant le code suivant : let cible = document . querySelector ( \"h1\" ); cible . addEventListener ( 'click' , plop ); Cherchez la premi\u00e8re balise <h1> de la page et cliquez sur cet \u00e9l\u00e9ment. Que se passe-t-il ? Tapez le code suivant : cible . addEventListener ( 'mouseover' , plop ); Comment faire pour d\u00e9clencher l'\u00e9criture dans la console \u00e0 partir de cet \u00e9v\u00e9nement ? Utilisation de console.log() Il est parfois difficile de voir comment s'ex\u00e9cute un code javscript. L'utilisation de console.log(message); dans votre code, avec comme message une cha\u00eene de caract\u00e8re explicative, est parfois un bon moyen de v\u00e9rifier qu'un bloc de code est ex\u00e9cut\u00e9 par javascript.","title":"Utilisation de l'inspecteur d'objet"},{"location":"NSI/Premiere/C03/JS01/#programmer-en-javascript-les-bases","text":"","title":"Programmer en javascript : les bases"},{"location":"NSI/Premiere/C03/JS01/#declaration-des-variables","text":"Javascript est un langage faiblement typ\u00e9. Cela signifie que lorsqu'on d\u00e9clare une variable, il n'est pas n\u00e9cessaire de d\u00e9clarer son type. Il suffit de d\u00e9clarer son nom , en ajoutant devant les mots-cl\u00e9s let ou var selon la situation 2 . On peut aussi d\u00e9clarer et initialiser une variable dans le m\u00eame temps : let x ; // x est d\u00e9clar\u00e9e, mais pas initialis\u00e9e let y = 10 ; // y est d\u00e9clar\u00e9e et initialis\u00e9e \u00e0 la valeur 10 var z = \"toto\" ; // z est d\u00e9clar\u00e9e et initialis\u00e9e avec la cha\u00eene \"toto\" Sachez seulement que : let d\u00e9finit des variables dont la port\u00e9e (=l'ensemble des lignes o\u00f9 la variable est connue et utilisable) est celle du bloc ; var d\u00e9finit des variables dont la port\u00e9e est celle de la fonction. Pour ceux int\u00e9ress\u00e9s les exemples ci-dessous sont parlants : Exemples de port\u00e9es 2 les deux codes suivant expliquent en partie la diff\u00e9rence entre let et var function varTest () { var x = 31 ; if ( true ) { var x = 71 ; // c'est la m\u00eame variable (m\u00eame fonction)! console . log ( x ); // 71 } console . log ( x ); // 71 } function letTest () { let x = 31 ; if ( true ) { let x = 71 ; // c'est une variable diff\u00e9rente (changement de bloc) console . log ( x ); // 71 } console . log ( x ); // 31 } Une ex\u00e9cution pas-\u00e0-pas est possible gr\u00e2ce au site pythontutor.com .","title":"D\u00e9claration des variables"},{"location":"NSI/Premiere/C03/JS01/#operations-arithmetiques","text":"Les op\u00e9rations arithm\u00e9tiques de base sont les m\u00eame qu'en Python : \\(+\\) , \\(-\\) , \\(\\times\\) et \\(\\div\\) sont repr\u00e9sent\u00e9es par + , - , * et / . Ainsi le calcul \\(3 + \\dfrac{4}{2-7}\\) est effectu\u00e9 par : >> 3 + 4 / ( 2 - 7 ) 2.2 Les op\u00e9rations de modulo et d'exposants sont utilisables comme en Python : >> 22 % 5 2 >> 5 ** 3 125 Quotient de la division euclidienne Il n'est pas possible comme en Python d'utiliser l'op\u00e9rateur // pour obtenir le quotient de la division euclidienne de deux entiers. Il faut donc utiliser une fonction sp\u00e9cifique du module Math pour l'obtenir : >>> Math . floor ( 24 / 5 ) 4 Les fonctions math\u00e9matiques plus complexes ( \\(\\sqrt{~~}\\) , \\(sin\\) , \\(cos\\) ...) peuvent \u00eatre utlis\u00e9es en les pr\u00e9fixant par Math. >> Math . sqrt ( 25 ) 5 >> Math . cos ( 45 ) 0.5253219888177297","title":"Op\u00e9rations arithm\u00e9tiques"},{"location":"NSI/Premiere/C03/JS01/#les-chaines-de-caracteres","text":"Le type primitif cha\u00eene de caract\u00e8re en javascript est rep\u00e9r\u00e9 comme en python par un encadrement par des guillemets simples ' , doubles \" ou m\u00eame des accents graves ` . Ce type primitif est converti automatiquement en objets String d\u00e8s qu'on fait appel aux m\u00e9thodes des objets String . Ainsi si ma_chaine est une chaine de caract\u00e8re : ma_chaine.length donne la longueur de la cha\u00eene de caract\u00e8res ; ma_chaine.toLowerCase() renvoie la cha\u00eene de caract\u00e8res en minuscules ( on a de m\u00eame .toUpperCase() ) ma_chaine[i] renvoie le caract\u00e8re d'indice i (toujours en partant de z\u00e9ro !) ... La totalit\u00e9 des m\u00e9thodes li\u00e9es aux objets String sont d\u00e9crits dans cette page . Javascript et le transtypage En Python, une instruction telle que \"Bonjour num\u00e9ro \"+6 ne fonctionne pas. On re\u00e7oit une erreur TypeError: can only concatenate str (not \"int\") to str , ce qui signifie qu'il est impossible de concat\u00e9ner un type str avec autre chose. Contrairement \u00e0 Python, en javascript il n'est pas n\u00e9cessaire de transtyper une variable pour qu'elle soit int\u00e9gr\u00e9e \u00e0 une op\u00e9ration avec d'autre types de variables. L'instruction \"Bonjour num\u00e9ro \"+6 renvoie la cha\u00eene de caract\u00e8res \"Bonjour num\u00e9ro 6\" 3 . C'est tr\u00e8s pratique, mais attention ! Certaines erreurs peuvent tr\u00e8s vite \u00eatre commise ! Un petit exemple de comportement de Javascript est donn\u00e9 dans l'exemple ci-dessous :","title":"Les  cha\u00eenes de caract\u00e8res"},{"location":"NSI/Premiere/C03/JS01/#fonctions","text":"Une fonction en javascript est introduite par le mot-cl\u00e9 function , suivie du nom de la fonction, de parenth\u00e8ses contenant ou non des arguments . Le bloc de code de la fonction est d\u00e9limit\u00e9 par une paire d'accolades ouvrantes et fermantes. Une valeur de retour est possible en utilisant le mot cl\u00e9 return . Exemples Fonction calculant le discriminant d'un polyn\u00f4me de degr\u00e9 2 function discriminant ( a , b , c ){ return b ** 2 - 4 * a * c ; } Fonction renvoyant true si les deux vecteurs \\(\\vec{u}\\left(\\begin{array}{c}x1\\\\y1\\end{array}\\right)\\) et \\(\\vec{v}\\left(\\begin{array}{c}x2\\\\y2\\end{array}\\right)\\) sont colin\u00e9aires, et false sinon function colineaires ( x1 , y1 , x2 , y2 ){ det = x1 * y2 - x2 * y1 ; return det == 0 ; }","title":"Fonctions"},{"location":"NSI/Premiere/C03/JS01/#structures-conditionnelles","text":"La structure conditionnelle de base est obtenue gr\u00e2ce au code suivant : if ( booleen ){ // Bloc Si } else { // Bloc Sinon } Remarques la condition bool\u00e9enne doit \u00eatre entre parenth\u00e8ses. L'interpr\u00e9teur javascript signalera une erreur dans le cas contraire : il n'y a pas comme en Python de clause elif . Si on veut tester plusieurs sous conditions, il faudra imbriquer les structures conditionnelles. Voici une comparaison entre python et javascript : if condition 1 : # bloc condition 1 elif condition 2 : # bloc condition 2 else : # bloc sinon if ( condition 1 ){ // bloc condition 1 } else { if ( condition 2 ) { // bloc condition 2 } else { // bloc sinon } } L'imbrication est tout de suite plus compliqu\u00e9e... Il faut \u00eatre rigoureux , et particuli\u00e8rement \u00eatre attentif \u00e0 bien fermer les accolades d\u00e8s qu'on en a ouvert une . Pour les cas avec trop d'imbrications, il est parfois n\u00e9cessaire de se servir plut\u00f4t de l'instruction switch pour laquelle la documentation est tr\u00e8s bien faite. ET et OU en javascript Attention ! En javascript les mots-cl\u00e9s AND et OR n'existent pas : pour obtenir ET on utilise && ; pour obtenir OU on utilise || ; Une condition \\(\\in [0;10]\\) s'exprimera alors sous la forme (a>=0) && (a=<10) .","title":"Structures conditionnelles"},{"location":"NSI/Premiere/C03/JS01/#boucles-bornees","text":"Une boucle born\u00e9e en javascript s'\u00e9crit de la mani\u00e8re suivante : for ( initialisation ; conditions de continuit\u00e9 ; incr\u00e9mentation ){ // bloc d'instructions \u00e0 r\u00e9p\u00e9ter } Plus simplement, pour r\u00e9p\u00e9ter 10 fois un bloc d'instructions, on peut utiliser la structure suivante : for ( let i = 0 ; i < 10 ; i = i + 1 ){ // bloc d'instructions \u00e0 r\u00e9p\u00e9ter } on commence par cr\u00e9er une variable sur laquelle on va it\u00e9rer : var i=0; on indique une condition de continuit\u00e9 de l'action : i<10; (tant que i est inf\u00e9rieur \u00e0 10 , on effectue le bloc d'instruction de la boucle) on indique comment varie la variable \u00e0 chaque tour de boucle : i=i+1 (\u00e0 chaque tour, la variable i est incr\u00e9ment\u00e9e de 1$. Il faut noter que la variable i n'existe plus une fois la boucle termin\u00e9e, vu qu'n a utilis\u00e9 let :","title":"Boucles born\u00e9es"},{"location":"NSI/Premiere/C03/JS01/#boucles-non-bornees","text":"Une boucle non-born\u00e9e est obtenue en javascript par l'instruction suivante : while ( booleen ) { // bloc d'instruction } Un exemple d'utilisation avec les chaines de caract\u00e8res est disponible ici :","title":"Boucles non-born\u00e9es"},{"location":"NSI/Premiere/C03/JS01/#exercices","text":"Exercice 1 Enonc\u00e9 Solution Ecrivez une fonction nomm\u00e9e isTooLong qui : prend une cha\u00eene de caract\u00e8res comme argument; renvoie vrai si la longueur de la cha\u00eene d\u00e9passe 10 caract\u00e8res; renvoie faux dans les autres cas. function isTooLong ( mot ){ if ( mot . length > 10 ){ return true ; } else { return false ; } } Exercice 2 Enonc\u00e9 Solution Cr\u00e9ez une fonction nomm\u00e9e aprec qui : prend une note sur 20 en argument ; renvoie \"Hideux\" si la note est entre 0 et 7 exclus ; renvoie \"Moche\" si la note entre 7 et 10 exclus ; renvoie \"Nice\" si la note entre 10 et 15 exclus ; renvoie \"GG\" si la note entre 15 et 20 inclus ; renvoie \"BUG\" si la note n'est pas correcte. function aprec ( note ){ if (( note >= 0 ) && ( note < 7 )){ return \"Hideux; } else if ((note>=7) && (note< 10)){ return \" Moche \"; } else if ((note>=10) && (note< 15)){ return \" Nice \"; } else if ((note>=15) && (note<= 20)){ return \" GG \"; } else { return \" BUG \" ; } } Exercice 3 Enonc\u00e9 Solution \u00c9crivez une fonction max3 qui renvoie le plus grand nombre parmi trois entiers pass\u00e9s en argument. function max3 ( n1 , n2 , n3 ){ if (( n1 >= n2 ) && ( n1 >= n3 )){ return n1 } else if (( n2 >= n1 ) && ( n3 >= n1 )){ return n2 } else { return n3 } } Exercice 4 Enonc\u00e9 Solution Cr\u00e9er une fonction affichant les 10 premiers multiples de 7. function multiple7 (){ for ( let i = 0 ; i < 10 ; i = i + 1 ){ console . log ( \"7x\" + i + \" = \" + ( 7 * i )); } } Exercice 5 Enonc\u00e9 Solution Cr\u00e9er une fonction puissance2(v) qui renvoie gr\u00e2ce \u00e0 une boucle non-born\u00e9e l'entier n tel que : \\[ 2^n \\leqslant v < 2^{n+1} \\] On supposera que v est bien un entier positif. function puissance2 ( v ){ let p = 0 ; while ( v > 1 ){ v = Math . floor ( v / 2 ); p = p + 1 ; } return p } une vid\u00e9o d\u00e9taillant pourquoi la balise <script> doit \u00eatre plac\u00e9e dans la balise <body> est disponible ici . \u21a9 La question de l'utilisation de let ou var d\u00e9passe largement le cadre de ce cours. On trouvera ici un d\u00e9but d'explication. \u21a9 \u21a9 https://fr.wikipedia.org/wiki/Le_Prisonnier#Synopsis \u21a9","title":"Exercices"},{"location":"NSI/Premiere/C03/JS02/","text":"Javascript et la manipulation du DOM Cette partie de cours consistera uniquement en une s\u00e9rie de vid\u00e9o. Vous devrez faire les manipulations propos\u00e9es en parall\u00e8le de vos visionnages de ces vid\u00e9os. Les diff\u00e9rents fichiers sont disponibles au t\u00e9l\u00e9chargement ici . Ajouter des objets au DOM en Javascript Construction et traitements de formulaires en Javascript Partie 1 : Construire un formulaire HTML Partie 2 : R\u00e9cup\u00e9rer les informations d'un formulaire avec Javascript Partie 3 : Utiliser les donn\u00e9es du formulaire pour rendre la page interactive.","title":"Javascript, le DOM et les formulaires"},{"location":"NSI/Premiere/C03/JS02/#javascript-et-la-manipulation-du-dom","text":"Cette partie de cours consistera uniquement en une s\u00e9rie de vid\u00e9o. Vous devrez faire les manipulations propos\u00e9es en parall\u00e8le de vos visionnages de ces vid\u00e9os. Les diff\u00e9rents fichiers sont disponibles au t\u00e9l\u00e9chargement ici .","title":"Javascript et la manipulation du DOM"},{"location":"NSI/Premiere/C03/JS02/#ajouter-des-objets-au-dom-en-javascript","text":"","title":"Ajouter des objets au DOM en Javascript"},{"location":"NSI/Premiere/C03/JS02/#construction-et-traitements-de-formulaires-en-javascript","text":"","title":"Construction et traitements de formulaires en Javascript"},{"location":"NSI/Premiere/C03/JS02/#partie-1-construire-un-formulaire-html","text":"","title":"Partie 1 : Construire un formulaire HTML"},{"location":"NSI/Premiere/C03/JS02/#partie-2-recuperer-les-informations-dun-formulaire-avec-javascript","text":"","title":"Partie 2 : R\u00e9cup\u00e9rer les informations d'un formulaire avec Javascript"},{"location":"NSI/Premiere/C03/JS02/#partie-3-utiliser-les-donnees-du-formulaire-pour-rendre-la-page-interactive","text":"","title":"Partie 3 : Utiliser les donn\u00e9es du formulaire pour rendre la page interactive."},{"location":"NSI/Premiere/C04/Algorithmes_Tri/","text":"Premiers algorithmes de tri de tableaux Trier de mani\u00e8re naturelle : les algorithmes na\u00effs Trier \u00e0 la main Enonc\u00e9 Solution 1 Solution 2 On donne une main de 5 cartes d'un jeu de 54 cartes. Trier les cartes par ordre croissant, sans tenir compte des couleurs. Vous devrez marquer dans le tableau suivant l'ensemble des changements de positions des cartes dans votre main : Avez-vous tous utilis\u00e9 la m\u00eame m\u00e9thode ? Tri par insertion Principes Le principe du tri par insertion est le suivant : un tableau de dimension 1 est consid\u00e9r\u00e9 comme tri\u00e9, donc le sous-tableau contenant le premier \u00e9l\u00e9ment est tri\u00e9 ; on prend ensuite le deuxi\u00e8me \u00e9l\u00e9ment, et on l'ins\u00e8re \u00e0 la bonne place dans le sous-tableau tri\u00e9 ; on recommence en consid\u00e9rant chaque \u00e9l\u00e9ment du tableau. Exemple On veut trier le tableau [6, 5, 3, 1, 8, 7, 2, 4] par un tri par insertion. Compl\u00e9ter le tableau suivant en repr\u00e9sentant : par des fl\u00e8ches bleues les d\u00e9placements d'\u00e9l\u00e9ments d\u00e9j\u00e0 tri\u00e9s ; par des fl\u00e8ches rouges l'insertion de nouveau \u00e9l\u00e9ments dans le sous-tableau tri\u00e9 (cases jaunes). A compl\u00e9ter Version compl\u00e9t\u00e9e GIF extrait de wikipedia A venir Algorithme en pseudo-code et complexit\u00e9 Algorithme Quelques remarques Le tri par insertion est un tri en place , car il trie un tableau sans avoir besoin de tableau auxilliaire. La complexit\u00e9 du tri par insertion est quadratique , c'est-\u00e0-dire en \\(\\mathscr{O}(n^2)\\) dans le pire des cas, quand le tableau est \u00e0 l'envers. C'est aussi le cas moyen - ce qui n'est pas tr\u00e8s bon en terme de complexit\u00e9 en temps. Cependant, pour un tableau tri\u00e9 ou presque tri\u00e9, la complexit\u00e9 tombe en \\(\\mathscr{O}(n)\\) , ce qui est une complexit\u00e9 lin\u00e9aire, tr\u00e8s efficace. Application : Python Exercice Solution Construire une proc\u00e9dure (c'est-\u00e0-dire une fonction sans valeur de retour) Python triInsertion(tab) qui trie le tableau tab par un tri par insertion. def triInsertion ( tab ): # Parcour de 1 \u00e0 la taille du tab for i in range ( 1 , len ( tab )): k = tab [ i ] j = i - 1 while j >= 0 and k < tab [ j ] : tab [ j + 1 ] = tab [ j ] j -= 1 tab [ j + 1 ] = k Le tri par s\u00e9lection Principes Le principe du tri par s\u00e9lection est le suivant : On cherche le plus petit \u00e9l\u00e9ment du tableau, et on \u00e9change sa place avec l'\u00e9l\u00e9ment d'indice 0. On recherche ensuite le plus petit \u00e9l\u00e9ment dans le sous-tableau commen\u00e7ant \u00e0 l'indice 1, et on \u00e9change sa place avec l'\u00e9l\u00e9ment d'indice 1. On recommence ainsi en allant jusqu'\u00e0 l'avant dernier \u00e9l\u00e9ment. Exemple On veut trier le tableau [6, 5, 3, 1, 8, 7, 2, 4] par un tri par s\u00e9lection. Compl\u00e9ter le tableau suivant en repr\u00e9sentant par des fl\u00e8ches rouges les \u00e9changes de positions entre \u00e9l\u00e9ments A compl\u00e9ter Version compl\u00e9t\u00e9e A venir Algorithme en pseudo-code et complexit\u00e9 Algorithme Quelques remarques Le tri par s\u00e9lection est un tri en place , car il trie un tableau sans avoir besoin de tableau auxilliaire. La complexit\u00e9 du tri par s\u00e9lection est quadratique , c'est-\u00e0-dire en \\(\\mathscr{O}(n^2)\\) ddans tous les cas, puisqu'il faut parcourir chques sous-tableau afin de trouver son minimum, et ce pour chaque \u00e9l\u00e9ment du tableau. Application : Python Exercice Solution Construire une proc\u00e9dure (c'est-\u00e0-dire une fonction sans valeur de retour) Python triSelection(tab) qui trie le tableau tab par un tri par s\u00e9lection. def triSelection ( tab ): for i in range ( len ( tab )): # Trouver le min min = i for j in range ( i + 1 , len ( tab )): if tab [ min ] > tab [ j ]: min = j tmp = tab [ i ] tab [ i ] = tab [ min ] tab [ min ] = tmp Un autre algorithme de tri : le tri \u00e0 bulle L'algorithme de tri \u00e0 bulles consiste \u00e0 trier la liste en n'autorisant qu'\u00e0 intervertir deux \u00e9l\u00e9ments cons\u00e9cutifs de la liste. On peut le d\u00e9crire comme ceci: Parcourir tout le tableau et comparer les \u00e9l\u00e9ments cons\u00e9cutifs. Lorsque deux \u00e9l\u00e9ments sont dans le d\u00e9sordre, les inverser. Une fois la fin du tableau, recommencer. S'arr\u00eater d\u00e8s qu'un parcours du tableau n'a \u00e9chang\u00e9 aucun \u00e9l\u00e9ment. Exemple Effectuer le tri \u00e0 bulle du tableau [5, 1, 4, 8, 2] A compl\u00e9ter Version compl\u00e9t\u00e9e A venir Exercice Enonc\u00e9 Solution Pourquoi, \u00e0 votre avis, appelle-t-on ce tri un \u00ab tri \u00e0 bulle \u00bb ? Quelles propri\u00e9t\u00e9 at-on apr\u00e8s un parcours complet d'un tableau ? Ecrire un algorithme repr\u00e9sentant un tri \u00e0 bulle. Quelle est la complexit\u00e9 de cet algorithme ? Impl\u00e9menter une proc\u00e9dure python triBulle(tab) . A venir !","title":"Premiers algorithmes de tris"},{"location":"NSI/Premiere/C04/Algorithmes_Tri/#premiers-algorithmes-de-tri-de-tableaux","text":"","title":"Premiers algorithmes de tri de tableaux"},{"location":"NSI/Premiere/C04/Algorithmes_Tri/#trier-de-maniere-naturelle-les-algorithmes-naifs","text":"Trier \u00e0 la main Enonc\u00e9 Solution 1 Solution 2 On donne une main de 5 cartes d'un jeu de 54 cartes. Trier les cartes par ordre croissant, sans tenir compte des couleurs. Vous devrez marquer dans le tableau suivant l'ensemble des changements de positions des cartes dans votre main : Avez-vous tous utilis\u00e9 la m\u00eame m\u00e9thode ?","title":"Trier de mani\u00e8re naturelle : les algorithmes na\u00effs"},{"location":"NSI/Premiere/C04/Algorithmes_Tri/#tri-par-insertion","text":"","title":"Tri par insertion"},{"location":"NSI/Premiere/C04/Algorithmes_Tri/#principes","text":"Le principe du tri par insertion est le suivant : un tableau de dimension 1 est consid\u00e9r\u00e9 comme tri\u00e9, donc le sous-tableau contenant le premier \u00e9l\u00e9ment est tri\u00e9 ; on prend ensuite le deuxi\u00e8me \u00e9l\u00e9ment, et on l'ins\u00e8re \u00e0 la bonne place dans le sous-tableau tri\u00e9 ; on recommence en consid\u00e9rant chaque \u00e9l\u00e9ment du tableau. Exemple On veut trier le tableau [6, 5, 3, 1, 8, 7, 2, 4] par un tri par insertion. Compl\u00e9ter le tableau suivant en repr\u00e9sentant : par des fl\u00e8ches bleues les d\u00e9placements d'\u00e9l\u00e9ments d\u00e9j\u00e0 tri\u00e9s ; par des fl\u00e8ches rouges l'insertion de nouveau \u00e9l\u00e9ments dans le sous-tableau tri\u00e9 (cases jaunes). A compl\u00e9ter Version compl\u00e9t\u00e9e GIF extrait de wikipedia A venir","title":"Principes"},{"location":"NSI/Premiere/C04/Algorithmes_Tri/#algorithme-en-pseudo-code-et-complexite","text":"Algorithme Quelques remarques Le tri par insertion est un tri en place , car il trie un tableau sans avoir besoin de tableau auxilliaire. La complexit\u00e9 du tri par insertion est quadratique , c'est-\u00e0-dire en \\(\\mathscr{O}(n^2)\\) dans le pire des cas, quand le tableau est \u00e0 l'envers. C'est aussi le cas moyen - ce qui n'est pas tr\u00e8s bon en terme de complexit\u00e9 en temps. Cependant, pour un tableau tri\u00e9 ou presque tri\u00e9, la complexit\u00e9 tombe en \\(\\mathscr{O}(n)\\) , ce qui est une complexit\u00e9 lin\u00e9aire, tr\u00e8s efficace. Application : Python Exercice Solution Construire une proc\u00e9dure (c'est-\u00e0-dire une fonction sans valeur de retour) Python triInsertion(tab) qui trie le tableau tab par un tri par insertion. def triInsertion ( tab ): # Parcour de 1 \u00e0 la taille du tab for i in range ( 1 , len ( tab )): k = tab [ i ] j = i - 1 while j >= 0 and k < tab [ j ] : tab [ j + 1 ] = tab [ j ] j -= 1 tab [ j + 1 ] = k","title":"Algorithme en pseudo-code et complexit\u00e9"},{"location":"NSI/Premiere/C04/Algorithmes_Tri/#le-tri-par-selection","text":"","title":"Le tri par s\u00e9lection"},{"location":"NSI/Premiere/C04/Algorithmes_Tri/#principes_1","text":"Le principe du tri par s\u00e9lection est le suivant : On cherche le plus petit \u00e9l\u00e9ment du tableau, et on \u00e9change sa place avec l'\u00e9l\u00e9ment d'indice 0. On recherche ensuite le plus petit \u00e9l\u00e9ment dans le sous-tableau commen\u00e7ant \u00e0 l'indice 1, et on \u00e9change sa place avec l'\u00e9l\u00e9ment d'indice 1. On recommence ainsi en allant jusqu'\u00e0 l'avant dernier \u00e9l\u00e9ment. Exemple On veut trier le tableau [6, 5, 3, 1, 8, 7, 2, 4] par un tri par s\u00e9lection. Compl\u00e9ter le tableau suivant en repr\u00e9sentant par des fl\u00e8ches rouges les \u00e9changes de positions entre \u00e9l\u00e9ments A compl\u00e9ter Version compl\u00e9t\u00e9e A venir","title":"Principes"},{"location":"NSI/Premiere/C04/Algorithmes_Tri/#algorithme-en-pseudo-code-et-complexite_1","text":"Algorithme Quelques remarques Le tri par s\u00e9lection est un tri en place , car il trie un tableau sans avoir besoin de tableau auxilliaire. La complexit\u00e9 du tri par s\u00e9lection est quadratique , c'est-\u00e0-dire en \\(\\mathscr{O}(n^2)\\) ddans tous les cas, puisqu'il faut parcourir chques sous-tableau afin de trouver son minimum, et ce pour chaque \u00e9l\u00e9ment du tableau. Application : Python Exercice Solution Construire une proc\u00e9dure (c'est-\u00e0-dire une fonction sans valeur de retour) Python triSelection(tab) qui trie le tableau tab par un tri par s\u00e9lection. def triSelection ( tab ): for i in range ( len ( tab )): # Trouver le min min = i for j in range ( i + 1 , len ( tab )): if tab [ min ] > tab [ j ]: min = j tmp = tab [ i ] tab [ i ] = tab [ min ] tab [ min ] = tmp","title":"Algorithme en pseudo-code et complexit\u00e9"},{"location":"NSI/Premiere/C04/Algorithmes_Tri/#un-autre-algorithme-de-tri-le-tri-a-bulle","text":"L'algorithme de tri \u00e0 bulles consiste \u00e0 trier la liste en n'autorisant qu'\u00e0 intervertir deux \u00e9l\u00e9ments cons\u00e9cutifs de la liste. On peut le d\u00e9crire comme ceci: Parcourir tout le tableau et comparer les \u00e9l\u00e9ments cons\u00e9cutifs. Lorsque deux \u00e9l\u00e9ments sont dans le d\u00e9sordre, les inverser. Une fois la fin du tableau, recommencer. S'arr\u00eater d\u00e8s qu'un parcours du tableau n'a \u00e9chang\u00e9 aucun \u00e9l\u00e9ment. Exemple Effectuer le tri \u00e0 bulle du tableau [5, 1, 4, 8, 2] A compl\u00e9ter Version compl\u00e9t\u00e9e A venir Exercice Enonc\u00e9 Solution Pourquoi, \u00e0 votre avis, appelle-t-on ce tri un \u00ab tri \u00e0 bulle \u00bb ? Quelles propri\u00e9t\u00e9 at-on apr\u00e8s un parcours complet d'un tableau ? Ecrire un algorithme repr\u00e9sentant un tri \u00e0 bulle. Quelle est la complexit\u00e9 de cet algorithme ? Impl\u00e9menter une proc\u00e9dure python triBulle(tab) . A venir !","title":"Un autre algorithme de tri : le tri \u00e0 bulle"},{"location":"NSI/Premiere/C04/ImagesBMP/","text":"Les images matricielles Avant toutes choses, nous allons utiliser le module pillow de Python. Nous allons donc l'installer dans Thonny, en utilisant le menu Tools > Manage Packages , et dans la barre de recherche, chercher le module pillow , et l'installer s'il n'est pas d\u00e9j\u00e0 install\u00e9. Notion de BitMap : une image en noir et blanc Bitmap Analyser une premi\u00e8re image Consid\u00e9rons l'image suivante : \u00c9nonc\u00e9 R\u00e9ponses T\u00e9l\u00e9chargez ici cette image et sauvegardez-la dans un dossier BitMap que vous aurez cr\u00e9\u00e9. Quel est le format de cette image ? Recherchez sa signification sur le web. Quelles en sont les dimensions en pixels ? Quelle est sa taille en octets ? Ouvrez l'image gr\u00e2ce au logiciel Hex Editor Neo (que vous pouvez mettre en Fran\u00e7ais par l'interm\u00e9diaire de Tools > Settings > Language ). Le r\u00e9glage basique de Hex Editor Neo donne les valeurs hexad\u00e9cimales des diff\u00e9rents octets composant l'image. Dans la colonne situ\u00e9e \u00e0 droite de ces valeurs hexad\u00e9cimales, on trouve une repr\u00e9sentation de ces octets au format ANSI , c'est-\u00e0-dire sous forme de caract\u00e8res. Que retrouve-t-on au tout d\u00e9but de cette colonne ? En cliquant droit sur les groupes d'octets, effectuer le r\u00e9glage suivant : Afficher comme > D\u00e9cimale Colonnes > 32 colonnes Puis supprimer les 13 premiers octets (juste avant la premi\u00e8re valeur 255). D\u00e9zoomer avec CTRL + Molette de souris . Que voit-on apparaitre ? Que repr\u00e9sente une valeur d\u00e9cimale 255 (ou ff en hexad\u00e9cimal) ? Que repr\u00e9sente une valeur d\u00e9cimale 0 (ou 00 en hexad\u00e9cimal) ? RAS Format pgm : Portable Gray Map , permet de faire des images matricielles en nuances de gris. \\(32 \\times 32\\) pixels, soit \\(1024\\) pixels. En octets : \\(1037\\) On retrouve les valeurs 255 et 0. On voit apparaitre l'image. 255 repr\u00e9sente un pixel blanc. 0 repr\u00e9sente un pixel noir. Les images matricielles Les images matricielles , ou \u00ab cartes de points \u00bb (de l'anglais Bitmap ) est une image constitu\u00e9e d'une matrice de points color\u00e9s. C'est-\u00e0-dire, constitu\u00e9e d'un tableau, d'une grille, o\u00f9 chaque case poss\u00e8de une couleur qui lui est propre et est consid\u00e9r\u00e9e comme un point. Il s'agit donc d'une juxtaposition de points de couleurs formant, dans leur ensemble, une image. Dans notre cas, l'image est une matrice carr\u00e9e de taille \\(32\\times 32\\) pixels. Chaque pixel peut donc \u00eatre rep\u00e9r\u00e9 par ses coordonn\u00e9es, comme sur le sch\u00e9ma ci-dessous, o\u00f9 width ( largeur en anglais) et height ( hauteur en anglais) sont les dimensions de l'image. Attention ! Le sens de l'axe de ordonn\u00e9es est invers\u00e9s par rapport aux math\u00e9matiques ! Taille des images en noir et blanc En fait notre image utilise beaucoup plus de place en m\u00e9moire qu'elle ne le devrait. En effet, pour repr\u00e9senter 2 couleurs (noir et blanc), un seul bit suffit. 0 repr\u00e9sente un pixel noir, et 1 repr\u00e9sente un pixel blanc. Le format pgm n'est pas vraiment adapt\u00e9 aux pures images en noir et blanc, puisqu'il utilise 1 octet complet pour repr\u00e9senter la couleur, soit 8 fois plus que ce qui est strictement n\u00e9cessaire. Manipulation d'images avec Pillow Module Pillow Le module pillow de python permet la manipulation des images. Son guide (en anglais) est disponible ici . Son utilisation basique est relativement simple, testez par exemple le code suivant : 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 from PIL import Image originale = Image . open ( \"YingYang.pgm\" ) width , height = originale . size copie = Image . new ( originale . mode , originale . size ) for x in range ( width ) : for y in range ( height ) : if originale . getpixel (( x , y )) == 255 : copie . putpixel (( x , y ), 0 ) else : copie . putpixel (( x , y ), 255 ) copie . save ( \"YangYing.bmp\" ) copie . show () Explicitons alors ce code : Ligne 1 : on importe la classe Image du module PIL (c'est-\u00e0-dire pillow ). Ligne 3 : on utilise la m\u00e9thode open de la classe Image pour ouvrir l'image YingYang.pgm et la stocker dans la variable originale , qui est donc un objet de type Image . Ligne 4 : on utilise l' attribut size des objets Image extraire la largeur et la hauteur de notre image, et les stocker dans les variables width et height , de type int . Ligne 6 : copie est un nouvel objet de type Image , qui poss\u00e8de les m\u00eames caract\u00e9ristiques que l'image originale : son mode (nous reviendrons dessus plus loin), et sa taille gr\u00e2ce \u00e0 l'attribut size . Lignes 8-9 : on va parcourir l'image originale pixel par pixel, en effectuant le parcours colonnes par colonnes. Lignes 10 : on r\u00e9cup\u00e8re la valeur du pixel de coordonn\u00e9es \\((x;y)\\) de l'image originale gr\u00e2ce \u00e0 la m\u00e9thode getpixel , et on regarde si il est blanc ( ==255 ). Ligne 11 : si la condition pr\u00e9c\u00e9dente est vraie, on va fixer la couleur du pixel de coordonn\u00e9es \\((x;y)\\) de la copie \u00e0 noir ( 0 ), gr\u00e2ce \u00e0 la m\u00e9thode putpixel ( Attention ! putpixel et getpixel n'acceptent que des tuples pour les coordonn\u00e9es ! Si vous oubliez la paire de parenth\u00e8ses, vous risquez d'obtenir TypeError: putpixel() takes 3 positional arguments but 4 were given ). Lignes 12-13 : si la condition est fausse, on va fixer la couleur du pixel de coordonn\u00e9es \\((x;y)\\) de la copie \u00e0 blanc ( 255 ). Ligne 15 : on sauvegarde la copie sous le nom YangYing.bmp . Vous devriez trouver ce fichier dans votre dossier. On notera que pillow accepte de changer le type de fichier (ici on est pass\u00e9 de pgm \u00e0 bmp ). Ligne 16 : on affiche l'image copie . Factorisation du code \u00c9nonc\u00e9 Correction Transformez le code pr\u00e9c\u00e9dent en cr\u00e9ant une fonction inverseNB(img) qui prend en argument un objet img de type Image et qui renvoie un nouvel objet de type Image de m\u00eame dimension et m\u00eame mode que l'argument, mais ayant ses couleurs noirs et blanc invers\u00e9es. def inverseNB ( img ) : width , height = img . size copie = Image . new ( img . mode , img . size ) for x in range ( width ) : for y in range ( height ) : if img . getpixel (( x , y )) == 255 : copie . putpixel (( x , y ), 0 ) else : copie . putpixel (( x , y ), 255 ) return copie Pour les cracks : am\u00e9liorons le code \u00c9nonc\u00e9 R\u00e9ponse En fait le code ci dessus n'est valable que p\u00e9dagogiquement, pour comprendre les . Il est tout \u00e0 fait possible de se passer de la structure conditionnelle des lignes 10 \u00e0 13, qui peuvent \u00eatre effectu\u00e9es en une seule ligne ! Comment faire ? def inverseNB ( img ) : width , height = img . size copie = Image . new ( img . mode , img . size ) for x in range ( width ) : for y in range ( height ) : copie . putpixel (( x , y ), 255 - img . getpixel (( x , y ))) return copie Les niveaux de gris Un exemple Une nouvelle image On consid\u00e8re maintenant l'image suivante : t\u00e9l\u00e9chargeable ici . \u00c9nonc\u00e9 R\u00e9ponses Quelle est la dimension de cette image en pixels ? Quelle est sa dimension en octets ? Ouvrez-l\u00e0 avec Hex Editor Neo . Quelle est la principale diff\u00e9rence avec l'image pr\u00e9c\u00e9dente ? Testez sur cette image la fonction inverseNB . Obtient-on un n\u00e9gatif de cette image ? \\(29 \\times 54\\) pixels, soit 1566 pixels, pour une taille de 1579 octets. Il y a d'autres valeurs entre 0 et 255. Non. Images en niveaux de gris - Grayscale Pour repr\u00e9senter une palette de 256 couleurs allant du noir au blanc, on utilise un octet complet la valeur 0 repr\u00e9sente le noir ; la valeur 255 repr\u00e9sente le blanc ; une valeur proche de 0 repr\u00e9sente un gris fonc\u00e9 une valeur proche de 255 repr\u00e9sente un gris clair. Une telle image, dite en \u00ab niveaux de gris \u00bb, utilise 1 octet par pixel. Manipulation d'une image en niveau de gris Manipuler les images \u00c9nonc\u00e9 Correction T\u00e9l\u00e9chargez une image quelconque libre de droits sur internet - peu importe son format. On cherche \u00e0 obtenir un n\u00e9gatif de l'image. Pour ce faire, il faut utiliser une fonction math\u00e9matique. En effet, ce que nous voulons, c'est une fonction qui transforme : 0 en 255 1 en 254 2 en 253 ... 254 en 1 255 en 0 Quelle est cette fonction ? Cr\u00e9er alors une fonction python n\u00e9gatif(img) qui renvoie le n\u00e9gatif de l'objet img de type Image . \u00c9claircissement d'une image : Pour \u00e9claircir une image, il faut transformer les valeurs grayscale de chaque pixel en les augmentant. Une possibilit\u00e9 simples est de les augmenter d'un terme constant, comme 20 par exemple. Ainsi, un pixel initialement \u00e0 0 sera chang\u00e9 \u00e0 20, et un pixel \u00e0 147 sera chang\u00e9 \u00e0 167 (pillow n'autorisera pas les d\u00e9passement au del\u00e0 de 255, donc un pixel \u00e0 250 sera bien transform\u00e9 \u00e0 255). Cr\u00e9er alors une fonction python \u00e9claircir(img, t=20) qui renvoie un nouvel objet de type Image , version \u00e9claircie de l'objet img de type Image pass\u00e9 en argument, et utilisant l'argument optionnel t . Assombrissement d'une image : Cr\u00e9er de m\u00eame une fonction python assombrir(img, t=20) qui renvoie un nouvel objet de type Image , version assombrie de l'objet img de type Image pass\u00e9 en argument, et utilisant l'argument optionnel t . \u00c9tait-on vraiment oblig\u00e9 de faire deux fonctions ? RAS \\(f : x \\mapsto 255 -x\\) La fonction : def negatif ( img ) : width , height = img . size copie = Image . new ( img . mode , img . size ) for x in range ( width ) : for y in range ( height ) : copie . putpixel (( x , y ), 255 - img . getpixel (( x , y ))) return copie La fonction : def eclaircir ( img , t = 20 ) : width , height = img . size copie = Image . new ( img . mode , img . size ) for x in range ( width ) : for y in range ( height ) : copie . putpixel (( x , y ), t + img . getpixel (( x , y ))) return copie La fonction : def assombrir ( img , t = 20 ) : return eclaircir ( img , - t ) Non, au vu de la question pr\u00e9c\u00e9dente Pour les cracks Nos \u00e9claircissement et assombrissement pr\u00e9c\u00e9dents ne sont gu\u00e8re satisfaisants... car nous ne jouons pas sur le contraste. Il existe bien de fonctions math\u00e9matiques permettant d'am\u00e9liorer notre m\u00e9thode. Vous pouvez vous inspirer du travail de Paul Milan , tr\u00e8s math\u00e9matique, ou bien tester les fonctionnalit\u00e9s du module pillow , en suivant par exemple ce tutoriel . Images en couleur Il est temps de mettre un peu de couleur ! Synth\u00e8se additive RGB Un pixel de couleur est repr\u00e9sent\u00e9 par un triplet \\((R;G;B)\\) , o\u00f9 \\(R\\) , \\(G\\) et \\(B\\) sont des valeurs de \\(0\\) \u00e0 \\(255\\) repr\u00e9sentant respectivement les couleurs rouges, vertes et bleues. Un tel syst\u00e8me permet de repr\u00e9senter \\(256^3 = 16~277~216\\) nuances de couleurs diff\u00e9rentes, par synth\u00e8se additive des couleurs . Ce format est adapt\u00e9 \u00e0 la lecture sur \u00e9cran (on utilise un syst\u00e8me diff\u00e9rent pour l'impression des images, le syst\u00e8me CYMB - Cyan Yellow Magenta Black - qui utilise la synth\u00e8se soustractive). De ce fait, dans un format non compress\u00e9 comme le format BMP , chaque pixel est repr\u00e9sent\u00e9 par 3 octets. Exemple On consid\u00e8re l'image suivante : L'image est de dimension \\(320 \\times 100\\) et p\u00e8se 96 ko, ce qui correspond \\(320 \\times 100 \\times 3 = 96~000~o\\) (en n'oubliant pas les m\u00e9ta-donn\u00e9es). RGB et pillow \u00c9nonc\u00e9 Solutions T\u00e9l\u00e9chargez l'image suivante : Cr\u00e9er un code dans Thonny ouvrant l'image et affichant cette image : from PIL import Image originale = Image . open ( \"TroisCercles.bmp\" ) ## Attention si vous avez chang\u00e9 le nom ! originale . show () . Ins\u00e9rez dans ce code la commande : print ( image . getpixel (( 150 , 50 ))) Que renvoie-t-elle ? A l'aide d'un \u00e9diteur d'images, rep\u00e9rer dans l'image pr\u00e9c\u00e9dente le pixel de coordonn\u00e9es \\((150 ; 50)\\) . Quelle est sa couleur ? Reprendre la question 3 avec les pixels suivants : \\((50 ; 100)\\) \\((250 ; 100)\\) \\((100 ; 130)\\) \\((200 ; 130)\\) \\((50 ; 230)\\) \\((150 ; 150)\\) A venir ! Transparence Dans certains formats d'image il est possible d'utiliser un quatri\u00e8me octet pour chaque pixel, qui permet de g\u00e9rer la transparence (aussi appel\u00e9e canal alpha ) de ce pixel. Cette valeur d\u00e9fini un pourcentage de transparence permettant de voir au travers de ce pixel, et donc de superposer des images. Par exemple, les deux images suivantes sont construites ainsi : une est construite en jpg , sans transparence, avec fond noir, et la seconde est en png , avec transparence pour le fond de couleur noire : Dans un format avec transparence, la valeur 0 correspond \u00e0 un pixel totalement opaque, et une valeur 255 \u00e0 un pixel totalement transparent. Compression des images Compression des images Les images sont tr\u00e8s gourmandes en place m\u00e9moire. Un moniteur moderne supportant une r\u00e9solution 4K a pour dimension \\(4~096 \\times 2~160\\) pixels, soit plus de 8,8 millions de pixels. Une image de fond d'\u00e9cran couleur, avec transparence, non compress\u00e9e , repr\u00e9sente donc plus de \\(8,8 \\times 4 \\simeq 35\\) millions d'octets, soit plus de 35 Mo. Pourtant une image comme celle-ci (cr\u00e9dits inconnus), pourtant bien de la dimension \\(4~096 \\times 2~160\\) , p\u00e8se seulement 4,52 Mo. Ceci est du \u00e0 un processus appel\u00e9 compression d'images , qui peut \u00eatre effectu\u00e9 de plusieurs mani\u00e8res diff\u00e9rentes : en r\u00e9duisant le nombre de couleurs r\u00e9elles de l'image (on cr\u00e9e une palette sp\u00e9cifique pour cette image, dont la table de correspondance est ins\u00e9r\u00e9e dans les m\u00e9ta-donn\u00e9es de l'image) ; en groupant les pixels contigus de m\u00eame couleur (100 pixels de la m\u00eame couleur sur la m\u00eame ligne occupent a minima 300 octets, alors que l'information \u00ab Il y a 100 pixels sur cette ligne de la m\u00eame couleur \u00e0 partir de la position \\((x_0;y_0)\\) \u00bb peut occuper uniquement 6 octets - 1 pour le nombre 100, un pour \\(x_0\\) , un pour \\(y_0\\) et 3 pour la couleur RGB) ; etc... Par exemple, l'algorithme de compression JPEG red\u00e9finit les couleurs des pixels en leurs r\u00e9-attribuant une couleur moyenne qui est calcul\u00e9e en fonction des couleurs des pixels voisins, et qui d\u00e9pend d'un taux de compression d\u00e9finissable par l'utilisateur. Plus le taux de compression est \u00e9lev\u00e9, plus l'image sera d\u00e9grad\u00e9e ( compression avec perte ): Original : 1,42 Mo Format d\u00e9j\u00e0 compress\u00e9 Copie 1 : 205 ko Compression depuis original : 90% Copie 2 : 162 ko Compression depuis original : 99% Il existe cependant des algorithmes de compression sans perte , comme par exemple avec le format png . Les formats des fichiers images Il existe de nombreux formats d'images num\u00e9riques de types matriciels . Les principaux sont donn\u00e9s dans le tableau suivant : Type Extension Compression Transparence Utilisation JPEG .jpg , .jpeg , .jfif , .pjpeg , .pjp avec pertes Non Web, aper\u00e7us, impressions (si peu de compression) PNG .png sans pertes Oui Besoin de transparence fine, peu de couleurs GIF .gif avec pertes Oui (partielle) Images anim\u00e9es, fichiers de petites tailles TIFF .tiff, .tif sans pertes Non Images hautes d\u00e9finition, scans pr\u00e9cis RAW .raw, .data, ... Non Non Images brutes, \u00e9ditions de photos BMP .bmp Non En partie Paint... Les logiciels de retouches et d'\u00e9dition d'images matricielles sont nombreux, le plus connu \u00e9tant le c\u00e9l\u00e8bre Photoshop , mais qui est un logiciel propri\u00e9taire. Son \u00e9quivalent libre est GIMP . Il offre les m\u00eames fonctionnalit\u00e9s, et ne demande qu'une simple adaptation \u00e0 l'interface... Images Vectorielles Dans le tableau pr\u00e9c\u00e9dent, vous n'avez que des format d'images matricielles . Il existe aussi un autre type d'images num\u00e9riques appel\u00e9 images vectorielles , construites sur un tout autre principe. Une image vectorielle est une image pour laquelle les \u00e9l\u00e9ments constitutifs sont stock\u00e9e sous la forme d'\u00e9quations . Ainsi l'image du manchot Tux , mascotte officielle du noyau Linux (\u00e0 ne pas confondre avec GNU/Linux ), est une image vectorielle au format SVG , qui peut \u00eatre ouverte par Notepad++ . On trouve dans le fichier la description des diff\u00e9rentes courbes, surfaces, etc... qui d\u00e9crivent l'image. L'avantage d'une telle image est qu'elle ne pixelisera pas, quel que soit le zoom qui lui est appliqu\u00e9 (en th\u00e9orie...). De telles images peuvent \u00eatre cr\u00e9es et manipul\u00e9es \u00e0 l'aide du logiciel libre Inkscape . Manipulation des images Cr\u00e9ation d'images Exemple de cr\u00e9ation d'image RGB avec Pillow Le code suivant permet de cr\u00e9er une image au format png des trois cercles color\u00e9s de la synth\u00e8se additive : 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 from PIL import Image from math import sqrt def distance ( p1 , p2 ) : return sqrt (( p1 [ 0 ] - p2 [ 0 ]) ** 2 + ( p1 [ 1 ] - p2 [ 1 ]) ** 2 ) def makeCircles ( a ) : width = 3 * a height = int (( 2 + sqrt ( 3 ) / 2 ) * a ) img = Image . new ( \"RGB\" , ( width , height )) for x in range ( width ) : for y in range ( height ) : R = 255 * ( distance (( x , y ), ( 2 * a , ( 1 + sqrt ( 3 ) / 2 ) * a )) < a ) G = 255 * ( distance (( x , y ), ( 3 * a / 2 , a )) < a ) B = 255 * ( distance (( x , y ), ( a , ( 1 + sqrt ( 3 ) / 2 ) * a )) < a ) img . putpixel (( x , y ),( R , G , B )) return img if __name__ == \"__main__\" : image = makeCircles ( 100 ) image . save ( \"TroisCercles.png\" ) Les lignes importantes sont les suivantes : Ligne 10 : on cr\u00e9e une nouvelle image utilisant le format RGB, de la largeur et de la hauteur donn\u00e9e (sous la forme d'un tuple de dimension 2). On pourrait cr\u00e9er une image avec transparence en utilisant le format RGBA - voir ici Lignes 11-12, on parcours l'image colonne par colonne, x \u00e9tant l'abscisse (= le num\u00e9ro de colonne) et y \u00e9tant l'ordonn\u00e9e (= le num\u00e9ro de ligne). ligne 16 : on place \u00e0 la position \\((x;y)\\) un pixel dont la couleur est donn\u00e9e par le tuple (R, G, B) , conform\u00e9ment au mode choisi en ligne 10. ligne 21 : l'objet image renvoy\u00e9 par la fonction makeCircles avec l'argument 100 est sauvegard\u00e9e sous le nom TroisCercles.png gr\u00e2ce \u00e0 la m\u00e9thode save . Un peu de maths L'image est construite \u00e0 partir d'un triangle \u00e9quilat\u00e9ral de c\u00f4t\u00e9 \\(a\\) dont les sommets sont les centres des trois cercles RGB, et dont les coordonn\u00e9es sont respectivement \\((2a ; (1+\\cfrac{\\sqrt{3}}{2}a)\\) , \\((\\cfrac{3}{2}a ; a)\\) et \\((a ; (1+\\cfrac{\\sqrt{3}}{2}a)\\) . Cr\u00e9er des images simples \u00c9nonc\u00e9 Corrig\u00e9 Cr\u00e9er le drapeau fran\u00e7ais sous la forme d'une image de taille \\(300 \\times 200\\) . Cr\u00e9er le drapeau n\u00e9erlandais sous la forme d'une image de taille \\(300 \\times 210\\) . Cr\u00e9er un damier noir et blanc (ou toute autre paire de couleurs), de dimension \\(600 \\times 400\\) , et donc chaque carr\u00e9 \u00e0 une taille de 20 pixels ( Indice : pensez \u00e0 la division euclidienne et \u00e0 l'op\u00e9rateur modulo % ). Le drapeau fran\u00e7ais : def drapeauFR () : drapeau = Image . new ( 'RGB' , ( 300 , 200 )) for x in range ( 300 ) : for y in range ( 200 ) : drapeau . putpixel (( x , y ), ( 255 * ( x >= 100 ), 255 * ( 100 <= x < 200 ), 255 * ( x < 200 ))) drapeau . show () Le drapeau N\u00e9erlandais def drapeauNL () : drapeau = Image . new ( 'RGB' , ( 300 , 210 )) for x in range ( 300 ) : for y in range ( 210 ) : drapeau . putpixel (( x , y ), ( 255 * ( y <= 140 ), 255 * ( 70 <= y < 140 ), 255 * ( y > 70 ))) drapeau . show () Le damier de taille 20 pixels : def damier () : damier = Image . new ( 'RGB' , ( 600 , 400 )) for x in range ( 600 ) : for y in range ( 400 ) : c = x // 20 # Num\u00e9ro de colonne l = y // 20 # Num\u00e9ro de ligne if c % 2 == l % 2 : damier . putpixel (( x , y ), ( 0 , 0 , 0 )) else : damier . putpixel (( x , y ), ( 255 , 255 , 255 )) damier . show () Sym\u00e9tries Sym\u00e9tries axiales et centrales \u00c9nonc\u00e9 Solutions S\u00e9lectionnez une image libre de droit sur le web. Cr\u00e9ez une fonction symetrieVerticale qui prend en argument un objet de type Image et qui renvoie un nouvel objet de type Image qui correspond \u00e0 l'image sym\u00e9trique de l'originale par une sym\u00e9trie d'axe m\u00e9dian vertical. Cr\u00e9ez une fonction symetrieHorizontale qui prend en argument un objet de type Image et qui renvoie un nouvel objet de type Image qui correspond \u00e0 l'image sym\u00e9trique de l'originale par une sym\u00e9trie d'axe m\u00e9dian horizontal. Cr\u00e9ez une fonction symetrieCentrale qui prend en argument un objet de type Image et qui renvoie un nouvel objet de type Image qui correspond \u00e0 l'image sym\u00e9trique de l'originale par une sym\u00e9trie de centre correspondant au centre de l'image. Sym\u00e9trie Verticale : def symetrieVerticale ( originale ) : width , height = originale . size nouvelle = Image . new ( originale . mode , originale . size ) for x in range ( width ) : for y in range ( height ) : p = originale . getpixel (( x , y )) nouvelle . putpixel (( width - 1 - x , y ) , p ) return nouvelle Sym\u00e9trie horizontale : def symetrieHorizontale ( originale ) : width , height = originale . size nouvelle = Image . new ( originale . mode , originale . size ) for x in range ( width ) : for y in range ( height ) : p = originale . getpixel (( x , y )) nouvelle . putpixel (( x , height - 1 - y ) , p ) return nouvelle Sym\u00e9trie centrale : def symetrieCentrale ( originale ) : return symetrieHorizontale ( symetrieVerticale ( originale )) Filtres color\u00e9s Filtre vert Quand on applique un filtre vert \u00e0 une image num\u00e9rique, on parcourt l'image enti\u00e8re en ne r\u00e9cup\u00e9rant pour chaque pixel que sa composante verte, et en mettant le rouge et le bleu \u00e0 0. Par exemple, avec une image de type png et en gardant le canal alpha : Filtres de couleur \u00c9nonc\u00e9 R\u00e9ponse Cr\u00e9er une fonction filtreCouleur qui prend en argument un objet de type Image et un tuple (r, g, b, a) , o\u00f9 r, g, b et a sont des bool\u00e9ens, et qui renvoie une nouvelle image pour lesquelles les couleurs RGBA sont conserv\u00e9es si le bool\u00e9en correspondant est True . Par exemple, l'image de Naruto verte ci-dessus est obtenue par le code : naruto = Image . open ( \"Naruto.png\" ) narutoGreen = filtreCouleur ( naruto , ( False , True , False , True )) narutoGreen . show () Cr\u00e9er ainsi des images NarutoRouge.png , NarutoBleu.png , NarutoJaune.png , NarutoMagenta.png et NarutoCyan.png Cr\u00e9er maintenant l'image suivante \u00e0 partir de pillow ( indice : pensez \u00e0 l'op\u00e9ration modulo ! ) : Cr\u00e9er une fonction negatif qui prend en argument une image et inverse les octets de chacune de ses composantes, en conservant le canal alpha. On obtiendra par exemple : Filtre couleur : def filtreCouleur ( img , filtre ) : fr , fg , fb , fa = filtre copie = Image . new ( img . mode , img . size ) width , height = img . size for x in range ( width ) : for y in range ( height ) : pr , pg , pb , pa = img . getpixel (( x , y )) copie . putpixel (( x , y ), ( pr * fr , pg * fg , pb * fb , pa * fa )) # ou copie.putpixel((x,y), tuple(f*p for f, p in zip(filtre, img.getpixel(x,y)) return copie Agrandissements et r\u00e9ductions d'un facteur 2 Version na\u00efve Agrandissement d'un facteur 2 \u00c9nonc\u00e9 Solution Le principe d'agrandissement d'un facteur 2 est le suivant : chaque pixel va \u00eatre dupliqu\u00e9 4 fois comme sur le sch\u00e9ma suivant : Compl\u00e9ter la fonction doubleSimple(image) qui prend en argument un objet de type Image et renvoie un autre objet de type Image deux fois plus grand utilisant la technique montr\u00e9e ci-dessus : 1 2 3 4 5 6 7 8 9 10 def doubleSimple ( image ) : w , h = image . size double = Image . new ( 'RGBA' , ... ) for x in range ( ... ) : for y in range ( ... ) : double . putpixel (( 2 * x , 2 * y ), image . getpixel (( x , y ))) ... ... ... return double 1 2 3 4 5 6 7 8 9 10 def doubleSimple ( image ) : w , h = image . size double = Image . new ( 'RGBA' , ( 2 * w , 2 * h )) for x in range ( w ) : for y in range ( h ) : double . putpixel (( 2 * x , 2 * y ), image . getpixel (( x , y ))) double . putpixel (( 2 * x + 1 , 2 * y ), image . getpixel (( x , y ))) double . putpixel (( 2 * x , 2 * y + 1 ), image . getpixel (( x , y ))) double . putpixel (( 2 * x + 1 , 2 * y + 1 ), image . getpixel (( x , y ))) return double R\u00e9duction d'un facteur 2 \u00c9nonc\u00e9 Solution Encore une fois le principe est simple, on ne garde qu'un pixel sur deux, au choix, les pixels de rang pairs ou bien impairs (ici on garde ceux de rang impair): Cr\u00e9er une fonction reductionSimple(image) qui prends en argument un objet de type Image est qui renvoie sa version r\u00e9duite avec la m\u00e9thode ci-dessus. python linenums = \"1\" def reductionSimple(image) : w, h = image.size reduction = Image.new('RGBA', (w//2, h//2)) for x in range(w//2) : for y in range(h//2) : reduction.putpixel((x,y), image.getpixel((x*2, y*2))) return reduction Combiner les deux \u00c9nonc\u00e9 Solution Cr\u00e9er, \u00e0 partir d'une image de base, une image r\u00e9duite, puis, \u00e0 partir de cette image r\u00e9duite, une nouvelle image agrandie. V\u00e9rifier que cette derni\u00e8re est bien de la m\u00eame taille que l'image originale. Comparer alors cette image avec l'originale. La transformation est-elle avec pertes ou sans pertes ? Recommencer mais en agrandissant d'abord. Comparer les images obtenues en 1 et en 2. Sont-elles identiques ? A venir ! Version \"pour les cracks\" Interpolation Le principe de l'interpolation est d'augmenter ou de diminuer la matrice initiale d'une image, en cr\u00e9ant les nouveaux points \u00e0 partir de ceux de l'image originale, en y appliquant \u00e9ventuellement des fonctions math\u00e9matiques. Il existe de nombreuses m\u00e9thodes d'interpolation en imagerie num\u00e9rique, certaines n\u00e9cessitant des algorithmes complexes. Celles pr\u00e9sent\u00e9es ici font partie des plus simples. Agrandissement avec interpolation par moyenne \u00c9nonc\u00e9 Solution La m\u00e9thode que nous allons utiliser est la suivante : Entre deux pixels existants, que ce soit horizontalement, verticalement ou en diagonale, on ins\u00e8re un pixel dont la valeur RGBA est \u00e9gale \u00e0 la moyenne des valeurs RGBA des deux pixels qui l'encadrent. Cr\u00e9er une fonction moyenne(px1, px2) qui prend en argument les valeurs RGBA de ces deux pixels et renvoie un tuple de dimension 4 correspondant \u00e0 la moyenne par composante RGBA . Cr\u00e9er, en s'inspirant de la fonction \u00e0 partir de la fonction doubleSimple , une fonction doubleInterpolation(image) qui prend en argument un objet de type Image et qui renvoie un nouvel objet de dimension double en utilisant la technique pr\u00e9c\u00e9dente. Attention ! Il y a des cas limites \u00e0 pr\u00e9voir dans la manipulation des pixels ! A venir ! R\u00e9duction avec interpolation par moyenne des voisins \u00c9nonc\u00e9 La m\u00e9thode que nous allons utiliser va consister \u00e0 reprendre la m\u00e9thode utilis\u00e9e dans la r\u00e9duction simple, c'est-\u00e0-dire de prendre un pixel sur deux, mais le pixel \u00e9crit dans la nouvelle image sera obtenu en effectuant la moyenne des valeurs RGBA de tous les voisins du pixel choisi : Cr\u00e9er une fonction moyenneVoisin(image, x, y) qui prend en argument un objet de type Image , et deux entiers x et y , et qui renvoie un tuple correspondant \u00e0 la moyenne des valeurs RGBA des voisins du pixel de coordonn\u00e9es \\((x~;~y)\\) de l'image image . A l'aide de la fonction pr\u00e9c\u00e9dente, et en s'inspirant de la fonction reductionSimple , cr\u00e9er une fonction reductionInterpolation(image) qui renvoie une image r\u00e9duite en utilisant la technique pr\u00e9c\u00e9dente. Combiner les deux \u00c9nonc\u00e9 Solution Cr\u00e9er, \u00e0 partir d'une image de base, une image r\u00e9duite, puis, \u00e0 partir de cette image r\u00e9duite, une nouvelle image agrandie. V\u00e9rifier que cette derni\u00e8re est bien de la m\u00eame taille que l'image originale. Comparer alors cette image avec l'originale. La transformation est-elle avec pertes ou sans pertes ? Recommencer mais en agrandissant d'abord. Comparer les images obtenues en 1 et en 2. Sont-elles identiques ? Comparer maintenant les transformations simples avec les transformations avec interpolation. A venir !","title":"Les images Matricielles"},{"location":"NSI/Premiere/C04/ImagesBMP/#les-images-matricielles","text":"Avant toutes choses, nous allons utiliser le module pillow de Python. Nous allons donc l'installer dans Thonny, en utilisant le menu Tools > Manage Packages , et dans la barre de recherche, chercher le module pillow , et l'installer s'il n'est pas d\u00e9j\u00e0 install\u00e9.","title":"Les images matricielles"},{"location":"NSI/Premiere/C04/ImagesBMP/#notion-de-bitmap-une-image-en-noir-et-blanc","text":"","title":"Notion de BitMap : une image en noir et blanc"},{"location":"NSI/Premiere/C04/ImagesBMP/#bitmap","text":"Analyser une premi\u00e8re image Consid\u00e9rons l'image suivante : \u00c9nonc\u00e9 R\u00e9ponses T\u00e9l\u00e9chargez ici cette image et sauvegardez-la dans un dossier BitMap que vous aurez cr\u00e9\u00e9. Quel est le format de cette image ? Recherchez sa signification sur le web. Quelles en sont les dimensions en pixels ? Quelle est sa taille en octets ? Ouvrez l'image gr\u00e2ce au logiciel Hex Editor Neo (que vous pouvez mettre en Fran\u00e7ais par l'interm\u00e9diaire de Tools > Settings > Language ). Le r\u00e9glage basique de Hex Editor Neo donne les valeurs hexad\u00e9cimales des diff\u00e9rents octets composant l'image. Dans la colonne situ\u00e9e \u00e0 droite de ces valeurs hexad\u00e9cimales, on trouve une repr\u00e9sentation de ces octets au format ANSI , c'est-\u00e0-dire sous forme de caract\u00e8res. Que retrouve-t-on au tout d\u00e9but de cette colonne ? En cliquant droit sur les groupes d'octets, effectuer le r\u00e9glage suivant : Afficher comme > D\u00e9cimale Colonnes > 32 colonnes Puis supprimer les 13 premiers octets (juste avant la premi\u00e8re valeur 255). D\u00e9zoomer avec CTRL + Molette de souris . Que voit-on apparaitre ? Que repr\u00e9sente une valeur d\u00e9cimale 255 (ou ff en hexad\u00e9cimal) ? Que repr\u00e9sente une valeur d\u00e9cimale 0 (ou 00 en hexad\u00e9cimal) ? RAS Format pgm : Portable Gray Map , permet de faire des images matricielles en nuances de gris. \\(32 \\times 32\\) pixels, soit \\(1024\\) pixels. En octets : \\(1037\\) On retrouve les valeurs 255 et 0. On voit apparaitre l'image. 255 repr\u00e9sente un pixel blanc. 0 repr\u00e9sente un pixel noir. Les images matricielles Les images matricielles , ou \u00ab cartes de points \u00bb (de l'anglais Bitmap ) est une image constitu\u00e9e d'une matrice de points color\u00e9s. C'est-\u00e0-dire, constitu\u00e9e d'un tableau, d'une grille, o\u00f9 chaque case poss\u00e8de une couleur qui lui est propre et est consid\u00e9r\u00e9e comme un point. Il s'agit donc d'une juxtaposition de points de couleurs formant, dans leur ensemble, une image. Dans notre cas, l'image est une matrice carr\u00e9e de taille \\(32\\times 32\\) pixels. Chaque pixel peut donc \u00eatre rep\u00e9r\u00e9 par ses coordonn\u00e9es, comme sur le sch\u00e9ma ci-dessous, o\u00f9 width ( largeur en anglais) et height ( hauteur en anglais) sont les dimensions de l'image. Attention ! Le sens de l'axe de ordonn\u00e9es est invers\u00e9s par rapport aux math\u00e9matiques ! Taille des images en noir et blanc En fait notre image utilise beaucoup plus de place en m\u00e9moire qu'elle ne le devrait. En effet, pour repr\u00e9senter 2 couleurs (noir et blanc), un seul bit suffit. 0 repr\u00e9sente un pixel noir, et 1 repr\u00e9sente un pixel blanc. Le format pgm n'est pas vraiment adapt\u00e9 aux pures images en noir et blanc, puisqu'il utilise 1 octet complet pour repr\u00e9senter la couleur, soit 8 fois plus que ce qui est strictement n\u00e9cessaire.","title":"Bitmap"},{"location":"NSI/Premiere/C04/ImagesBMP/#manipulation-dimages-avec-pillow","text":"Module Pillow Le module pillow de python permet la manipulation des images. Son guide (en anglais) est disponible ici . Son utilisation basique est relativement simple, testez par exemple le code suivant : 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 from PIL import Image originale = Image . open ( \"YingYang.pgm\" ) width , height = originale . size copie = Image . new ( originale . mode , originale . size ) for x in range ( width ) : for y in range ( height ) : if originale . getpixel (( x , y )) == 255 : copie . putpixel (( x , y ), 0 ) else : copie . putpixel (( x , y ), 255 ) copie . save ( \"YangYing.bmp\" ) copie . show () Explicitons alors ce code : Ligne 1 : on importe la classe Image du module PIL (c'est-\u00e0-dire pillow ). Ligne 3 : on utilise la m\u00e9thode open de la classe Image pour ouvrir l'image YingYang.pgm et la stocker dans la variable originale , qui est donc un objet de type Image . Ligne 4 : on utilise l' attribut size des objets Image extraire la largeur et la hauteur de notre image, et les stocker dans les variables width et height , de type int . Ligne 6 : copie est un nouvel objet de type Image , qui poss\u00e8de les m\u00eames caract\u00e9ristiques que l'image originale : son mode (nous reviendrons dessus plus loin), et sa taille gr\u00e2ce \u00e0 l'attribut size . Lignes 8-9 : on va parcourir l'image originale pixel par pixel, en effectuant le parcours colonnes par colonnes. Lignes 10 : on r\u00e9cup\u00e8re la valeur du pixel de coordonn\u00e9es \\((x;y)\\) de l'image originale gr\u00e2ce \u00e0 la m\u00e9thode getpixel , et on regarde si il est blanc ( ==255 ). Ligne 11 : si la condition pr\u00e9c\u00e9dente est vraie, on va fixer la couleur du pixel de coordonn\u00e9es \\((x;y)\\) de la copie \u00e0 noir ( 0 ), gr\u00e2ce \u00e0 la m\u00e9thode putpixel ( Attention ! putpixel et getpixel n'acceptent que des tuples pour les coordonn\u00e9es ! Si vous oubliez la paire de parenth\u00e8ses, vous risquez d'obtenir TypeError: putpixel() takes 3 positional arguments but 4 were given ). Lignes 12-13 : si la condition est fausse, on va fixer la couleur du pixel de coordonn\u00e9es \\((x;y)\\) de la copie \u00e0 blanc ( 255 ). Ligne 15 : on sauvegarde la copie sous le nom YangYing.bmp . Vous devriez trouver ce fichier dans votre dossier. On notera que pillow accepte de changer le type de fichier (ici on est pass\u00e9 de pgm \u00e0 bmp ). Ligne 16 : on affiche l'image copie . Factorisation du code \u00c9nonc\u00e9 Correction Transformez le code pr\u00e9c\u00e9dent en cr\u00e9ant une fonction inverseNB(img) qui prend en argument un objet img de type Image et qui renvoie un nouvel objet de type Image de m\u00eame dimension et m\u00eame mode que l'argument, mais ayant ses couleurs noirs et blanc invers\u00e9es. def inverseNB ( img ) : width , height = img . size copie = Image . new ( img . mode , img . size ) for x in range ( width ) : for y in range ( height ) : if img . getpixel (( x , y )) == 255 : copie . putpixel (( x , y ), 0 ) else : copie . putpixel (( x , y ), 255 ) return copie Pour les cracks : am\u00e9liorons le code \u00c9nonc\u00e9 R\u00e9ponse En fait le code ci dessus n'est valable que p\u00e9dagogiquement, pour comprendre les . Il est tout \u00e0 fait possible de se passer de la structure conditionnelle des lignes 10 \u00e0 13, qui peuvent \u00eatre effectu\u00e9es en une seule ligne ! Comment faire ? def inverseNB ( img ) : width , height = img . size copie = Image . new ( img . mode , img . size ) for x in range ( width ) : for y in range ( height ) : copie . putpixel (( x , y ), 255 - img . getpixel (( x , y ))) return copie","title":"Manipulation d'images avec Pillow"},{"location":"NSI/Premiere/C04/ImagesBMP/#les-niveaux-de-gris","text":"","title":"Les niveaux de gris"},{"location":"NSI/Premiere/C04/ImagesBMP/#un-exemple","text":"Une nouvelle image On consid\u00e8re maintenant l'image suivante : t\u00e9l\u00e9chargeable ici . \u00c9nonc\u00e9 R\u00e9ponses Quelle est la dimension de cette image en pixels ? Quelle est sa dimension en octets ? Ouvrez-l\u00e0 avec Hex Editor Neo . Quelle est la principale diff\u00e9rence avec l'image pr\u00e9c\u00e9dente ? Testez sur cette image la fonction inverseNB . Obtient-on un n\u00e9gatif de cette image ? \\(29 \\times 54\\) pixels, soit 1566 pixels, pour une taille de 1579 octets. Il y a d'autres valeurs entre 0 et 255. Non. Images en niveaux de gris - Grayscale Pour repr\u00e9senter une palette de 256 couleurs allant du noir au blanc, on utilise un octet complet la valeur 0 repr\u00e9sente le noir ; la valeur 255 repr\u00e9sente le blanc ; une valeur proche de 0 repr\u00e9sente un gris fonc\u00e9 une valeur proche de 255 repr\u00e9sente un gris clair. Une telle image, dite en \u00ab niveaux de gris \u00bb, utilise 1 octet par pixel.","title":"Un exemple"},{"location":"NSI/Premiere/C04/ImagesBMP/#manipulation-dune-image-en-niveau-de-gris","text":"Manipuler les images \u00c9nonc\u00e9 Correction T\u00e9l\u00e9chargez une image quelconque libre de droits sur internet - peu importe son format. On cherche \u00e0 obtenir un n\u00e9gatif de l'image. Pour ce faire, il faut utiliser une fonction math\u00e9matique. En effet, ce que nous voulons, c'est une fonction qui transforme : 0 en 255 1 en 254 2 en 253 ... 254 en 1 255 en 0 Quelle est cette fonction ? Cr\u00e9er alors une fonction python n\u00e9gatif(img) qui renvoie le n\u00e9gatif de l'objet img de type Image . \u00c9claircissement d'une image : Pour \u00e9claircir une image, il faut transformer les valeurs grayscale de chaque pixel en les augmentant. Une possibilit\u00e9 simples est de les augmenter d'un terme constant, comme 20 par exemple. Ainsi, un pixel initialement \u00e0 0 sera chang\u00e9 \u00e0 20, et un pixel \u00e0 147 sera chang\u00e9 \u00e0 167 (pillow n'autorisera pas les d\u00e9passement au del\u00e0 de 255, donc un pixel \u00e0 250 sera bien transform\u00e9 \u00e0 255). Cr\u00e9er alors une fonction python \u00e9claircir(img, t=20) qui renvoie un nouvel objet de type Image , version \u00e9claircie de l'objet img de type Image pass\u00e9 en argument, et utilisant l'argument optionnel t . Assombrissement d'une image : Cr\u00e9er de m\u00eame une fonction python assombrir(img, t=20) qui renvoie un nouvel objet de type Image , version assombrie de l'objet img de type Image pass\u00e9 en argument, et utilisant l'argument optionnel t . \u00c9tait-on vraiment oblig\u00e9 de faire deux fonctions ? RAS \\(f : x \\mapsto 255 -x\\) La fonction : def negatif ( img ) : width , height = img . size copie = Image . new ( img . mode , img . size ) for x in range ( width ) : for y in range ( height ) : copie . putpixel (( x , y ), 255 - img . getpixel (( x , y ))) return copie La fonction : def eclaircir ( img , t = 20 ) : width , height = img . size copie = Image . new ( img . mode , img . size ) for x in range ( width ) : for y in range ( height ) : copie . putpixel (( x , y ), t + img . getpixel (( x , y ))) return copie La fonction : def assombrir ( img , t = 20 ) : return eclaircir ( img , - t ) Non, au vu de la question pr\u00e9c\u00e9dente Pour les cracks Nos \u00e9claircissement et assombrissement pr\u00e9c\u00e9dents ne sont gu\u00e8re satisfaisants... car nous ne jouons pas sur le contraste. Il existe bien de fonctions math\u00e9matiques permettant d'am\u00e9liorer notre m\u00e9thode. Vous pouvez vous inspirer du travail de Paul Milan , tr\u00e8s math\u00e9matique, ou bien tester les fonctionnalit\u00e9s du module pillow , en suivant par exemple ce tutoriel .","title":"Manipulation d'une image en niveau de gris"},{"location":"NSI/Premiere/C04/ImagesBMP/#images-en-couleur","text":"Il est temps de mettre un peu de couleur ! Synth\u00e8se additive RGB Un pixel de couleur est repr\u00e9sent\u00e9 par un triplet \\((R;G;B)\\) , o\u00f9 \\(R\\) , \\(G\\) et \\(B\\) sont des valeurs de \\(0\\) \u00e0 \\(255\\) repr\u00e9sentant respectivement les couleurs rouges, vertes et bleues. Un tel syst\u00e8me permet de repr\u00e9senter \\(256^3 = 16~277~216\\) nuances de couleurs diff\u00e9rentes, par synth\u00e8se additive des couleurs . Ce format est adapt\u00e9 \u00e0 la lecture sur \u00e9cran (on utilise un syst\u00e8me diff\u00e9rent pour l'impression des images, le syst\u00e8me CYMB - Cyan Yellow Magenta Black - qui utilise la synth\u00e8se soustractive). De ce fait, dans un format non compress\u00e9 comme le format BMP , chaque pixel est repr\u00e9sent\u00e9 par 3 octets. Exemple On consid\u00e8re l'image suivante : L'image est de dimension \\(320 \\times 100\\) et p\u00e8se 96 ko, ce qui correspond \\(320 \\times 100 \\times 3 = 96~000~o\\) (en n'oubliant pas les m\u00e9ta-donn\u00e9es). RGB et pillow \u00c9nonc\u00e9 Solutions T\u00e9l\u00e9chargez l'image suivante : Cr\u00e9er un code dans Thonny ouvrant l'image et affichant cette image : from PIL import Image originale = Image . open ( \"TroisCercles.bmp\" ) ## Attention si vous avez chang\u00e9 le nom ! originale . show () . Ins\u00e9rez dans ce code la commande : print ( image . getpixel (( 150 , 50 ))) Que renvoie-t-elle ? A l'aide d'un \u00e9diteur d'images, rep\u00e9rer dans l'image pr\u00e9c\u00e9dente le pixel de coordonn\u00e9es \\((150 ; 50)\\) . Quelle est sa couleur ? Reprendre la question 3 avec les pixels suivants : \\((50 ; 100)\\) \\((250 ; 100)\\) \\((100 ; 130)\\) \\((200 ; 130)\\) \\((50 ; 230)\\) \\((150 ; 150)\\) A venir ! Transparence Dans certains formats d'image il est possible d'utiliser un quatri\u00e8me octet pour chaque pixel, qui permet de g\u00e9rer la transparence (aussi appel\u00e9e canal alpha ) de ce pixel. Cette valeur d\u00e9fini un pourcentage de transparence permettant de voir au travers de ce pixel, et donc de superposer des images. Par exemple, les deux images suivantes sont construites ainsi : une est construite en jpg , sans transparence, avec fond noir, et la seconde est en png , avec transparence pour le fond de couleur noire : Dans un format avec transparence, la valeur 0 correspond \u00e0 un pixel totalement opaque, et une valeur 255 \u00e0 un pixel totalement transparent.","title":"Images en couleur"},{"location":"NSI/Premiere/C04/ImagesBMP/#compression-des-images","text":"Compression des images Les images sont tr\u00e8s gourmandes en place m\u00e9moire. Un moniteur moderne supportant une r\u00e9solution 4K a pour dimension \\(4~096 \\times 2~160\\) pixels, soit plus de 8,8 millions de pixels. Une image de fond d'\u00e9cran couleur, avec transparence, non compress\u00e9e , repr\u00e9sente donc plus de \\(8,8 \\times 4 \\simeq 35\\) millions d'octets, soit plus de 35 Mo. Pourtant une image comme celle-ci (cr\u00e9dits inconnus), pourtant bien de la dimension \\(4~096 \\times 2~160\\) , p\u00e8se seulement 4,52 Mo. Ceci est du \u00e0 un processus appel\u00e9 compression d'images , qui peut \u00eatre effectu\u00e9 de plusieurs mani\u00e8res diff\u00e9rentes : en r\u00e9duisant le nombre de couleurs r\u00e9elles de l'image (on cr\u00e9e une palette sp\u00e9cifique pour cette image, dont la table de correspondance est ins\u00e9r\u00e9e dans les m\u00e9ta-donn\u00e9es de l'image) ; en groupant les pixels contigus de m\u00eame couleur (100 pixels de la m\u00eame couleur sur la m\u00eame ligne occupent a minima 300 octets, alors que l'information \u00ab Il y a 100 pixels sur cette ligne de la m\u00eame couleur \u00e0 partir de la position \\((x_0;y_0)\\) \u00bb peut occuper uniquement 6 octets - 1 pour le nombre 100, un pour \\(x_0\\) , un pour \\(y_0\\) et 3 pour la couleur RGB) ; etc... Par exemple, l'algorithme de compression JPEG red\u00e9finit les couleurs des pixels en leurs r\u00e9-attribuant une couleur moyenne qui est calcul\u00e9e en fonction des couleurs des pixels voisins, et qui d\u00e9pend d'un taux de compression d\u00e9finissable par l'utilisateur. Plus le taux de compression est \u00e9lev\u00e9, plus l'image sera d\u00e9grad\u00e9e ( compression avec perte ): Original : 1,42 Mo Format d\u00e9j\u00e0 compress\u00e9 Copie 1 : 205 ko Compression depuis original : 90% Copie 2 : 162 ko Compression depuis original : 99% Il existe cependant des algorithmes de compression sans perte , comme par exemple avec le format png .","title":"Compression des images"},{"location":"NSI/Premiere/C04/ImagesBMP/#les-formats-des-fichiers-images","text":"Il existe de nombreux formats d'images num\u00e9riques de types matriciels . Les principaux sont donn\u00e9s dans le tableau suivant : Type Extension Compression Transparence Utilisation JPEG .jpg , .jpeg , .jfif , .pjpeg , .pjp avec pertes Non Web, aper\u00e7us, impressions (si peu de compression) PNG .png sans pertes Oui Besoin de transparence fine, peu de couleurs GIF .gif avec pertes Oui (partielle) Images anim\u00e9es, fichiers de petites tailles TIFF .tiff, .tif sans pertes Non Images hautes d\u00e9finition, scans pr\u00e9cis RAW .raw, .data, ... Non Non Images brutes, \u00e9ditions de photos BMP .bmp Non En partie Paint... Les logiciels de retouches et d'\u00e9dition d'images matricielles sont nombreux, le plus connu \u00e9tant le c\u00e9l\u00e8bre Photoshop , mais qui est un logiciel propri\u00e9taire. Son \u00e9quivalent libre est GIMP . Il offre les m\u00eames fonctionnalit\u00e9s, et ne demande qu'une simple adaptation \u00e0 l'interface... Images Vectorielles Dans le tableau pr\u00e9c\u00e9dent, vous n'avez que des format d'images matricielles . Il existe aussi un autre type d'images num\u00e9riques appel\u00e9 images vectorielles , construites sur un tout autre principe. Une image vectorielle est une image pour laquelle les \u00e9l\u00e9ments constitutifs sont stock\u00e9e sous la forme d'\u00e9quations . Ainsi l'image du manchot Tux , mascotte officielle du noyau Linux (\u00e0 ne pas confondre avec GNU/Linux ), est une image vectorielle au format SVG , qui peut \u00eatre ouverte par Notepad++ . On trouve dans le fichier la description des diff\u00e9rentes courbes, surfaces, etc... qui d\u00e9crivent l'image. L'avantage d'une telle image est qu'elle ne pixelisera pas, quel que soit le zoom qui lui est appliqu\u00e9 (en th\u00e9orie...). De telles images peuvent \u00eatre cr\u00e9es et manipul\u00e9es \u00e0 l'aide du logiciel libre Inkscape .","title":"Les formats des fichiers images"},{"location":"NSI/Premiere/C04/ImagesBMP/#manipulation-des-images","text":"","title":"Manipulation des images"},{"location":"NSI/Premiere/C04/ImagesBMP/#creation-dimages","text":"Exemple de cr\u00e9ation d'image RGB avec Pillow Le code suivant permet de cr\u00e9er une image au format png des trois cercles color\u00e9s de la synth\u00e8se additive : 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 from PIL import Image from math import sqrt def distance ( p1 , p2 ) : return sqrt (( p1 [ 0 ] - p2 [ 0 ]) ** 2 + ( p1 [ 1 ] - p2 [ 1 ]) ** 2 ) def makeCircles ( a ) : width = 3 * a height = int (( 2 + sqrt ( 3 ) / 2 ) * a ) img = Image . new ( \"RGB\" , ( width , height )) for x in range ( width ) : for y in range ( height ) : R = 255 * ( distance (( x , y ), ( 2 * a , ( 1 + sqrt ( 3 ) / 2 ) * a )) < a ) G = 255 * ( distance (( x , y ), ( 3 * a / 2 , a )) < a ) B = 255 * ( distance (( x , y ), ( a , ( 1 + sqrt ( 3 ) / 2 ) * a )) < a ) img . putpixel (( x , y ),( R , G , B )) return img if __name__ == \"__main__\" : image = makeCircles ( 100 ) image . save ( \"TroisCercles.png\" ) Les lignes importantes sont les suivantes : Ligne 10 : on cr\u00e9e une nouvelle image utilisant le format RGB, de la largeur et de la hauteur donn\u00e9e (sous la forme d'un tuple de dimension 2). On pourrait cr\u00e9er une image avec transparence en utilisant le format RGBA - voir ici Lignes 11-12, on parcours l'image colonne par colonne, x \u00e9tant l'abscisse (= le num\u00e9ro de colonne) et y \u00e9tant l'ordonn\u00e9e (= le num\u00e9ro de ligne). ligne 16 : on place \u00e0 la position \\((x;y)\\) un pixel dont la couleur est donn\u00e9e par le tuple (R, G, B) , conform\u00e9ment au mode choisi en ligne 10. ligne 21 : l'objet image renvoy\u00e9 par la fonction makeCircles avec l'argument 100 est sauvegard\u00e9e sous le nom TroisCercles.png gr\u00e2ce \u00e0 la m\u00e9thode save . Un peu de maths L'image est construite \u00e0 partir d'un triangle \u00e9quilat\u00e9ral de c\u00f4t\u00e9 \\(a\\) dont les sommets sont les centres des trois cercles RGB, et dont les coordonn\u00e9es sont respectivement \\((2a ; (1+\\cfrac{\\sqrt{3}}{2}a)\\) , \\((\\cfrac{3}{2}a ; a)\\) et \\((a ; (1+\\cfrac{\\sqrt{3}}{2}a)\\) . Cr\u00e9er des images simples \u00c9nonc\u00e9 Corrig\u00e9 Cr\u00e9er le drapeau fran\u00e7ais sous la forme d'une image de taille \\(300 \\times 200\\) . Cr\u00e9er le drapeau n\u00e9erlandais sous la forme d'une image de taille \\(300 \\times 210\\) . Cr\u00e9er un damier noir et blanc (ou toute autre paire de couleurs), de dimension \\(600 \\times 400\\) , et donc chaque carr\u00e9 \u00e0 une taille de 20 pixels ( Indice : pensez \u00e0 la division euclidienne et \u00e0 l'op\u00e9rateur modulo % ). Le drapeau fran\u00e7ais : def drapeauFR () : drapeau = Image . new ( 'RGB' , ( 300 , 200 )) for x in range ( 300 ) : for y in range ( 200 ) : drapeau . putpixel (( x , y ), ( 255 * ( x >= 100 ), 255 * ( 100 <= x < 200 ), 255 * ( x < 200 ))) drapeau . show () Le drapeau N\u00e9erlandais def drapeauNL () : drapeau = Image . new ( 'RGB' , ( 300 , 210 )) for x in range ( 300 ) : for y in range ( 210 ) : drapeau . putpixel (( x , y ), ( 255 * ( y <= 140 ), 255 * ( 70 <= y < 140 ), 255 * ( y > 70 ))) drapeau . show () Le damier de taille 20 pixels : def damier () : damier = Image . new ( 'RGB' , ( 600 , 400 )) for x in range ( 600 ) : for y in range ( 400 ) : c = x // 20 # Num\u00e9ro de colonne l = y // 20 # Num\u00e9ro de ligne if c % 2 == l % 2 : damier . putpixel (( x , y ), ( 0 , 0 , 0 )) else : damier . putpixel (( x , y ), ( 255 , 255 , 255 )) damier . show ()","title":"Cr\u00e9ation d'images"},{"location":"NSI/Premiere/C04/ImagesBMP/#symetries","text":"Sym\u00e9tries axiales et centrales \u00c9nonc\u00e9 Solutions S\u00e9lectionnez une image libre de droit sur le web. Cr\u00e9ez une fonction symetrieVerticale qui prend en argument un objet de type Image et qui renvoie un nouvel objet de type Image qui correspond \u00e0 l'image sym\u00e9trique de l'originale par une sym\u00e9trie d'axe m\u00e9dian vertical. Cr\u00e9ez une fonction symetrieHorizontale qui prend en argument un objet de type Image et qui renvoie un nouvel objet de type Image qui correspond \u00e0 l'image sym\u00e9trique de l'originale par une sym\u00e9trie d'axe m\u00e9dian horizontal. Cr\u00e9ez une fonction symetrieCentrale qui prend en argument un objet de type Image et qui renvoie un nouvel objet de type Image qui correspond \u00e0 l'image sym\u00e9trique de l'originale par une sym\u00e9trie de centre correspondant au centre de l'image. Sym\u00e9trie Verticale : def symetrieVerticale ( originale ) : width , height = originale . size nouvelle = Image . new ( originale . mode , originale . size ) for x in range ( width ) : for y in range ( height ) : p = originale . getpixel (( x , y )) nouvelle . putpixel (( width - 1 - x , y ) , p ) return nouvelle Sym\u00e9trie horizontale : def symetrieHorizontale ( originale ) : width , height = originale . size nouvelle = Image . new ( originale . mode , originale . size ) for x in range ( width ) : for y in range ( height ) : p = originale . getpixel (( x , y )) nouvelle . putpixel (( x , height - 1 - y ) , p ) return nouvelle Sym\u00e9trie centrale : def symetrieCentrale ( originale ) : return symetrieHorizontale ( symetrieVerticale ( originale ))","title":"Sym\u00e9tries"},{"location":"NSI/Premiere/C04/ImagesBMP/#filtres-colores","text":"Filtre vert Quand on applique un filtre vert \u00e0 une image num\u00e9rique, on parcourt l'image enti\u00e8re en ne r\u00e9cup\u00e9rant pour chaque pixel que sa composante verte, et en mettant le rouge et le bleu \u00e0 0. Par exemple, avec une image de type png et en gardant le canal alpha : Filtres de couleur \u00c9nonc\u00e9 R\u00e9ponse Cr\u00e9er une fonction filtreCouleur qui prend en argument un objet de type Image et un tuple (r, g, b, a) , o\u00f9 r, g, b et a sont des bool\u00e9ens, et qui renvoie une nouvelle image pour lesquelles les couleurs RGBA sont conserv\u00e9es si le bool\u00e9en correspondant est True . Par exemple, l'image de Naruto verte ci-dessus est obtenue par le code : naruto = Image . open ( \"Naruto.png\" ) narutoGreen = filtreCouleur ( naruto , ( False , True , False , True )) narutoGreen . show () Cr\u00e9er ainsi des images NarutoRouge.png , NarutoBleu.png , NarutoJaune.png , NarutoMagenta.png et NarutoCyan.png Cr\u00e9er maintenant l'image suivante \u00e0 partir de pillow ( indice : pensez \u00e0 l'op\u00e9ration modulo ! ) : Cr\u00e9er une fonction negatif qui prend en argument une image et inverse les octets de chacune de ses composantes, en conservant le canal alpha. On obtiendra par exemple : Filtre couleur : def filtreCouleur ( img , filtre ) : fr , fg , fb , fa = filtre copie = Image . new ( img . mode , img . size ) width , height = img . size for x in range ( width ) : for y in range ( height ) : pr , pg , pb , pa = img . getpixel (( x , y )) copie . putpixel (( x , y ), ( pr * fr , pg * fg , pb * fb , pa * fa )) # ou copie.putpixel((x,y), tuple(f*p for f, p in zip(filtre, img.getpixel(x,y)) return copie","title":"Filtres color\u00e9s"},{"location":"NSI/Premiere/C04/ImagesBMP/#agrandissements-et-reductions-dun-facteur-2","text":"","title":"Agrandissements et r\u00e9ductions d'un facteur 2"},{"location":"NSI/Premiere/C04/ImagesBMP/#version-naive","text":"Agrandissement d'un facteur 2 \u00c9nonc\u00e9 Solution Le principe d'agrandissement d'un facteur 2 est le suivant : chaque pixel va \u00eatre dupliqu\u00e9 4 fois comme sur le sch\u00e9ma suivant : Compl\u00e9ter la fonction doubleSimple(image) qui prend en argument un objet de type Image et renvoie un autre objet de type Image deux fois plus grand utilisant la technique montr\u00e9e ci-dessus : 1 2 3 4 5 6 7 8 9 10 def doubleSimple ( image ) : w , h = image . size double = Image . new ( 'RGBA' , ... ) for x in range ( ... ) : for y in range ( ... ) : double . putpixel (( 2 * x , 2 * y ), image . getpixel (( x , y ))) ... ... ... return double 1 2 3 4 5 6 7 8 9 10 def doubleSimple ( image ) : w , h = image . size double = Image . new ( 'RGBA' , ( 2 * w , 2 * h )) for x in range ( w ) : for y in range ( h ) : double . putpixel (( 2 * x , 2 * y ), image . getpixel (( x , y ))) double . putpixel (( 2 * x + 1 , 2 * y ), image . getpixel (( x , y ))) double . putpixel (( 2 * x , 2 * y + 1 ), image . getpixel (( x , y ))) double . putpixel (( 2 * x + 1 , 2 * y + 1 ), image . getpixel (( x , y ))) return double R\u00e9duction d'un facteur 2 \u00c9nonc\u00e9 Solution Encore une fois le principe est simple, on ne garde qu'un pixel sur deux, au choix, les pixels de rang pairs ou bien impairs (ici on garde ceux de rang impair): Cr\u00e9er une fonction reductionSimple(image) qui prends en argument un objet de type Image est qui renvoie sa version r\u00e9duite avec la m\u00e9thode ci-dessus. python linenums = \"1\" def reductionSimple(image) : w, h = image.size reduction = Image.new('RGBA', (w//2, h//2)) for x in range(w//2) : for y in range(h//2) : reduction.putpixel((x,y), image.getpixel((x*2, y*2))) return reduction Combiner les deux \u00c9nonc\u00e9 Solution Cr\u00e9er, \u00e0 partir d'une image de base, une image r\u00e9duite, puis, \u00e0 partir de cette image r\u00e9duite, une nouvelle image agrandie. V\u00e9rifier que cette derni\u00e8re est bien de la m\u00eame taille que l'image originale. Comparer alors cette image avec l'originale. La transformation est-elle avec pertes ou sans pertes ? Recommencer mais en agrandissant d'abord. Comparer les images obtenues en 1 et en 2. Sont-elles identiques ? A venir !","title":"Version na\u00efve"},{"location":"NSI/Premiere/C04/ImagesBMP/#version-pour-les-cracks","text":"Interpolation Le principe de l'interpolation est d'augmenter ou de diminuer la matrice initiale d'une image, en cr\u00e9ant les nouveaux points \u00e0 partir de ceux de l'image originale, en y appliquant \u00e9ventuellement des fonctions math\u00e9matiques. Il existe de nombreuses m\u00e9thodes d'interpolation en imagerie num\u00e9rique, certaines n\u00e9cessitant des algorithmes complexes. Celles pr\u00e9sent\u00e9es ici font partie des plus simples. Agrandissement avec interpolation par moyenne \u00c9nonc\u00e9 Solution La m\u00e9thode que nous allons utiliser est la suivante : Entre deux pixels existants, que ce soit horizontalement, verticalement ou en diagonale, on ins\u00e8re un pixel dont la valeur RGBA est \u00e9gale \u00e0 la moyenne des valeurs RGBA des deux pixels qui l'encadrent. Cr\u00e9er une fonction moyenne(px1, px2) qui prend en argument les valeurs RGBA de ces deux pixels et renvoie un tuple de dimension 4 correspondant \u00e0 la moyenne par composante RGBA . Cr\u00e9er, en s'inspirant de la fonction \u00e0 partir de la fonction doubleSimple , une fonction doubleInterpolation(image) qui prend en argument un objet de type Image et qui renvoie un nouvel objet de dimension double en utilisant la technique pr\u00e9c\u00e9dente. Attention ! Il y a des cas limites \u00e0 pr\u00e9voir dans la manipulation des pixels ! A venir ! R\u00e9duction avec interpolation par moyenne des voisins \u00c9nonc\u00e9 La m\u00e9thode que nous allons utiliser va consister \u00e0 reprendre la m\u00e9thode utilis\u00e9e dans la r\u00e9duction simple, c'est-\u00e0-dire de prendre un pixel sur deux, mais le pixel \u00e9crit dans la nouvelle image sera obtenu en effectuant la moyenne des valeurs RGBA de tous les voisins du pixel choisi : Cr\u00e9er une fonction moyenneVoisin(image, x, y) qui prend en argument un objet de type Image , et deux entiers x et y , et qui renvoie un tuple correspondant \u00e0 la moyenne des valeurs RGBA des voisins du pixel de coordonn\u00e9es \\((x~;~y)\\) de l'image image . A l'aide de la fonction pr\u00e9c\u00e9dente, et en s'inspirant de la fonction reductionSimple , cr\u00e9er une fonction reductionInterpolation(image) qui renvoie une image r\u00e9duite en utilisant la technique pr\u00e9c\u00e9dente. Combiner les deux \u00c9nonc\u00e9 Solution Cr\u00e9er, \u00e0 partir d'une image de base, une image r\u00e9duite, puis, \u00e0 partir de cette image r\u00e9duite, une nouvelle image agrandie. V\u00e9rifier que cette derni\u00e8re est bien de la m\u00eame taille que l'image originale. Comparer alors cette image avec l'originale. La transformation est-elle avec pertes ou sans pertes ? Recommencer mais en agrandissant d'abord. Comparer les images obtenues en 1 et en 2. Sont-elles identiques ? Comparer maintenant les transformations simples avec les transformations avec interpolation. A venir !","title":"Version \"pour les cracks\""},{"location":"NSI/Premiere/C04/Listes_Comprehension/","text":"Listes et compr\u00e9hensions de listes en Python, introduction \u00e0 la notion de co\u00fbt en temps Les tableaux Tableaux En informatique, un tableau est une structure de donn\u00e9es repr\u00e9sentant une s\u00e9quence finie d'\u00e9l\u00e9ments auxquels on peut acc\u00e9der efficacement par leur position, ou indice, dans la s\u00e9quence. C'est un type de conteneur que l'on retrouve dans un grand nombre de langages de programmation. On parle aussi de tableau index\u00e9. Dans les langages \u00e0 typage statique (comme C, Java et OCaml), tous les \u00e9l\u00e9ments d'un tableau doivent \u00eatre du m\u00eame type. Certains langages \u00e0 typage dynamique , tels que Python, permettent des tableaux h\u00e9t\u00e9rog\u00e8nes (donc avec des donn\u00e9es de natures diff\u00e9rentes). Les tableaux en Python En Python, un tableau est repr\u00e9sent\u00e9 par un objet de type list . Les principales diff\u00e9rences entre les types list et tuple sont : un objet de type list est une s\u00e9quence entre crochets : >>> mon_tab = [ 45 , 24 , - 35 , - 12 ] >>> type ( mon_tab ) < class ' list '> un objet de type list est mutable , ce qui n'est pas le cas d'un tuple : Code Python Tutor >>> mon_tab = [ 45 , 24 , - 35 , - 12 ] >>> mon_tab [ 2 ] = 1000 >>> mon_tab [ 45 , 24 , 1000 , - 12 ] >>> mon_tuple = ( 45 , 24 , - 35 , - 12 ) >>> mon_tuple [ 2 ] = 1000 Traceback ( most recent call last ): File \"<pyshell>\" , line 1 , in < module > TypeError : 'tuple' object does not support item assignment Les types list et tuple partagent sinon les m\u00eames propri\u00e9t\u00e9s : indices, acc\u00e8s aux \u00e9l\u00e9ments, longueur avec len() , parcours s\u00e9quentiel avec for ... En particulier les algorithmes vus pr\u00e9c\u00e9demment sont aussi valable pour un tableau. Algorithme de recherche s\u00e9quentiel Enonc\u00e9 Solution On veut construire une fonction chercheElement(elem, monTab) qui renvoie : l'indice de la premi\u00e8re occurrence de elem si elem est pr\u00e9sent dans le tableau monTab ; la longueur du tableau si l'\u00e9l\u00e9ment elem n'est pas pr\u00e9sent dans le tableau monTab . D\u00e9crire en pseudo-code un algorithme d\u00e9finissant cette fonction. Proposer une impl\u00e9mentation de ce pseudo-code en Python. Quel est le co\u00fbt en temps de cet algorithme ? ( \u00e0 faire avec le professeur. ) A venir ! M\u00e9thode built-in index en Python La fonction pr\u00e9c\u00e9dente est d\u00e9j\u00e0 impl\u00e9ment\u00e9e en Python, avec une diff\u00e9rence : elle renvoie une erreur si l'\u00e9l\u00e9ment cherch\u00e9 n'est pas dans le tableau. >>> mon_tab = [ 45 , 24 , - 35 , - 12 , 24 ] >>> mon_tab . index ( 24 ) 1 >>> mon_tab . index ( 36 ) Traceback ( most recent call last ): File \"<pyshell>\" , line 1 , in < module > ValueError : 36 is not in list Sp\u00e9cificit\u00e9 des listes en Python M\u00e9thodes et pratiques des listes Construire une liste vide : >>> monTab = [ ] # ou bien >>> monTab = list () Ajouter un \u00e9l\u00e9ment \u00e0 la fin d'une liste : >>> monTab . append ( 3 ) >>> monTab [ 3 ] >>> monTab . append ( 5 ) >>> monTab . append ( 7 ) >>> monTab [ 3 , 5 , 7 ] Supprimer et r\u00e9cup\u00e9rer le dernier \u00e9l\u00e9ment du tableau : >>> dernier = monTab . pop () >>> dernier 7 >>> monTab [ 3 , 5 ] La m\u00e9thode pop poss\u00e8de d'autres propri\u00e9t\u00e9s que je vous laisse rechercher . Convertir un tableau en tuple : >>> monTuple = tuple ( monTab ) >>> monTuple ( 3 , 5 ) Convertir un tuple en tableau : >>> monTab = list ( monTuple ) >>> monTab [ 3 , 5 ] Extraire des parties d'un tableau gr\u00e2ce aux slices : >>> monTab = [ 35 , 36 , 37 , 38 , 39 , 40 , 41 , 42 , 43 , 44 , 45 , 46 , 47 ] >>> monTab [ : 4 ] [ 35 , 36 , 37 , 38 ] >>> monTab [ 7 : ] [ 42 , 43 , 44 , 45 , 46 , 47 ] >>> monTab [ 4 : 7 ] [ 39 , 40 , 41 ] Concat\u00e9ner des tableaux: >>> [ 1 , 2 , 3 ] + [ 7 , 8 , 9 ] [ 1 , 2 , 3 , 7 , 8 , 9 ] Exercice Enonc\u00e9 Solution En utilisant les m\u00e9thodes pr\u00e9sent\u00e9es ci-dessus : \u00c9crire une fonction carre(n) qui renvoie le tableau des carr\u00e9s des nombres entiers compris entre \\(0\\) et \\(n-1\\) . >>> carre ( 4 ) [ 0 , 1 , 4 , 9 ] \u00c9crire une fonction imagesf(deb,fin) qui renvoie le tableau des images des nombres entiers compris entre deb et fin par la fonction \\(f :x \\mapsto 3x^2-2x+1\\) . >>> imagef ( - 2 , 3 ) [ 17 , 6 , 1 , 2 , 9 , 22 ] \u00c9crire une fonction genereListe(n) qui renvoie un tableau de \\(n\\) nombres al\u00e9atoires compris entre \\(1\\) et \\(n^2\\) . ( On pourra importer une fois le module random et utiliser la fonction random.randint(a,b) qui renvoie un nombre al\u00e9atoire entre \\(a\\) et \\(b\\) inclus). Ecrire une fonction insere(monTab, val, i) qui renvoie une liste dans laquelle est inser\u00e9 l'\u00e9l\u00e9ment val \u00e0 l'indice i au sein des \u00e9l\u00e9ments de monTab , en supposant que \\(i<len(monTab)\\) . >>> insere ([ 1 , 2 , 3 , 4 ], 5 , 2 ) [ 1 , 2 , 5 , 3 , 4 ] \u00c9crire une fonction compter(monTab,val) permettant de compter le nombre d'occurrences de val dans monTab . >>> compter ([ 4 , 6 , 8 , 6 , 7 , 6 , 9 ], 6 ) 3 >>> compter ([ 2 , 4 , 6 ], 3 ) 0 \u00c9crire une fonction compterIndices(monTab,val) permettant de renvoyer un tableau des indices des occurrences de val dans monTab . >>> compter ([ 4 , 6 , 8 , 6 , 7 , 6 , 9 ], 6 ) [ 1 , 3 , 5 ] >>> compter ([ 2 , 4 , 6 ], 3 ) [] \u00c9crire une fonction separer(monTab,val) permettant, \u00e0 partir d'une liste de nombres monTab d'obtenir deux listes. La premi\u00e8re comporte les nombres inf\u00e9rieurs ou \u00e9gaux \u00e0 un nombre donn\u00e9, la seconde les nombres qui lui sont strictement sup\u00e9rieurs : >>> separer ([ 45 , 21 , 56 , 12 , 1 , 8 , 30 , 22 , 6 , 33 ], 30 ) [ 21 , 12 , 1 , 8 , 30 , 22 , 6 ], [ 45 , 56 , 33 ] \u00c9crire une fonction plusProche(monTab,val) permettant de rechercher la plus proche valeur d'un nombre dans une liste : >>> plusProche ([ 45 , 21 , 56 , 12 , 1 , 8 , 30 , 22 , 6 , 33 ], 20 ) 21. def carre ( n ) : t = [] for i in range ( n + 1 ) : t . append ( i ** 2 ) return t python def imagesf(deb,fin) : t =[] for i in range(deb, fin+1) : t.append(3*i**2 -2*i+1) return t Construction de listes par compr\u00e9hension Jusqu'\u00e0 pr\u00e9sent nous avons d\u00e9fini nos listes par extension , c'est-\u00e0-dire en donnant exactement les \u00e9l\u00e9ments de la liste. Cependant, cette m\u00e9thode n'est pas efficace pour de tr\u00e8s grandes listes. Il faudra donc donner une m\u00e9thode de construction de la liste, en essayant de comprendre les liens entre les diff\u00e9rents \u00e9l\u00e9ments de cette liste. On parle alors de listes d\u00e9finies par compr\u00e9hension . Compr\u00e9hensions de listes Une des sp\u00e9cificit\u00e9s de Python est la capacit\u00e9 \u00e0 construire des listes (et des tuples) par compr\u00e9hension. Cette capacit\u00e9 est partag\u00e9e avec d'autres langages, comme Haskell . premi\u00e8res compr\u00e9hensions Enonc\u00e9 Quel est le tableau associ\u00e9 \u00e0 monTab ? monTab = [ 4 * nb for nb in range ( 100 )] Quel est le tableau associ\u00e9 \u00e0 monTab ? Pourquoi ? monTab = [ 3 * nb for nb in range ( 100 ) if nb % 2 == 0 ] Quel est le tableau associ\u00e9 \u00e0 monTab ? monTab = [ let for let in 'Abracadabra' ] Quel est le tableau associ\u00e9 \u00e0 monTab ? Pourquoi ? monTab = [ let for let in 'Abracadabra' if let . upper () != 'A' ] Quel est le tableau associ\u00e9 \u00e0 monTab ? Pourquoi ? monTab = [ ord ( let ) for let in 'Abracadabra' ] R\u00e9duire le code Enonc\u00e9 Solution Comme vous avez pu le constater, les compr\u00e9hensions sont rapides \u00e0 \u00e9crire. Et certaines fonctions de l'exercice n\u00b02 peuvent \u00eatre consid\u00e9rablement r\u00e9duites : les fonctions carre , imagef et genereListe . Utilisez les compr\u00e9hensions pour r\u00e9duire leur taille. A venir !","title":"Listes et compr\u00e9hensions"},{"location":"NSI/Premiere/C04/Listes_Comprehension/#listes-et-comprehensions-de-listes-en-python-introduction-a-la-notion-de-cout-en-temps","text":"","title":"Listes et compr\u00e9hensions de listes en Python, introduction \u00e0 la notion de co\u00fbt en temps"},{"location":"NSI/Premiere/C04/Listes_Comprehension/#les-tableaux","text":"Tableaux En informatique, un tableau est une structure de donn\u00e9es repr\u00e9sentant une s\u00e9quence finie d'\u00e9l\u00e9ments auxquels on peut acc\u00e9der efficacement par leur position, ou indice, dans la s\u00e9quence. C'est un type de conteneur que l'on retrouve dans un grand nombre de langages de programmation. On parle aussi de tableau index\u00e9. Dans les langages \u00e0 typage statique (comme C, Java et OCaml), tous les \u00e9l\u00e9ments d'un tableau doivent \u00eatre du m\u00eame type. Certains langages \u00e0 typage dynamique , tels que Python, permettent des tableaux h\u00e9t\u00e9rog\u00e8nes (donc avec des donn\u00e9es de natures diff\u00e9rentes). Les tableaux en Python En Python, un tableau est repr\u00e9sent\u00e9 par un objet de type list . Les principales diff\u00e9rences entre les types list et tuple sont : un objet de type list est une s\u00e9quence entre crochets : >>> mon_tab = [ 45 , 24 , - 35 , - 12 ] >>> type ( mon_tab ) < class ' list '> un objet de type list est mutable , ce qui n'est pas le cas d'un tuple : Code Python Tutor >>> mon_tab = [ 45 , 24 , - 35 , - 12 ] >>> mon_tab [ 2 ] = 1000 >>> mon_tab [ 45 , 24 , 1000 , - 12 ] >>> mon_tuple = ( 45 , 24 , - 35 , - 12 ) >>> mon_tuple [ 2 ] = 1000 Traceback ( most recent call last ): File \"<pyshell>\" , line 1 , in < module > TypeError : 'tuple' object does not support item assignment Les types list et tuple partagent sinon les m\u00eames propri\u00e9t\u00e9s : indices, acc\u00e8s aux \u00e9l\u00e9ments, longueur avec len() , parcours s\u00e9quentiel avec for ... En particulier les algorithmes vus pr\u00e9c\u00e9demment sont aussi valable pour un tableau. Algorithme de recherche s\u00e9quentiel Enonc\u00e9 Solution On veut construire une fonction chercheElement(elem, monTab) qui renvoie : l'indice de la premi\u00e8re occurrence de elem si elem est pr\u00e9sent dans le tableau monTab ; la longueur du tableau si l'\u00e9l\u00e9ment elem n'est pas pr\u00e9sent dans le tableau monTab . D\u00e9crire en pseudo-code un algorithme d\u00e9finissant cette fonction. Proposer une impl\u00e9mentation de ce pseudo-code en Python. Quel est le co\u00fbt en temps de cet algorithme ? ( \u00e0 faire avec le professeur. ) A venir ! M\u00e9thode built-in index en Python La fonction pr\u00e9c\u00e9dente est d\u00e9j\u00e0 impl\u00e9ment\u00e9e en Python, avec une diff\u00e9rence : elle renvoie une erreur si l'\u00e9l\u00e9ment cherch\u00e9 n'est pas dans le tableau. >>> mon_tab = [ 45 , 24 , - 35 , - 12 , 24 ] >>> mon_tab . index ( 24 ) 1 >>> mon_tab . index ( 36 ) Traceback ( most recent call last ): File \"<pyshell>\" , line 1 , in < module > ValueError : 36 is not in list","title":"Les tableaux"},{"location":"NSI/Premiere/C04/Listes_Comprehension/#specificite-des-listes-en-python","text":"M\u00e9thodes et pratiques des listes Construire une liste vide : >>> monTab = [ ] # ou bien >>> monTab = list () Ajouter un \u00e9l\u00e9ment \u00e0 la fin d'une liste : >>> monTab . append ( 3 ) >>> monTab [ 3 ] >>> monTab . append ( 5 ) >>> monTab . append ( 7 ) >>> monTab [ 3 , 5 , 7 ] Supprimer et r\u00e9cup\u00e9rer le dernier \u00e9l\u00e9ment du tableau : >>> dernier = monTab . pop () >>> dernier 7 >>> monTab [ 3 , 5 ] La m\u00e9thode pop poss\u00e8de d'autres propri\u00e9t\u00e9s que je vous laisse rechercher . Convertir un tableau en tuple : >>> monTuple = tuple ( monTab ) >>> monTuple ( 3 , 5 ) Convertir un tuple en tableau : >>> monTab = list ( monTuple ) >>> monTab [ 3 , 5 ] Extraire des parties d'un tableau gr\u00e2ce aux slices : >>> monTab = [ 35 , 36 , 37 , 38 , 39 , 40 , 41 , 42 , 43 , 44 , 45 , 46 , 47 ] >>> monTab [ : 4 ] [ 35 , 36 , 37 , 38 ] >>> monTab [ 7 : ] [ 42 , 43 , 44 , 45 , 46 , 47 ] >>> monTab [ 4 : 7 ] [ 39 , 40 , 41 ] Concat\u00e9ner des tableaux: >>> [ 1 , 2 , 3 ] + [ 7 , 8 , 9 ] [ 1 , 2 , 3 , 7 , 8 , 9 ] Exercice Enonc\u00e9 Solution En utilisant les m\u00e9thodes pr\u00e9sent\u00e9es ci-dessus : \u00c9crire une fonction carre(n) qui renvoie le tableau des carr\u00e9s des nombres entiers compris entre \\(0\\) et \\(n-1\\) . >>> carre ( 4 ) [ 0 , 1 , 4 , 9 ] \u00c9crire une fonction imagesf(deb,fin) qui renvoie le tableau des images des nombres entiers compris entre deb et fin par la fonction \\(f :x \\mapsto 3x^2-2x+1\\) . >>> imagef ( - 2 , 3 ) [ 17 , 6 , 1 , 2 , 9 , 22 ] \u00c9crire une fonction genereListe(n) qui renvoie un tableau de \\(n\\) nombres al\u00e9atoires compris entre \\(1\\) et \\(n^2\\) . ( On pourra importer une fois le module random et utiliser la fonction random.randint(a,b) qui renvoie un nombre al\u00e9atoire entre \\(a\\) et \\(b\\) inclus). Ecrire une fonction insere(monTab, val, i) qui renvoie une liste dans laquelle est inser\u00e9 l'\u00e9l\u00e9ment val \u00e0 l'indice i au sein des \u00e9l\u00e9ments de monTab , en supposant que \\(i<len(monTab)\\) . >>> insere ([ 1 , 2 , 3 , 4 ], 5 , 2 ) [ 1 , 2 , 5 , 3 , 4 ] \u00c9crire une fonction compter(monTab,val) permettant de compter le nombre d'occurrences de val dans monTab . >>> compter ([ 4 , 6 , 8 , 6 , 7 , 6 , 9 ], 6 ) 3 >>> compter ([ 2 , 4 , 6 ], 3 ) 0 \u00c9crire une fonction compterIndices(monTab,val) permettant de renvoyer un tableau des indices des occurrences de val dans monTab . >>> compter ([ 4 , 6 , 8 , 6 , 7 , 6 , 9 ], 6 ) [ 1 , 3 , 5 ] >>> compter ([ 2 , 4 , 6 ], 3 ) [] \u00c9crire une fonction separer(monTab,val) permettant, \u00e0 partir d'une liste de nombres monTab d'obtenir deux listes. La premi\u00e8re comporte les nombres inf\u00e9rieurs ou \u00e9gaux \u00e0 un nombre donn\u00e9, la seconde les nombres qui lui sont strictement sup\u00e9rieurs : >>> separer ([ 45 , 21 , 56 , 12 , 1 , 8 , 30 , 22 , 6 , 33 ], 30 ) [ 21 , 12 , 1 , 8 , 30 , 22 , 6 ], [ 45 , 56 , 33 ] \u00c9crire une fonction plusProche(monTab,val) permettant de rechercher la plus proche valeur d'un nombre dans une liste : >>> plusProche ([ 45 , 21 , 56 , 12 , 1 , 8 , 30 , 22 , 6 , 33 ], 20 ) 21. def carre ( n ) : t = [] for i in range ( n + 1 ) : t . append ( i ** 2 ) return t python def imagesf(deb,fin) : t =[] for i in range(deb, fin+1) : t.append(3*i**2 -2*i+1) return t","title":"Sp\u00e9cificit\u00e9 des listes en Python"},{"location":"NSI/Premiere/C04/Listes_Comprehension/#construction-de-listes-par-comprehension","text":"Jusqu'\u00e0 pr\u00e9sent nous avons d\u00e9fini nos listes par extension , c'est-\u00e0-dire en donnant exactement les \u00e9l\u00e9ments de la liste. Cependant, cette m\u00e9thode n'est pas efficace pour de tr\u00e8s grandes listes. Il faudra donc donner une m\u00e9thode de construction de la liste, en essayant de comprendre les liens entre les diff\u00e9rents \u00e9l\u00e9ments de cette liste. On parle alors de listes d\u00e9finies par compr\u00e9hension . Compr\u00e9hensions de listes Une des sp\u00e9cificit\u00e9s de Python est la capacit\u00e9 \u00e0 construire des listes (et des tuples) par compr\u00e9hension. Cette capacit\u00e9 est partag\u00e9e avec d'autres langages, comme Haskell . premi\u00e8res compr\u00e9hensions Enonc\u00e9 Quel est le tableau associ\u00e9 \u00e0 monTab ? monTab = [ 4 * nb for nb in range ( 100 )] Quel est le tableau associ\u00e9 \u00e0 monTab ? Pourquoi ? monTab = [ 3 * nb for nb in range ( 100 ) if nb % 2 == 0 ] Quel est le tableau associ\u00e9 \u00e0 monTab ? monTab = [ let for let in 'Abracadabra' ] Quel est le tableau associ\u00e9 \u00e0 monTab ? Pourquoi ? monTab = [ let for let in 'Abracadabra' if let . upper () != 'A' ] Quel est le tableau associ\u00e9 \u00e0 monTab ? Pourquoi ? monTab = [ ord ( let ) for let in 'Abracadabra' ] R\u00e9duire le code Enonc\u00e9 Solution Comme vous avez pu le constater, les compr\u00e9hensions sont rapides \u00e0 \u00e9crire. Et certaines fonctions de l'exercice n\u00b02 peuvent \u00eatre consid\u00e9rablement r\u00e9duites : les fonctions carre , imagef et genereListe . Utilisez les compr\u00e9hensions pour r\u00e9duire leur taille. A venir !","title":"Construction de listes par compr\u00e9hension"},{"location":"NSI/Premiere/C04/Tableaux2D/","text":"Tableaux \u00e0 deux dimensions : les Matrices D\u00e9finitions et premiers exemples Matrices En math\u00e9matiques, on appelle matrice un tableau \\(M\\) de nombres \\(a_{i,j}\\) o\u00f9 \\(i\\) est le num\u00e9ro de ligne et \\(j\\) le num\u00e9ro de colonne. On parlera de matrice de dimension \\(m\\times n\\) si la matrice poss\u00e8de \\(m\\) lignes et \\(n\\) colonnes. Les matrices sont des \u00e9l\u00e9ments esentiels de l'alg\u00e8bre lin\u00e9aire, et elles sont un outils efficace dans beaucoup de probl\u00e8mes aussi bien math\u00e9matiques qu'informatique. Repr\u00e9sentation informatique Pour repr\u00e9senter informatiquement une matrice de nombres, entiers ou flottant, on utilise un tableau de tableau . Ainsi la matrice \\(M = \\begin{pmatrix}1&2&3\\\\4&5&6\\end{pmatrix}\\) sera repr\u00e9sent\u00e9e sous la forme suivante : M = [[ 1 , 2 , 3 ], [ 4 , 5 , 6 ]] En Python, il est souvent pr\u00e9f\u00e9rable de d\u00e9finir une matrice en utilisant la possibilit\u00e9 de sauter des lignes \u00e0 l'int\u00e9rieur de deux d\u00e9limiteurs (paires de parenth\u00e8ses, crochets, etc...) : M = [ [ 1 , 2 , 3 ], [ 4 , 5 , 6 ] ] On peut alors acc\u00e9der aux \u00e9l\u00e9ments de la matrice par la notation suivante M[1][2] , ce qui correspond \u00e0 l'\u00e9l\u00e9ment d'indice 2 de la ligne d'indice 1 , soit dans notre exemple \\(6\\) . Autrement dit, il s'agit de l'\u00e9l\u00e9ment de la ligne 1 et de la colonne 2 : Une r\u00e8gle implicite Math\u00e9matiquement, toutes les lignes d'un matrice sont de la m\u00eame dimension. Or ce n'est pas obligatoire dans une construction de liste de listes en Python. En effet une variable telle que la suivante est tout \u00e0 fait possible : M = [ [ 1 , 2 ], [ 3 , 4 , 5 , 6 ], [], [ 7 , 8 , 9 , 10 , 11 , 12 ] ] Lire une matrice On consid\u00e8re la matrice suivante : >>> M = [ [ 1 , 2 , 3 , 4 , 5 ], [ 2 , 4 , 6 , 8 , 10 ], [ 3 , 6 , 9 , 12 , 15 ], [ 4 , 8 , 12 , 16 , 20 ] ] Enonc\u00e9 Solutions A quel nombre fait r\u00e9f\u00e9rence l'\u00e9l\u00e9ment \\(M[1][3]\\) ? Comment obtenir le nombre \\(15\\) ? A quel nombre fait r\u00e9f\u00e9rence l'\u00e9l\u00e9ment \\(M[-1][2]\\) ? A quel nombre fait r\u00e9f\u00e9rence l'\u00e9l\u00e9ment \\(M[0][-2]\\) ? A venir ! Parcourir une matrice Parcourir une matrice Enonc\u00e9 Solutions Pour parcourir une matrice, il faut utiliser deux boucles for imbriqu\u00e9es l'une dans l'autre : Tester le code suivant sur une matrice \\(M = \\begin{pmatrix}1&2&3\\\\4&5&6\\end{pmatrix}\\) . for i in range ( 2 ) : for j in range ( 3 ) : print ( M [ i ][ j ]) Dans quel ordre apparaissent les \u00e9l\u00e9ments ? Tester le code suivant, toujours sur la matrice \\(M\\) for j in range ( 3 ) : for i in range ( 2 ) : print ( M [ i ][ j ]) Dans quel ordre apparaissent les \u00e9l\u00e9ments ? Dans le code pr\u00e9c\u00e9dent, que se passe-t-il si on \u00e9crit print(M[j][i]) ? Tester le code suivant, toujours sur la matrice \\(M\\) for line in M : for elem in line : print ( elem ) Dans quel ordre apparaissent les \u00e9l\u00e9ments ? Est-il possible d'inverser le type de parcours pr\u00e9c\u00e9dent ? Tester le code suivant, toujours sur la matrice \\(M\\) for i , line in enumerate ( M ) : for j , elem in enumerate ( line ) : print ( f \"M[ { i } ][ { j } ] = { elem } \" ) A quoi sert la fonction enumerate ? Ecrire une fonction parcoursIndicesLignes(M) qui effectue un parcours par indice et par ligne de la matrice qui lui est pass\u00e9e en argument. On pourra tester avec les matrices suivantes : M1 = [[ 0 ]] M2 = [[ 1 , 2 ], [ 3 , 4 ]] M2 = [[ 1 , 2 ], [ 3 , 4 ], [ 5 , 6 ]] M3 = [[ 1 , 2 , 3 , 4 , 5 ], [ 6 , 7 , 8 , 9 , 10 ]] A venir ! Initialisation de matrices Pourquoi initialiser Tr\u00e8s souvent on va travailler sur un tableau et/ou une matrice dont on connait au pr\u00e9alable la dimension, et sur laquelle on va modifier les valeurs au fur et \u00e0 mesure. Il sera souvent plus facile de travailler sur une matrice d\u00e9j\u00e0 pr\u00e9-remplie avec des valeurs de d\u00e9part - des z\u00e9ros souvent, plut\u00f4t que d'\u00eatre oblig\u00e9 de v\u00e9rifier que le terme \\(a[i][j]\\) existe, et de faire un append dans le cas contraire. Initialisation Enonc\u00e9 Avec un tableau \u00e0 une dimension. Tester la ligne suivante : T = [ 0 ] * 10 Que fait ce code ? Avec des tableaux \u00e0 deux dimensions : Tester la ligne suivante : M = [[ 0 ] * 10 ] * 4 Que fait ce code ? Tester alors la ligne suivante : M [ 0 ][ 5 ] = 777 A quel objet est alors associ\u00e9 \\(M\\) ? Quel est le probl\u00e8me ? Tester alors le code suivant, : M = [[ 0 ] * 10 for i in range ( 4 )] Faites de nouveau l'affectation suivante M [ 0 ][ 5 ] = 777 A quoi est-alors associ\u00e9 le nom M ? Exercice : les carr\u00e9s magiques Carr\u00e9 magiques Enonc\u00e9 Un carr\u00e9 magique d'ordre \\(n\\) est une matrice carr\u00e9e \\(n\\times n\\) telle que que la somme des nombres sur chaque ligne, sur chaque colonne et sur chaque diagonale principale soient \u00e9gales. V\u00e9rifier que la matrice \\(\\begin{pmatrix} 4&9&2\\\\3&5&7\\\\8&1&6\\end{pmatrix}\\) est bien un carr\u00e9 magique. On se propose de construire une fonction v\u00e9rifiant qu'une matrice de taille \\(n \\times n\\) est bien un carr\u00e9 magique. Cr\u00e9er une fonction estCarre(M) qui v\u00e9rifie que la matrice \\(M\\) est bien carr\u00e9e (son nombre de ligne est \u00e9gal \u00e0 son nombre de colonne). Cette fonction renverra True dans ce cas, et False sinon. Cr\u00e9er une fonction sommeLigne(M,i) qui renvoie la somme des nombres de la ligne \\(i\\) de la matrice \\(M\\) . Cr\u00e9er une fonction sommeColonne(M,i) qui renvoie la somme des nombres de la colonne \\(i\\) de la matrice \\(M\\) . Cr\u00e9er une fonction sommeDiagPrincipale(M) qui renvoie la somme des nombres de la diagonale principale de \\(M\\) (diagonale dont les \u00e9l\u00e9ments ont le m\u00eame num\u00e9ro de ligne et de colonne). Cr\u00e9er une fonction sommeDiagSecondaire(M) qui renvoie la somme des nombres de la diagonale non principale de \\(M\\) . En utilisant les fonctions pr\u00e9c\u00e9dentes, cr\u00e9er une fonction estMagique(M) qui renvoie True si la matrice \\(M\\) est magique, et False sinon. D'autres carr\u00e9s magiques Vous trouverez des carr\u00e9s magiques de diff\u00e9rents ordres sur les pages suivantes : la page wikip\u00e9dia des carr\u00e9s magiques (math\u00e9matiques) http://www.bibmath.net/carres/ http://www.maths-rometus.org/mathematiques/maths-et-jeux/carres-magiques.asp#id1781","title":"Tableaux \u00e0 2 dimensions : Matrices "},{"location":"NSI/Premiere/C04/Tableaux2D/#tableaux-a-deux-dimensions-les-matrices","text":"","title":"Tableaux \u00e0 deux dimensions : les Matrices"},{"location":"NSI/Premiere/C04/Tableaux2D/#definitions-et-premiers-exemples","text":"Matrices En math\u00e9matiques, on appelle matrice un tableau \\(M\\) de nombres \\(a_{i,j}\\) o\u00f9 \\(i\\) est le num\u00e9ro de ligne et \\(j\\) le num\u00e9ro de colonne. On parlera de matrice de dimension \\(m\\times n\\) si la matrice poss\u00e8de \\(m\\) lignes et \\(n\\) colonnes. Les matrices sont des \u00e9l\u00e9ments esentiels de l'alg\u00e8bre lin\u00e9aire, et elles sont un outils efficace dans beaucoup de probl\u00e8mes aussi bien math\u00e9matiques qu'informatique. Repr\u00e9sentation informatique Pour repr\u00e9senter informatiquement une matrice de nombres, entiers ou flottant, on utilise un tableau de tableau . Ainsi la matrice \\(M = \\begin{pmatrix}1&2&3\\\\4&5&6\\end{pmatrix}\\) sera repr\u00e9sent\u00e9e sous la forme suivante : M = [[ 1 , 2 , 3 ], [ 4 , 5 , 6 ]] En Python, il est souvent pr\u00e9f\u00e9rable de d\u00e9finir une matrice en utilisant la possibilit\u00e9 de sauter des lignes \u00e0 l'int\u00e9rieur de deux d\u00e9limiteurs (paires de parenth\u00e8ses, crochets, etc...) : M = [ [ 1 , 2 , 3 ], [ 4 , 5 , 6 ] ] On peut alors acc\u00e9der aux \u00e9l\u00e9ments de la matrice par la notation suivante M[1][2] , ce qui correspond \u00e0 l'\u00e9l\u00e9ment d'indice 2 de la ligne d'indice 1 , soit dans notre exemple \\(6\\) . Autrement dit, il s'agit de l'\u00e9l\u00e9ment de la ligne 1 et de la colonne 2 : Une r\u00e8gle implicite Math\u00e9matiquement, toutes les lignes d'un matrice sont de la m\u00eame dimension. Or ce n'est pas obligatoire dans une construction de liste de listes en Python. En effet une variable telle que la suivante est tout \u00e0 fait possible : M = [ [ 1 , 2 ], [ 3 , 4 , 5 , 6 ], [], [ 7 , 8 , 9 , 10 , 11 , 12 ] ] Lire une matrice On consid\u00e8re la matrice suivante : >>> M = [ [ 1 , 2 , 3 , 4 , 5 ], [ 2 , 4 , 6 , 8 , 10 ], [ 3 , 6 , 9 , 12 , 15 ], [ 4 , 8 , 12 , 16 , 20 ] ] Enonc\u00e9 Solutions A quel nombre fait r\u00e9f\u00e9rence l'\u00e9l\u00e9ment \\(M[1][3]\\) ? Comment obtenir le nombre \\(15\\) ? A quel nombre fait r\u00e9f\u00e9rence l'\u00e9l\u00e9ment \\(M[-1][2]\\) ? A quel nombre fait r\u00e9f\u00e9rence l'\u00e9l\u00e9ment \\(M[0][-2]\\) ? A venir !","title":"D\u00e9finitions et premiers exemples"},{"location":"NSI/Premiere/C04/Tableaux2D/#parcourir-une-matrice","text":"Parcourir une matrice Enonc\u00e9 Solutions Pour parcourir une matrice, il faut utiliser deux boucles for imbriqu\u00e9es l'une dans l'autre : Tester le code suivant sur une matrice \\(M = \\begin{pmatrix}1&2&3\\\\4&5&6\\end{pmatrix}\\) . for i in range ( 2 ) : for j in range ( 3 ) : print ( M [ i ][ j ]) Dans quel ordre apparaissent les \u00e9l\u00e9ments ? Tester le code suivant, toujours sur la matrice \\(M\\) for j in range ( 3 ) : for i in range ( 2 ) : print ( M [ i ][ j ]) Dans quel ordre apparaissent les \u00e9l\u00e9ments ? Dans le code pr\u00e9c\u00e9dent, que se passe-t-il si on \u00e9crit print(M[j][i]) ? Tester le code suivant, toujours sur la matrice \\(M\\) for line in M : for elem in line : print ( elem ) Dans quel ordre apparaissent les \u00e9l\u00e9ments ? Est-il possible d'inverser le type de parcours pr\u00e9c\u00e9dent ? Tester le code suivant, toujours sur la matrice \\(M\\) for i , line in enumerate ( M ) : for j , elem in enumerate ( line ) : print ( f \"M[ { i } ][ { j } ] = { elem } \" ) A quoi sert la fonction enumerate ? Ecrire une fonction parcoursIndicesLignes(M) qui effectue un parcours par indice et par ligne de la matrice qui lui est pass\u00e9e en argument. On pourra tester avec les matrices suivantes : M1 = [[ 0 ]] M2 = [[ 1 , 2 ], [ 3 , 4 ]] M2 = [[ 1 , 2 ], [ 3 , 4 ], [ 5 , 6 ]] M3 = [[ 1 , 2 , 3 , 4 , 5 ], [ 6 , 7 , 8 , 9 , 10 ]] A venir !","title":"Parcourir une matrice"},{"location":"NSI/Premiere/C04/Tableaux2D/#initialisation-de-matrices","text":"Pourquoi initialiser Tr\u00e8s souvent on va travailler sur un tableau et/ou une matrice dont on connait au pr\u00e9alable la dimension, et sur laquelle on va modifier les valeurs au fur et \u00e0 mesure. Il sera souvent plus facile de travailler sur une matrice d\u00e9j\u00e0 pr\u00e9-remplie avec des valeurs de d\u00e9part - des z\u00e9ros souvent, plut\u00f4t que d'\u00eatre oblig\u00e9 de v\u00e9rifier que le terme \\(a[i][j]\\) existe, et de faire un append dans le cas contraire. Initialisation Enonc\u00e9 Avec un tableau \u00e0 une dimension. Tester la ligne suivante : T = [ 0 ] * 10 Que fait ce code ? Avec des tableaux \u00e0 deux dimensions : Tester la ligne suivante : M = [[ 0 ] * 10 ] * 4 Que fait ce code ? Tester alors la ligne suivante : M [ 0 ][ 5 ] = 777 A quel objet est alors associ\u00e9 \\(M\\) ? Quel est le probl\u00e8me ? Tester alors le code suivant, : M = [[ 0 ] * 10 for i in range ( 4 )] Faites de nouveau l'affectation suivante M [ 0 ][ 5 ] = 777 A quoi est-alors associ\u00e9 le nom M ?","title":"Initialisation de matrices"},{"location":"NSI/Premiere/C04/Tableaux2D/#exercice-les-carres-magiques","text":"Carr\u00e9 magiques Enonc\u00e9 Un carr\u00e9 magique d'ordre \\(n\\) est une matrice carr\u00e9e \\(n\\times n\\) telle que que la somme des nombres sur chaque ligne, sur chaque colonne et sur chaque diagonale principale soient \u00e9gales. V\u00e9rifier que la matrice \\(\\begin{pmatrix} 4&9&2\\\\3&5&7\\\\8&1&6\\end{pmatrix}\\) est bien un carr\u00e9 magique. On se propose de construire une fonction v\u00e9rifiant qu'une matrice de taille \\(n \\times n\\) est bien un carr\u00e9 magique. Cr\u00e9er une fonction estCarre(M) qui v\u00e9rifie que la matrice \\(M\\) est bien carr\u00e9e (son nombre de ligne est \u00e9gal \u00e0 son nombre de colonne). Cette fonction renverra True dans ce cas, et False sinon. Cr\u00e9er une fonction sommeLigne(M,i) qui renvoie la somme des nombres de la ligne \\(i\\) de la matrice \\(M\\) . Cr\u00e9er une fonction sommeColonne(M,i) qui renvoie la somme des nombres de la colonne \\(i\\) de la matrice \\(M\\) . Cr\u00e9er une fonction sommeDiagPrincipale(M) qui renvoie la somme des nombres de la diagonale principale de \\(M\\) (diagonale dont les \u00e9l\u00e9ments ont le m\u00eame num\u00e9ro de ligne et de colonne). Cr\u00e9er une fonction sommeDiagSecondaire(M) qui renvoie la somme des nombres de la diagonale non principale de \\(M\\) . En utilisant les fonctions pr\u00e9c\u00e9dentes, cr\u00e9er une fonction estMagique(M) qui renvoie True si la matrice \\(M\\) est magique, et False sinon. D'autres carr\u00e9s magiques Vous trouverez des carr\u00e9s magiques de diff\u00e9rents ordres sur les pages suivantes : la page wikip\u00e9dia des carr\u00e9s magiques (math\u00e9matiques) http://www.bibmath.net/carres/ http://www.maths-rometus.org/mathematiques/maths-et-jeux/carres-magiques.asp#id1781","title":"Exercice : les carr\u00e9s magiques"},{"location":"NSI/Premiere/C04/Tuples/","text":"Tuples et algorithmes de parcours Largement inspir\u00e9 du fabuleux site Pixees.fr D\u00e9finition : S\u00e9quences En informatique, il est possible de \u00ab stocker \u00bb plusieurs grandeurs dans une m\u00eame structure, appel\u00e9e une s\u00e9quence . De fa\u00e7on plus pr\u00e9cise, une s\u00e9quence est un ensemble fini et ordonn\u00e9 d'\u00e9l\u00e9ments, rep\u00e9r\u00e9s par un indice . Dans de tr\u00e8s nombreux langages informatiques, mais pas dans tous, les indices d\u00e9marrent \u00e0 z\u00e9ro . Exemples La liste des mois de l'ann\u00e9e est une s\u00e9quence, chaque mois \u00e9tant rep\u00e9r\u00e9 par son indice (le num\u00e9ro du mois), qui commence \u00e0 \\(1\\) . Les cha\u00eenes de cracat\u00e8res en Python sont aussi des s\u00e9quences, chaque caract\u00e8re \u00e9tant rep\u00e9r\u00e9 par son indice commen\u00e7ant \u00e0 \\(0\\) . Nous \u00e9tudierons deux types de s\u00e9quences particuli\u00e8res en Python : les tuples et les tableaux (listes). Premier types de s\u00e9quences : les tuples Tuples En Python, un tuple est une s\u00e9quence, qui est d\u00e9finie entre parenth\u00e8ses , et dont les \u00e9l\u00e9ments sont s\u00e9par\u00e9s par des virgules , et dont les indices commencent \u00e0 \\(0\\) . Les \u00e9l\u00e9ments peuvent \u00eatre de m\u00eame nature ( int , float , str , bool et m\u00eame tuple ), ou bien de natures vari\u00e9es. Un tuple poss\u00e8de une longueur , qui est le nombre d'\u00e9l\u00e9ments le composant. Elle est obtenue gr\u00e2ce \u00e0 la fonction built-in len() . Par exemple, on peut voir la cr\u00e9ation d'objets de type tuple dans Python-tutor : Dans la variable mon_autre_tuple : \"chien\" est l'\u00e9l\u00e9ment d'indice \\(0\\) ; \"chat\" est l'\u00e9l\u00e9ment d'indice \\(1\\) ; \"poisson rouge\" est l'\u00e9l\u00e9ment d'indice \\(2\\) . Le dernier indice est donc \\(2\\) , mais la longueur de mon_autre_tuple est bien 3 ! Diff\u00e9rencier indices et longueur Dans une s\u00e9quence en Python, la longueur est \u00e9gale au dernier indice plus \\(1\\) ! Le dernier indice d'un tuple t est donc len(t)-1 ! Acc\u00e9der aux \u00e9l\u00e9ments d'un tuple Pour acc\u00e9der aux \u00e9lements d'un tuple, on utilise la m\u00eame notation que pour acc\u00e9der aux carat\u00e8res d'une chaines de caract\u00e8res : la notation entre crochets . Le code Visualisation dans Python-Tutor >>> mon_tuple = ( 2 , 7 , 5 , 8 , 6 , 9 , 4 , 3 , 1 , 12 ) >>> mon_tuple [ 2 ] 5 Exercice 1 Enonc\u00e9 Solutions Sachant que un_tuple_bizarre = (2, 3.1, \"toto\", True) , quelle est la valeur renvoy\u00e9e par un_tuple_bizarre[1] ? A quelle valeur est associ\u00e9e le nom a apr\u00e8s ex\u00e9cution du code suivant ? mon_tuple = ( 2 , 7 , 5 , 8 , 6 , 9 , 4 , 3 , 1 , 12 ) a = mon_tuple [ 6 ] Dans le code pr\u00e9c\u00e9dent, que faut-il mettre entre les crochets pour que le nom a soit associ\u00e9 \u00e0 la valeur \\(1\\) ? Essayez et commentez le code suivant : mon_tuple = ( 2 , 7 , 5 , 8 , 6 , 9 , 4 , 3 , 1 , 12 ) a = mon_tuple [ - 1 ] Essayez et commentez le code suivant : mon_tuple = ( 2 , 7 , 5 , 8 , 6 , 9 , 4 , 3 , 1 , 12 ) a = mon_tuple [ 10 ] Essayez et commentez le code suivant : mon_tuple = ( 2 , 7 , 5 , 8 , 6 , 9 , 4 , 3 , 1 , 12 ) mon_tuple [ 5 ] = 42 c'est 3.1 a est associ\u00e9 \u00e0 la valeur 4. Pour obtenir la valeur 1, il faut saisir a[8] On obtient 12, c'est-\u00e0-dire le dernier \u00e9l\u00e9ment du tuple. On obtient l'erreur IndexError: tuple index out of range , ce qui signifie qu'on recherche quelque chose en dehors du tuple, ce qui est une erreur IndexError . On essaye de donner la valeur 42 \u00e0 l'\u00e9l\u00e9ment d'indice 5 du tuple, ce qui est impossible : TypeError: 'tuple' object does not support item assignment Exercice 2 Enonc\u00e9 Solutions Essayez et commentez le code suivant : mon_tuple = ( \"le\" , \"bonjour\" , \"monde\" ) print ( f \" { mon_tuple [ 1 ] . capitalize () } { mon_tuple [ 0 ] } { mon_tuple [ 2 ] } !\" ) Essayez et commentez le code suivant : def add ( a , b ) : return ( a , b , a + b ) mon_tuple = add ( 5 , 8 ) print ( f \" { mon_tuple [ 0 ] } + { mon_tuple [ 1 ] } = { mon_tuple [ 2 ] } \" ) Essayez et commentez le code suivant : mon_tuple = ( \"Luke Skywalker\" , \"Mark Hamill\" , \"Jedi\" , \"Dark Vador\" ) personnage , acteur , metier , pere = mon_tuple On obtient : Bonjour le monde ! On obtient : 5 + 8 = 13 La variable personnage contient la cha\u00eene de caract\u00e8res \"Luke Skywalker\" , la variable acteur contient \"Mark Hamill\" , etc. Tuple unpacking La m\u00e9thode utilis\u00e9e dans l'exercice pr\u00e9c\u00e9dent s'appelle le tuple unpacking , soit \u00ab d\u00e9sempaquetage \u00bb de tuple. Elle est tr\u00e8s souvent utilis\u00e9e pour d\u00e9composer des tuples renvoy\u00e9s comme valeur de retour d'une fonction. Exercice 3 Enonc\u00e9 Solution Essayez et commentez le code suivant : def euclide ( a , b ) : return ( a , b , a // b , a % b ) res = euclide ( 20 , 7 ) print ( type ( res )) dividende , diviseur , quotient , reste = res print ( type ( quotient )) Quotient est un \u00e9l\u00e9ment de type int , chacune des variables dividende , diviseur , etc... contient la valeur qui lui est associ\u00e9e. le tuple a \u00e9t\u00e9 d\u00e9compact\u00e9 ( unpack ). Parcourir une s\u00e9quence Parcours de s\u00e9quence Le parcours d'une s\u00e9quence peut \u00eatre fait de deux mani\u00e8res diff\u00e9rentes : par les indices ; par les \u00e9l\u00e9ments. En python ces deux types de parcours sont effectu\u00e9s par l'interm\u00e9diaire d'une boucle for . Parcours par les indices mon_tuple = ( 1 , 3 , 5 , 7 ) for i in range ( 0 , len ( mon_tuple )) : print ( mon_tuple [ i ]) Pour rappel, la fonction range(a,b) it\u00e8re sur les entiers naturels de \\(a\\) inclus \u00e0 \\(b\\) exclu. Ici, la parcours se fait donc pour \\(i\\) allant de \\(0\\) \u00e0 len(mon\\tuple) , soit \\(4\\) . La valeur de d\u00e9part de la fonction range \u00e9tant \\(0\\) , on aurait pu l'omettre. Parcours par les \u00e9l\u00e9ments Le parcours par indice est possible en Python, et parfois n\u00e9cessaire. Mais il existe une possibilit\u00e9 de parcours de la s\u00e9quence plus directe : mon_tuple = ( 1 , 3 , 5 , 7 ) for element in mon_tuple : print ( element ) A chaque tour de boucle, le nom element va \u00eatre associ\u00e9 \u00e0 une valeur du tuple. le nom element n'est qu'un choix de ma part, j'aurais tout aussi bien pu \u00e9crire toto . Ce type de boucle existe aussi dans d'autres langages, et porte souvent le nom de boucle foreach . Un inconv\u00e9nient est que vous n'avez que l'\u00e9l\u00e9ment, et que par cons\u00e9quent il vous manque son indice. Heureusement, une fonction Python ( enumerate ), peut permettre de combiner les deux types de boucles : mon_tuple = ( 1 , 3 , 5 , 7 ) for indice , element in enumerate ( mon_tuple ) : print ( f \" { indice } -> { element } \" ) Exercice 4 Enonc\u00e9 Solutions Essayez et commentez le code suivant : mon_tuple = ( 12 , 15 , 34 , 23 , 11 , 15 , 36 ) for n in mon_tuple : if n % 2 == 0 : print ( n ) Essayez et commentez le code suivant : mon_tuple = ( 12 , 15 , 34 , 23 , 11 , 15 , 36 ) for i in range ( len ( mon_tuple )) : if mon_tuple [ i ] % 2 == 0 : print ( mon_tuple [ i ]) Essayez et commentez le code suivant : mon_tuple = ( 12 , 15 , 34 , 23 , 11 , 15 , 36 ) for i in range ( len ( mon_tuple )) : if i % 2 == 0 : print ( mon_tuple [ i ]) Que faut-il \u00e9crire pour obtenir les termes impairs du tuple ? Que faut-il \u00e9crire pour obtenir les termes de rang impairs du tuple ? Le code \u00e9crit les nombres pairs du tuple, en effectuant un parcours par \u00e9l\u00e9ments. Le code \u00e9crit les nombres pairs du tuple, en effectuant un parcours par indices. Le code \u00e9crit les nombres d'indices pairs du tuple, en effectuant un parcours par indice. Il faut \u00e9crire : for n in mon_tuple : if n % 2 == 1 : print ( n ) ou for i in range ( len ( mon_tuple )) : if mon_tuple [ i ] % 2 == 1 : print ( mon_tuple [ i ]) Il faut \u00e9crire : for i in range ( len ( mon_tuple )) : if i % 2 == 1 : print ( mon_tuple [ i ]) Algorithmes de parcours Enonc\u00e9 Solution Pour chacune des questions ci-dessous, je vous demande : de vous mettre par 2; de chercher d'abord \u00e0 la main, sur papier ; de d\u00e9crire l'algorithme demand\u00e9 en langage naturel; enfin d'en proposer une version Python. Pour chacune des questions suivants, on suppose que les tuples donn\u00e9s sont des tuples de nombres, entiers ou flottants, et que ces tuples sont non vides . Trouver un algorithme puis \u00e9crire une fonction Python maximum(t) qui prend un tuple en entr\u00e9e et renvoie le plus grand nombre de ce tuple, sans utiliser la fonction built-in max . 2.Trouver un algorithme puis \u00e9crire une fonction Python minimum(t) qui prend un tuple en entr\u00e9e et renvoie le plus petit nombre de ce tuple, sans utiliser la fonction built-in min . Trouver un algorithme puis \u00e9crire une fonction Python somme(t) qui prend un tuple en entr\u00e9e et renvoie la somme des valeurs de ce tuple, sans utiliser la fonction built-in sum . Trouver un algorithme puis \u00e9crire une fonction Python moyenne(t) qui prend un tuple en entr\u00e9e et renvoie la moyenne des valeurs de ce tuple, sans utiliser la fonction built-in sum . Trouver un algorithme puis \u00e9crire une fonction Python palindrome(t) qui prend un tuple en entr\u00e9e et renvoie True si le tuple est un palindrome, et False sinon. Palindrome Un palindrome est une s\u00e9quence qui peut se lire dans les deux sens sans changer ses valeurs : \\((6, 4, 3, 4, 6)\\) est un palindrome; \\((2, 4, 4, 2)\\) est un palindrome; \\((12)\\) est un palindrome ; \\((3, 4, 5, 3)\\) n'est pas un palindrome. Si vous le codez suffisamment bien, votre code devrait aussi fonctionner pour les chaines de caract\u00e8res comme : \u00ab \u00e9t\u00e9 \u00bb, \u00ab kayak \u00bb, \u00ab No\u00ebl a trop par rapport \u00e0 L\u00e9on \u00bb ou \u00ab Engage le jeu que je le gagne \u00bb. Code : def maximum ( t ) : maxi = t [ 0 ] for e in t : if e > maxi : maxi = e return e Code : def minimum ( t ) : mini = t [ 0 ] for e in t : if e < mini : mini = e return e Code : def somme ( t ) : somme = 0 for e in t : somme += e return somme Code : def moyenne ( t ) : return somme ( t ) / len ( t ) Code : def palindrome ( t ) : for i in range ( len ( t ) // 2 ) : if t [ i ] != t [ - ( i + 1 )] : return False return True Une citation \u00ab Les tentatives de cr\u00e9ation de machines pensantes nous seront d\u2019une grande aide pour d\u00e9couvrir comment nous pensons nous-m\u00eames. \u00bb De Alan Turing, Conf\u00e9rence \u00e0 la BBC - 15 Mai 1951","title":"Tuples et algorithmes de parcours"},{"location":"NSI/Premiere/C04/Tuples/#tuples-et-algorithmes-de-parcours","text":"Largement inspir\u00e9 du fabuleux site Pixees.fr D\u00e9finition : S\u00e9quences En informatique, il est possible de \u00ab stocker \u00bb plusieurs grandeurs dans une m\u00eame structure, appel\u00e9e une s\u00e9quence . De fa\u00e7on plus pr\u00e9cise, une s\u00e9quence est un ensemble fini et ordonn\u00e9 d'\u00e9l\u00e9ments, rep\u00e9r\u00e9s par un indice . Dans de tr\u00e8s nombreux langages informatiques, mais pas dans tous, les indices d\u00e9marrent \u00e0 z\u00e9ro . Exemples La liste des mois de l'ann\u00e9e est une s\u00e9quence, chaque mois \u00e9tant rep\u00e9r\u00e9 par son indice (le num\u00e9ro du mois), qui commence \u00e0 \\(1\\) . Les cha\u00eenes de cracat\u00e8res en Python sont aussi des s\u00e9quences, chaque caract\u00e8re \u00e9tant rep\u00e9r\u00e9 par son indice commen\u00e7ant \u00e0 \\(0\\) . Nous \u00e9tudierons deux types de s\u00e9quences particuli\u00e8res en Python : les tuples et les tableaux (listes).","title":"Tuples et algorithmes de parcours"},{"location":"NSI/Premiere/C04/Tuples/#premier-types-de-sequences-les-tuples","text":"Tuples En Python, un tuple est une s\u00e9quence, qui est d\u00e9finie entre parenth\u00e8ses , et dont les \u00e9l\u00e9ments sont s\u00e9par\u00e9s par des virgules , et dont les indices commencent \u00e0 \\(0\\) . Les \u00e9l\u00e9ments peuvent \u00eatre de m\u00eame nature ( int , float , str , bool et m\u00eame tuple ), ou bien de natures vari\u00e9es. Un tuple poss\u00e8de une longueur , qui est le nombre d'\u00e9l\u00e9ments le composant. Elle est obtenue gr\u00e2ce \u00e0 la fonction built-in len() . Par exemple, on peut voir la cr\u00e9ation d'objets de type tuple dans Python-tutor : Dans la variable mon_autre_tuple : \"chien\" est l'\u00e9l\u00e9ment d'indice \\(0\\) ; \"chat\" est l'\u00e9l\u00e9ment d'indice \\(1\\) ; \"poisson rouge\" est l'\u00e9l\u00e9ment d'indice \\(2\\) . Le dernier indice est donc \\(2\\) , mais la longueur de mon_autre_tuple est bien 3 ! Diff\u00e9rencier indices et longueur Dans une s\u00e9quence en Python, la longueur est \u00e9gale au dernier indice plus \\(1\\) ! Le dernier indice d'un tuple t est donc len(t)-1 ! Acc\u00e9der aux \u00e9l\u00e9ments d'un tuple Pour acc\u00e9der aux \u00e9lements d'un tuple, on utilise la m\u00eame notation que pour acc\u00e9der aux carat\u00e8res d'une chaines de caract\u00e8res : la notation entre crochets . Le code Visualisation dans Python-Tutor >>> mon_tuple = ( 2 , 7 , 5 , 8 , 6 , 9 , 4 , 3 , 1 , 12 ) >>> mon_tuple [ 2 ] 5 Exercice 1 Enonc\u00e9 Solutions Sachant que un_tuple_bizarre = (2, 3.1, \"toto\", True) , quelle est la valeur renvoy\u00e9e par un_tuple_bizarre[1] ? A quelle valeur est associ\u00e9e le nom a apr\u00e8s ex\u00e9cution du code suivant ? mon_tuple = ( 2 , 7 , 5 , 8 , 6 , 9 , 4 , 3 , 1 , 12 ) a = mon_tuple [ 6 ] Dans le code pr\u00e9c\u00e9dent, que faut-il mettre entre les crochets pour que le nom a soit associ\u00e9 \u00e0 la valeur \\(1\\) ? Essayez et commentez le code suivant : mon_tuple = ( 2 , 7 , 5 , 8 , 6 , 9 , 4 , 3 , 1 , 12 ) a = mon_tuple [ - 1 ] Essayez et commentez le code suivant : mon_tuple = ( 2 , 7 , 5 , 8 , 6 , 9 , 4 , 3 , 1 , 12 ) a = mon_tuple [ 10 ] Essayez et commentez le code suivant : mon_tuple = ( 2 , 7 , 5 , 8 , 6 , 9 , 4 , 3 , 1 , 12 ) mon_tuple [ 5 ] = 42 c'est 3.1 a est associ\u00e9 \u00e0 la valeur 4. Pour obtenir la valeur 1, il faut saisir a[8] On obtient 12, c'est-\u00e0-dire le dernier \u00e9l\u00e9ment du tuple. On obtient l'erreur IndexError: tuple index out of range , ce qui signifie qu'on recherche quelque chose en dehors du tuple, ce qui est une erreur IndexError . On essaye de donner la valeur 42 \u00e0 l'\u00e9l\u00e9ment d'indice 5 du tuple, ce qui est impossible : TypeError: 'tuple' object does not support item assignment Exercice 2 Enonc\u00e9 Solutions Essayez et commentez le code suivant : mon_tuple = ( \"le\" , \"bonjour\" , \"monde\" ) print ( f \" { mon_tuple [ 1 ] . capitalize () } { mon_tuple [ 0 ] } { mon_tuple [ 2 ] } !\" ) Essayez et commentez le code suivant : def add ( a , b ) : return ( a , b , a + b ) mon_tuple = add ( 5 , 8 ) print ( f \" { mon_tuple [ 0 ] } + { mon_tuple [ 1 ] } = { mon_tuple [ 2 ] } \" ) Essayez et commentez le code suivant : mon_tuple = ( \"Luke Skywalker\" , \"Mark Hamill\" , \"Jedi\" , \"Dark Vador\" ) personnage , acteur , metier , pere = mon_tuple On obtient : Bonjour le monde ! On obtient : 5 + 8 = 13 La variable personnage contient la cha\u00eene de caract\u00e8res \"Luke Skywalker\" , la variable acteur contient \"Mark Hamill\" , etc. Tuple unpacking La m\u00e9thode utilis\u00e9e dans l'exercice pr\u00e9c\u00e9dent s'appelle le tuple unpacking , soit \u00ab d\u00e9sempaquetage \u00bb de tuple. Elle est tr\u00e8s souvent utilis\u00e9e pour d\u00e9composer des tuples renvoy\u00e9s comme valeur de retour d'une fonction. Exercice 3 Enonc\u00e9 Solution Essayez et commentez le code suivant : def euclide ( a , b ) : return ( a , b , a // b , a % b ) res = euclide ( 20 , 7 ) print ( type ( res )) dividende , diviseur , quotient , reste = res print ( type ( quotient )) Quotient est un \u00e9l\u00e9ment de type int , chacune des variables dividende , diviseur , etc... contient la valeur qui lui est associ\u00e9e. le tuple a \u00e9t\u00e9 d\u00e9compact\u00e9 ( unpack ).","title":"Premier types de s\u00e9quences : les tuples"},{"location":"NSI/Premiere/C04/Tuples/#parcourir-une-sequence","text":"Parcours de s\u00e9quence Le parcours d'une s\u00e9quence peut \u00eatre fait de deux mani\u00e8res diff\u00e9rentes : par les indices ; par les \u00e9l\u00e9ments. En python ces deux types de parcours sont effectu\u00e9s par l'interm\u00e9diaire d'une boucle for . Parcours par les indices mon_tuple = ( 1 , 3 , 5 , 7 ) for i in range ( 0 , len ( mon_tuple )) : print ( mon_tuple [ i ]) Pour rappel, la fonction range(a,b) it\u00e8re sur les entiers naturels de \\(a\\) inclus \u00e0 \\(b\\) exclu. Ici, la parcours se fait donc pour \\(i\\) allant de \\(0\\) \u00e0 len(mon\\tuple) , soit \\(4\\) . La valeur de d\u00e9part de la fonction range \u00e9tant \\(0\\) , on aurait pu l'omettre. Parcours par les \u00e9l\u00e9ments Le parcours par indice est possible en Python, et parfois n\u00e9cessaire. Mais il existe une possibilit\u00e9 de parcours de la s\u00e9quence plus directe : mon_tuple = ( 1 , 3 , 5 , 7 ) for element in mon_tuple : print ( element ) A chaque tour de boucle, le nom element va \u00eatre associ\u00e9 \u00e0 une valeur du tuple. le nom element n'est qu'un choix de ma part, j'aurais tout aussi bien pu \u00e9crire toto . Ce type de boucle existe aussi dans d'autres langages, et porte souvent le nom de boucle foreach . Un inconv\u00e9nient est que vous n'avez que l'\u00e9l\u00e9ment, et que par cons\u00e9quent il vous manque son indice. Heureusement, une fonction Python ( enumerate ), peut permettre de combiner les deux types de boucles : mon_tuple = ( 1 , 3 , 5 , 7 ) for indice , element in enumerate ( mon_tuple ) : print ( f \" { indice } -> { element } \" ) Exercice 4 Enonc\u00e9 Solutions Essayez et commentez le code suivant : mon_tuple = ( 12 , 15 , 34 , 23 , 11 , 15 , 36 ) for n in mon_tuple : if n % 2 == 0 : print ( n ) Essayez et commentez le code suivant : mon_tuple = ( 12 , 15 , 34 , 23 , 11 , 15 , 36 ) for i in range ( len ( mon_tuple )) : if mon_tuple [ i ] % 2 == 0 : print ( mon_tuple [ i ]) Essayez et commentez le code suivant : mon_tuple = ( 12 , 15 , 34 , 23 , 11 , 15 , 36 ) for i in range ( len ( mon_tuple )) : if i % 2 == 0 : print ( mon_tuple [ i ]) Que faut-il \u00e9crire pour obtenir les termes impairs du tuple ? Que faut-il \u00e9crire pour obtenir les termes de rang impairs du tuple ? Le code \u00e9crit les nombres pairs du tuple, en effectuant un parcours par \u00e9l\u00e9ments. Le code \u00e9crit les nombres pairs du tuple, en effectuant un parcours par indices. Le code \u00e9crit les nombres d'indices pairs du tuple, en effectuant un parcours par indice. Il faut \u00e9crire : for n in mon_tuple : if n % 2 == 1 : print ( n ) ou for i in range ( len ( mon_tuple )) : if mon_tuple [ i ] % 2 == 1 : print ( mon_tuple [ i ]) Il faut \u00e9crire : for i in range ( len ( mon_tuple )) : if i % 2 == 1 : print ( mon_tuple [ i ]) Algorithmes de parcours Enonc\u00e9 Solution Pour chacune des questions ci-dessous, je vous demande : de vous mettre par 2; de chercher d'abord \u00e0 la main, sur papier ; de d\u00e9crire l'algorithme demand\u00e9 en langage naturel; enfin d'en proposer une version Python. Pour chacune des questions suivants, on suppose que les tuples donn\u00e9s sont des tuples de nombres, entiers ou flottants, et que ces tuples sont non vides . Trouver un algorithme puis \u00e9crire une fonction Python maximum(t) qui prend un tuple en entr\u00e9e et renvoie le plus grand nombre de ce tuple, sans utiliser la fonction built-in max . 2.Trouver un algorithme puis \u00e9crire une fonction Python minimum(t) qui prend un tuple en entr\u00e9e et renvoie le plus petit nombre de ce tuple, sans utiliser la fonction built-in min . Trouver un algorithme puis \u00e9crire une fonction Python somme(t) qui prend un tuple en entr\u00e9e et renvoie la somme des valeurs de ce tuple, sans utiliser la fonction built-in sum . Trouver un algorithme puis \u00e9crire une fonction Python moyenne(t) qui prend un tuple en entr\u00e9e et renvoie la moyenne des valeurs de ce tuple, sans utiliser la fonction built-in sum . Trouver un algorithme puis \u00e9crire une fonction Python palindrome(t) qui prend un tuple en entr\u00e9e et renvoie True si le tuple est un palindrome, et False sinon. Palindrome Un palindrome est une s\u00e9quence qui peut se lire dans les deux sens sans changer ses valeurs : \\((6, 4, 3, 4, 6)\\) est un palindrome; \\((2, 4, 4, 2)\\) est un palindrome; \\((12)\\) est un palindrome ; \\((3, 4, 5, 3)\\) n'est pas un palindrome. Si vous le codez suffisamment bien, votre code devrait aussi fonctionner pour les chaines de caract\u00e8res comme : \u00ab \u00e9t\u00e9 \u00bb, \u00ab kayak \u00bb, \u00ab No\u00ebl a trop par rapport \u00e0 L\u00e9on \u00bb ou \u00ab Engage le jeu que je le gagne \u00bb. Code : def maximum ( t ) : maxi = t [ 0 ] for e in t : if e > maxi : maxi = e return e Code : def minimum ( t ) : mini = t [ 0 ] for e in t : if e < mini : mini = e return e Code : def somme ( t ) : somme = 0 for e in t : somme += e return somme Code : def moyenne ( t ) : return somme ( t ) / len ( t ) Code : def palindrome ( t ) : for i in range ( len ( t ) // 2 ) : if t [ i ] != t [ - ( i + 1 )] : return False return True Une citation \u00ab Les tentatives de cr\u00e9ation de machines pensantes nous seront d\u2019une grande aide pour d\u00e9couvrir comment nous pensons nous-m\u00eames. \u00bb De Alan Turing, Conf\u00e9rence \u00e0 la BBC - 15 Mai 1951","title":"Parcourir une s\u00e9quence"},{"location":"NSI/Premiere/C05/Architecture/","text":"Architecture mat\u00e9rielle Le mod\u00e8le de von Neumann Le principe John Von Neumann (1903-1957) est un ing\u00e9nieur, math\u00e9maticien et physicien am\u00e9ricano-hongrois.Il a particip\u00e9 au projet Manhattan (premi\u00e8re bombe atomique) et \u00e0 l'ENIAC. Son nom reste attach\u00e9 \u00e0 un mod\u00e8le qu'il propose en 1944, mod\u00e8le d'architecture novateur qui sert toujours de base \u00e0 nos architectures actuelles. Le mod\u00e8le de von Neumann pr\u00e9cise les 4 composants essentiels d'un microprocesseur ainsi que les interactions entre ces diff\u00e9rents composants. Ces composants sont les suivants : l'unit\u00e9 de commande : contr\u00f4le la s\u00e9quence d'instructions ; l'unit\u00e9 arithm\u00e9tique et logique (UAL ou ALU en anglais) : ex\u00e9cute les instructions ; la m\u00e9moire : contient les donn\u00e9es et les programmes ; l'unit\u00e9 d'entr\u00e9e et sortie. Cette architecture est bien entendu une architecture th\u00e9orique . Elle doit \u00eatre compl\u00e9t\u00e9e par un certain nombre d'autres sous-structures pour \u00eatre effectivement fonctionnelle. On distingue entre autres : Les bus sont les liaisons entre les diff\u00e9rents \u00e9l\u00e9ments de l'architecture (m\u00e9moire, ALU, E/S,...). L' horloge est le cadenceur qui organise l'accomplissement des instructions, et dont l'unit\u00e9 est appel\u00e9 cycle d'horloge (1 cycle = 1 instuction). Cadence d'un processeur La vitesse d'un processeur est exprim\u00e9e en GigaHertz (GHz). Elle exprime le nombre d'op\u00e9rations que peut faire le processeur en une seconde . Ainsi, un processeur \u00e0 3 GigaHerz effectue 3 milliards d'op\u00e9rations \u00e0 la seconde , c'est-\u00e0-dire 3 milliards de cycles par secondes. L'augmentation de la fr\u00e9quence d'horloge a longtemps \u00e9t\u00e9 un attendu des progr\u00e8s de l'informatique, et elle a \u00e9t\u00e9 longtemps corr\u00e9l\u00e9e \u00e0 l' augmentation du nombre de transistors dans les processeurs. Gordon E. Moore \u00e9nonca en \\(1965\\) une loi emprique pr\u00e9disant un doublement du nombre de processeurs tous les deux ans. Mais cette augmentation g\u00e9n\u00e8re une chaleur tr\u00e8s importante au niveau processeur, et la dissipation de cette chaleur est rapidement devenue un probl\u00e8me. Depuis \\(2005\\) environ, les fabricants se sont plut\u00f4t tourn\u00e9 vers une augmentation du nombre de c\u0153urs dans leurs processeurs, en comptant sur le parall\u00e9lisme (le fait de pouvoir g\u00e9rer des instructyions en simultan\u00e9 sur plusieurs coeurs) pour augmenter le nombre d'instructions trait\u00e9es par seconde, plut\u00f4t qu'une augmentation pure du nombre d'op\u00e9rations par seconde, qui actuellement plafonne aux environs de \\(3,8\\) GHz. Cycles d'instructions et parall\u00e9lisme Dans un processeur, 5 \u00e9tapes sont n\u00e9cessaires pour traiter une instruction. Chacune de ces 5 \u00e9tapes est ex\u00e9cut\u00e9e : IF ( Instruction Fetch ) : charge l'instruction \u00e0 ex\u00e9cuter ; ID ( Instruction Decode ) : d\u00e9code l'instruction ; EX ( Execute ) : ex\u00e9cute l'instruction ; MEM ( Memory ) : d\u00e9note un transfert depuis un registre vers la m\u00e9moire dans le cas d'une instruction du type STORE (acc\u00e8s en \u00e9criture) et de la m\u00e9moire vers un registre dans le cas d'un LOAD (acc\u00e8s en lecture); WB ( Write Back ) : stocke le r\u00e9sultat dans un registre. La source de ce r\u00e9sultat peut \u00eatre la m\u00e9moire (suite \u00e0 une instruction LOAD), l'unit\u00e9 de calcul (suite \u00e0 un calcul \u00e0 l'\u00e9tape EX) ou bien un registre (cas d'une instruction MOV). En supposant que chaque \u00e9tape met 1 cycle d'horloge pour s'ex\u00e9cuter, il faut normalement 5 cycles pour ex\u00e9cuter une instruction, 15 pour 3 instructions : Il est cependant possible d'am\u00e9liorer ce syst\u00e8me, notamment par l'utilisation de pipelines dans des processeurs dits superscalaires . Si plusieurs op\u00e9rations d'un m\u00eame programme sont ind\u00e9pendantes , alors le processeur peut contenir plusieurs instructions, chacune \u00e0 une \u00e9tape diff\u00e9rente. Le pipeline ci-dessous est le Classic RISC pipeline , cr\u00e9\u00e9 par David Patterson, inventeur des processeurs RISC et du concept de pipeline, et mis en oeuvre d\u00e8s 1961 par IBM : Il faut alors seulement 9 cycles pour ex\u00e9cuter 5 instructions. Au cinqui\u00e8me cycle, tous les \u00e9tages du pipeline sont sollicit\u00e9s, et les 5 op\u00e9rations ont lieu en m\u00eame temps. L'\u00e9volution du mod\u00e8le de von Neumann M\u00eame si le mod\u00e8le de von Neumann reste d'actualit\u00e9, il a subi quelques \u00e9volutions r\u00e9cemment : Les Entr\u00e9e-sorties sont contr\u00f4l\u00e9es par des processeurs autonomes. Les CPU sont multiprocesseurs , soit par unit\u00e9s s\u00e9par\u00e9s soit par multiples coeurs dans une m\u00eame puce. On a ainsi une augmentation de la puissance sans augmenter la vitesse des processeurs. La m\u00e9moire est au coeur du syst\u00e8me, ce qui implique de plus en plus de parall\u00e9lisme. On peut voir cette \u00e9volution sur les processeurs eux-m\u00eames : Nom Ann\u00e9e Nombre de transistors Vitesse d'horloge M\u00e9moire Intel 4004 \\(1971\\) \\(2300\\) 100 KHz 640 o Nom Ann\u00e9e Nombre de transistors Vitesse d'horloge M\u00e9moire Intel 8080 \\(1974\\) \\(4500\\) 2 MHz 64 ko Nom Ann\u00e9e Nombre de transistors Vitesse d'horloge M\u00e9moire Motorola 68060 \\(1994\\) \\(2,5\\) millions 50 MHz 64 ko Nom Ann\u00e9e Nombre de transistors Vitesse d'horloge M\u00e9moire PowerPc 970Fx \\(2003\\) \\(58\\) millions 1,6-2,7 GHz 2Mo Cache L2 Nom Ann\u00e9e Nombre de transistors Vitesse d'horloge M\u00e9moire Intel Core I7 LGA1156 \\(2009\\) +de 700 millions 2,3 \u00e0 3,8 GHz 12 Mo de cache L3 Les m\u00e9moires informatiques La hi\u00e9rarchie des m\u00e9moires Dans un ordinateur, le processeur acc\u00e8de aux instructions du programme \u00e0 ex\u00e9cuter ainsi qu'aux donn\u00e9es n\u00e9cessaires \u00e0 son ex\u00e9cution depuis la m\u00e9moire. Il existe une hi\u00e9rarchie des m\u00e9moires informatiques : les plus rapides sont les plus co\u00fbteuses , donc en nombre limit\u00e9, et plac\u00e9es le plus pr\u00e8s du processeur (les registres font partie int\u00e9grante du processeur). Les plus lentes sont les moins co\u00fbteuses et sont \u00e9loign\u00e9es du processeur. Le mat\u00e9riel et le syst\u00e8me d'exploitation sont responsables du d\u00e9placement des objets le long de cette hi\u00e9rarchie. A titre d'information, voici une illustration des capacit\u00e9s et du temps d'acc\u00e8s aux diff\u00e9rentes m\u00e9moires (sur un processeur de \\(2012\\) ) : Type Capacit\u00e9s Vitese Registre \\(\\simeq 1000 o\\) 1 cycle Cache L1 128 Ko 700 Go/s Cache L2 1 Mo 200 Go/s Cache L3 6 Mo 100 Go/s Cache L4 128 Mo 40 Go/s DRAM \\(\\simeq 8 Go\\) 10 Go/s HDD Plusieurs To 200 Mo/s SSD 500 Mo 600 Mo/s Random Access Memory La m\u00e9moire RAM ( random Access Memory , aussi appel\u00e9e m\u00e9moire vive , est un type de m\u00e9moire volatile , ce qui signifie qu'elle perd toutes les donn\u00e9es en m\u00e9moire une fois l'alimentation \u00e9lectrique coup\u00e9e. Elles est caract\u00e9ris\u00e9e par un acc\u00e8s direct aux donn\u00e9e (on acc\u00e8de directement aux \u00ab cases \u00bb contenant les donn\u00e9es), contrairement \u00e0 un disque dur o\u00f9 l'acc\u00e8s se fait de mani\u00e8re s\u00e9quentielle (on parcourt le disque pour arriver aux donn\u00e9es cherch\u00e9es). On distingue deux principaux types de m\u00e9moire RAM : la SRAM ( Static Random Access Memory ) : dans la SRAM, les donn\u00e9es sont stock\u00e9es \u00e0 l'aide de l'\u00e9tat d'une cellule m\u00e9moire compos\u00e9e de 6 transistors. La SRAM est g\u00e9n\u00e9ralement utilis\u00e9e en guise de m\u00e9moire cache pour le processeur. La SRAM n'est g\u00e9n\u00e9ralement pas rempla\u00e7able par l'utilisateur. DRAM ( Dynamic Random Acces Memory ) : la DRAM stocke les donn\u00e9es \u00e0 l'aide d'un transistor et d'un accumulateur, qui constituent une cellule de DRAM. La DRAM co\u00fbte moins cher \u00e0 produire, mais est l\u00e9g\u00e8rement moins rapide que la SRAM. La plupart des modules de m\u00e9moire rempla\u00e7ables par l'utilisateur sont des modules DRAM. On trouve parfois la m\u00e9moire ECC ( Error Correcting Code , pour code correcteur d\u2019erreur), qui est un type de m\u00e9moire qui dispose d\u2019une cellule suppl\u00e9mentaire pour d\u00e9tecter et corriger les erreurs al\u00e9atoires. La m\u00e9moire ECC est rempla\u00e7able par l\u2019utilisateur, mais doit \u00eatre compatible avec les autres composants. Au vu de l'acc\u00e9l\u00e9ration des diff\u00e9rents composants informatiques, il a \u00e9t\u00e9 n\u00e9cessaire d'acc\u00e9l\u00e9rer la m\u00e9moire qui devenait le maillon faible de la cha\u00eene de traitement des donn\u00e9es. Le d\u00e9bit de donn\u00e9es double , ou DDR ( Double Data Rate ) fut alors d\u00e9velopp\u00e9, et la technologie qu'il a remplac\u00e9e fut appel\u00e9e \\\u00ab d\u00e9bit de donn\u00e9es simple \u00bb, ou SDR ( Single Data Rate ). La m\u00e9moire DDR \u00e9tait \u00e0 la fois plus rapide et moins \u00e9nergivore que la RAM SDR. Les technologies de m\u00e9moire continuent d'\u00e9voluer. La g\u00e9n\u00e9ration de m\u00e9moire suivante, la DDR2, fonctionne \u00e0 des vitesses sup\u00e9rieures et consomme moins d'\u00e9nergie que la DDR originale. La DDR3 et la DDR4 ont \u00e9galement suivi cette tendance. Chaque g\u00e9n\u00e9ration successive est plus rapide et consomme moins d\u2019\u00e9lectricit\u00e9. Read-Only Memory Originellement, l'expression m\u00e9moire morte (en anglais, Read-Only Memory : ROM) d\u00e9signait une m\u00e9moire informatique non volatile (c'est-\u00e0-dire une m\u00e9moire qui ne s'efface pas lorsque l'appareil qui la contient n'est plus aliment\u00e9 en \u00e9lectricit\u00e9) et dont le contenu est fix\u00e9 lors de sa programmation, qui pouvait \u00eatre lue plusieurs fois par l'utilisateur, mais ne pouvait plus \u00eatre modifi\u00e9e. Avec l'\u00e9volution des technologies, la d\u00e9finition du terme m\u00e9moire morte (en fran\u00e7ais) ou read only memory (en anglais) a \u00e9t\u00e9 \u00e9largie pour inclure les m\u00e9moires non volatiles dont le contenu est fix\u00e9 lors de leur fabrication, qui peuvent \u00eatre lues plusieurs fois par l'utilisateur et qui ne sont pas pr\u00e9vues pour \u00eatre modifi\u00e9es. Elles peuvent parfois cependant l'\u00eatre par un utilisateur exp\u00e9riment\u00e9, \u00e9ventuellement avec un mat\u00e9riel sp\u00e9cial. Ces m\u00e9moires sont les UVPROM, les PROM, les EPROM et les EEPROM. TP : programmer en assembleur L'assembleur, k\u00e9sako ? Un programme \u00e9crit dans un langage de haut niveau (comme Python) \u00e9loign\u00e9 du langage machine (dit de bas niveau) d\u00e9pend le moins possible du processeur et du syst\u00e8me d'exploitation. Si on ouvre un fichier ex\u00e9cutable avec un \u00e9diteur hexad\u00e9cimal, on obtient quelque chose du type 01ebe814063727473747566662e6305f5f43544f525f4c 5f05f5f44544f525f4c4953545f5f05f5f4a43525f4c49 53545f5f05f5f646f5f676c6f62616c5f64746f72735f6 75780636f6d706c657465642e36353331064746f725f69 C'est une suite d'instructions comme \\(01ebe814\\) , que l\u2019on peut traduire directement de fa\u00e7on plus lisible : add R0 , R1 , R2 C'est ce qu'on appelle de l'assembleur . Par exemple ici l'instruction add , va \u00e9crire dans le registre \\(R0\\) la somme des valeurs des registres \\(R1\\) et \\(R2\\) . L'assembleur est donc une repr\u00e9sentation du langage machine, mais qui est d\u00e9pendante directement du processeur (ou de la famille du processeur). En effet, les diff\u00e9rents processeurs ne reconnaissent pas exactement les m\u00eame types de mots cl\u00e9, ni exactement la m\u00eame syntaxe. De m\u00eame le nombre de registres accessibles est tr\u00e8s diff\u00e9rent selon le processeur utilis\u00e9. On peut distinguer deux grands types de processeurs . Les processeurs RISC ' ( Reduced instruction set computer ou processeur \u00e0 jeu d'instructions r\u00e9duit) sont des processeurs ou le nombre d'instruction est limit\u00e9, et ces instructions sont g\u00e9n\u00e9ralistes - op\u00e9rations arithm\u00e9tiques, chargement de donn\u00e9es dans/vers les registres, op\u00e9rations binaires de d\u00e9calage de bits,... La cons\u00e9quence de ce choix est le nombre restreints de circuits sp\u00e9cifiques sur le processeurs, et donc le nombre restreint de transistors. On trouve aussi les processeurs de type CISC ( (Complex Instruction Set Computer ou processeurs \u00e0 jeu d'instruction \u00e9tendu). Ce sont les processeurs de type x86, AMD64, Intel64, dont la fabrication a \u00e9t\u00e9 rendue possible par la miniaturisation des transistors et la capacit\u00e9 d'organiser finement les circuits afin d'avoir des circuits sp\u00e9cialis\u00e9s. En pratique, un langage de haut niveau est compil\u00e9 en assembleur puis directement cod\u00e9 en binaire pur. La plupart des programmeuses et programmeur ne touchent jamais \u00e0 l'assembleur, sauf dans des cas tr\u00e8s pr\u00e9cis o\u00f9 il est n\u00e9cessaire d'\u00eatre au plus pr\u00e8s de la machine. Mais pour comprendre le fonctionnement d'un processeur, il est quand m\u00eame important d'avoir quelques notions... Le M99, un ordinateur en papier D'apr\u00e8s le travail de Martin Quinson, ENS-Rennes Dans un premier temps, vous aurez besoin du processeur M99 . Le M99 est dote de 100 cases m\u00e9moire (la grille en haut), et d'un processeur (en bas).La m\u00e9moire est compos\u00e9e de 100 mots m\u00e9moire de 3 chiffres (valeur de 000 \u00e0 999). Chaque mot m\u00e9moire peut \u00eatre d\u00e9sign\u00e9 par une adresse cod\u00e9e sur deux chiffres. Cette m\u00e9moire va contenir donn\u00e9es et instructions .\\ L' Unit\u00e9 Arithm\u00e9tique et Logique (ALU) : le processeur dispose de trois registres directement utilisables. A et B sont utilis\u00e9 pour les op\u00e9randes des op\u00e9rations tandis que R est pour le r\u00e9sultat. Ces registres sont de 3 chiffres, mais contrairement \u00e0 la m\u00e9moire, ils ont un signe. Leur \u00e9tendue de valeurs est donc comprise entre \\(-999\\) et \\(999\\) . Le processeur dispose aussi d'un quatri\u00e8me registre nomm\u00e9 PC ( Program Counter ). C'est le pointeur d'instruction, contenant l'adresse m\u00e9moire de la prochaine instruction \u00e0 ex\u00e9cuter. Lorsqu'on utilise le M99 , on peut noter le num\u00e9ro de l'instruction \u00e0 ex\u00e9cuter dans la case pr\u00e9vue \u00e0 cet effet, mais en pratique, il est plus simple de le mat\u00e9rialiser avec un \\\u00ab pion\u00bb situ\u00e9 sur une des cases de la grille m\u00e9moire, ou m\u00eame de simplement suivre avec son doigt. Le jeu d'instruction est d\u00e9fini ci-dessous : Ainsi on a les codes suivants: \\(245\\) qui se traduit en LDB 45 , soit \u00ab Charger le contenu de la case m\u00e9moire \\(45\\) dans le registre \\(B\\) \u00bb ; \\(312\\) qui se traduit en MOV 12 , soit \u00ab Copier le contenu du registre \\(B\\) dans le registre \\(A\\) \u00bb . Lire et \u00e9crire un programme en assembleur Enonc\u00e9 Solution Sur le processeur M99 fourni, deux diff\u00e9rents programmes sont d\u00e9j\u00e0 en m\u00e9moire. D\u00e9rouler \u00ab \u00e0 la main \u00bb le programme charg\u00e9 \u00e0 l'adresse \\(00\\) . Quel est le r\u00e9sultat obtenu ? Quel est l'objectif de ce programme ? D\u00e9rouler \u00ab \u00e0 la main \u00bb le programme charg\u00e9 \u00e0 l'adresse \\(13\\) . Quel est le r\u00e9sultat obtenu ? Quel est l'objectif de ce programme ? Ecrire un programme sur le M99, charg\u00e9 en adresse \\(40\\) , qui prend deux nombres en entr\u00e9e (l'entr\u00e9e \u00e9tant consid\u00e9r\u00e9 comme \u00e9tant tout nombre mis en case \\(99\\) ) et renvoie la somme de ces deux nombres en sortie. A venir ! Utilisation d'un simulateur RISC D'apr\u00e8s le travail de David Roche Afin de mettre en pratique ce que nous avons \u00e9tudi\u00e9 dans le cours, nous allons utiliser un simulateur de processeur RISC d\u00e9velopp\u00e9 en javascript par Peter L Higginson. Ce simulateur est bas\u00e9 sur une architecture de von Neumann. Nous allons trouver dans ce simulateur une RAM et un CPU. Une version en fran\u00e7ais de ce simulateur est disponible ici sous la forme d'un dossier compress\u00e9. Voici ce que vous devriez obtenir : Il est relativement facile de distinguer les diff\u00e9rentes parties du simulateur : \u00e0 droite, on trouve la m\u00e9moire centrale; au centre, on trouve le microprocesseur; \u00e0 gauche on trouve la zone d'\u00e9dition (\u00ab Code assembleur\u00bb), c'est dans cette zone que nous allons saisir nos programmes en assembleur. Plus sp\u00e9cifiquement : pour la RAM , par d\u00e9faut le contenu des diff\u00e9rentes cellules de la m\u00e9moire est en base 10 (entier sign\u00e9), mais d'autres options sont possibles : base 10 (entier non-sign\u00e9), base 16 (hexad\u00e9cimal), base 2 (binaire). On acc\u00e8de \u00e0 ces options \u00e0 l'aide du bouton OPTIONS situ\u00e9 en bas dans la partie gauche du simulateur. Exercice Enonc\u00e9 R\u00e9ponse \u00c0 l'aide du bouton OPTIONS , passez \u00e0 un affichage en binaire. Quelle est la taille des mots utilis\u00e9s dans ce simulateur ? Combien y-a-t'il de cases m\u00e9moires ? A venir ! pour Le CPU , dans la partie centrale du simulateur, nous allons trouver en allant du haut vers le bas : le bloc \u00ab Registres\u00bb, o\u00f9 nous avons 8 registres ( R0 \u00e0 R7 ) + 1 registre ( PC ) qui contient l'adresse m\u00e9moire de l'instruction en cours d'ex\u00e9cution ; le bloc \u00ab Unit\u00e9 de Contr\u00f4le\u00bb qui contient l'instruction machine en cours d'ex\u00e9cution (au format hexad\u00e9cimal) ; le bloc \u00ab Unit\u00e9 Arithm\u00e9tique et Logique\u00bb, qui effectuera les op\u00e9rations. Nous ne nous int\u00e9resserons pas aux autres composants de la partie CPU. Exercice Enonc\u00e9 Avec le bouton OPTIONS , repassez en entiers sign\u00e9sn, puis, dans la partie \\\u00ab Code assembleur \u00bb, saisissez les lignes de codes suivantes : MOV R0 , #42 STR R0 , 150 Cliquez sur le bouton Valider. Que se passe-t-il ? Pour ex\u00e9cuter notre programme, il suffit maintenant de cliquer sur le bouton LANCER . Vous allez voir le CPU \\\u00ab travailler \u00bb en direct gr\u00e2ce \u00e0 de petites animations. Si cela va trop vite (ou trop doucement), vous pouvez r\u00e9gler la vitesse de simulation \u00e0 l'aide des boutons << et >> . Un appui sur le bouton STOP met en pause la simulation, si vous rappuyez une deuxi\u00e8me fois sur ce m\u00eame bouton STOP , la simulation reprend l\u00e0 o\u00f9 elle s'\u00e9tait arr\u00eat\u00e9e. Vous pouvez aussi lancer la simulation pas \u00e0 pas gr\u00e2ce au bouton PAS , et r\u00e9initialiser avec le bouton REINIT . Attention, la m\u00e9moire n'est pas modifi\u00e9e par un appui sur le bouton REINIT , pour remettre la m\u00e9moire \u00e0 0, il faut cliquer sur le bouton OPTIONS et choisir r\u00e9init. m\u00e9moire . Si vous remettez votre m\u00e9moire \u00e0 0, il faudra cliquer sur le bouton ASSEMBLER avant de pouvoir ex\u00e9cuter de nouveau votre programme. Qu'obtient-on \u00e0 la fin de l'ex\u00e9cution ? Modifiez le programme pr\u00e9c\u00e9dent pour qu'\u00e0 la fin de l'ex\u00e9cution on trouve le nombre 54 \u00e0 l'adresse m\u00e9moire 50. On utilisera le registre R1 \u00e0 la place du registre R0 . Testez vos modifications en ex\u00e9cutant la simulation. Saisissez et testez le programme suivant : MOV R0 , #4 STR R0 , 30 MOV R0 , #8 STR R0 , 75 LDR R0 , 30 CMP R0 , #10 BNE 10 MOV R0 , #9 STR R0 , 75 BRA 13 LDR R0 , 30 ADD R0 , #1 STR R0 , 30 MOV R0 , #6 STR R0 , 23 Quels sont les changements apport\u00e9s \u00e0 la m\u00e9moire apr\u00e8s avoir ex\u00e9cut\u00e9 ce code ? Que se passe-t-il apr\u00e8s l'ex\u00e9cution de la ligne BNE 10 ? Pourquoi ? Modifier la premi\u00e8re ligne du code avec : MOV R0 , #10 Quels sont les changements apport\u00e9s \u00e0 la m\u00e9moire apr\u00e8s avoir ex\u00e9cut\u00e9 ce code ? Que se passe-t-il apr\u00e8s l'ex\u00e9cution de la ligne BNE 10 ? Pourquoi ? Pour les courageux, voici un programme simple en Python : x = 0 while x < 3 : x = x + 1 Traduisez-le en assembleur.","title":"Architecture"},{"location":"NSI/Premiere/C05/Architecture/#architecture-materielle","text":"","title":"Architecture mat\u00e9rielle"},{"location":"NSI/Premiere/C05/Architecture/#le-modele-de-von-neumann","text":"","title":"Le mod\u00e8le de von Neumann"},{"location":"NSI/Premiere/C05/Architecture/#le-principe","text":"John Von Neumann (1903-1957) est un ing\u00e9nieur, math\u00e9maticien et physicien am\u00e9ricano-hongrois.Il a particip\u00e9 au projet Manhattan (premi\u00e8re bombe atomique) et \u00e0 l'ENIAC. Son nom reste attach\u00e9 \u00e0 un mod\u00e8le qu'il propose en 1944, mod\u00e8le d'architecture novateur qui sert toujours de base \u00e0 nos architectures actuelles. Le mod\u00e8le de von Neumann pr\u00e9cise les 4 composants essentiels d'un microprocesseur ainsi que les interactions entre ces diff\u00e9rents composants. Ces composants sont les suivants : l'unit\u00e9 de commande : contr\u00f4le la s\u00e9quence d'instructions ; l'unit\u00e9 arithm\u00e9tique et logique (UAL ou ALU en anglais) : ex\u00e9cute les instructions ; la m\u00e9moire : contient les donn\u00e9es et les programmes ; l'unit\u00e9 d'entr\u00e9e et sortie. Cette architecture est bien entendu une architecture th\u00e9orique . Elle doit \u00eatre compl\u00e9t\u00e9e par un certain nombre d'autres sous-structures pour \u00eatre effectivement fonctionnelle. On distingue entre autres : Les bus sont les liaisons entre les diff\u00e9rents \u00e9l\u00e9ments de l'architecture (m\u00e9moire, ALU, E/S,...). L' horloge est le cadenceur qui organise l'accomplissement des instructions, et dont l'unit\u00e9 est appel\u00e9 cycle d'horloge (1 cycle = 1 instuction).","title":"Le principe"},{"location":"NSI/Premiere/C05/Architecture/#cadence-dun-processeur","text":"La vitesse d'un processeur est exprim\u00e9e en GigaHertz (GHz). Elle exprime le nombre d'op\u00e9rations que peut faire le processeur en une seconde . Ainsi, un processeur \u00e0 3 GigaHerz effectue 3 milliards d'op\u00e9rations \u00e0 la seconde , c'est-\u00e0-dire 3 milliards de cycles par secondes. L'augmentation de la fr\u00e9quence d'horloge a longtemps \u00e9t\u00e9 un attendu des progr\u00e8s de l'informatique, et elle a \u00e9t\u00e9 longtemps corr\u00e9l\u00e9e \u00e0 l' augmentation du nombre de transistors dans les processeurs. Gordon E. Moore \u00e9nonca en \\(1965\\) une loi emprique pr\u00e9disant un doublement du nombre de processeurs tous les deux ans. Mais cette augmentation g\u00e9n\u00e8re une chaleur tr\u00e8s importante au niveau processeur, et la dissipation de cette chaleur est rapidement devenue un probl\u00e8me. Depuis \\(2005\\) environ, les fabricants se sont plut\u00f4t tourn\u00e9 vers une augmentation du nombre de c\u0153urs dans leurs processeurs, en comptant sur le parall\u00e9lisme (le fait de pouvoir g\u00e9rer des instructyions en simultan\u00e9 sur plusieurs coeurs) pour augmenter le nombre d'instructions trait\u00e9es par seconde, plut\u00f4t qu'une augmentation pure du nombre d'op\u00e9rations par seconde, qui actuellement plafonne aux environs de \\(3,8\\) GHz.","title":"Cadence d'un processeur"},{"location":"NSI/Premiere/C05/Architecture/#cycles-dinstructions-et-parallelisme","text":"Dans un processeur, 5 \u00e9tapes sont n\u00e9cessaires pour traiter une instruction. Chacune de ces 5 \u00e9tapes est ex\u00e9cut\u00e9e : IF ( Instruction Fetch ) : charge l'instruction \u00e0 ex\u00e9cuter ; ID ( Instruction Decode ) : d\u00e9code l'instruction ; EX ( Execute ) : ex\u00e9cute l'instruction ; MEM ( Memory ) : d\u00e9note un transfert depuis un registre vers la m\u00e9moire dans le cas d'une instruction du type STORE (acc\u00e8s en \u00e9criture) et de la m\u00e9moire vers un registre dans le cas d'un LOAD (acc\u00e8s en lecture); WB ( Write Back ) : stocke le r\u00e9sultat dans un registre. La source de ce r\u00e9sultat peut \u00eatre la m\u00e9moire (suite \u00e0 une instruction LOAD), l'unit\u00e9 de calcul (suite \u00e0 un calcul \u00e0 l'\u00e9tape EX) ou bien un registre (cas d'une instruction MOV). En supposant que chaque \u00e9tape met 1 cycle d'horloge pour s'ex\u00e9cuter, il faut normalement 5 cycles pour ex\u00e9cuter une instruction, 15 pour 3 instructions : Il est cependant possible d'am\u00e9liorer ce syst\u00e8me, notamment par l'utilisation de pipelines dans des processeurs dits superscalaires . Si plusieurs op\u00e9rations d'un m\u00eame programme sont ind\u00e9pendantes , alors le processeur peut contenir plusieurs instructions, chacune \u00e0 une \u00e9tape diff\u00e9rente. Le pipeline ci-dessous est le Classic RISC pipeline , cr\u00e9\u00e9 par David Patterson, inventeur des processeurs RISC et du concept de pipeline, et mis en oeuvre d\u00e8s 1961 par IBM : Il faut alors seulement 9 cycles pour ex\u00e9cuter 5 instructions. Au cinqui\u00e8me cycle, tous les \u00e9tages du pipeline sont sollicit\u00e9s, et les 5 op\u00e9rations ont lieu en m\u00eame temps.","title":"Cycles d'instructions et parall\u00e9lisme"},{"location":"NSI/Premiere/C05/Architecture/#levolution-du-modele-de-von-neumann","text":"M\u00eame si le mod\u00e8le de von Neumann reste d'actualit\u00e9, il a subi quelques \u00e9volutions r\u00e9cemment : Les Entr\u00e9e-sorties sont contr\u00f4l\u00e9es par des processeurs autonomes. Les CPU sont multiprocesseurs , soit par unit\u00e9s s\u00e9par\u00e9s soit par multiples coeurs dans une m\u00eame puce. On a ainsi une augmentation de la puissance sans augmenter la vitesse des processeurs. La m\u00e9moire est au coeur du syst\u00e8me, ce qui implique de plus en plus de parall\u00e9lisme. On peut voir cette \u00e9volution sur les processeurs eux-m\u00eames : Nom Ann\u00e9e Nombre de transistors Vitesse d'horloge M\u00e9moire Intel 4004 \\(1971\\) \\(2300\\) 100 KHz 640 o Nom Ann\u00e9e Nombre de transistors Vitesse d'horloge M\u00e9moire Intel 8080 \\(1974\\) \\(4500\\) 2 MHz 64 ko Nom Ann\u00e9e Nombre de transistors Vitesse d'horloge M\u00e9moire Motorola 68060 \\(1994\\) \\(2,5\\) millions 50 MHz 64 ko Nom Ann\u00e9e Nombre de transistors Vitesse d'horloge M\u00e9moire PowerPc 970Fx \\(2003\\) \\(58\\) millions 1,6-2,7 GHz 2Mo Cache L2 Nom Ann\u00e9e Nombre de transistors Vitesse d'horloge M\u00e9moire Intel Core I7 LGA1156 \\(2009\\) +de 700 millions 2,3 \u00e0 3,8 GHz 12 Mo de cache L3","title":"L'\u00e9volution du mod\u00e8le de von Neumann"},{"location":"NSI/Premiere/C05/Architecture/#les-memoires-informatiques","text":"","title":"Les m\u00e9moires informatiques"},{"location":"NSI/Premiere/C05/Architecture/#la-hierarchie-des-memoires","text":"Dans un ordinateur, le processeur acc\u00e8de aux instructions du programme \u00e0 ex\u00e9cuter ainsi qu'aux donn\u00e9es n\u00e9cessaires \u00e0 son ex\u00e9cution depuis la m\u00e9moire. Il existe une hi\u00e9rarchie des m\u00e9moires informatiques : les plus rapides sont les plus co\u00fbteuses , donc en nombre limit\u00e9, et plac\u00e9es le plus pr\u00e8s du processeur (les registres font partie int\u00e9grante du processeur). Les plus lentes sont les moins co\u00fbteuses et sont \u00e9loign\u00e9es du processeur. Le mat\u00e9riel et le syst\u00e8me d'exploitation sont responsables du d\u00e9placement des objets le long de cette hi\u00e9rarchie. A titre d'information, voici une illustration des capacit\u00e9s et du temps d'acc\u00e8s aux diff\u00e9rentes m\u00e9moires (sur un processeur de \\(2012\\) ) : Type Capacit\u00e9s Vitese Registre \\(\\simeq 1000 o\\) 1 cycle Cache L1 128 Ko 700 Go/s Cache L2 1 Mo 200 Go/s Cache L3 6 Mo 100 Go/s Cache L4 128 Mo 40 Go/s DRAM \\(\\simeq 8 Go\\) 10 Go/s HDD Plusieurs To 200 Mo/s SSD 500 Mo 600 Mo/s","title":"La hi\u00e9rarchie des m\u00e9moires"},{"location":"NSI/Premiere/C05/Architecture/#random-access-memory","text":"La m\u00e9moire RAM ( random Access Memory , aussi appel\u00e9e m\u00e9moire vive , est un type de m\u00e9moire volatile , ce qui signifie qu'elle perd toutes les donn\u00e9es en m\u00e9moire une fois l'alimentation \u00e9lectrique coup\u00e9e. Elles est caract\u00e9ris\u00e9e par un acc\u00e8s direct aux donn\u00e9e (on acc\u00e8de directement aux \u00ab cases \u00bb contenant les donn\u00e9es), contrairement \u00e0 un disque dur o\u00f9 l'acc\u00e8s se fait de mani\u00e8re s\u00e9quentielle (on parcourt le disque pour arriver aux donn\u00e9es cherch\u00e9es). On distingue deux principaux types de m\u00e9moire RAM : la SRAM ( Static Random Access Memory ) : dans la SRAM, les donn\u00e9es sont stock\u00e9es \u00e0 l'aide de l'\u00e9tat d'une cellule m\u00e9moire compos\u00e9e de 6 transistors. La SRAM est g\u00e9n\u00e9ralement utilis\u00e9e en guise de m\u00e9moire cache pour le processeur. La SRAM n'est g\u00e9n\u00e9ralement pas rempla\u00e7able par l'utilisateur. DRAM ( Dynamic Random Acces Memory ) : la DRAM stocke les donn\u00e9es \u00e0 l'aide d'un transistor et d'un accumulateur, qui constituent une cellule de DRAM. La DRAM co\u00fbte moins cher \u00e0 produire, mais est l\u00e9g\u00e8rement moins rapide que la SRAM. La plupart des modules de m\u00e9moire rempla\u00e7ables par l'utilisateur sont des modules DRAM. On trouve parfois la m\u00e9moire ECC ( Error Correcting Code , pour code correcteur d\u2019erreur), qui est un type de m\u00e9moire qui dispose d\u2019une cellule suppl\u00e9mentaire pour d\u00e9tecter et corriger les erreurs al\u00e9atoires. La m\u00e9moire ECC est rempla\u00e7able par l\u2019utilisateur, mais doit \u00eatre compatible avec les autres composants. Au vu de l'acc\u00e9l\u00e9ration des diff\u00e9rents composants informatiques, il a \u00e9t\u00e9 n\u00e9cessaire d'acc\u00e9l\u00e9rer la m\u00e9moire qui devenait le maillon faible de la cha\u00eene de traitement des donn\u00e9es. Le d\u00e9bit de donn\u00e9es double , ou DDR ( Double Data Rate ) fut alors d\u00e9velopp\u00e9, et la technologie qu'il a remplac\u00e9e fut appel\u00e9e \\\u00ab d\u00e9bit de donn\u00e9es simple \u00bb, ou SDR ( Single Data Rate ). La m\u00e9moire DDR \u00e9tait \u00e0 la fois plus rapide et moins \u00e9nergivore que la RAM SDR. Les technologies de m\u00e9moire continuent d'\u00e9voluer. La g\u00e9n\u00e9ration de m\u00e9moire suivante, la DDR2, fonctionne \u00e0 des vitesses sup\u00e9rieures et consomme moins d'\u00e9nergie que la DDR originale. La DDR3 et la DDR4 ont \u00e9galement suivi cette tendance. Chaque g\u00e9n\u00e9ration successive est plus rapide et consomme moins d\u2019\u00e9lectricit\u00e9.","title":"Random Access Memory"},{"location":"NSI/Premiere/C05/Architecture/#read-only-memory","text":"Originellement, l'expression m\u00e9moire morte (en anglais, Read-Only Memory : ROM) d\u00e9signait une m\u00e9moire informatique non volatile (c'est-\u00e0-dire une m\u00e9moire qui ne s'efface pas lorsque l'appareil qui la contient n'est plus aliment\u00e9 en \u00e9lectricit\u00e9) et dont le contenu est fix\u00e9 lors de sa programmation, qui pouvait \u00eatre lue plusieurs fois par l'utilisateur, mais ne pouvait plus \u00eatre modifi\u00e9e. Avec l'\u00e9volution des technologies, la d\u00e9finition du terme m\u00e9moire morte (en fran\u00e7ais) ou read only memory (en anglais) a \u00e9t\u00e9 \u00e9largie pour inclure les m\u00e9moires non volatiles dont le contenu est fix\u00e9 lors de leur fabrication, qui peuvent \u00eatre lues plusieurs fois par l'utilisateur et qui ne sont pas pr\u00e9vues pour \u00eatre modifi\u00e9es. Elles peuvent parfois cependant l'\u00eatre par un utilisateur exp\u00e9riment\u00e9, \u00e9ventuellement avec un mat\u00e9riel sp\u00e9cial. Ces m\u00e9moires sont les UVPROM, les PROM, les EPROM et les EEPROM.","title":"Read-Only Memory"},{"location":"NSI/Premiere/C05/Architecture/#tp-programmer-en-assembleur","text":"","title":"TP : programmer en assembleur"},{"location":"NSI/Premiere/C05/Architecture/#lassembleur-kesako","text":"Un programme \u00e9crit dans un langage de haut niveau (comme Python) \u00e9loign\u00e9 du langage machine (dit de bas niveau) d\u00e9pend le moins possible du processeur et du syst\u00e8me d'exploitation. Si on ouvre un fichier ex\u00e9cutable avec un \u00e9diteur hexad\u00e9cimal, on obtient quelque chose du type 01ebe814063727473747566662e6305f5f43544f525f4c 5f05f5f44544f525f4c4953545f5f05f5f4a43525f4c49 53545f5f05f5f646f5f676c6f62616c5f64746f72735f6 75780636f6d706c657465642e36353331064746f725f69 C'est une suite d'instructions comme \\(01ebe814\\) , que l\u2019on peut traduire directement de fa\u00e7on plus lisible : add R0 , R1 , R2 C'est ce qu'on appelle de l'assembleur . Par exemple ici l'instruction add , va \u00e9crire dans le registre \\(R0\\) la somme des valeurs des registres \\(R1\\) et \\(R2\\) . L'assembleur est donc une repr\u00e9sentation du langage machine, mais qui est d\u00e9pendante directement du processeur (ou de la famille du processeur). En effet, les diff\u00e9rents processeurs ne reconnaissent pas exactement les m\u00eame types de mots cl\u00e9, ni exactement la m\u00eame syntaxe. De m\u00eame le nombre de registres accessibles est tr\u00e8s diff\u00e9rent selon le processeur utilis\u00e9. On peut distinguer deux grands types de processeurs . Les processeurs RISC ' ( Reduced instruction set computer ou processeur \u00e0 jeu d'instructions r\u00e9duit) sont des processeurs ou le nombre d'instruction est limit\u00e9, et ces instructions sont g\u00e9n\u00e9ralistes - op\u00e9rations arithm\u00e9tiques, chargement de donn\u00e9es dans/vers les registres, op\u00e9rations binaires de d\u00e9calage de bits,... La cons\u00e9quence de ce choix est le nombre restreints de circuits sp\u00e9cifiques sur le processeurs, et donc le nombre restreint de transistors. On trouve aussi les processeurs de type CISC ( (Complex Instruction Set Computer ou processeurs \u00e0 jeu d'instruction \u00e9tendu). Ce sont les processeurs de type x86, AMD64, Intel64, dont la fabrication a \u00e9t\u00e9 rendue possible par la miniaturisation des transistors et la capacit\u00e9 d'organiser finement les circuits afin d'avoir des circuits sp\u00e9cialis\u00e9s. En pratique, un langage de haut niveau est compil\u00e9 en assembleur puis directement cod\u00e9 en binaire pur. La plupart des programmeuses et programmeur ne touchent jamais \u00e0 l'assembleur, sauf dans des cas tr\u00e8s pr\u00e9cis o\u00f9 il est n\u00e9cessaire d'\u00eatre au plus pr\u00e8s de la machine. Mais pour comprendre le fonctionnement d'un processeur, il est quand m\u00eame important d'avoir quelques notions...","title":"L'assembleur, k\u00e9sako ?"},{"location":"NSI/Premiere/C05/Architecture/#le-m99-un-ordinateur-en-papier","text":"D'apr\u00e8s le travail de Martin Quinson, ENS-Rennes Dans un premier temps, vous aurez besoin du processeur M99 . Le M99 est dote de 100 cases m\u00e9moire (la grille en haut), et d'un processeur (en bas).La m\u00e9moire est compos\u00e9e de 100 mots m\u00e9moire de 3 chiffres (valeur de 000 \u00e0 999). Chaque mot m\u00e9moire peut \u00eatre d\u00e9sign\u00e9 par une adresse cod\u00e9e sur deux chiffres. Cette m\u00e9moire va contenir donn\u00e9es et instructions .\\ L' Unit\u00e9 Arithm\u00e9tique et Logique (ALU) : le processeur dispose de trois registres directement utilisables. A et B sont utilis\u00e9 pour les op\u00e9randes des op\u00e9rations tandis que R est pour le r\u00e9sultat. Ces registres sont de 3 chiffres, mais contrairement \u00e0 la m\u00e9moire, ils ont un signe. Leur \u00e9tendue de valeurs est donc comprise entre \\(-999\\) et \\(999\\) . Le processeur dispose aussi d'un quatri\u00e8me registre nomm\u00e9 PC ( Program Counter ). C'est le pointeur d'instruction, contenant l'adresse m\u00e9moire de la prochaine instruction \u00e0 ex\u00e9cuter. Lorsqu'on utilise le M99 , on peut noter le num\u00e9ro de l'instruction \u00e0 ex\u00e9cuter dans la case pr\u00e9vue \u00e0 cet effet, mais en pratique, il est plus simple de le mat\u00e9rialiser avec un \\\u00ab pion\u00bb situ\u00e9 sur une des cases de la grille m\u00e9moire, ou m\u00eame de simplement suivre avec son doigt. Le jeu d'instruction est d\u00e9fini ci-dessous : Ainsi on a les codes suivants: \\(245\\) qui se traduit en LDB 45 , soit \u00ab Charger le contenu de la case m\u00e9moire \\(45\\) dans le registre \\(B\\) \u00bb ; \\(312\\) qui se traduit en MOV 12 , soit \u00ab Copier le contenu du registre \\(B\\) dans le registre \\(A\\) \u00bb . Lire et \u00e9crire un programme en assembleur Enonc\u00e9 Solution Sur le processeur M99 fourni, deux diff\u00e9rents programmes sont d\u00e9j\u00e0 en m\u00e9moire. D\u00e9rouler \u00ab \u00e0 la main \u00bb le programme charg\u00e9 \u00e0 l'adresse \\(00\\) . Quel est le r\u00e9sultat obtenu ? Quel est l'objectif de ce programme ? D\u00e9rouler \u00ab \u00e0 la main \u00bb le programme charg\u00e9 \u00e0 l'adresse \\(13\\) . Quel est le r\u00e9sultat obtenu ? Quel est l'objectif de ce programme ? Ecrire un programme sur le M99, charg\u00e9 en adresse \\(40\\) , qui prend deux nombres en entr\u00e9e (l'entr\u00e9e \u00e9tant consid\u00e9r\u00e9 comme \u00e9tant tout nombre mis en case \\(99\\) ) et renvoie la somme de ces deux nombres en sortie. A venir !","title":"Le M99, un ordinateur en papier"},{"location":"NSI/Premiere/C05/Architecture/#utilisation-dun-simulateur-risc","text":"D'apr\u00e8s le travail de David Roche Afin de mettre en pratique ce que nous avons \u00e9tudi\u00e9 dans le cours, nous allons utiliser un simulateur de processeur RISC d\u00e9velopp\u00e9 en javascript par Peter L Higginson. Ce simulateur est bas\u00e9 sur une architecture de von Neumann. Nous allons trouver dans ce simulateur une RAM et un CPU. Une version en fran\u00e7ais de ce simulateur est disponible ici sous la forme d'un dossier compress\u00e9. Voici ce que vous devriez obtenir : Il est relativement facile de distinguer les diff\u00e9rentes parties du simulateur : \u00e0 droite, on trouve la m\u00e9moire centrale; au centre, on trouve le microprocesseur; \u00e0 gauche on trouve la zone d'\u00e9dition (\u00ab Code assembleur\u00bb), c'est dans cette zone que nous allons saisir nos programmes en assembleur. Plus sp\u00e9cifiquement : pour la RAM , par d\u00e9faut le contenu des diff\u00e9rentes cellules de la m\u00e9moire est en base 10 (entier sign\u00e9), mais d'autres options sont possibles : base 10 (entier non-sign\u00e9), base 16 (hexad\u00e9cimal), base 2 (binaire). On acc\u00e8de \u00e0 ces options \u00e0 l'aide du bouton OPTIONS situ\u00e9 en bas dans la partie gauche du simulateur. Exercice Enonc\u00e9 R\u00e9ponse \u00c0 l'aide du bouton OPTIONS , passez \u00e0 un affichage en binaire. Quelle est la taille des mots utilis\u00e9s dans ce simulateur ? Combien y-a-t'il de cases m\u00e9moires ? A venir ! pour Le CPU , dans la partie centrale du simulateur, nous allons trouver en allant du haut vers le bas : le bloc \u00ab Registres\u00bb, o\u00f9 nous avons 8 registres ( R0 \u00e0 R7 ) + 1 registre ( PC ) qui contient l'adresse m\u00e9moire de l'instruction en cours d'ex\u00e9cution ; le bloc \u00ab Unit\u00e9 de Contr\u00f4le\u00bb qui contient l'instruction machine en cours d'ex\u00e9cution (au format hexad\u00e9cimal) ; le bloc \u00ab Unit\u00e9 Arithm\u00e9tique et Logique\u00bb, qui effectuera les op\u00e9rations. Nous ne nous int\u00e9resserons pas aux autres composants de la partie CPU. Exercice Enonc\u00e9 Avec le bouton OPTIONS , repassez en entiers sign\u00e9sn, puis, dans la partie \\\u00ab Code assembleur \u00bb, saisissez les lignes de codes suivantes : MOV R0 , #42 STR R0 , 150 Cliquez sur le bouton Valider. Que se passe-t-il ? Pour ex\u00e9cuter notre programme, il suffit maintenant de cliquer sur le bouton LANCER . Vous allez voir le CPU \\\u00ab travailler \u00bb en direct gr\u00e2ce \u00e0 de petites animations. Si cela va trop vite (ou trop doucement), vous pouvez r\u00e9gler la vitesse de simulation \u00e0 l'aide des boutons << et >> . Un appui sur le bouton STOP met en pause la simulation, si vous rappuyez une deuxi\u00e8me fois sur ce m\u00eame bouton STOP , la simulation reprend l\u00e0 o\u00f9 elle s'\u00e9tait arr\u00eat\u00e9e. Vous pouvez aussi lancer la simulation pas \u00e0 pas gr\u00e2ce au bouton PAS , et r\u00e9initialiser avec le bouton REINIT . Attention, la m\u00e9moire n'est pas modifi\u00e9e par un appui sur le bouton REINIT , pour remettre la m\u00e9moire \u00e0 0, il faut cliquer sur le bouton OPTIONS et choisir r\u00e9init. m\u00e9moire . Si vous remettez votre m\u00e9moire \u00e0 0, il faudra cliquer sur le bouton ASSEMBLER avant de pouvoir ex\u00e9cuter de nouveau votre programme. Qu'obtient-on \u00e0 la fin de l'ex\u00e9cution ? Modifiez le programme pr\u00e9c\u00e9dent pour qu'\u00e0 la fin de l'ex\u00e9cution on trouve le nombre 54 \u00e0 l'adresse m\u00e9moire 50. On utilisera le registre R1 \u00e0 la place du registre R0 . Testez vos modifications en ex\u00e9cutant la simulation. Saisissez et testez le programme suivant : MOV R0 , #4 STR R0 , 30 MOV R0 , #8 STR R0 , 75 LDR R0 , 30 CMP R0 , #10 BNE 10 MOV R0 , #9 STR R0 , 75 BRA 13 LDR R0 , 30 ADD R0 , #1 STR R0 , 30 MOV R0 , #6 STR R0 , 23 Quels sont les changements apport\u00e9s \u00e0 la m\u00e9moire apr\u00e8s avoir ex\u00e9cut\u00e9 ce code ? Que se passe-t-il apr\u00e8s l'ex\u00e9cution de la ligne BNE 10 ? Pourquoi ? Modifier la premi\u00e8re ligne du code avec : MOV R0 , #10 Quels sont les changements apport\u00e9s \u00e0 la m\u00e9moire apr\u00e8s avoir ex\u00e9cut\u00e9 ce code ? Que se passe-t-il apr\u00e8s l'ex\u00e9cution de la ligne BNE 10 ? Pourquoi ? Pour les courageux, voici un programme simple en Python : x = 0 while x < 3 : x = x + 1 Traduisez-le en assembleur.","title":"Utilisation d'un simulateur RISC"},{"location":"NSI/Premiere/C05/Historique/","text":"Petit historique de l'informatique Informatique : une d\u00e9finition Informatique En 1957, l'ing\u00e9nieur allemand Karl Steinbuch cr\u00e9e le terme \u00ab Informatik \u00bb pour son essai intitul\u00e9 Informatik: Automatische Informationsverarbeitung , pouvant \u00eatre rendu en fran\u00e7ais par \u00ab Informatique : traitement automatique de l'information \u00bb. En 1966, l'Acad\u00e9mie fran\u00e7aise consacre l'usage officiel du mot pour d\u00e9signer la \u00ab science du traitement de l'information \u00bb. La presse, l'industrie et le milieu universitaire l'adoptent d\u00e8s cette \u00e9poque. D'apr\u00e8s Wikipedia, article Informatique L'informatique est donc, \u00e9tymologiquement, bien ant\u00e9rieure aux ordinateurs. Il s'agit de savoir comment les informations sont stock\u00e9es , sur quels supports , et comment elles sont trait\u00e9es . Pr\u00e9-histoire de l'informatique Les premi\u00e8res traces laiss\u00e9es d\u00e9lib\u00e9r\u00e9ment et nous \u00e9tant parvenues par les \u00eatres humains sont les peintures rupestres. Elles gardent de nombreux myst\u00e8res, mais sont r\u00e9ellement des chefs d'oeuvres de civilisations passe\u00e9s. Les arch\u00e9o-anthorpologues s'accordent actuellement sur le fait que des proto-\u00e9critures ont \u00e9t\u00e9 utilis\u00e9es, mais nous ne disposons actuellement pas de pierres de Rosette permettant de les d\u00e9crypter. On touve ensuite les gravures sur rochers, puis rapidement les tablettes d'argiles,etc. Ces supports sont particuli\u00e8rement r\u00e9sistants, mais difficiles \u00e0 stocker et ne peuvent contenir que peu d'informations. Les syst\u00e8mes de comptages sont encore tr\u00e8s primitifs et peu optimis\u00e9s, du calculi (petit cailloux en latin), aux syst\u00e8mes de comptages cun\u00e9iformes sexag\u00e9simaux (en base \\(60\\) ), dont nous avons h\u00e9rit\u00e9 pour notre d\u00e9compte des heures et des angles en degr\u00e9. On trouve rapidement cependant le syst\u00e8me des bouliers, d\u00e9couvert de mani\u00e8res ind\u00e9pendantes par de multiples civilisation tout autour du globe. Les supports de type papyrus, v\u00e9lins (peau) et papiers sont probablement tr\u00e8s anciens, mais ils se d\u00e9gradent facilement, sont sensibles aux incendies, etc. Leurs difficult\u00e9s de conservation sont cependant contrebalanc\u00e9es par la plus grande facilit\u00e9 \u00e0 les travailler. Ils deviennent d\u00e8s l'antiquit\u00e9 le support privil\u00e9gi\u00e9 pour transmettre et conserver des informations, dans toutes les grandes civilisations. La machine d'Anticyth\u00e8re , d\u00e9couverte en 1900 et dat\u00e9e de 87 avant J.C. est une machine servant \u00e0 calculer les positions astronomiques, et donc \u00e0 naviguer. Elle nous montre que le calcul a toujours un enjeu capital, et que l'humanit\u00e9 a fait preuve d'une tr\u00e8s grande ing\u00e9niosit\u00e9 pour am\u00e9liorer ses capacit\u00e9s de calculs. Jusqu'\u00e0 la fin de l'\u00e9poque m\u00e9di\u00e9vale, la possibilit\u00e9 la plus r\u00e9pandue pour obtenir un manuscrit \u00e9tait de le recopier \u00e0 la main - d'o\u00f9 la grande importance des moines-copistes et des monast\u00e8re qui s'y consacraient dans la sph\u00e8re d'influence occidentale. Cependant le proc\u00e9d\u00e9 de xylographie (principe du tampon encreur avec une matrice en bois), ainsi que des proc\u00e9d\u00e9s simplifi\u00e9s de fabrication du papier transitent avec la grande horde mongole par l'interm\u00e9diaire de la route de la soie. Vers 1430, Johannes Gutenberg invente le principe de la presse \u00e0 imprimer \u00e0 caract\u00e8res mobiles, et facilite grandement la copie d'oeuvres \u00e9crites. Une nouvelle \u00e8re de d\u00e9veloppement de la science et des id\u00e9es se r\u00e9pend sur l'europe. Les sciences se d\u00e9veloppent rapidement, les chiffres dits arabes remplacent les peu efficaces chiffres romains. Les techniques de calculs \u00e9voluent, mais restent effectu\u00e9es au boulier o\u00f9 \u00e0 la main. Au XVII\u00e8me si\u00e8cle, Blaise Pascal , scientifique et penseur fran\u00e7ais, invente \u00e0 19 ans une machine \u00e0 calculer pour aider son p\u00e8re \u00e0 remettre de l'ordre dans les recttes fiscales d'une province fran\u00e7aise. Cette machine, la pascaline , \u00e9tait capable d'effecteur des op\u00e9rations \u00e9l\u00e9mentaires par l'interm\u00e9diaire d'un ing\u00e9nieux syst\u00e8me d'engrenages. Cependant la pr\u00e9cision n\u00e9cessaire \u00e0 la r\u00e9alisation de ces engrenages en a rendu la conception extr\u00e8menent couteuse, et peu de machines furent produites. Gottfried Leibniz est un penseur allemand. Il fait progesser la philosophie, les math\u00e9matiques, la physique et l'ing\u00e9nierie tout autant que son homologue fran\u00e7ais. Il am\u00e9liore la pascaline, et l'utilise pour le calcul diff\u00e9rentiel . En 1725, Basile Bouchon, un Lyonnais, met au point le premier syst\u00e8me de programmation d\u2019un m\u00e9tier \u00e0 tisser gr\u00e2ce \u00e0 un ruban perfor\u00e9. En 1728, Jean-Baptiste Falcon, son assistant, remplace le ruban par une s\u00e9rie de cartes perfor\u00e9es reli\u00e9es entre elles. Jacques de Vaucanson reprend cette id\u00e9e en rempla\u00e7ant ruban et cartes perfor\u00e9es par un cylindre m\u00e9tallique et enfin Joseph Marie Jacquard lie le tout dans son m\u00e9tier \u00e0 tisser qui fut adopt\u00e9 dans le monde entier \u00e0 partir de 1801. Ces cartes perfor\u00e9es sont les premiers exemples de supports de stockages permettant de stocker d'autres informations que l'\u00e9crit ou l'image. En effet, ces cartes sont utilis\u00e9es dans les orgues de barbarie pour repr\u00e9senter de la musique, et sur les m\u00e9tiers Jacquard afin d'y repr\u00e9senter des motifs de tissage. Les m\u00e9tiers \u00e0 tisser Jacquard sont la pointe de la technologie. Ils utilisent les cartes perfor\u00e9es pour r\u00e9aliser des motifs complexes, et sont donc \\\u00ab programmables \u00bb par l'introduction de nouvelles cartes. Les machines \u00e0 calculer Au XIX\u00e8me si\u00e8cle, l'Empire Britannique est \u00e0 son apog\u00e9e et sa puissance repose sur sa force navale, aussi bien commerciale que militaire. Or \u00e0 bord d'un navire la navigation se fait toujours aux \u00e9toile et par l'interm\u00e9diaire de cartes marines de plus en plus d\u00e9taill\u00e9es. Un navigateur \u00e0 cette \u00e9poque utilise quotidiennement des tables de navigations, qui ne sont rien d'autre que des tables de trigonom\u00e9trie et de logarithmes . Et ces tables sont \u00e9tabli\u00e9es et calcul\u00e9es \u00e0 la main, et sont loin d'\u00eatre exmptes d'erreurs de calcul. En 1833 - 1834, le math\u00e9maticien anglais Charles Babbage imagine une machine utilisant des cartes perfor\u00e9es qui permettrait d'effectuer des calculs scientifiques, la machine analytique ( Differential engine ). Cette machine ne sera jamais op\u00e9rationnelle du vivant de Babbage. Ada Lovelace (1815 - 1852), est une math\u00e9maticienne anglaise. Travaillant avec Charles Babbage, elle imagine pouvoir faire jouer de la musique, afficher des chiffres et des lettres avec la machine analytique. Elle d\u00e9crit, plus d'un si\u00e8cle avant son invention, l'ordinateur : \u00ab La machine analytique n'a nullement la pr\u00e9tention de cr\u00e9er quelque chose par elle-m\u00eame. Elle peut ex\u00e9cuter tout ce que nous saurons lui ordonner d'ex\u00e9cuter. Elle peut suivre une analyse ; mais elle n'a pas la facult\u00e9 d'imaginer des relations analytiques ou des v\u00e9rit\u00e9s. Son r\u00f4le est de nous aider \u00e0 effectuer ce que nous savons d\u00e9j\u00e0 dominer. \u00bb Vers 1842 elle \u00e9crit des algorithmes pour r\u00e9aliser un programme informatique et toutes les instructions \u00e0 donner \u00e0 la machine, jusqu'aux positions des rouages. Elle invente le concept de boucle, et devient ainsi la premi\u00e8re programmeuse. L'apparition de l'\u00e9lectricit\u00e9 comme source d'\u00e9nergie va rapidement permettre le d\u00e9veloppement de moteurs qui am\u00e9liorent les machines \u00e0 calculer. A la fin du XIX\u00e8me si\u00e8cle, Herman Holerith con\u00e7oit une machine utilisant des cartes perfor\u00e9es qui permet de simplifier le recensement de la population arrivant \u00e0 New-York. Il fonde une soci\u00e9t\u00e9 qui prendra rapidement le nom d'IBM. Les machines \u00e0 calculer \u00e9lectromagn\u00e9tiques se d\u00e9veloppent rapidement, et en parall\u00e8le les math\u00e9matiques pr\u00abressent \u00e0 grand pas. Math\u00e9maticien et cryptologue britannique (1912-1954), Alan Turing a d'abord travaill\u00e9 sur l'id\u00e9e de calculabilit\u00e9. Il montre que ce qui est calculable peut se d\u00e9composer en un nombre fini d'\u00e9tapes, et peut de ce fait \u00eatre r\u00e9alis\u00e9 par une machine. Il imagine \u00e0 la fin des ann\u00e9es 1930 un calculateur, mais celui-ci ne sera construit que 20 ans plus tard. Il imagine le moyen pour une machine de reproduire certaines action humaines : \u00ab Je crois que dans une cinquantaine d\u2019ann\u00e9es il sera possible de programmer des ordinateurs, avec une capacit\u00e9 de m\u00e9moire d\u2019\u00e0 peu pr\u00e8s \\(10^9\\) , pour les faire si bien jouer au jeu de l\u2019imitation qu\u2019un interrogateur moyen n\u2019aura pas plus de 70 pour cent de chances de proc\u00e9der \u00e0 l\u2019identification exacte apr\u00e8s cinq minutes d\u2019interrogation. \u00bb Lors de la seconde guerre mondiale, Alan Turing coordonne l'\u00e9quipe charg\u00e9e du d\u00e9codage de la machine Enigma utilis\u00e9e par les Nazis. Il construit une machine, le Colossus Mark II, surnomm\u00e9e \\\u00ab La bombe \u00bb, qui permet le d\u00e9chiffrement rapide des messages allemands. Cette machine peut \u00eatre consid\u00e9re comme le premier ordinateur \u00e9lectronique, mais elle \u00e9tait difficilement repr\u00abrammable car il fallait recabler pour changer de pr\u00abramme. De l'\u00e9lectronique \u00e0 la micro-informatique L'\u00e9lectronique nait de l'invention des tubes \u00e0 vides au d\u00e9but du XX\u00e8me si\u00e8cle. La machine Colossus , cr\u00e9\u00e9e entre 1943 et 1945 (mais dont l'existence ne fur r\u00e9v\u00e9l\u00e9e qu'en 1970) utilise ces tubes \u00e0 vides. L'ENIAC est cr\u00e9\u00e9 en 1944 d'une id\u00e9e de John William Mauchly, aid\u00e9 pour la r\u00e9solution des probl\u00e8mes d'ing\u00e9nierie par J. Presper Eckert. Il sert \u00e0 calculer des trajectoires balistiques, et est financ\u00e9 par l'arm\u00e9e am\u00e9ricaine, pour un co\u00fbt important, les tubes \u00e0 vides ayant une facheuse tendance \u00e0 voir leur dur\u00e9e de vie fortement limit\u00e9e. L'ENIAC est surtout connu pour son c\u00f4t\u00e9 colossal : 30 tonnes, \\(167 ~m^2\\) de surface au sol. Il est cependant d'un grand secours pour les calculs balistiques dont les calculs sont fastidieux. Par exemple voici le temps de calcul pour une table de tir : Moyen Temps A la main 2,6 j Avec une machine \u00e0 calculer 12 h Model 5 (concurrent de l'ENIAC) 40 min ENIAC 3 s PC moderne <30 \u00b5s Entre \\(1944\\) et \\(1955\\) , six femmes, Kathleen Antonelli, Jean Bartik, Betty Holberton, Marlyn Meltzer, Frances Spence et Ruth Teitelbaum sont les premi\u00e8res personnes \u00e0 programmer l'ENIAC, pour un calcul balistique. Elles sont toutes math\u00e9maticiennes. Kathleen Antonelli et Frances Spence sont recrut\u00e9es en 1942 par l\u2019arm\u00e9e am\u00e9ricaine pour calculer manuellement les trajectoires de tir. Marlyn Meltzer et Ruth Teitelbaum sont \u00e9galement calculatrices. Elles travaillent sur l'ENIAC \u00e0 partir de 1944. Il s'agit d'identifier les diff\u00e9rentes \u00e9tapes du calcul et ensuite de c\u00e2bler physiquement la machine. Ruth Teitelbaum, Frances Spence et Kathleen Antonelli poursuivirent leur travail sur l\u2019Eniac lorsque celui-ci est transf\u00e9r\u00e9 \u00e0 Aberdeen en 1947. Le transistor est invent\u00e9 en \\(1947\\) , et il remplace rapidement les tubes \u00e0 vides \u00e0 partir du milieu des ann\u00e9es \\(1950\\) , le co\u00fbt de frabrication d'un transistor commen\u00e7ant \u00e0 \u00eatre plus faible que celui d'un tube \u00e0 vide. D\u00e8s \\(1958\\) apparraisent les premiers circuits int\u00e9gr\u00e9s, et en \\(1971\\) le premier microprocesseur commercial voit le jour : c'est l'Intel 4004 . Les machines sont d\u00e9sormais miniaturis\u00e9es, fiables, et leur co\u00fbt de fabrication d\u00e9croit fortement. L'informatique s'ouvre aux particuliers. De multiples machines sont commercialis\u00e9es : l\u2019Altair 8008, l\u2019Apple II (1977), l\u2019IBM PC (1981), le ZX 81 (1981), le commodore 64 (1982), le Macintosh (1984) ... Le ZX 81 est consid\u00e9r\u00e9 \u00e0 son \u00e9poque comme le premier ordinateur familial en kit en France, sa r\u00e9solution et sa capacit\u00e9 m\u00e9moire (1 ko) ne permettait pas \u00e9norm\u00e9ment de prouesses au niveau des jeux. De nombreuses soci\u00e9t\u00e9s se lancent dans la production de machines familliales \u00e0 partir du d\u00e9but des ann\u00e9es \\(1980\\) , et l'informatique rentre \u00e0 l'\u00e9cole et commence \u00e0 y \u00eatre enseign\u00e9e, en particulier sur les machines Thomson en France, comme le TO7 , le MO5 ... Les consoles de jeu Si les consoles de jeu sont pr\u00e9sentes deopuis le d\u00e9but des ann\u00e9es 1970 - la console Odyssey est la premi\u00e8re console a pouvoir \u00eatre branch\u00e9e sur l'\u00e9cran de la t\u00e9l\u00e9vision d\u00e8s 1972, les jeux vid\u00e9os restent souvent cantonn\u00e9s dans les salles d'arcades, o\u00f9 les bornes fleurissent \u00e0 c\u00f4t\u00e9s des flippers et billards. A la fin des ann\u00e9es 1970 et au d\u00e9but des ann\u00e9es 1980, le march\u00e9 des consoles de jeu est florissant, avec pas moins de 744 mod\u00e8les diff\u00e9rents de consoles rien que pour l'ann\u00e9e 1977, dont certaines telles l' Atari 260 , la console Vectrex ou bien la console Videopac ont un certain succ\u00e8s en France. Le crack du jeu vid\u00e9o de 1983 m\u00e8nera \u00e0 une forte r\u00e9duction du nombre d'acteurs sur le march\u00e9 des consoles, jusqu'\u00e0 l'arriv\u00e9e en 1986 de la console Nintendo NES qui bat tous les records de ventes. Langages Informatiques Histoire des lmangages Les premiers ordinateurs ex\u00e9cutaient d\u00e9j\u00e0 du code binaire, et les premiers programmes \u00e9taient \u00e9crits sur des cartes perfor\u00e9es, \u00e0 la main, directement en code binaire. Ils \u00e9taient donc particuli\u00e8rement longs \u00e0 produire, et le risuqe d'erreur \u00e9tait grand. En \\(1954\\) , IBM d\u00e9veloppe le premier langage assembleur . Il sert d'interm\u00e9diaire entre l'algorithme ( pour i allant de ... ) et le langage machine ( 001011001... ). C'est un langage de tr\u00e8s bas niveau (proche de la machine, encore tr\u00e8s complexe \u00e0 comprendre par un humain). Exemple de programmation en assembleur: calcul du PGCD de 56 et 42 Programme en assembleur Equivalent Python main MOV R1 , #56 PSH R1 MOV R2 , #42 PSH R2 PSH R7 JMS PGCD POP R7 POP R2 POP R1 OUT R0 , 5 HLT PGCD LDR R1 , 2 ( SP ) LDR R2 , 1 ( SP ) PSH R1 PSH R2 MOV R7 , LR PSH R7 MOV R7 , SP PSH R7 While POP R7 MOV SP , R7 POP R7 MOV LR , R7 POP R2 POP R1 CMP R2 , #0 BNE Corps MOV R0 , R1 RET Corps MOD R1 , R2 PSH R2 PSH R1 MOV R7 , LR PSH R7 MOV R7 , SP PSH R7 BRA While def pgcd ( a , b ): while b != 0 : r = a % b a , b = b , r return a pgcd ( 56 , 42 ) En parall\u00e8le, Gr\u00e2ce Hopper d\u00e9veloppe le premier compilateur (c'est-\u00e0-dire un programme transformant un code source en code binaire) pour le langage informatique FORTRAN d'IBM, et ce langage est finalis\u00e9 en \\(1956\\) . Suivent ensuite les langages LISP ( \\(1958\\) ), ALGOL ( \\(1958\\) ), COBOL ( \\(1959\\) ) puis le BASIC en \\(1964\\) . Puis de \\(1970\\) \u00e0 \\(1980\\) : le C ( \\(1972\\) ), le ML ( \\(1973\\) ) dont est issu Caml , Ada ( \\(1983\\) ) et C++ ( \\(1986\\) ). C puis C++ sont des langages rapidement adopt\u00e9s par la communaut\u00e9 des programmeurs. Rapides, \u00e0 la syntaxe lisibles, ils sont toujours utilis\u00e9s pour la construction d'applications et autres programmes. Exemple de code C #include <stdio.h> /* inclusion en t\u00eate du programme du fichier biblioth\u00e8que C/UNIX stdio.h */ int somme ( int , int ); /* D\u00e9claration d'une fonction somme */ main () { int a , b , s ; scanf ( \"%d%d\" , & a , & b ); /* lecture des deux entiers */ s = somme ( a , b ); /* appel de la fonction somme */ printf ( \" Voici leur somme : %d \\n \" , s ); } /* La fonction somme avec deux param\u00e8tres formels x et y */ int somme ( int x , int y ) { return ( x + y ); } \u00e9 En \\(1989\\) , Guido van Rossum cr\u00e9e \u00e0 partir de C le langage Python , qui devient le langage de script de r\u00e9f\u00e9rence. En \\(1995\\) , Javascript s'impose dans les navigateurs, et depuis le nombre de langages n'a cess\u00e9 de progresser. Voici d'ailleurs une vid\u00e9o montrant la pr\u00e9valence des langages de 1965 \u00e0 2019 : Langages interpr\u00e9t\u00e9s vs langages compil\u00e9s. Pour comprendre la diff\u00e9rence entre langage interpr\u00e9t\u00e9s et langages compil\u00e9s, un petit tour sur FranceIOI .","title":"Historique"},{"location":"NSI/Premiere/C05/Historique/#petit-historique-de-linformatique","text":"","title":"Petit historique de l'informatique"},{"location":"NSI/Premiere/C05/Historique/#informatique-une-definition","text":"Informatique En 1957, l'ing\u00e9nieur allemand Karl Steinbuch cr\u00e9e le terme \u00ab Informatik \u00bb pour son essai intitul\u00e9 Informatik: Automatische Informationsverarbeitung , pouvant \u00eatre rendu en fran\u00e7ais par \u00ab Informatique : traitement automatique de l'information \u00bb. En 1966, l'Acad\u00e9mie fran\u00e7aise consacre l'usage officiel du mot pour d\u00e9signer la \u00ab science du traitement de l'information \u00bb. La presse, l'industrie et le milieu universitaire l'adoptent d\u00e8s cette \u00e9poque. D'apr\u00e8s Wikipedia, article Informatique L'informatique est donc, \u00e9tymologiquement, bien ant\u00e9rieure aux ordinateurs. Il s'agit de savoir comment les informations sont stock\u00e9es , sur quels supports , et comment elles sont trait\u00e9es .","title":"Informatique : une d\u00e9finition"},{"location":"NSI/Premiere/C05/Historique/#pre-histoire-de-linformatique","text":"Les premi\u00e8res traces laiss\u00e9es d\u00e9lib\u00e9r\u00e9ment et nous \u00e9tant parvenues par les \u00eatres humains sont les peintures rupestres. Elles gardent de nombreux myst\u00e8res, mais sont r\u00e9ellement des chefs d'oeuvres de civilisations passe\u00e9s. Les arch\u00e9o-anthorpologues s'accordent actuellement sur le fait que des proto-\u00e9critures ont \u00e9t\u00e9 utilis\u00e9es, mais nous ne disposons actuellement pas de pierres de Rosette permettant de les d\u00e9crypter. On touve ensuite les gravures sur rochers, puis rapidement les tablettes d'argiles,etc. Ces supports sont particuli\u00e8rement r\u00e9sistants, mais difficiles \u00e0 stocker et ne peuvent contenir que peu d'informations. Les syst\u00e8mes de comptages sont encore tr\u00e8s primitifs et peu optimis\u00e9s, du calculi (petit cailloux en latin), aux syst\u00e8mes de comptages cun\u00e9iformes sexag\u00e9simaux (en base \\(60\\) ), dont nous avons h\u00e9rit\u00e9 pour notre d\u00e9compte des heures et des angles en degr\u00e9. On trouve rapidement cependant le syst\u00e8me des bouliers, d\u00e9couvert de mani\u00e8res ind\u00e9pendantes par de multiples civilisation tout autour du globe. Les supports de type papyrus, v\u00e9lins (peau) et papiers sont probablement tr\u00e8s anciens, mais ils se d\u00e9gradent facilement, sont sensibles aux incendies, etc. Leurs difficult\u00e9s de conservation sont cependant contrebalanc\u00e9es par la plus grande facilit\u00e9 \u00e0 les travailler. Ils deviennent d\u00e8s l'antiquit\u00e9 le support privil\u00e9gi\u00e9 pour transmettre et conserver des informations, dans toutes les grandes civilisations. La machine d'Anticyth\u00e8re , d\u00e9couverte en 1900 et dat\u00e9e de 87 avant J.C. est une machine servant \u00e0 calculer les positions astronomiques, et donc \u00e0 naviguer. Elle nous montre que le calcul a toujours un enjeu capital, et que l'humanit\u00e9 a fait preuve d'une tr\u00e8s grande ing\u00e9niosit\u00e9 pour am\u00e9liorer ses capacit\u00e9s de calculs. Jusqu'\u00e0 la fin de l'\u00e9poque m\u00e9di\u00e9vale, la possibilit\u00e9 la plus r\u00e9pandue pour obtenir un manuscrit \u00e9tait de le recopier \u00e0 la main - d'o\u00f9 la grande importance des moines-copistes et des monast\u00e8re qui s'y consacraient dans la sph\u00e8re d'influence occidentale. Cependant le proc\u00e9d\u00e9 de xylographie (principe du tampon encreur avec une matrice en bois), ainsi que des proc\u00e9d\u00e9s simplifi\u00e9s de fabrication du papier transitent avec la grande horde mongole par l'interm\u00e9diaire de la route de la soie. Vers 1430, Johannes Gutenberg invente le principe de la presse \u00e0 imprimer \u00e0 caract\u00e8res mobiles, et facilite grandement la copie d'oeuvres \u00e9crites. Une nouvelle \u00e8re de d\u00e9veloppement de la science et des id\u00e9es se r\u00e9pend sur l'europe. Les sciences se d\u00e9veloppent rapidement, les chiffres dits arabes remplacent les peu efficaces chiffres romains. Les techniques de calculs \u00e9voluent, mais restent effectu\u00e9es au boulier o\u00f9 \u00e0 la main. Au XVII\u00e8me si\u00e8cle, Blaise Pascal , scientifique et penseur fran\u00e7ais, invente \u00e0 19 ans une machine \u00e0 calculer pour aider son p\u00e8re \u00e0 remettre de l'ordre dans les recttes fiscales d'une province fran\u00e7aise. Cette machine, la pascaline , \u00e9tait capable d'effecteur des op\u00e9rations \u00e9l\u00e9mentaires par l'interm\u00e9diaire d'un ing\u00e9nieux syst\u00e8me d'engrenages. Cependant la pr\u00e9cision n\u00e9cessaire \u00e0 la r\u00e9alisation de ces engrenages en a rendu la conception extr\u00e8menent couteuse, et peu de machines furent produites. Gottfried Leibniz est un penseur allemand. Il fait progesser la philosophie, les math\u00e9matiques, la physique et l'ing\u00e9nierie tout autant que son homologue fran\u00e7ais. Il am\u00e9liore la pascaline, et l'utilise pour le calcul diff\u00e9rentiel . En 1725, Basile Bouchon, un Lyonnais, met au point le premier syst\u00e8me de programmation d\u2019un m\u00e9tier \u00e0 tisser gr\u00e2ce \u00e0 un ruban perfor\u00e9. En 1728, Jean-Baptiste Falcon, son assistant, remplace le ruban par une s\u00e9rie de cartes perfor\u00e9es reli\u00e9es entre elles. Jacques de Vaucanson reprend cette id\u00e9e en rempla\u00e7ant ruban et cartes perfor\u00e9es par un cylindre m\u00e9tallique et enfin Joseph Marie Jacquard lie le tout dans son m\u00e9tier \u00e0 tisser qui fut adopt\u00e9 dans le monde entier \u00e0 partir de 1801. Ces cartes perfor\u00e9es sont les premiers exemples de supports de stockages permettant de stocker d'autres informations que l'\u00e9crit ou l'image. En effet, ces cartes sont utilis\u00e9es dans les orgues de barbarie pour repr\u00e9senter de la musique, et sur les m\u00e9tiers Jacquard afin d'y repr\u00e9senter des motifs de tissage. Les m\u00e9tiers \u00e0 tisser Jacquard sont la pointe de la technologie. Ils utilisent les cartes perfor\u00e9es pour r\u00e9aliser des motifs complexes, et sont donc \\\u00ab programmables \u00bb par l'introduction de nouvelles cartes.","title":"Pr\u00e9-histoire de l'informatique"},{"location":"NSI/Premiere/C05/Historique/#les-machines-a-calculer","text":"Au XIX\u00e8me si\u00e8cle, l'Empire Britannique est \u00e0 son apog\u00e9e et sa puissance repose sur sa force navale, aussi bien commerciale que militaire. Or \u00e0 bord d'un navire la navigation se fait toujours aux \u00e9toile et par l'interm\u00e9diaire de cartes marines de plus en plus d\u00e9taill\u00e9es. Un navigateur \u00e0 cette \u00e9poque utilise quotidiennement des tables de navigations, qui ne sont rien d'autre que des tables de trigonom\u00e9trie et de logarithmes . Et ces tables sont \u00e9tabli\u00e9es et calcul\u00e9es \u00e0 la main, et sont loin d'\u00eatre exmptes d'erreurs de calcul. En 1833 - 1834, le math\u00e9maticien anglais Charles Babbage imagine une machine utilisant des cartes perfor\u00e9es qui permettrait d'effectuer des calculs scientifiques, la machine analytique ( Differential engine ). Cette machine ne sera jamais op\u00e9rationnelle du vivant de Babbage. Ada Lovelace (1815 - 1852), est une math\u00e9maticienne anglaise. Travaillant avec Charles Babbage, elle imagine pouvoir faire jouer de la musique, afficher des chiffres et des lettres avec la machine analytique. Elle d\u00e9crit, plus d'un si\u00e8cle avant son invention, l'ordinateur : \u00ab La machine analytique n'a nullement la pr\u00e9tention de cr\u00e9er quelque chose par elle-m\u00eame. Elle peut ex\u00e9cuter tout ce que nous saurons lui ordonner d'ex\u00e9cuter. Elle peut suivre une analyse ; mais elle n'a pas la facult\u00e9 d'imaginer des relations analytiques ou des v\u00e9rit\u00e9s. Son r\u00f4le est de nous aider \u00e0 effectuer ce que nous savons d\u00e9j\u00e0 dominer. \u00bb Vers 1842 elle \u00e9crit des algorithmes pour r\u00e9aliser un programme informatique et toutes les instructions \u00e0 donner \u00e0 la machine, jusqu'aux positions des rouages. Elle invente le concept de boucle, et devient ainsi la premi\u00e8re programmeuse. L'apparition de l'\u00e9lectricit\u00e9 comme source d'\u00e9nergie va rapidement permettre le d\u00e9veloppement de moteurs qui am\u00e9liorent les machines \u00e0 calculer. A la fin du XIX\u00e8me si\u00e8cle, Herman Holerith con\u00e7oit une machine utilisant des cartes perfor\u00e9es qui permet de simplifier le recensement de la population arrivant \u00e0 New-York. Il fonde une soci\u00e9t\u00e9 qui prendra rapidement le nom d'IBM. Les machines \u00e0 calculer \u00e9lectromagn\u00e9tiques se d\u00e9veloppent rapidement, et en parall\u00e8le les math\u00e9matiques pr\u00abressent \u00e0 grand pas. Math\u00e9maticien et cryptologue britannique (1912-1954), Alan Turing a d'abord travaill\u00e9 sur l'id\u00e9e de calculabilit\u00e9. Il montre que ce qui est calculable peut se d\u00e9composer en un nombre fini d'\u00e9tapes, et peut de ce fait \u00eatre r\u00e9alis\u00e9 par une machine. Il imagine \u00e0 la fin des ann\u00e9es 1930 un calculateur, mais celui-ci ne sera construit que 20 ans plus tard. Il imagine le moyen pour une machine de reproduire certaines action humaines : \u00ab Je crois que dans une cinquantaine d\u2019ann\u00e9es il sera possible de programmer des ordinateurs, avec une capacit\u00e9 de m\u00e9moire d\u2019\u00e0 peu pr\u00e8s \\(10^9\\) , pour les faire si bien jouer au jeu de l\u2019imitation qu\u2019un interrogateur moyen n\u2019aura pas plus de 70 pour cent de chances de proc\u00e9der \u00e0 l\u2019identification exacte apr\u00e8s cinq minutes d\u2019interrogation. \u00bb Lors de la seconde guerre mondiale, Alan Turing coordonne l'\u00e9quipe charg\u00e9e du d\u00e9codage de la machine Enigma utilis\u00e9e par les Nazis. Il construit une machine, le Colossus Mark II, surnomm\u00e9e \\\u00ab La bombe \u00bb, qui permet le d\u00e9chiffrement rapide des messages allemands. Cette machine peut \u00eatre consid\u00e9re comme le premier ordinateur \u00e9lectronique, mais elle \u00e9tait difficilement repr\u00abrammable car il fallait recabler pour changer de pr\u00abramme.","title":"Les machines \u00e0 calculer"},{"location":"NSI/Premiere/C05/Historique/#de-lelectronique-a-la-micro-informatique","text":"L'\u00e9lectronique nait de l'invention des tubes \u00e0 vides au d\u00e9but du XX\u00e8me si\u00e8cle. La machine Colossus , cr\u00e9\u00e9e entre 1943 et 1945 (mais dont l'existence ne fur r\u00e9v\u00e9l\u00e9e qu'en 1970) utilise ces tubes \u00e0 vides. L'ENIAC est cr\u00e9\u00e9 en 1944 d'une id\u00e9e de John William Mauchly, aid\u00e9 pour la r\u00e9solution des probl\u00e8mes d'ing\u00e9nierie par J. Presper Eckert. Il sert \u00e0 calculer des trajectoires balistiques, et est financ\u00e9 par l'arm\u00e9e am\u00e9ricaine, pour un co\u00fbt important, les tubes \u00e0 vides ayant une facheuse tendance \u00e0 voir leur dur\u00e9e de vie fortement limit\u00e9e. L'ENIAC est surtout connu pour son c\u00f4t\u00e9 colossal : 30 tonnes, \\(167 ~m^2\\) de surface au sol. Il est cependant d'un grand secours pour les calculs balistiques dont les calculs sont fastidieux. Par exemple voici le temps de calcul pour une table de tir : Moyen Temps A la main 2,6 j Avec une machine \u00e0 calculer 12 h Model 5 (concurrent de l'ENIAC) 40 min ENIAC 3 s PC moderne <30 \u00b5s Entre \\(1944\\) et \\(1955\\) , six femmes, Kathleen Antonelli, Jean Bartik, Betty Holberton, Marlyn Meltzer, Frances Spence et Ruth Teitelbaum sont les premi\u00e8res personnes \u00e0 programmer l'ENIAC, pour un calcul balistique. Elles sont toutes math\u00e9maticiennes. Kathleen Antonelli et Frances Spence sont recrut\u00e9es en 1942 par l\u2019arm\u00e9e am\u00e9ricaine pour calculer manuellement les trajectoires de tir. Marlyn Meltzer et Ruth Teitelbaum sont \u00e9galement calculatrices. Elles travaillent sur l'ENIAC \u00e0 partir de 1944. Il s'agit d'identifier les diff\u00e9rentes \u00e9tapes du calcul et ensuite de c\u00e2bler physiquement la machine. Ruth Teitelbaum, Frances Spence et Kathleen Antonelli poursuivirent leur travail sur l\u2019Eniac lorsque celui-ci est transf\u00e9r\u00e9 \u00e0 Aberdeen en 1947. Le transistor est invent\u00e9 en \\(1947\\) , et il remplace rapidement les tubes \u00e0 vides \u00e0 partir du milieu des ann\u00e9es \\(1950\\) , le co\u00fbt de frabrication d'un transistor commen\u00e7ant \u00e0 \u00eatre plus faible que celui d'un tube \u00e0 vide. D\u00e8s \\(1958\\) apparraisent les premiers circuits int\u00e9gr\u00e9s, et en \\(1971\\) le premier microprocesseur commercial voit le jour : c'est l'Intel 4004 . Les machines sont d\u00e9sormais miniaturis\u00e9es, fiables, et leur co\u00fbt de fabrication d\u00e9croit fortement. L'informatique s'ouvre aux particuliers. De multiples machines sont commercialis\u00e9es : l\u2019Altair 8008, l\u2019Apple II (1977), l\u2019IBM PC (1981), le ZX 81 (1981), le commodore 64 (1982), le Macintosh (1984) ... Le ZX 81 est consid\u00e9r\u00e9 \u00e0 son \u00e9poque comme le premier ordinateur familial en kit en France, sa r\u00e9solution et sa capacit\u00e9 m\u00e9moire (1 ko) ne permettait pas \u00e9norm\u00e9ment de prouesses au niveau des jeux. De nombreuses soci\u00e9t\u00e9s se lancent dans la production de machines familliales \u00e0 partir du d\u00e9but des ann\u00e9es \\(1980\\) , et l'informatique rentre \u00e0 l'\u00e9cole et commence \u00e0 y \u00eatre enseign\u00e9e, en particulier sur les machines Thomson en France, comme le TO7 , le MO5 ...","title":"De l'\u00e9lectronique \u00e0 la micro-informatique"},{"location":"NSI/Premiere/C05/Historique/#les-consoles-de-jeu","text":"Si les consoles de jeu sont pr\u00e9sentes deopuis le d\u00e9but des ann\u00e9es 1970 - la console Odyssey est la premi\u00e8re console a pouvoir \u00eatre branch\u00e9e sur l'\u00e9cran de la t\u00e9l\u00e9vision d\u00e8s 1972, les jeux vid\u00e9os restent souvent cantonn\u00e9s dans les salles d'arcades, o\u00f9 les bornes fleurissent \u00e0 c\u00f4t\u00e9s des flippers et billards. A la fin des ann\u00e9es 1970 et au d\u00e9but des ann\u00e9es 1980, le march\u00e9 des consoles de jeu est florissant, avec pas moins de 744 mod\u00e8les diff\u00e9rents de consoles rien que pour l'ann\u00e9e 1977, dont certaines telles l' Atari 260 , la console Vectrex ou bien la console Videopac ont un certain succ\u00e8s en France. Le crack du jeu vid\u00e9o de 1983 m\u00e8nera \u00e0 une forte r\u00e9duction du nombre d'acteurs sur le march\u00e9 des consoles, jusqu'\u00e0 l'arriv\u00e9e en 1986 de la console Nintendo NES qui bat tous les records de ventes.","title":"Les consoles de jeu"},{"location":"NSI/Premiere/C05/Historique/#langages-informatiques","text":"","title":"Langages Informatiques"},{"location":"NSI/Premiere/C05/Historique/#histoire-des-lmangages","text":"Les premiers ordinateurs ex\u00e9cutaient d\u00e9j\u00e0 du code binaire, et les premiers programmes \u00e9taient \u00e9crits sur des cartes perfor\u00e9es, \u00e0 la main, directement en code binaire. Ils \u00e9taient donc particuli\u00e8rement longs \u00e0 produire, et le risuqe d'erreur \u00e9tait grand. En \\(1954\\) , IBM d\u00e9veloppe le premier langage assembleur . Il sert d'interm\u00e9diaire entre l'algorithme ( pour i allant de ... ) et le langage machine ( 001011001... ). C'est un langage de tr\u00e8s bas niveau (proche de la machine, encore tr\u00e8s complexe \u00e0 comprendre par un humain). Exemple de programmation en assembleur: calcul du PGCD de 56 et 42 Programme en assembleur Equivalent Python main MOV R1 , #56 PSH R1 MOV R2 , #42 PSH R2 PSH R7 JMS PGCD POP R7 POP R2 POP R1 OUT R0 , 5 HLT PGCD LDR R1 , 2 ( SP ) LDR R2 , 1 ( SP ) PSH R1 PSH R2 MOV R7 , LR PSH R7 MOV R7 , SP PSH R7 While POP R7 MOV SP , R7 POP R7 MOV LR , R7 POP R2 POP R1 CMP R2 , #0 BNE Corps MOV R0 , R1 RET Corps MOD R1 , R2 PSH R2 PSH R1 MOV R7 , LR PSH R7 MOV R7 , SP PSH R7 BRA While def pgcd ( a , b ): while b != 0 : r = a % b a , b = b , r return a pgcd ( 56 , 42 ) En parall\u00e8le, Gr\u00e2ce Hopper d\u00e9veloppe le premier compilateur (c'est-\u00e0-dire un programme transformant un code source en code binaire) pour le langage informatique FORTRAN d'IBM, et ce langage est finalis\u00e9 en \\(1956\\) . Suivent ensuite les langages LISP ( \\(1958\\) ), ALGOL ( \\(1958\\) ), COBOL ( \\(1959\\) ) puis le BASIC en \\(1964\\) . Puis de \\(1970\\) \u00e0 \\(1980\\) : le C ( \\(1972\\) ), le ML ( \\(1973\\) ) dont est issu Caml , Ada ( \\(1983\\) ) et C++ ( \\(1986\\) ). C puis C++ sont des langages rapidement adopt\u00e9s par la communaut\u00e9 des programmeurs. Rapides, \u00e0 la syntaxe lisibles, ils sont toujours utilis\u00e9s pour la construction d'applications et autres programmes. Exemple de code C #include <stdio.h> /* inclusion en t\u00eate du programme du fichier biblioth\u00e8que C/UNIX stdio.h */ int somme ( int , int ); /* D\u00e9claration d'une fonction somme */ main () { int a , b , s ; scanf ( \"%d%d\" , & a , & b ); /* lecture des deux entiers */ s = somme ( a , b ); /* appel de la fonction somme */ printf ( \" Voici leur somme : %d \\n \" , s ); } /* La fonction somme avec deux param\u00e8tres formels x et y */ int somme ( int x , int y ) { return ( x + y ); } \u00e9 En \\(1989\\) , Guido van Rossum cr\u00e9e \u00e0 partir de C le langage Python , qui devient le langage de script de r\u00e9f\u00e9rence. En \\(1995\\) , Javascript s'impose dans les navigateurs, et depuis le nombre de langages n'a cess\u00e9 de progresser. Voici d'ailleurs une vid\u00e9o montrant la pr\u00e9valence des langages de 1965 \u00e0 2019 :","title":"Histoire des lmangages"},{"location":"NSI/Premiere/C05/Historique/#langages-interpretes-vs-langages-compiles","text":"Pour comprendre la diff\u00e9rence entre langage interpr\u00e9t\u00e9s et langages compil\u00e9s, un petit tour sur FranceIOI .","title":"Langages interpr\u00e9t\u00e9s vs langages compil\u00e9s."},{"location":"NSI/Premiere/C06/CSV/","text":"Fichiers CSV : Traitement des donn\u00e9es en tables Donn\u00e9es en tables Une des utilisations principales de l\u2019informatique de nos jours est le traitement de quantit\u00e9s importantes de donn\u00e9es dans des domaines tr\u00e8s vari\u00e9s : un site de commerce en ligne peut avoir \u00e0 g\u00e9rer des bases donn\u00e9es pour des dizaines de milliers d\u2019articles en vente, de clients, de commandes ; un h\u00f4pital doit pouvoir acc\u00e9der efficacement \u00e0 tous les d\u00e9tails de traitements de ses patients ; un \u00e9diteur de jeux vid\u00e9o doit pouvoir stocker les informations relatives \u00e0 chaque joueur et chaque \u00e9l\u00e9ment du jeu ; etc \u2026 De tels traitements requierent souvent des logiciels de gestion de base de donn\u00e9es (SGDB) , qui sont des programmes hautement sp\u00e9cialis\u00e9s pour effectuer ce genre de t\u00e2ches le plus efficacement et s\u00fbrement possible. L'\u00e9tude plus d\u00e9taill\u00e9e des SGBD est au programme de terminale. Il est cependant facile de mettre en \u0153uvre les op\u00e9rations de bases sur certaines structures dans un langage de programmation comme Python. Il est en effet possible que de simples jeus de donn\u00e9es soient organis\u00e9s en tables . En informatique, une table de donn\u00e9es correspondent \u00e0 une liste de p-uplets nomm\u00e9s qui partagent les m\u00eames descripteurs . Exemple Par exemple on peut consid\u00e9rer la table suivante : Nom Rang Couleur du sabre Luke Skywalker Apprenti/Maitre Jedi Vert Anakin Skywalker Apprenti Jedi Bleu Yoda Maitre Jedi Vert Conte Dooku Seigneur Sith Ecarlate Darth Vader Apprenti Sith Ecarlate Rey Apprentie Jedi Jaune Chacune des lignes, appel\u00e9e aussi enregistrement , est un p-uplet nomm\u00e9 de taille 3. Chaque enregistrement correspond donc \u00e0 un dictionnaire en Python. La premi\u00e8re ligne correspond \u00e0 : { 'Nom' : 'Luke Skywalker' , 'Rang' : 'Apprenti/Maitre Jedi' , 'Couleur du sabre' : 'Vert' } Fichiers CSV Le format CSV (pour Comma Separated Values , soit en fran\u00e7ais valeurs s\u00e9par\u00e9es par des virgules ) est un format tr\u00e8s pratique pour repr\u00e9senter des donn\u00e9es structur\u00e9es. Dans ce format, chaque ligne repr\u00e9sente un enregistrement et, sur une m\u00eame ligne, les diff\u00e9rents champs de l\u2019enregistrement sont s\u00e9par\u00e9s par une virgule (d\u2019o\u00f9 le nom). Pour des raisons pratiques, il est possible en fait de sp\u00e9cifier le caract\u00e8re de s\u00e9paration entre chaque champ, qui peut donc \u00eatre : , ; , / , etc... Nous allons dans la suite de cette partie utiliser un fichier nomm\u00e9 countries.csv , t\u00e9l\u00e9chargeable ici . Exercice 1 Une fois le fichier t\u00e9l\u00e9charg\u00e9, vous pouvez l'ouvrir avec Notepad ++ . Enonc\u00e9 R\u00e9ponses Quel est le symbole utilis\u00e9 pour s\u00e9parer les champs ? Combien de champs diff\u00e9rents sont pr\u00e9sents et quesl sont leurs descripteurs ? Il est aussi possible d'utiliser un tableur comme LibreOffice.Calc pour lire un fichier CSV. Vous pourrez constater que LibreOffice.Calc vous demande un certain nombre d'informations sur le contenu du fichier avant de l'ouvrir r\u00e9ellement. Quels int\u00e9r\u00eat voyez-vous \u00e0 l'utilisation d'un tableur ? Quelles en sont les limites ? C'est le point-virgule Il y a 8 champs dont les descripteurs sont : ISO Name Capital_Id Area Population Continent Currency_Code Currency_Name Le tableur permet de visualiser rapidement les descripteurs et les donn\u00e9es, quand elles ne sont pas trop nombreuses. Un tableur est limit\u00e9 a 1 000 000 de lignes, alors qu'un fichier CSV n'est pas limit\u00e9 (ce qui n'emp\u00eache pas des probl\u00e8mes li\u00e9es \u00e0 la quantit\u00e9 de m\u00e9moire de l'ordinateur). Module CSV Lecture de base Un fichier csv \u00e9tant un fichier texte, il est tout \u00e0 fait possible de lire les donn\u00e9es gr\u00e2ce aux m\u00e9thodes classiques des fichiers(voir ici ) : >>> with open ( 'countries.csv' , 'r' , encoding = 'utf8' , newline = '' ) as file : contenu = file . readlines () print ( contenu ) Le r\u00e9sultat est peu lisible, et difficilement exploitable ainsi. Mais il est tout \u00e0 fait possible de reconstituer correctement chaque enregistrement, en utilisant des m\u00e9thodes de chaines de caract\u00e8res ( on se limite aux 5 premiers enregistrelments pour des raisons de lisbilit\u00e9s dans l'interpr\u00e9teur ) : >>> formatedContent = [] >>> for line in contenu [ : 5 ] : formatedContent . append ( line . replace ( ' \\r\\n ' , '' ) . split ( ';' )) On peut alors r\u00e9cup\u00e9rer les descripteurs : >>> formatedContent [ 0 ] [ 'ISO' , 'Name' , 'Capital_Id' , 'Area' , 'Population' , 'Continent' , 'Currency_Code' , 'Currency_Name' ] Et le premier enregistrement : >>> formatedContent [ 1 ] [ 'AD' , 'Andorra' , '3041563' , '468' , '84000' , 'EU' , 'EUR' , 'Euro' ] Cependant cette solution n'est pas des plus efficace, car le lien entre descripteurs et valeurs n'est pas direct . Lire un fichier CSV, premiers traitements Dans la suite du cours, il sera n\u00e9cessaire d'adapter au fur et \u00e0 mesure un fichier python ! Le module csv est un des modules pr\u00e9sents dans toute installation Python. Comme tout module, il est disponible par import direct : import csv Une fois import\u00e9, il offre de nombreuses possibilit\u00e9s, d\u00e9crites dans la doc Python , dont la m\u00e9thode DictReader qui permet der r\u00e9cup\u00e9rer les enregistrements sous la forme d'un dictionnaire ordonn\u00e9 : countries = [] with open ( 'countries.csv' , 'r' , encoding = 'utf8' , newline = '' ) as file : reader = csv . DictReader ( file , delimiter = \";\" ) # L'objet reader est un it\u00e9rable. On pr\u00e9cise le delimiteur \u00e0 l'appel de DictReader for line in reader : countries . append ( line ) La variable countries fait donc r\u00e9f\u00e9rence \u00e0 une liste de dictionnaires, ayant tous les m\u00eames descripteurs. Une fois le programme ex\u00e9cut\u00e9, on peut donc tester dans le shell les comandes suivantes : >>> countries [: 5 ] [{ [{ 'ISO' : 'AD' , 'Name' : 'Andorra' , 'Capital_Id' : '3041563' , 'Area' : '468' , 'Population' : '84000' , 'Continent' : 'EU' , 'Currency_Code' : 'EUR' , 'Currency_Name' : 'Euro' }, { 'ISO' : 'AE' , 'Name' : 'United Arab Emirates' , 'Capital_Id' : '292968' , 'Area' : '82880' , 'Population' : '4975593' , 'Continent' : 'AS' , 'Currency_Code' : 'AED' , 'Currency_Name' : 'Dirham' }, { 'ISO' : 'AF' , 'Name' : 'Afghanistan' , 'Capital_Id' : '1138958' , 'Area' : '647500' , 'Population' : '29121286' , 'Continent' : 'AS' , 'Currency_Code' : 'AFN' , 'Currency_Name' : 'Afghani' }, { 'ISO' : 'AG' , 'Name' : 'Antigua and Barbuda' , 'Capital_Id' : '3576022' , 'Area' : '443' , 'Population' : '86754' , 'Continent' : 'NA' , 'Currency_Code' : 'XCD' , 'Currency_Name' : 'Dollar' }, { 'ISO' : 'AI' , 'Name' : 'Anguilla' , 'Capital_Id' : '3573374' , 'Area' : '102' , 'Population' : '13254' , 'Continent' : 'NA' , 'Currency_Code' : 'XCD' , 'Currency_Name' : 'Dollar' }] On peut bien entendu conna\u00eetre le nombre d'enregistrements contenus dans la variable countries : >>> len ( countries ) 243 On peut alors interroger cette variable \u00e0 partir des descripteurs. Par exemple, nous pouvons chercher \u00e0 obtenir la liste des pays dont la devise est en euro : >>> [ c [ 'Name' ] for c in countries if c [ 'Currency_Code' ] == 'EUR' ] [ 'Andorra' , 'Austria' , 'Aland Islands' , 'Belgium' , 'Saint Barthelemy' , 'Cyprus' , 'Germany' , 'Estonia' , 'Spain' , 'Finland' , 'France' , 'French Guiana' , 'Guadeloupe' , 'Greece' , 'Ireland' , 'Italy' , 'Kosovo' , 'Lithuania' , 'Luxembourg' , 'Latvia' , 'Monaco' , 'Montenegro' , 'Saint Martin' , 'Martinique' , 'Malta' , 'Netherlands' , 'Saint Pierre and Miquelon' , 'Portugal' , 'Reunion' , 'Slovenia' , 'Slovakia' , 'San Marino' , 'French Southern Territories' , 'Vatican' , 'Mayotte' ] Exercice Enonc\u00e9 R\u00e9ponses \u00c9crire une compr\u00e9hension de listes permettant de lister les codes de toutes les monnaies qui s\u2019appellent \u2018Dollar\u2019 . \u00c9crire une compr\u00e9hension de listes permettant de lister les pays du continent Nord-Am\u00e9ricain, sous la forme Nom, Superficie, Population Le code : >>> [ c [ 'Currency_Code' ] for c in countries if c [ 'Currency_Name' ] == 'Dollar' ] [ 'XCD' , 'XCD' , 'USD' , 'AUD' , 'BBD' , 'BMD' , 'BND' , 'BSD' , 'BZD' , 'CAD' , 'AUD' , 'NZD' , 'AUD' , 'XCD' , 'USD' , 'FJD' , 'USD' , 'XCD' , 'USD' , 'GYD' , 'HKD' , 'JMD' , 'AUD' , 'XCD' , 'KYD' , 'XCD' , 'LRD' , 'USD' , 'USD' , 'XCD' , 'NAD' , 'AUD' , 'AUD' , 'NZD' , 'NZD' , 'NZD' , 'USD' , 'USD' , 'SBD' , 'SGD' , 'SRD' , 'USD' , 'USD' , 'USD' , 'TTD' , 'AUD' , 'TWD' , 'USD' , 'XCD' , 'USD' , 'USD' , 'ZWL' ] Le code : >>> [ c [ 'Name' ] for c in countries if c [ 'Continent' ] == 'NA' ] [ 'Antigua and Barbuda' , 'Anguilla' , 'Aruba' , 'Barbados' , 'Saint Barthelemy' , 'Bermuda' , 'Bahamas' , 'Belize' , 'Canada' , 'Costa Rica' , 'Cuba' , 'Curacao' , 'Dominica' , 'Dominican Republic' , 'Grenada' , 'Greenland' , 'Guadeloupe' , 'Guatemala' , 'Honduras' , 'Haiti' , 'Jamaica' , 'Saint Kitts and Nevis' , 'Cayman Islands' , 'Saint Lucia' , 'Saint Martin' , 'Martinique' , 'Montserrat' , 'Mexico' , 'Nicaragua' , 'Panama' , 'Saint Pierre and Miquelon' , 'Puerto Rico' , 'El Salvador' , 'Sint Maarten' , 'Turks and Caicos Islands' , 'Trinidad and Tobago' , 'United States' , 'Saint Vincent and the Grenadines' , 'British Virgin Islands' , 'U.S. Virgin Islands' ] Les donn\u00e9es num\u00e9riques Comment faire pour lister les pays dont la superficie est inf\u00e9rieure \u00e0 300 km\u00b2 ? On pourrait penser \u00e0 \u00e9crire une compr\u00e9hension de liste identique \u00e0 celles \u00e9crites pr\u00e9c\u00e9dfemment : >>> [( c [ 'Name' ], c [ 'Area' ]) for c in countries if c [ 'Area' ] < 300 ] --------------------------------------------------------------------------- TypeError Traceback ( most recent call last ) < ipython - input - 13 - 6 debe1b6bf11 > in < module > ----> 1 [( c [ 'Name' ], c [ 'Area' ]) for c in countries if c [ 'Area' ] < 300 ] < ipython - input - 13 - 6 debe1b6bf11 > in < listcomp > ( .0 ) ----> 1 [( c [ 'Name' ], c [ 'Area' ]) for c in countries if c [ 'Area' ] < 300 ] TypeError : '<' not supported between instances of 'str' and 'int' Mais nous avons un probl\u00e8me : les donn\u00e9es extraites d'un fichier csv sont toutes sous la forme de chaines de caract\u00e8res . Il faut donc transtyper certaines donn\u00e9es pour parvenir au r\u00e9sultat escompt\u00e9. D'apr\u00e8s les 5 premiers enregistrements, la superficie semble \u00eatre sous la forme d'un nombre entier, donc on teste : >>> [( c [ 'Name' ], c [ 'Area' ]) for c in countries if int ( c [ 'Area' ]) < 300 ] --------------------------------------------------------------------------- ValueError Traceback ( most recent call last ) < ipython - input - 14 - d2574c3771d7 > in < module > ----> 1 [( c [ 'Name' ], c [ 'Area' ]) for c in countries if int ( c [ 'Area' ]) < 300 ] < ipython - input - 14 - d2574c3771d7 > in < listcomp > ( .0 ) ----> 1 [( c [ 'Name' ], c [ 'Area' ]) for c in countries if int ( c [ 'Area' ]) < 300 ] ValueError : invalid literal for int () with base 10 : '6.5' Mais encore une fois un probl\u00e8me appar\u00e2it : les donn\u00e9es ne sont pas toutes transtypables sous la forme enti\u00e8re , chose que nous ne pouvions savoir avant de traiter. Il faut donc les convertir en flottant : >>> [( c [ 'Name' ], c [ 'Area' ]) for c in countries if float ( c [ 'Area' ]) < 300 ] [( 'Anguilla' , '102' ), ( 'American Samoa' , '199' ), ( 'Aruba' , '193' ), ( 'Saint Barthelemy' , '21' ), ( 'Bermuda' , '53' ), ( 'Cocos Islands' , '14' ), ( 'Cook Islands' , '240' ), ( 'Christmas Island' , '135' ), ( 'Guernsey' , '78' ), ( 'Gibraltar' , '6.5' ), ( 'Jersey' , '116' ), ( 'Saint Kitts and Nevis' , '261' ), ( 'Cayman Islands' , '262' ), ( 'Liechtenstein' , '160' ), ( 'Monaco' , '1.95' ), ( 'Saint Martin' , '53' ), ( 'Marshall Islands' , '181.3' ), ( 'Macao' , '254' ), ( 'Montserrat' , '102' ), ( 'Norfolk Island' , '34.6' ), ( 'Nauru' , '21' ), ( 'Niue' , '260' ), ( 'Saint Pierre and Miquelon' , '242' ), ( 'Pitcairn' , '47' ), ( 'San Marino' , '61.2' ), ( 'Sint Maarten' , '21' ), ( 'Tuvalu' , '26' ), ( 'Vatican' , '0.44' ), ( 'British Virgin Islands' , '153' ), ( 'Wallis and Futuna' , '274' )] Exercice Enonc\u00e9 R\u00e9ponse \u00c9crire une compr\u00e9hension de liste donnant le nom, le continent et la superficie des pays de plus de 100 millions d'habitants >>> [( c [ 'Name' ], c [ 'Continent' ], c [ 'Area' ]) for c in countries if float ( c [ 'Population' ]) > 10 ** 8 ] [( 'Bangladesh' , 'AS' , '144000' ), ( 'Brazil' , 'SA' , '8511965' ), ( 'China' , 'AS' , '9596960' ), ( 'Indonesia' , 'AS' , '1919440' ), ( 'India' , 'AS' , '3287590' ), ( 'Japan' , 'AS' , '377835' ), ( 'Mexico' , 'NA' , '1972550' ), ( 'Nigeria' , 'AF' , '923768' ), ( 'Pakistan' , 'AS' , '803940' ), ( 'Russia' , 'EU' , '17100000' ), ( 'United States' , 'NA' , '9629091' )] Trier les donn\u00e9es Les r\u00e9sultats prec\u00e9dents sont encore peu lisibles, il serait pr\u00e9f\u00e9rable que les donn\u00e9es obtenues soient tri\u00e9es. On va utiliser la fonction built-in sorted : >>> sorted ([( c [ 'Name' ], c [ 'Area' ]) for c in countries if float ( c [ 'Area' ]) < 300 ]) [( 'American Samoa' , '199' ), ( 'Anguilla' , '102' ), ( 'Aruba' , '193' ), ( 'Bermuda' , '53' ), ( 'British Virgin Islands' , '153' ), ( 'Cayman Islands' , '262' ), ( 'Christmas Island' , '135' ), ( 'Cocos Islands' , '14' ), ( 'Cook Islands' , '240' ), ( 'Gibraltar' , '6.5' ), ( 'Guernsey' , '78' ), ( 'Jersey' , '116' ), ( 'Liechtenstein' , '160' ), ( 'Macao' , '254' ), ( 'Marshall Islands' , '181.3' ), ( 'Monaco' , '1.95' ), ( 'Montserrat' , '102' ), ( 'Nauru' , '21' ), ( 'Niue' , '260' ), ( 'Norfolk Island' , '34.6' ), ( 'Pitcairn' , '47' ), ( 'Saint Barthelemy' , '21' ), ( 'Saint Kitts and Nevis' , '261' ), ( 'Saint Martin' , '53' ), ( 'Saint Pierre and Miquelon' , '242' ), ( 'San Marino' , '61.2' ), ( 'Sint Maarten' , '21' ), ( 'Tuvalu' , '26' ), ( 'Vatican' , '0.44' ), ( 'Wallis and Futuna' , '274' )] On obtient bien une liste tri\u00e9e, mais par ordre alphab\u00e9tique, ce qui est peu pertinent. En effet, pour trier une table, il faut pr\u00e9ciser selon quels crit\u00e8res . On va donc passer un argument suppl\u00e9mentaire \u00e0 la fonction sorted : une cl\u00e9 de tri . Dans Python, la cl\u00e9 doit \u00eatre une fonction permettant d'extraire la valeur \u00e0 trier. On va donc cr\u00e9er une fonction qui va renvoyer la valeur voulue selon l'enrtegistrement pass\u00e9 en param\u00e8tre. Ici on va passer un tuple (Nom;Superficie) et on veut donc trier selon l'\u00e9l\u00e9ment d'indice 1 : def areaKey ( c ): return float ( c [ 1 ]) Puis on va passer cette fonction \u00e0 la fonction sorted : >>> sorted ([( c [ 'Name' ], c [ 'Area' ]) for c in countries if float ( c [ 'Area' ]) < 300 ], key = areaKey ) [( 'Vatican' , '0.44' ), ( 'Monaco' , '1.95' ), ( 'Gibraltar' , '6.5' ), ( 'Cocos Islands' , '14' ), ( 'Saint Barthelemy' , '21' ), ( 'Nauru' , '21' ), ( 'Sint Maarten' , '21' ), ( 'Tuvalu' , '26' ), ( 'Norfolk Island' , '34.6' ), ( 'Pitcairn' , '47' ), ( 'Bermuda' , '53' ), ( 'Saint Martin' , '53' ), ( 'San Marino' , '61.2' ), ( 'Guernsey' , '78' ), ( 'Anguilla' , '102' ), ( 'Montserrat' , '102' ), ( 'Jersey' , '116' ), ( 'Christmas Island' , '135' ), ( 'British Virgin Islands' , '153' ), ( 'Liechtenstein' , '160' ), ( 'Marshall Islands' , '181.3' ), ( 'Aruba' , '193' ), ( 'American Samoa' , '199' ), ( 'Cook Islands' , '240' ), ( 'Saint Pierre and Miquelon' , '242' ), ( 'Macao' , '254' ), ( 'Niue' , '260' ), ( 'Saint Kitts and Nevis' , '261' ), ( 'Cayman Islands' , '262' ), ( 'Wallis and Futuna' , '274' )] Fonctions anonymes Pour information , il est possible de ne pas d\u00e9clarer la fonction de tri avant de l'utiliser, en utilisant une fonction anonyme : >>> sorted ([( c [ 'Name' ], c [ 'Area' ]) for c in countries if float ( c [ 'Area' ]) < 300 ], key = lambda x : float ( x [ 1 ])) [( 'Vatican' , '0.44' ), ( 'Monaco' , '1.95' ), ( 'Gibraltar' , '6.5' ), ( 'Cocos Islands' , '14' ), ( 'Saint Barthelemy' , '21' ), ( 'Nauru' , '21' ), ( 'Sint Maarten' , '21' ), ( 'Tuvalu' , '26' ), ( 'Norfolk Island' , '34.6' ), ( 'Pitcairn' , '47' ), ( 'Bermuda' , '53' ), ( 'Saint Martin' , '53' ), ( 'San Marino' , '61.2' ), ( 'Guernsey' , '78' ), ( 'Anguilla' , '102' ), ( 'Montserrat' , '102' ), ( 'Jersey' , '116' ), ( 'Christmas Island' , '135' ), ( 'British Virgin Islands' , '153' ), ( 'Liechtenstein' , '160' ), ( 'Marshall Islands' , '181.3' ), ( 'Aruba' , '193' ), ( 'American Samoa' , '199' ), ( 'Cook Islands' , '240' ), ( 'Saint Pierre and Miquelon' , '242' ), ( 'Macao' , '254' ), ( 'Niue' , '260' ), ( 'Saint Kitts and Nevis' , '261' ), ( 'Cayman Islands' , '262' ), ( 'Wallis and Futuna' , '274' )] Il est aussi possible d'inverser l'ordre - donc d'obtenir un r\u00e9sultat par ordre d\u00e9croissant : >>> sorted ([( c [ 'Name' ], c [ 'Area' ]) for c in countries if float ( c [ 'Area' ]) < 300 ], key = lambda x : float ( x [ 1 ]), reverse = True ) [( 'Wallis and Futuna' , '274' ), ( 'Cayman Islands' , '262' ), ( 'Saint Kitts and Nevis' , '261' ), ( 'Niue' , '260' ), ( 'Macao' , '254' ), ( 'Saint Pierre and Miquelon' , '242' ), ( 'Cook Islands' , '240' ), ( 'American Samoa' , '199' ), ( 'Aruba' , '193' ), ( 'Marshall Islands' , '181.3' ), ( 'Liechtenstein' , '160' ), ( 'British Virgin Islands' , '153' ), ( 'Christmas Island' , '135' ), ( 'Jersey' , '116' ), ( 'Anguilla' , '102' ), ( 'Montserrat' , '102' ), ( 'Guernsey' , '78' ), ( 'San Marino' , '61.2' ), ( 'Bermuda' , '53' ), ( 'Saint Martin' , '53' ), ( 'Pitcairn' , '47' ), ( 'Norfolk Island' , '34.6' ), ( 'Tuvalu' , '26' ), ( 'Saint Barthelemy' , '21' ), ( 'Nauru' , '21' ), ( 'Sint Maarten' , '21' ), ( 'Cocos Islands' , '14' ), ( 'Gibraltar' , '6.5' ), ( 'Monaco' , '1.95' ), ( 'Vatican' , '0.44' )] Exercice Enonc\u00e9 R\u00e9ponses Ecrire un code qui donne la liste des 5 \u00e9tats ayant la plus grande superficie, sous la forme (Nom, Superficie) Ecrire un code qui donne la liste des 5 \u00e9tats ayant la plus petite superficie parmi les 20 \u00e9tats ayant la plus grande population, sous la forme (Nom, population) . \u00c9crire les instructions permettant de d\u2019afficher les 8 pays poss\u00e9dant la plus grande densit\u00e9 de population, dans l\u2019ordre inverse de densit\u00e9, sous la forme (Pays, population,superficie, densit\u00e9) . Le code : >>> sorted ([( c [ 'Name' ], c [ 'Area' ]) for c in countries ], key = lambda x : float ( x [ 1 ]), reverse = True )[: 5 ] [( 'Russia' , '17100000' ), ( 'Canada' , '9984670' ), ( 'United States' , '9629091' ), ( 'China' , '9596960' ), ( 'Brazil' , '8511965' )] Le code : >>> sorted ( sorted ( countries , key = lambda x : float ( x [ 'Population' ]), reverse = True )[: 20 ], key = lambda x : x [ 'Area' ])[: 5 ] [{ 'ISO' : 'EG' , 'Name' : 'Egypt' , 'Capital_Id' : '360630' , 'Area' : '1001450' , 'Population' : '80471869' , 'Continent' : 'AF' , 'Currency_Code' : 'EGP' , 'Currency_Name' : 'Pound' }, { 'ISO' : 'ET' , 'Name' : 'Ethiopia' , 'Capital_Id' : '344979' , 'Area' : '1127127' , 'Population' : '88013491' , 'Continent' : 'AF' , 'Currency_Code' : 'ETB' , 'Currency_Name' : 'Birr' }, { 'ISO' : 'BD' , 'Name' : 'Bangladesh' , 'Capital_Id' : '1185241' , 'Area' : '144000' , 'Population' : '156118464' , 'Continent' : 'AS' , 'Currency_Code' : 'BDT' , 'Currency_Name' : 'Taka' }, { 'ISO' : 'IR' , 'Name' : 'Iran' , 'Capital_Id' : '112931' , 'Area' : '1648000' , 'Population' : '76923300' , 'Continent' : 'AS' , 'Currency_Code' : 'IRR' , 'Currency_Name' : 'Rial' }, { 'ISO' : 'RU' , 'Name' : 'Russia' , 'Capital_Id' : '524901' , 'Area' : '17100000' , 'Population' : '140702000' , 'Continent' : 'EU' , 'Currency_Code' : 'RUB' , 'Currency_Name' : 'Ruble' }] Le code : >>> sorted ([( c [ 'Name' ], c [ 'Area' ], float ( c [ 'Population' ]) / float ( c [ 'Area' ])) for c in countries ], key = lambda x : x [ 2 ], reverse = True )[: 8 ] [( 'Monaco' , '1.95' , 16905.128205128207 ), ( 'Singapore' , '692.7' , 6786.5872672152445 ), ( 'Hong Kong' , '1092' , 6317.478021978022 ), ( 'Gibraltar' , '6.5' , 4289.846153846154 ), ( 'Vatican' , '0.44' , 2093.181818181818 ), ( 'Sint Maarten' , '21' , 1782.3333333333333 ), ( 'Macao' , '254' , 1768.4960629921259 ), ( 'Maldives' , '300' , 1318.8333333333333 )] Fusions de tables Le fichier cities.csv t\u00e9l\u00e9chargeable ici contient une table des principales villes au niveayu mondial. Exercice : exploration du fichier cities.csv Enonc\u00e9 R\u00e9ponses Quels sont les descripteurs de ce fichier ? Ecrire un code sauvant dans une variable cities les enregistrements du fichiers cities.csv . Ecrire une compr\u00e9hension de liste donnant les villes fran\u00e7aises sous la forme (Nom, population) Id;Name;Latitude;Longitude;Country_ISO;Population Le code : cities = [] with open ( 'cities.csv' , 'r' , encoding = 'utf8' , newline = '' ) as file : reader = csv . DictReader ( file , delimiter = \";\" ) for line in reader : cities . append ( line ) Le code : [ c for c in cities if c [ 'Country_ISO' ] == 'FR' ] Un des descripteurs est commun \u00e0 la fois au fichier countries.csv et au fichier cities.csv . Il s'agit, dans countries.csv de Capital_Id , qui correspond au descripteur Id de cities.csv . Il est donc possible de joindre des donn\u00e9es des deux tables, comme dans l'exemple ci-dessous : >>> [( co [ 'Name' ], co [ 'Population' ], co [ 'Area' ], ci [ 'Name' ], ci [ 'Population' ] ) for co in countries for ci in cities if int ( co [ 'Population' ]) > 50 * 10 ** 6 and co [ 'Capital_Id' ] == ci [ 'Id' ] ] [( 'Bangladesh' , '156118464' , '144000' , 'Dhaka' , '10356500' ), ( 'Brazil' , '201103330' , '8511965' , 'Bras\u00edlia' , '2207718' ), ( 'Democratic Republic of the Congo' , '70916439' , '2345410' , 'Kinshasa' , '7785965' ), ( 'China' , '1330044000' , '9596960' , 'Beijing' , '11716620' ), ( 'Germany' , '81802257' , '357021' , 'Berlin' , '3426354' ), ( 'Egypt' , '80471869' , '1001450' , 'Cairo' , '7734614' ), ( 'Ethiopia' , '88013491' , '1127127' , 'Addis Ababa' , '2757729' ), ( 'France' , '64768389' , '547030' , 'Paris' , '2138551' ), ( 'United Kingdom' , '62348447' , '244820' , 'London' , '7556900' ), ( 'Indonesia' , '242968342' , '1919440' , 'Jakarta' , '8540121' ), ( 'India' , '1173108018' , '3287590' , 'Delhi' , '10927986' ), ( 'Iran' , '76923300' , '1648000' , 'Tehran' , '7153309' ), ( 'Italy' , '60340328' , '301230' , 'Rome' , '2318895' ), ( 'Japan' , '127288000' , '377835' , 'Tokyo' , '8336599' ), ( 'Myanmar' , '53414374' , '678500' , 'Nay Pyi Taw' , '925000' ), ( 'Mexico' , '112468855' , '1972550' , 'Mexico City' , '12294193' ), ( 'Nigeria' , '154000000' , '923768' , 'Abuja' , '590400' ), ( 'Philippines' , '99900177' , '300000' , 'Manila' , '1600000' ), ( 'Pakistan' , '184404791' , '803940' , 'Islamabad' , '601600' ), ( 'Russia' , '140702000' , '17100000' , 'Moscow' , '10381222' ), ( 'Thailand' , '67089500' , '514000' , 'Bangkok' , '5104476' ), ( 'Turkey' , '77804122' , '780580' , 'Ankara' , '3517182' ), ( 'United States' , '310232863' , '9629091' , 'Washington, D.C.' , '601723' ), ( 'Vietnam' , '89571130' , '329560' , 'Hanoi' , '1431270' )] Exercice Enonc\u00e9 R\u00e9ponses Ecrire une compr\u00e9hension donnant les pays dont la population de la capitale est sup\u00e9rieure \u00e0 100 000. Ecrire un code donnant les pays dont la capitale poss\u00e8de une latitude sup\u00e9rieure \u00e0 60\u00b0. Ecrire un code donnant les pays dont la capitale poss\u00e8de une latitude inf\u00e9rieure \u00e0 -50\u00b0. Le code : >>> [ co [ 'Name' ] for co in countries for ci in cities if co [ 'Capital_Id' ] == ci [ 'Id' ] and int ( ci [ 'Population' ]) > 10 ** 5 ] (La sortie est bien trop longue pour \u00eatre affich\u00e9e ici) Le code : >>> [( co [ 'Name' ], co [ 'Population' ], co [ 'Area' ], ci [ 'Name' ], ci [ 'Population' ]) for co in countries for ci in cities if co [ 'Capital_Id' ] == ci [ 'Id' ] and float ( ci [ 'Latitude' ]) > 60 ] [( 'Aland Islands' , '26711' , '1580' , 'Mariehamn' , '10682' ), ( 'Finland' , '5244000' , '337030' , 'Helsinki' , '558457' ), ( 'Faroe Islands' , '48228' , '1399' , 'T\u00f3rshavn' , '13200' ), ( 'Greenland' , '56375' , '2166086' , 'Nuuk' , '14798' ), ( 'Iceland' , '308910' , '103000' , 'Reykjav\u00edk' , '118918' ), ( 'Svalbard and Jan Mayen' , '2550' , '62049' , 'Longyearbyen' , '2060' )] Le code : >>> [( co [ 'Name' ], co [ 'Population' ], co [ 'Area' ], ci [ 'Name' ], ci [ 'Population' ]) for co in countries for ci in cities if co [ 'Capital_Id' ] == ci [ 'Id' ] and float ( ci [ 'Latitude' ]) <- 50 ] [( 'Falkland Islands' , '2638' , '12173' , 'Stanley' , '2213' ), ( 'South Georgia and the South Sandwich Islands' , '30' , '3903' , 'Grytviken' , '2' )] Pour les cracks : Attention ! La technique de fusion montr\u00e9e ci-dessus n'est vraiment pas tr\u00e8s efficace ! En effet il s'agit d'un parcours double de boucle : \u00e0 chaque tour de la boucle parcourant countries , on parcoure toute la liste cities . C'est absolument horrible ! En effet, si countries est une liste de longueur \\(1~000~000\\) et que cities est une liste de taille \\(1~000\\) , alors le nombre de comparaison sera de \\(1~000~000 \\times 1~000 = 1~000~000~000\\) ! En termes math\u00e9matiques, si countries est de taille \\(n\\) et cities de taille \\(m\\) , alors cet algorithme aura un co\u00fbt temporel en \\(\\mathbb{O}(n\\times m)\\) . Pour acc\u00e9l\u00e9rer une telle fusion de liste, il peut-\u00eatre judicieux de transformer ces listes en des dictionnaires, avec un choix judicieux de cl\u00e9s ! . Par exemple, ici on pourrait transformer la liste cities en un dictionnaire dont la cl\u00e9 est l' Id , puis effectuer une boucle sur la liste. dicCities = {} for ci in cities : dicCities [ ci [ 'Id' ]] = ci result = [] for co in countries : if int ( co [ 'Population' ]) > 50 * 10 ** 6 : result . append ([( co [ 'Name' ], co [ 'Population' ], co [ 'Area' ], dicCities [ co [ 'Capital_Id' ]][ 'Name' ], dicCities [ co [ 'Capital_Id' ]][ 'Population' ])) Certes le code para\u00eet plus complexe. Mais en terme de co\u00fbt temporel : Il n'y a qu'un seul parcours de la liste cities ; A chaque tour de boucle parcourant countries , on ne fera appel qu'\u00e0 des actions en temps constant (en \\(\\mathbb{O}(1)\\) ) sur le dictionnaire dicCities . En reprenant les donn\u00e9es pr\u00e9c\u00e9dentes : on fait \\(1~000\\) tours de boucles pour la construction du dictionnaire ; on fait \\(1~000~000\\) de tours de boucles sur la liste countries . En ordre de grandeur, on reste sur environ \\(1~000~000\\) d'op\u00e9rations, soit \\(1~000\\) fois moins que pr\u00e9c\u00e9demment ! En termes math\u00e9matiques, le co\u00fbt en temps est \\(\\mathbb{O}(max(m,n))\\) . Pour \u00eatre encore plus clair, voici un ordre de comparaison en temps d\u00e9pendant des tailles \\(n\\) et \\(m\\) des deux listes fusionn\u00e9es, le contenu d'une case donne la comparaison en temps entre \\(\\mathbb{O}(m \\times n)\\) et \\(\\mathbb{O}(max(m,n))\\) , avec le principe de \\(1~000\\) op\u00e9rations par secondes. n\\m \\(1\\) \\(10^3\\) \\(10^6\\) \\(10^9\\) \\(1\\) \\(0,001''~/~0,001''\\) \\(1''~/~1''\\) \\(16'40''~/~16'40''\\) \\(11j13h46'40''~/~11j13h46'40''\\) \\(10^3\\) ... \\(16'40''~/~1''\\) \\(277h46'40''~/~16'40''\\) \\(\\simeq 31~ans/~11j13h46'40''\\) \\(10^6\\) ... ... \\(\\simeq 31~ans/~16'40''\\) \\(\\simeq 31~000~ann\u00e9es~/~11j13h46'40''\\) \\(10^9\\) ... ... ... \\(\\simeq 31~000~000~ann\u00e9es~/~11j13h46'40''\\) Il y a 30 millions d'ann\u00e9es, apparaissaient seulement les grands singes, l'Himalaya n'\u00e9tait pas totalement form\u00e9... Oui, direz-vous, mais les ordinateurs actuels sont 1 million de fois plus rapides ! Certes, mais alors combien de temps faudrait-il dans les deux cas pour traiter deux listes de 1 milliard de donn\u00e9es chacune ? Ecrire un nouveau fichier csv Apr\u00e8s avoir extrait, modifi\u00e9 et fusionn\u00e9 des fichiers de type .csv , il est normal de vouloir en cr\u00e9er de nouveaux \u00e0 partir de donn\u00e9es existantes. Le module csv propose une m\u00e9thode .DictWriter dont l'utilisation est la suivante : with open ( \"capitales.csv\" , \"w\" , encoding = \"utf8\" , newline = \"\" ) as file : ##On definit les descripteurs du nouveau fichier descripteurs = [ 'Pays' , 'Population_pays' , 'Superficie' , 'Densite' , 'Capitale' , 'Population_capitale' ] writer = csv . DictWriter ( file , fieldnames = descripteurs , delimiter = \";\" ) writer . writeheader () ##Ecrit les descripteurs en premi\u00e8re ligne for co in countries : for ci in cities : if co [ 'Capital_Id' ] == ci [ 'Id' ] : writer . writerow ({ 'Pays' : co [ 'Name' ], 'Population_pays' : co [ 'Population' ], 'Superficie' : co [ 'Area' ], 'Densite' : float ( co [ 'Population' ]) / float ( co [ 'Area' ]), 'Capitale' : ci [ 'Name' ], 'Population_capitale' : ci [ 'Population' ] } ) TP : Explorer IMDB Le TP se fait sur Capytale par ce lien .","title":"Les fichiers CSV"},{"location":"NSI/Premiere/C06/CSV/#fichiers-csv-traitement-des-donnees-en-tables","text":"","title":"Fichiers CSV : Traitement des donn\u00e9es en tables"},{"location":"NSI/Premiere/C06/CSV/#donnees-en-tables","text":"Une des utilisations principales de l\u2019informatique de nos jours est le traitement de quantit\u00e9s importantes de donn\u00e9es dans des domaines tr\u00e8s vari\u00e9s : un site de commerce en ligne peut avoir \u00e0 g\u00e9rer des bases donn\u00e9es pour des dizaines de milliers d\u2019articles en vente, de clients, de commandes ; un h\u00f4pital doit pouvoir acc\u00e9der efficacement \u00e0 tous les d\u00e9tails de traitements de ses patients ; un \u00e9diteur de jeux vid\u00e9o doit pouvoir stocker les informations relatives \u00e0 chaque joueur et chaque \u00e9l\u00e9ment du jeu ; etc \u2026 De tels traitements requierent souvent des logiciels de gestion de base de donn\u00e9es (SGDB) , qui sont des programmes hautement sp\u00e9cialis\u00e9s pour effectuer ce genre de t\u00e2ches le plus efficacement et s\u00fbrement possible. L'\u00e9tude plus d\u00e9taill\u00e9e des SGBD est au programme de terminale. Il est cependant facile de mettre en \u0153uvre les op\u00e9rations de bases sur certaines structures dans un langage de programmation comme Python. Il est en effet possible que de simples jeus de donn\u00e9es soient organis\u00e9s en tables . En informatique, une table de donn\u00e9es correspondent \u00e0 une liste de p-uplets nomm\u00e9s qui partagent les m\u00eames descripteurs . Exemple Par exemple on peut consid\u00e9rer la table suivante : Nom Rang Couleur du sabre Luke Skywalker Apprenti/Maitre Jedi Vert Anakin Skywalker Apprenti Jedi Bleu Yoda Maitre Jedi Vert Conte Dooku Seigneur Sith Ecarlate Darth Vader Apprenti Sith Ecarlate Rey Apprentie Jedi Jaune Chacune des lignes, appel\u00e9e aussi enregistrement , est un p-uplet nomm\u00e9 de taille 3. Chaque enregistrement correspond donc \u00e0 un dictionnaire en Python. La premi\u00e8re ligne correspond \u00e0 : { 'Nom' : 'Luke Skywalker' , 'Rang' : 'Apprenti/Maitre Jedi' , 'Couleur du sabre' : 'Vert' }","title":"Donn\u00e9es en tables"},{"location":"NSI/Premiere/C06/CSV/#fichiers-csv","text":"Le format CSV (pour Comma Separated Values , soit en fran\u00e7ais valeurs s\u00e9par\u00e9es par des virgules ) est un format tr\u00e8s pratique pour repr\u00e9senter des donn\u00e9es structur\u00e9es. Dans ce format, chaque ligne repr\u00e9sente un enregistrement et, sur une m\u00eame ligne, les diff\u00e9rents champs de l\u2019enregistrement sont s\u00e9par\u00e9s par une virgule (d\u2019o\u00f9 le nom). Pour des raisons pratiques, il est possible en fait de sp\u00e9cifier le caract\u00e8re de s\u00e9paration entre chaque champ, qui peut donc \u00eatre : , ; , / , etc... Nous allons dans la suite de cette partie utiliser un fichier nomm\u00e9 countries.csv , t\u00e9l\u00e9chargeable ici . Exercice 1 Une fois le fichier t\u00e9l\u00e9charg\u00e9, vous pouvez l'ouvrir avec Notepad ++ . Enonc\u00e9 R\u00e9ponses Quel est le symbole utilis\u00e9 pour s\u00e9parer les champs ? Combien de champs diff\u00e9rents sont pr\u00e9sents et quesl sont leurs descripteurs ? Il est aussi possible d'utiliser un tableur comme LibreOffice.Calc pour lire un fichier CSV. Vous pourrez constater que LibreOffice.Calc vous demande un certain nombre d'informations sur le contenu du fichier avant de l'ouvrir r\u00e9ellement. Quels int\u00e9r\u00eat voyez-vous \u00e0 l'utilisation d'un tableur ? Quelles en sont les limites ? C'est le point-virgule Il y a 8 champs dont les descripteurs sont : ISO Name Capital_Id Area Population Continent Currency_Code Currency_Name Le tableur permet de visualiser rapidement les descripteurs et les donn\u00e9es, quand elles ne sont pas trop nombreuses. Un tableur est limit\u00e9 a 1 000 000 de lignes, alors qu'un fichier CSV n'est pas limit\u00e9 (ce qui n'emp\u00eache pas des probl\u00e8mes li\u00e9es \u00e0 la quantit\u00e9 de m\u00e9moire de l'ordinateur).","title":"Fichiers CSV"},{"location":"NSI/Premiere/C06/CSV/#module-csv","text":"","title":"Module CSV"},{"location":"NSI/Premiere/C06/CSV/#lecture-de-base","text":"Un fichier csv \u00e9tant un fichier texte, il est tout \u00e0 fait possible de lire les donn\u00e9es gr\u00e2ce aux m\u00e9thodes classiques des fichiers(voir ici ) : >>> with open ( 'countries.csv' , 'r' , encoding = 'utf8' , newline = '' ) as file : contenu = file . readlines () print ( contenu ) Le r\u00e9sultat est peu lisible, et difficilement exploitable ainsi. Mais il est tout \u00e0 fait possible de reconstituer correctement chaque enregistrement, en utilisant des m\u00e9thodes de chaines de caract\u00e8res ( on se limite aux 5 premiers enregistrelments pour des raisons de lisbilit\u00e9s dans l'interpr\u00e9teur ) : >>> formatedContent = [] >>> for line in contenu [ : 5 ] : formatedContent . append ( line . replace ( ' \\r\\n ' , '' ) . split ( ';' )) On peut alors r\u00e9cup\u00e9rer les descripteurs : >>> formatedContent [ 0 ] [ 'ISO' , 'Name' , 'Capital_Id' , 'Area' , 'Population' , 'Continent' , 'Currency_Code' , 'Currency_Name' ] Et le premier enregistrement : >>> formatedContent [ 1 ] [ 'AD' , 'Andorra' , '3041563' , '468' , '84000' , 'EU' , 'EUR' , 'Euro' ] Cependant cette solution n'est pas des plus efficace, car le lien entre descripteurs et valeurs n'est pas direct .","title":"Lecture de base"},{"location":"NSI/Premiere/C06/CSV/#lire-un-fichier-csv-premiers-traitements","text":"Dans la suite du cours, il sera n\u00e9cessaire d'adapter au fur et \u00e0 mesure un fichier python ! Le module csv est un des modules pr\u00e9sents dans toute installation Python. Comme tout module, il est disponible par import direct : import csv Une fois import\u00e9, il offre de nombreuses possibilit\u00e9s, d\u00e9crites dans la doc Python , dont la m\u00e9thode DictReader qui permet der r\u00e9cup\u00e9rer les enregistrements sous la forme d'un dictionnaire ordonn\u00e9 : countries = [] with open ( 'countries.csv' , 'r' , encoding = 'utf8' , newline = '' ) as file : reader = csv . DictReader ( file , delimiter = \";\" ) # L'objet reader est un it\u00e9rable. On pr\u00e9cise le delimiteur \u00e0 l'appel de DictReader for line in reader : countries . append ( line ) La variable countries fait donc r\u00e9f\u00e9rence \u00e0 une liste de dictionnaires, ayant tous les m\u00eames descripteurs. Une fois le programme ex\u00e9cut\u00e9, on peut donc tester dans le shell les comandes suivantes : >>> countries [: 5 ] [{ [{ 'ISO' : 'AD' , 'Name' : 'Andorra' , 'Capital_Id' : '3041563' , 'Area' : '468' , 'Population' : '84000' , 'Continent' : 'EU' , 'Currency_Code' : 'EUR' , 'Currency_Name' : 'Euro' }, { 'ISO' : 'AE' , 'Name' : 'United Arab Emirates' , 'Capital_Id' : '292968' , 'Area' : '82880' , 'Population' : '4975593' , 'Continent' : 'AS' , 'Currency_Code' : 'AED' , 'Currency_Name' : 'Dirham' }, { 'ISO' : 'AF' , 'Name' : 'Afghanistan' , 'Capital_Id' : '1138958' , 'Area' : '647500' , 'Population' : '29121286' , 'Continent' : 'AS' , 'Currency_Code' : 'AFN' , 'Currency_Name' : 'Afghani' }, { 'ISO' : 'AG' , 'Name' : 'Antigua and Barbuda' , 'Capital_Id' : '3576022' , 'Area' : '443' , 'Population' : '86754' , 'Continent' : 'NA' , 'Currency_Code' : 'XCD' , 'Currency_Name' : 'Dollar' }, { 'ISO' : 'AI' , 'Name' : 'Anguilla' , 'Capital_Id' : '3573374' , 'Area' : '102' , 'Population' : '13254' , 'Continent' : 'NA' , 'Currency_Code' : 'XCD' , 'Currency_Name' : 'Dollar' }] On peut bien entendu conna\u00eetre le nombre d'enregistrements contenus dans la variable countries : >>> len ( countries ) 243 On peut alors interroger cette variable \u00e0 partir des descripteurs. Par exemple, nous pouvons chercher \u00e0 obtenir la liste des pays dont la devise est en euro : >>> [ c [ 'Name' ] for c in countries if c [ 'Currency_Code' ] == 'EUR' ] [ 'Andorra' , 'Austria' , 'Aland Islands' , 'Belgium' , 'Saint Barthelemy' , 'Cyprus' , 'Germany' , 'Estonia' , 'Spain' , 'Finland' , 'France' , 'French Guiana' , 'Guadeloupe' , 'Greece' , 'Ireland' , 'Italy' , 'Kosovo' , 'Lithuania' , 'Luxembourg' , 'Latvia' , 'Monaco' , 'Montenegro' , 'Saint Martin' , 'Martinique' , 'Malta' , 'Netherlands' , 'Saint Pierre and Miquelon' , 'Portugal' , 'Reunion' , 'Slovenia' , 'Slovakia' , 'San Marino' , 'French Southern Territories' , 'Vatican' , 'Mayotte' ] Exercice Enonc\u00e9 R\u00e9ponses \u00c9crire une compr\u00e9hension de listes permettant de lister les codes de toutes les monnaies qui s\u2019appellent \u2018Dollar\u2019 . \u00c9crire une compr\u00e9hension de listes permettant de lister les pays du continent Nord-Am\u00e9ricain, sous la forme Nom, Superficie, Population Le code : >>> [ c [ 'Currency_Code' ] for c in countries if c [ 'Currency_Name' ] == 'Dollar' ] [ 'XCD' , 'XCD' , 'USD' , 'AUD' , 'BBD' , 'BMD' , 'BND' , 'BSD' , 'BZD' , 'CAD' , 'AUD' , 'NZD' , 'AUD' , 'XCD' , 'USD' , 'FJD' , 'USD' , 'XCD' , 'USD' , 'GYD' , 'HKD' , 'JMD' , 'AUD' , 'XCD' , 'KYD' , 'XCD' , 'LRD' , 'USD' , 'USD' , 'XCD' , 'NAD' , 'AUD' , 'AUD' , 'NZD' , 'NZD' , 'NZD' , 'USD' , 'USD' , 'SBD' , 'SGD' , 'SRD' , 'USD' , 'USD' , 'USD' , 'TTD' , 'AUD' , 'TWD' , 'USD' , 'XCD' , 'USD' , 'USD' , 'ZWL' ] Le code : >>> [ c [ 'Name' ] for c in countries if c [ 'Continent' ] == 'NA' ] [ 'Antigua and Barbuda' , 'Anguilla' , 'Aruba' , 'Barbados' , 'Saint Barthelemy' , 'Bermuda' , 'Bahamas' , 'Belize' , 'Canada' , 'Costa Rica' , 'Cuba' , 'Curacao' , 'Dominica' , 'Dominican Republic' , 'Grenada' , 'Greenland' , 'Guadeloupe' , 'Guatemala' , 'Honduras' , 'Haiti' , 'Jamaica' , 'Saint Kitts and Nevis' , 'Cayman Islands' , 'Saint Lucia' , 'Saint Martin' , 'Martinique' , 'Montserrat' , 'Mexico' , 'Nicaragua' , 'Panama' , 'Saint Pierre and Miquelon' , 'Puerto Rico' , 'El Salvador' , 'Sint Maarten' , 'Turks and Caicos Islands' , 'Trinidad and Tobago' , 'United States' , 'Saint Vincent and the Grenadines' , 'British Virgin Islands' , 'U.S. Virgin Islands' ]","title":"Lire un fichier CSV, premiers traitements"},{"location":"NSI/Premiere/C06/CSV/#les-donnees-numeriques","text":"Comment faire pour lister les pays dont la superficie est inf\u00e9rieure \u00e0 300 km\u00b2 ? On pourrait penser \u00e0 \u00e9crire une compr\u00e9hension de liste identique \u00e0 celles \u00e9crites pr\u00e9c\u00e9dfemment : >>> [( c [ 'Name' ], c [ 'Area' ]) for c in countries if c [ 'Area' ] < 300 ] --------------------------------------------------------------------------- TypeError Traceback ( most recent call last ) < ipython - input - 13 - 6 debe1b6bf11 > in < module > ----> 1 [( c [ 'Name' ], c [ 'Area' ]) for c in countries if c [ 'Area' ] < 300 ] < ipython - input - 13 - 6 debe1b6bf11 > in < listcomp > ( .0 ) ----> 1 [( c [ 'Name' ], c [ 'Area' ]) for c in countries if c [ 'Area' ] < 300 ] TypeError : '<' not supported between instances of 'str' and 'int' Mais nous avons un probl\u00e8me : les donn\u00e9es extraites d'un fichier csv sont toutes sous la forme de chaines de caract\u00e8res . Il faut donc transtyper certaines donn\u00e9es pour parvenir au r\u00e9sultat escompt\u00e9. D'apr\u00e8s les 5 premiers enregistrements, la superficie semble \u00eatre sous la forme d'un nombre entier, donc on teste : >>> [( c [ 'Name' ], c [ 'Area' ]) for c in countries if int ( c [ 'Area' ]) < 300 ] --------------------------------------------------------------------------- ValueError Traceback ( most recent call last ) < ipython - input - 14 - d2574c3771d7 > in < module > ----> 1 [( c [ 'Name' ], c [ 'Area' ]) for c in countries if int ( c [ 'Area' ]) < 300 ] < ipython - input - 14 - d2574c3771d7 > in < listcomp > ( .0 ) ----> 1 [( c [ 'Name' ], c [ 'Area' ]) for c in countries if int ( c [ 'Area' ]) < 300 ] ValueError : invalid literal for int () with base 10 : '6.5' Mais encore une fois un probl\u00e8me appar\u00e2it : les donn\u00e9es ne sont pas toutes transtypables sous la forme enti\u00e8re , chose que nous ne pouvions savoir avant de traiter. Il faut donc les convertir en flottant : >>> [( c [ 'Name' ], c [ 'Area' ]) for c in countries if float ( c [ 'Area' ]) < 300 ] [( 'Anguilla' , '102' ), ( 'American Samoa' , '199' ), ( 'Aruba' , '193' ), ( 'Saint Barthelemy' , '21' ), ( 'Bermuda' , '53' ), ( 'Cocos Islands' , '14' ), ( 'Cook Islands' , '240' ), ( 'Christmas Island' , '135' ), ( 'Guernsey' , '78' ), ( 'Gibraltar' , '6.5' ), ( 'Jersey' , '116' ), ( 'Saint Kitts and Nevis' , '261' ), ( 'Cayman Islands' , '262' ), ( 'Liechtenstein' , '160' ), ( 'Monaco' , '1.95' ), ( 'Saint Martin' , '53' ), ( 'Marshall Islands' , '181.3' ), ( 'Macao' , '254' ), ( 'Montserrat' , '102' ), ( 'Norfolk Island' , '34.6' ), ( 'Nauru' , '21' ), ( 'Niue' , '260' ), ( 'Saint Pierre and Miquelon' , '242' ), ( 'Pitcairn' , '47' ), ( 'San Marino' , '61.2' ), ( 'Sint Maarten' , '21' ), ( 'Tuvalu' , '26' ), ( 'Vatican' , '0.44' ), ( 'British Virgin Islands' , '153' ), ( 'Wallis and Futuna' , '274' )] Exercice Enonc\u00e9 R\u00e9ponse \u00c9crire une compr\u00e9hension de liste donnant le nom, le continent et la superficie des pays de plus de 100 millions d'habitants >>> [( c [ 'Name' ], c [ 'Continent' ], c [ 'Area' ]) for c in countries if float ( c [ 'Population' ]) > 10 ** 8 ] [( 'Bangladesh' , 'AS' , '144000' ), ( 'Brazil' , 'SA' , '8511965' ), ( 'China' , 'AS' , '9596960' ), ( 'Indonesia' , 'AS' , '1919440' ), ( 'India' , 'AS' , '3287590' ), ( 'Japan' , 'AS' , '377835' ), ( 'Mexico' , 'NA' , '1972550' ), ( 'Nigeria' , 'AF' , '923768' ), ( 'Pakistan' , 'AS' , '803940' ), ( 'Russia' , 'EU' , '17100000' ), ( 'United States' , 'NA' , '9629091' )]","title":"Les donn\u00e9es num\u00e9riques"},{"location":"NSI/Premiere/C06/CSV/#trier-les-donnees","text":"Les r\u00e9sultats prec\u00e9dents sont encore peu lisibles, il serait pr\u00e9f\u00e9rable que les donn\u00e9es obtenues soient tri\u00e9es. On va utiliser la fonction built-in sorted : >>> sorted ([( c [ 'Name' ], c [ 'Area' ]) for c in countries if float ( c [ 'Area' ]) < 300 ]) [( 'American Samoa' , '199' ), ( 'Anguilla' , '102' ), ( 'Aruba' , '193' ), ( 'Bermuda' , '53' ), ( 'British Virgin Islands' , '153' ), ( 'Cayman Islands' , '262' ), ( 'Christmas Island' , '135' ), ( 'Cocos Islands' , '14' ), ( 'Cook Islands' , '240' ), ( 'Gibraltar' , '6.5' ), ( 'Guernsey' , '78' ), ( 'Jersey' , '116' ), ( 'Liechtenstein' , '160' ), ( 'Macao' , '254' ), ( 'Marshall Islands' , '181.3' ), ( 'Monaco' , '1.95' ), ( 'Montserrat' , '102' ), ( 'Nauru' , '21' ), ( 'Niue' , '260' ), ( 'Norfolk Island' , '34.6' ), ( 'Pitcairn' , '47' ), ( 'Saint Barthelemy' , '21' ), ( 'Saint Kitts and Nevis' , '261' ), ( 'Saint Martin' , '53' ), ( 'Saint Pierre and Miquelon' , '242' ), ( 'San Marino' , '61.2' ), ( 'Sint Maarten' , '21' ), ( 'Tuvalu' , '26' ), ( 'Vatican' , '0.44' ), ( 'Wallis and Futuna' , '274' )] On obtient bien une liste tri\u00e9e, mais par ordre alphab\u00e9tique, ce qui est peu pertinent. En effet, pour trier une table, il faut pr\u00e9ciser selon quels crit\u00e8res . On va donc passer un argument suppl\u00e9mentaire \u00e0 la fonction sorted : une cl\u00e9 de tri . Dans Python, la cl\u00e9 doit \u00eatre une fonction permettant d'extraire la valeur \u00e0 trier. On va donc cr\u00e9er une fonction qui va renvoyer la valeur voulue selon l'enrtegistrement pass\u00e9 en param\u00e8tre. Ici on va passer un tuple (Nom;Superficie) et on veut donc trier selon l'\u00e9l\u00e9ment d'indice 1 : def areaKey ( c ): return float ( c [ 1 ]) Puis on va passer cette fonction \u00e0 la fonction sorted : >>> sorted ([( c [ 'Name' ], c [ 'Area' ]) for c in countries if float ( c [ 'Area' ]) < 300 ], key = areaKey ) [( 'Vatican' , '0.44' ), ( 'Monaco' , '1.95' ), ( 'Gibraltar' , '6.5' ), ( 'Cocos Islands' , '14' ), ( 'Saint Barthelemy' , '21' ), ( 'Nauru' , '21' ), ( 'Sint Maarten' , '21' ), ( 'Tuvalu' , '26' ), ( 'Norfolk Island' , '34.6' ), ( 'Pitcairn' , '47' ), ( 'Bermuda' , '53' ), ( 'Saint Martin' , '53' ), ( 'San Marino' , '61.2' ), ( 'Guernsey' , '78' ), ( 'Anguilla' , '102' ), ( 'Montserrat' , '102' ), ( 'Jersey' , '116' ), ( 'Christmas Island' , '135' ), ( 'British Virgin Islands' , '153' ), ( 'Liechtenstein' , '160' ), ( 'Marshall Islands' , '181.3' ), ( 'Aruba' , '193' ), ( 'American Samoa' , '199' ), ( 'Cook Islands' , '240' ), ( 'Saint Pierre and Miquelon' , '242' ), ( 'Macao' , '254' ), ( 'Niue' , '260' ), ( 'Saint Kitts and Nevis' , '261' ), ( 'Cayman Islands' , '262' ), ( 'Wallis and Futuna' , '274' )] Fonctions anonymes Pour information , il est possible de ne pas d\u00e9clarer la fonction de tri avant de l'utiliser, en utilisant une fonction anonyme : >>> sorted ([( c [ 'Name' ], c [ 'Area' ]) for c in countries if float ( c [ 'Area' ]) < 300 ], key = lambda x : float ( x [ 1 ])) [( 'Vatican' , '0.44' ), ( 'Monaco' , '1.95' ), ( 'Gibraltar' , '6.5' ), ( 'Cocos Islands' , '14' ), ( 'Saint Barthelemy' , '21' ), ( 'Nauru' , '21' ), ( 'Sint Maarten' , '21' ), ( 'Tuvalu' , '26' ), ( 'Norfolk Island' , '34.6' ), ( 'Pitcairn' , '47' ), ( 'Bermuda' , '53' ), ( 'Saint Martin' , '53' ), ( 'San Marino' , '61.2' ), ( 'Guernsey' , '78' ), ( 'Anguilla' , '102' ), ( 'Montserrat' , '102' ), ( 'Jersey' , '116' ), ( 'Christmas Island' , '135' ), ( 'British Virgin Islands' , '153' ), ( 'Liechtenstein' , '160' ), ( 'Marshall Islands' , '181.3' ), ( 'Aruba' , '193' ), ( 'American Samoa' , '199' ), ( 'Cook Islands' , '240' ), ( 'Saint Pierre and Miquelon' , '242' ), ( 'Macao' , '254' ), ( 'Niue' , '260' ), ( 'Saint Kitts and Nevis' , '261' ), ( 'Cayman Islands' , '262' ), ( 'Wallis and Futuna' , '274' )] Il est aussi possible d'inverser l'ordre - donc d'obtenir un r\u00e9sultat par ordre d\u00e9croissant : >>> sorted ([( c [ 'Name' ], c [ 'Area' ]) for c in countries if float ( c [ 'Area' ]) < 300 ], key = lambda x : float ( x [ 1 ]), reverse = True ) [( 'Wallis and Futuna' , '274' ), ( 'Cayman Islands' , '262' ), ( 'Saint Kitts and Nevis' , '261' ), ( 'Niue' , '260' ), ( 'Macao' , '254' ), ( 'Saint Pierre and Miquelon' , '242' ), ( 'Cook Islands' , '240' ), ( 'American Samoa' , '199' ), ( 'Aruba' , '193' ), ( 'Marshall Islands' , '181.3' ), ( 'Liechtenstein' , '160' ), ( 'British Virgin Islands' , '153' ), ( 'Christmas Island' , '135' ), ( 'Jersey' , '116' ), ( 'Anguilla' , '102' ), ( 'Montserrat' , '102' ), ( 'Guernsey' , '78' ), ( 'San Marino' , '61.2' ), ( 'Bermuda' , '53' ), ( 'Saint Martin' , '53' ), ( 'Pitcairn' , '47' ), ( 'Norfolk Island' , '34.6' ), ( 'Tuvalu' , '26' ), ( 'Saint Barthelemy' , '21' ), ( 'Nauru' , '21' ), ( 'Sint Maarten' , '21' ), ( 'Cocos Islands' , '14' ), ( 'Gibraltar' , '6.5' ), ( 'Monaco' , '1.95' ), ( 'Vatican' , '0.44' )] Exercice Enonc\u00e9 R\u00e9ponses Ecrire un code qui donne la liste des 5 \u00e9tats ayant la plus grande superficie, sous la forme (Nom, Superficie) Ecrire un code qui donne la liste des 5 \u00e9tats ayant la plus petite superficie parmi les 20 \u00e9tats ayant la plus grande population, sous la forme (Nom, population) . \u00c9crire les instructions permettant de d\u2019afficher les 8 pays poss\u00e9dant la plus grande densit\u00e9 de population, dans l\u2019ordre inverse de densit\u00e9, sous la forme (Pays, population,superficie, densit\u00e9) . Le code : >>> sorted ([( c [ 'Name' ], c [ 'Area' ]) for c in countries ], key = lambda x : float ( x [ 1 ]), reverse = True )[: 5 ] [( 'Russia' , '17100000' ), ( 'Canada' , '9984670' ), ( 'United States' , '9629091' ), ( 'China' , '9596960' ), ( 'Brazil' , '8511965' )] Le code : >>> sorted ( sorted ( countries , key = lambda x : float ( x [ 'Population' ]), reverse = True )[: 20 ], key = lambda x : x [ 'Area' ])[: 5 ] [{ 'ISO' : 'EG' , 'Name' : 'Egypt' , 'Capital_Id' : '360630' , 'Area' : '1001450' , 'Population' : '80471869' , 'Continent' : 'AF' , 'Currency_Code' : 'EGP' , 'Currency_Name' : 'Pound' }, { 'ISO' : 'ET' , 'Name' : 'Ethiopia' , 'Capital_Id' : '344979' , 'Area' : '1127127' , 'Population' : '88013491' , 'Continent' : 'AF' , 'Currency_Code' : 'ETB' , 'Currency_Name' : 'Birr' }, { 'ISO' : 'BD' , 'Name' : 'Bangladesh' , 'Capital_Id' : '1185241' , 'Area' : '144000' , 'Population' : '156118464' , 'Continent' : 'AS' , 'Currency_Code' : 'BDT' , 'Currency_Name' : 'Taka' }, { 'ISO' : 'IR' , 'Name' : 'Iran' , 'Capital_Id' : '112931' , 'Area' : '1648000' , 'Population' : '76923300' , 'Continent' : 'AS' , 'Currency_Code' : 'IRR' , 'Currency_Name' : 'Rial' }, { 'ISO' : 'RU' , 'Name' : 'Russia' , 'Capital_Id' : '524901' , 'Area' : '17100000' , 'Population' : '140702000' , 'Continent' : 'EU' , 'Currency_Code' : 'RUB' , 'Currency_Name' : 'Ruble' }] Le code : >>> sorted ([( c [ 'Name' ], c [ 'Area' ], float ( c [ 'Population' ]) / float ( c [ 'Area' ])) for c in countries ], key = lambda x : x [ 2 ], reverse = True )[: 8 ] [( 'Monaco' , '1.95' , 16905.128205128207 ), ( 'Singapore' , '692.7' , 6786.5872672152445 ), ( 'Hong Kong' , '1092' , 6317.478021978022 ), ( 'Gibraltar' , '6.5' , 4289.846153846154 ), ( 'Vatican' , '0.44' , 2093.181818181818 ), ( 'Sint Maarten' , '21' , 1782.3333333333333 ), ( 'Macao' , '254' , 1768.4960629921259 ), ( 'Maldives' , '300' , 1318.8333333333333 )]","title":"Trier les donn\u00e9es"},{"location":"NSI/Premiere/C06/CSV/#fusions-de-tables","text":"Le fichier cities.csv t\u00e9l\u00e9chargeable ici contient une table des principales villes au niveayu mondial. Exercice : exploration du fichier cities.csv Enonc\u00e9 R\u00e9ponses Quels sont les descripteurs de ce fichier ? Ecrire un code sauvant dans une variable cities les enregistrements du fichiers cities.csv . Ecrire une compr\u00e9hension de liste donnant les villes fran\u00e7aises sous la forme (Nom, population) Id;Name;Latitude;Longitude;Country_ISO;Population Le code : cities = [] with open ( 'cities.csv' , 'r' , encoding = 'utf8' , newline = '' ) as file : reader = csv . DictReader ( file , delimiter = \";\" ) for line in reader : cities . append ( line ) Le code : [ c for c in cities if c [ 'Country_ISO' ] == 'FR' ] Un des descripteurs est commun \u00e0 la fois au fichier countries.csv et au fichier cities.csv . Il s'agit, dans countries.csv de Capital_Id , qui correspond au descripteur Id de cities.csv . Il est donc possible de joindre des donn\u00e9es des deux tables, comme dans l'exemple ci-dessous : >>> [( co [ 'Name' ], co [ 'Population' ], co [ 'Area' ], ci [ 'Name' ], ci [ 'Population' ] ) for co in countries for ci in cities if int ( co [ 'Population' ]) > 50 * 10 ** 6 and co [ 'Capital_Id' ] == ci [ 'Id' ] ] [( 'Bangladesh' , '156118464' , '144000' , 'Dhaka' , '10356500' ), ( 'Brazil' , '201103330' , '8511965' , 'Bras\u00edlia' , '2207718' ), ( 'Democratic Republic of the Congo' , '70916439' , '2345410' , 'Kinshasa' , '7785965' ), ( 'China' , '1330044000' , '9596960' , 'Beijing' , '11716620' ), ( 'Germany' , '81802257' , '357021' , 'Berlin' , '3426354' ), ( 'Egypt' , '80471869' , '1001450' , 'Cairo' , '7734614' ), ( 'Ethiopia' , '88013491' , '1127127' , 'Addis Ababa' , '2757729' ), ( 'France' , '64768389' , '547030' , 'Paris' , '2138551' ), ( 'United Kingdom' , '62348447' , '244820' , 'London' , '7556900' ), ( 'Indonesia' , '242968342' , '1919440' , 'Jakarta' , '8540121' ), ( 'India' , '1173108018' , '3287590' , 'Delhi' , '10927986' ), ( 'Iran' , '76923300' , '1648000' , 'Tehran' , '7153309' ), ( 'Italy' , '60340328' , '301230' , 'Rome' , '2318895' ), ( 'Japan' , '127288000' , '377835' , 'Tokyo' , '8336599' ), ( 'Myanmar' , '53414374' , '678500' , 'Nay Pyi Taw' , '925000' ), ( 'Mexico' , '112468855' , '1972550' , 'Mexico City' , '12294193' ), ( 'Nigeria' , '154000000' , '923768' , 'Abuja' , '590400' ), ( 'Philippines' , '99900177' , '300000' , 'Manila' , '1600000' ), ( 'Pakistan' , '184404791' , '803940' , 'Islamabad' , '601600' ), ( 'Russia' , '140702000' , '17100000' , 'Moscow' , '10381222' ), ( 'Thailand' , '67089500' , '514000' , 'Bangkok' , '5104476' ), ( 'Turkey' , '77804122' , '780580' , 'Ankara' , '3517182' ), ( 'United States' , '310232863' , '9629091' , 'Washington, D.C.' , '601723' ), ( 'Vietnam' , '89571130' , '329560' , 'Hanoi' , '1431270' )] Exercice Enonc\u00e9 R\u00e9ponses Ecrire une compr\u00e9hension donnant les pays dont la population de la capitale est sup\u00e9rieure \u00e0 100 000. Ecrire un code donnant les pays dont la capitale poss\u00e8de une latitude sup\u00e9rieure \u00e0 60\u00b0. Ecrire un code donnant les pays dont la capitale poss\u00e8de une latitude inf\u00e9rieure \u00e0 -50\u00b0. Le code : >>> [ co [ 'Name' ] for co in countries for ci in cities if co [ 'Capital_Id' ] == ci [ 'Id' ] and int ( ci [ 'Population' ]) > 10 ** 5 ] (La sortie est bien trop longue pour \u00eatre affich\u00e9e ici) Le code : >>> [( co [ 'Name' ], co [ 'Population' ], co [ 'Area' ], ci [ 'Name' ], ci [ 'Population' ]) for co in countries for ci in cities if co [ 'Capital_Id' ] == ci [ 'Id' ] and float ( ci [ 'Latitude' ]) > 60 ] [( 'Aland Islands' , '26711' , '1580' , 'Mariehamn' , '10682' ), ( 'Finland' , '5244000' , '337030' , 'Helsinki' , '558457' ), ( 'Faroe Islands' , '48228' , '1399' , 'T\u00f3rshavn' , '13200' ), ( 'Greenland' , '56375' , '2166086' , 'Nuuk' , '14798' ), ( 'Iceland' , '308910' , '103000' , 'Reykjav\u00edk' , '118918' ), ( 'Svalbard and Jan Mayen' , '2550' , '62049' , 'Longyearbyen' , '2060' )] Le code : >>> [( co [ 'Name' ], co [ 'Population' ], co [ 'Area' ], ci [ 'Name' ], ci [ 'Population' ]) for co in countries for ci in cities if co [ 'Capital_Id' ] == ci [ 'Id' ] and float ( ci [ 'Latitude' ]) <- 50 ] [( 'Falkland Islands' , '2638' , '12173' , 'Stanley' , '2213' ), ( 'South Georgia and the South Sandwich Islands' , '30' , '3903' , 'Grytviken' , '2' )] Pour les cracks : Attention ! La technique de fusion montr\u00e9e ci-dessus n'est vraiment pas tr\u00e8s efficace ! En effet il s'agit d'un parcours double de boucle : \u00e0 chaque tour de la boucle parcourant countries , on parcoure toute la liste cities . C'est absolument horrible ! En effet, si countries est une liste de longueur \\(1~000~000\\) et que cities est une liste de taille \\(1~000\\) , alors le nombre de comparaison sera de \\(1~000~000 \\times 1~000 = 1~000~000~000\\) ! En termes math\u00e9matiques, si countries est de taille \\(n\\) et cities de taille \\(m\\) , alors cet algorithme aura un co\u00fbt temporel en \\(\\mathbb{O}(n\\times m)\\) . Pour acc\u00e9l\u00e9rer une telle fusion de liste, il peut-\u00eatre judicieux de transformer ces listes en des dictionnaires, avec un choix judicieux de cl\u00e9s ! . Par exemple, ici on pourrait transformer la liste cities en un dictionnaire dont la cl\u00e9 est l' Id , puis effectuer une boucle sur la liste. dicCities = {} for ci in cities : dicCities [ ci [ 'Id' ]] = ci result = [] for co in countries : if int ( co [ 'Population' ]) > 50 * 10 ** 6 : result . append ([( co [ 'Name' ], co [ 'Population' ], co [ 'Area' ], dicCities [ co [ 'Capital_Id' ]][ 'Name' ], dicCities [ co [ 'Capital_Id' ]][ 'Population' ])) Certes le code para\u00eet plus complexe. Mais en terme de co\u00fbt temporel : Il n'y a qu'un seul parcours de la liste cities ; A chaque tour de boucle parcourant countries , on ne fera appel qu'\u00e0 des actions en temps constant (en \\(\\mathbb{O}(1)\\) ) sur le dictionnaire dicCities . En reprenant les donn\u00e9es pr\u00e9c\u00e9dentes : on fait \\(1~000\\) tours de boucles pour la construction du dictionnaire ; on fait \\(1~000~000\\) de tours de boucles sur la liste countries . En ordre de grandeur, on reste sur environ \\(1~000~000\\) d'op\u00e9rations, soit \\(1~000\\) fois moins que pr\u00e9c\u00e9demment ! En termes math\u00e9matiques, le co\u00fbt en temps est \\(\\mathbb{O}(max(m,n))\\) . Pour \u00eatre encore plus clair, voici un ordre de comparaison en temps d\u00e9pendant des tailles \\(n\\) et \\(m\\) des deux listes fusionn\u00e9es, le contenu d'une case donne la comparaison en temps entre \\(\\mathbb{O}(m \\times n)\\) et \\(\\mathbb{O}(max(m,n))\\) , avec le principe de \\(1~000\\) op\u00e9rations par secondes. n\\m \\(1\\) \\(10^3\\) \\(10^6\\) \\(10^9\\) \\(1\\) \\(0,001''~/~0,001''\\) \\(1''~/~1''\\) \\(16'40''~/~16'40''\\) \\(11j13h46'40''~/~11j13h46'40''\\) \\(10^3\\) ... \\(16'40''~/~1''\\) \\(277h46'40''~/~16'40''\\) \\(\\simeq 31~ans/~11j13h46'40''\\) \\(10^6\\) ... ... \\(\\simeq 31~ans/~16'40''\\) \\(\\simeq 31~000~ann\u00e9es~/~11j13h46'40''\\) \\(10^9\\) ... ... ... \\(\\simeq 31~000~000~ann\u00e9es~/~11j13h46'40''\\) Il y a 30 millions d'ann\u00e9es, apparaissaient seulement les grands singes, l'Himalaya n'\u00e9tait pas totalement form\u00e9... Oui, direz-vous, mais les ordinateurs actuels sont 1 million de fois plus rapides ! Certes, mais alors combien de temps faudrait-il dans les deux cas pour traiter deux listes de 1 milliard de donn\u00e9es chacune ?","title":"Fusions de tables"},{"location":"NSI/Premiere/C06/CSV/#ecrire-un-nouveau-fichier-csv","text":"Apr\u00e8s avoir extrait, modifi\u00e9 et fusionn\u00e9 des fichiers de type .csv , il est normal de vouloir en cr\u00e9er de nouveaux \u00e0 partir de donn\u00e9es existantes. Le module csv propose une m\u00e9thode .DictWriter dont l'utilisation est la suivante : with open ( \"capitales.csv\" , \"w\" , encoding = \"utf8\" , newline = \"\" ) as file : ##On definit les descripteurs du nouveau fichier descripteurs = [ 'Pays' , 'Population_pays' , 'Superficie' , 'Densite' , 'Capitale' , 'Population_capitale' ] writer = csv . DictWriter ( file , fieldnames = descripteurs , delimiter = \";\" ) writer . writeheader () ##Ecrit les descripteurs en premi\u00e8re ligne for co in countries : for ci in cities : if co [ 'Capital_Id' ] == ci [ 'Id' ] : writer . writerow ({ 'Pays' : co [ 'Name' ], 'Population_pays' : co [ 'Population' ], 'Superficie' : co [ 'Area' ], 'Densite' : float ( co [ 'Population' ]) / float ( co [ 'Area' ]), 'Capitale' : ci [ 'Name' ], 'Population_capitale' : ci [ 'Population' ] } )","title":"Ecrire un nouveau fichier csv"},{"location":"NSI/Premiere/C06/CSV/#tp-explorer-imdb","text":"Le TP se fait sur Capytale par ce lien .","title":"TP : Explorer IMDB"},{"location":"NSI/Premiere/C06/Dictionnaires/","text":"Les dictionnaires en Python Avant de commencer : tableaux simultan\u00e9s Des listes avec le m\u00eame index Premier exemple On consid\u00e8re les deux listes suivantes : animaux = [ 'Vache' , 'Chien' , 'Chat' , 'Poule' , 'Ane' , 'Cochon' , 'Paon' ] cris = [ 'Meuh' , 'Wouf' , 'Miaou' , 'Cot-cot' , 'Hi-Han' , 'Gruik' , 'Leon' ] Enonc\u00e9 R\u00e9ponse Ecrire une fonction afficheCri qui prend comme argument le nom d'un animal, et renvoie : soit une chaine de caract\u00e8re telle que dans l'exemple ci-dessous : >>> afficheCri ( \"Vache\" ) \"Le cri de l'animal Vache est Meuh !\" soit la chaine \"Je ne connais pas le cri de Vache\" dans le cas o\u00f9 l'animal n'est pas dans la liste animaux . Le principe est de parcourir par indice la liste animaux , et de comparer avec l'animal cherch\u00e9. Comme les indices correspondent entre les listes animaux et cris , il suffira alors de renvoyer le cri correspondant \u00e0 l'indice trouv\u00e9. Si la boucle se termine, c'est que l'animal ne se rtrouve pas dans cette liste, et qu'on renvoie alors la phrase correspondante : def afficheCri ( animal ) : for i in range ( len ( animaux )) : if animaux [ i ] == animal : return cris [ i ] return f \"Je ne connais pas le cri de { animal } \" Si cette m\u00e9thode est fonctionnelle, il faut quand m\u00eame se poser la question de son efficacit\u00e9 , et plus particuli\u00e8rement de son efficacit\u00e9 en temps . Mesurer un temps d'ex\u00e9cution avec timeit Le module timeit est un module particuli\u00e8rement utile pour mesurer des temps d'ex\u00e9cution. Il peut \u00eatre import\u00e9 par la commande suivante, que je vous conseille de mettre dans l'ent\u00eate de votre fichier : import timeit Une fois import\u00e9, nous allons utiliser la fonction timeit du module pour calculer le temps d'ex\u00e9cution d'une instruction par la commande suivante : timeit . timeit ( lambda : afficheCri ( 'Vache' ), number = 1000 ) L'instruction afficheCri('Vache') sera alors ex\u00e9cut\u00e9e 1000 fois, et le temps moyen d'ex\u00e9cution sera affich\u00e9 (mais sans le r\u00e9sultat d'ex\u00e9cution de la fonction...). Mesurer le temps Quel est le temps d'ex\u00e9cution de la fonction afficheCri ? Testez sur plusieurs animaux. Et avec plus de donn\u00e9es ? Que se passe-t-il si les tableaux sont plus long ? Deuxi\u00e8me exemple Enonc\u00e9 T\u00e9l\u00e9chargez le fichier suivant , et sauvegardez le dans le m\u00eame dossier que votre code Python actuel. Copiez-collez la fonction makebigArray suivante. def makeBigArray () : import csv with open ( \"Long_Dico.csv\" , \"r\" , encoding = \"utf8\" ) as file : dicReader = csv . DictReader ( file , delimiter = ';' ) etablissements = [] GPS = [] for line in dicReader : etablissements . append ( line [ 'Nom' ]) GPS . append ( line [ 'GPS' ]) return etablissements , GPS Copiez-collez ensuite la ligne suivante dans votre code, apr\u00e8s la fonction pr\u00e9c\u00e9dente : etablissements , GPS = makeBigArray () Le code ci-dessous cr\u00e9e deux listes : la premi\u00e8re contient tous les diff\u00e9rents \u00e9tablissements pr\u00e9sents sur ParcourSup , et la deuxi\u00e8me contient les coordonn\u00e9es GPS de chacun de ces \u00e9tablissements. V\u00e9rifiez que les listes etablissements et GPS sont bien de la m\u00eame dimension A partir de la fonction afficheCri , cr\u00e9ez une fonction afficheGPS afin qu'elle permette de r\u00e9cup\u00e9rer les coordonn\u00e9es GPS d'un \u00e9tablissement dont on a sais le nom, et qu'elle renvoie None si l'\u00e9tablissement n'est pas pr\u00e9sent. Testez ensuite la ligne suivante : timeit . timeit ( lambda : afficheGPS ( 'Lyc\u00e9e Auguste Pavie (Guingamp - 22)' ), number = 1000 ) Quel est le temps d'ex\u00e9cution ? Testez ensuite la ligne suivante : timeit . timeit ( lambda : afficheGPS ( 'Pavie' ), number = 1000 ) Quel est le temps d'ex\u00e9cution ? Pourquoi est-il plus long que pr\u00e9c\u00e9demment ? Limite des listes Les listes s\u00e0ont des objets tr\u00e8s pratiques, mais poss\u00e9dant des limites, en particulier concernant la recherche d'\u00e9l\u00e9ments : si la liste n'est pas tri\u00e9e, la recherche se fait en \\(\\mathbb{O}(n)\\) , ce qui signifie que la recherche prend un temps proportionnel \u00e0 la longueur de la liste ; si la liste est tri\u00e9e, il est possible d'utiliser des algorithmes de recherches rapides, comme la recherche dichotomique (au programme de terminale), qui permettent de rechercher en un temps plus court, en \\(\\mathbb{O}(log(n))\\) . Quoi qu'il en soit, ce temps est tr\u00e8s long comparativemment au temps d'acc\u00e8s \u00e0 un \u00e9l\u00e9ment, quand on connait son indice ! En effet, peu importe la taille de la liste , le temps d'acc\u00e8s \u00e0 un \u00e9l\u00e9ment reste constant, il est en \\(\\mathbb{O}(1)\\) . Les dictionnaires en Python Premiers aper\u00e7u des dictionnaires Dictionnaires en Python Un dictionnaire est une structure d\u00e9clar\u00e9e entre accolades , o\u00f9 chaque d\u00e9claration est une paire de type cl\u00e9 : valeur . La seule limite impos\u00e9e dans les types des objets cl\u00e9 et valeurs est que la cl\u00e9 doit \u00eatre d'un type non-mutable (un entier, une cha\u00eene de caract\u00e8res, un tuple, ... mais par contre pas une liste !). exmple On consid\u00e8re le code suivant : cris = { \"Vache\" : \"Meuh\" , \"Chien\" : \"Wouf\" , \"Chat\" : \"Miaou\" , \"Poule\" : \"Cot-cot\" , \"Ane\" : \"Hi-Han\" , \"Cochon\" : \"Gruik\" , \"Paon\" : \"Leon\" } La variable cris est associ\u00e9e \u00e0 un objet de type dictionnaire , ce qu'on peut v\u00e9rifier en testant : type ( cris ) Par exemple dans le dictionnaire cris , on trouve la paire \"Chat\" : \"Miaou\" o\u00f9 : \"Chat\" est la cl\u00e9 (de type cha\u00eene de caract\u00e8res) ; \"Miaou\" est la valeur (aussi de type chacun\u00eene de caract\u00e8res). Acc\u00e8s \u00e0 un \u00e9l\u00e9ment Pour acc\u00e9der \u00e0 une valeur v \u00e0 partir de la cl\u00e9 c d'un dictionnaire d , il suffit d'utiliser la notation suivante : >>> d [ c ] v Ce qui signifie que l'appel d[c] renvoie la valeur v . Exemple Pour obtenir le cri de la vache, il suffit d'utiliser : >>> cris [ \"Vache\" ] 'Meuh' Pour obtenir le cri du cochon, il suffit d'utiliser : >>> cris [ \"Cochon\" ] 'Gruik' Par contre, si on demande une cl\u00e9 qui n'existe pas, on obtient l'erreur suivante : >>> cris [ 'Perroquet' ] Traceback ( most recent call last ): File \"<pyshell>\" , line 1 , in < module > KeyError : 'Perroquet' ce qui signifie que \"Perroquet\" n'est pas une cl\u00e9 valide du dictionnaire. Manipulation des dictionnaires Cr\u00e9ation d'un dictionnaire vide Il existe deux possibilit\u00e9s pour cr\u00e9er un dictionnaire vide : >>> dico1 = {} >>> dico2 = dict () Ajout d'un \u00e9l\u00e9ment Pour ajouter un couple cl\u00e9/valeur \u00e0 un dictionnaire, rien de plus simple : >>> cris [ 'Girafe' ] = 'Tic-Tic' >>> cris { 'Vache' : 'Meuh' , 'Chien' : 'Wouf' , 'Chat' : 'Miaou' , 'Poule' : 'Cot-cot' , 'Ane' : 'Hi-Han' , 'Cochon' : 'Gruik' , 'Paon' : 'Leon' , 'Girafe' : 'Tic-Tic' } Supprimer un \u00e9l\u00e9ment On supprime le couple cl\u00e9/valeur d'un dictionnaire gr\u00e2ce au mot-cl\u00e9 del : >>> del cris [ 'Girafe' ] >>> cris { 'Vache' : 'Meuh' , 'Chien' : 'Wouf' , 'Chat' : 'Miaou' , 'Poule' : 'Cot-cot' , 'Ane' : 'Hi-Han' , 'Cochon' : 'Gruik' , 'Paon' : 'Leon' } Longueur d'un dictionnaire Un dictionnaire poss\u00e8de une longueur : le nombre de cl\u00e9s disponibles. Cette longueur est accessible avec la fonction built-in len() : >>> len ( cris ) 7 Test de pr\u00e9sence de cl\u00e9s Il est possible de tester l'existence d'une cl\u00e9 dans le dictionnaire gr\u00e2ce \u00e0 l' op\u00e9rateur \u00ecn : >>> 'Vache' in cris True >>> ` vache ` in cris False Par contre cet op\u00e9rateur ne permet pas de tester l'existence d'une valeur : >>> 'Meuh' in cris False Liste des cl\u00e9s, des valeurs et des couples Le type dictionnaire poss\u00e8de plusieurs m\u00e9thodes, permettant d'obtenir les cl\u00e9s, les valeurs et les paires cl\u00e9s/valeurs : Pour obtenir la liste des cl\u00e9s , on utilise la m\u00e9thode keys() . >>> cris . keys () dict_keys ([ 'Vache' , 'Chien' , 'Chat' , 'Poule' , 'Ane' , 'Cochon' , 'Paon' ]) L'objet obtenu est dyu type dict_keys , qui se comporte comme un it\u00e9rable classique (c'est-\u00e0-dire qu'on peut l'utiliser dans une boucle for ) : for bestiole in cris . keys () : print ( bestiole ) Pour obtenir la liste des valeurs , on utilise la m\u00e9thode values() . >>> cris . values () dict_values ([ 'Meuh' , 'Wouf' , 'Miaou' , 'Cot-cot' , 'Hi-Han' , 'Gruik' , 'Leon' ]) De la m\u00eame mani\u00e8re que pour les cl\u00e9s, l'objet obtenu est un it\u00e9rable et donc utilisable dans une boucle for : for cri in cris . values (): print ( cri ) On peut aussi obtenir le couple cl\u00e9/valeurs sous la forme d'un tuple par l'interm\u00e9diaire de la m\u00e9thode items() : >>> cris . items () dict_items ([( 'Vache' , 'Meuh' ), ( 'Chien' , 'Wouf' ), ( 'Chat' , 'Miaou' ), ( 'Poule' , 'Cot-cot' ), ( 'Ane' , 'Hi-Han' ), ( 'Cochon' , 'Gruik' ), ( 'Paon' , 'Leon' )]) Et on peut encore it\u00e9rer sur cet objet : for item in cris . items () : print ( f \" { item [ 1 ] } est le cri de { item [ 0 ] } \" ) Tuple unpacking On peut aussi utiliser la technique du tuple unpacking pour extraire chaque \u00e9l\u00e9ment cl\u00e9 et valeur gr\u00e2ce \u00e0 la m\u00e9thode items , en utilisant la technique suivante : for animal , cri in cris . items () : print ( f \"L'animal { animal } fait { cri } !\" ) Am\u00e9liorer avec les dictionnaires Enonc\u00e9 R\u00e9ponses Reconstruisez une nouvelle fonction afficheCri2 sur le m\u00eame mod\u00e8le que la premi\u00e8re, mais en utilisant la structure de dictionnaire, puis testez la vitesse d'ex\u00e9cution de cette nouvelle fonction. Le code : def afficheCri2 ( animal ) : if animal in cris : return cris [ animal ] return f \"Je ne connais pas le cri de { animal } \" Sur une petite structure comme celle-ci, le temps d'ex\u00e9cution n'est pas sensiblement diff\u00e9rent (sauf dans le cas o\u00f9 la cl\u00e9 n'est pas dans le dictionnaire). Et avec plus de donn\u00e9es ? Re-cr\u00e9ons \u00e0 partir du m\u00eame fichier Parcoursup un dictionnaire contenant les \u00e9tablissements et leurs coordonn\u00e9es GPS : def makeBigDict () : import csv with open ( \"Long_Dico.csv\" , \"r\" , encoding = \"utf8\" ) as file : dicReader = csv . DictReader ( file , delimiter = ';' ) etablissements = dict () for line in dicReader : etablissements [ line [ 'Nom' ]] = line [ 'GPS' ] return etablissements dicEtablissements = makeBigDict () Et v\u00e9rifions que sa taille st bien coh\u00e9rente : >>> len ( dicEtablissements ) 6183 Un gain de vitesse ? Enonc\u00e9 R\u00e9ponses Adaptez de nouveau la fonction afficheCri2 en une fonction afficheGPS2 afin qu'elle permette de r\u00e9cup\u00e9rer les coordonn\u00e9es GPS d'un \u00e9tablissement dont on a sais le nom, et qu'elle renvoie None si l'\u00e9tablissement n'est pas pr\u00e9sent. Comparez le temps d'ex\u00e9cution avec la fonction afficheGPS . A venir ! Les dictionnaires : des tables de hachage Cette partie est hors-programme. Mais elle n'en demeure pas moins int\u00e9resante ! Si la structure de dictionnaire est plus rapide que celle d'un tableau simple, c'est parce qu'elle est construite sur le principe d'une table de hachage , \u00e0 l'aide d'une fonction de hachage . Une fonction de hachage est une fonction qui va renvoyer une valeur qui d\u00e9pendra de l'objet qui lui est pass\u00e9 en argument. A la cr\u00e9ation d'un dictionnaire, un tableau vide est cr\u00e9\u00e9. Ce tableau est un tableau classique, index\u00e9 par des entiers. Lors de l'ajout d'un \u00e9l\u00e9ment dans un dictionnaire, la fonction de hachage calcule l'image de la cl\u00e9, donc un nombre, et range dans la case correspondante du tableau nomm\u00e9e alv\u00e9ole (ou bucket ou slot ) la paire cl\u00e9/valeur. Prenons comme exemple de fonction de hachage la fonction \\(f\\) qui renvoie le nombre de lettres de la chaine de caract\u00e8re de la cl\u00e9 . Avec cet exemple : \\(f('Vache') = 5\\) , donc le couple (\"Vache\", \"Meuh\") est rang\u00e9 dans la case d'indice 5 du tableau. \\(f('Cochon') = 6\\) , donc le couple (\"Cochon\", \"Gruik\") est rang\u00e9 dans la case d'indice 6 du tableau. \\(f('Ane') = 3\\) , donc le couple (\"Ane\", \"Hi-Han\") est rang\u00e9 dans la case d'indice 3 du tableau. \\(f('Chat') = 4\\) , donc le couple (\"Chat\", \"Miaou\") est rang\u00e9 dans la case d'indice 4 du tableau. Cette m\u00e9thode de construction apporte un net avantage dans le temps d'acc\u00e8s aux \u00e9l\u00e9ments. En effet, comme dans un tableau normal, acc\u00e9der \u00e0 un \u00e9l\u00e9ment avec son indice est une op\u00e9ration en \\(\\mathcal{O}(1)\\) . Et pour tester si une cl\u00e9 est bien dans le dictionnaire, il suffit de calculer son hash et de regarder dans le tableau si la case contient quelque chose. Cependant elle implique un certain nombre de r\u00e8gles et de contraintes pouvant \u00eatre assez g\u00eanantes : La cl\u00e9 d'un objet doit \u00eatre non mutable . En effet, si la cl\u00e9 change, la valeur de hash renvoy\u00e9e par la fonction ne sera plus la m\u00eame, et l'objet serait perdu. Ainsi Python impose d'utiliser des objets non-mutables comme cl\u00e9, comme des entiers, des cha\u00eenes de caract\u00e8res, et m\u00eame des tuples : newDic = {( 0 , 0 ) : 0 , ( 0 , 1 ) : 5 , ( 0 , 2 ) : 3 , ( 0 , 1 , 2 , 3 ) : 4 } Remarquez que les cl\u00e9s peuvent \u00eatre de types diff\u00e9rents - tant que la fonction de hachage est capable de calculer, il n'y a pas de probl\u00e8mes. Mais il est impossible d'utiliser des listes comme cl\u00e9 : >>> newDic [[ 1 , 0 ]] = 0 Comme tous les tableaux , une taille de base est fix\u00e9e au d\u00e9part. Si jamais l'ajout d'un nouveau couple cl\u00e9/valeur am\u00e8ne \u00e0 d\u00e9passer la taille du tableau initial, un nouveau tableau 2 fois plus grand est cr\u00e9\u00e9, et l'ensemble de l'ancien tableau est copi\u00e9 dans ce nouveau qui devient le nouvel objet de r\u00e9f\u00e9rence. Cette copie peut \u00eatre co\u00fbteues en temps et en m\u00e9moire . Avec certaines fonctions de hachage, plusieurs cl\u00e9s peuvent avoir la m\u00eame image . Par exemple avec la fonction utilisant la longueur des chaines : \\(f('Vache') =5\\) \\(f('Chien') =5\\) On obtient alors une collision . Dans ce cas les deux couples (\"Vache\",\"Meuh\") et (\"Chien\",\"Wouf\") seront rang\u00e9s dans la m\u00eame alv\u00e9ole, sous la forme d'une liste, ce qui risque de diminuer l'efficacit\u00e9 de la recherche, dans le cas d'alv\u00e9oles trop remplies. Par exemple, collisions comprises, avec cette fonction de hachage on obtiendrait la table de hachage suivante : C'est pourquoi il est n\u00e9cessaire d'avoir une bonne fonction de hachage qui limite les possibilit\u00e9s de collision !!! Heureusement pour nous, Python fait bien son travail et utilise une fonction de hachage bien impl\u00e9ment\u00e9e, dont on peut voir quelques exemples dans les cellules ci-dessous : >>> hash ( \"Vache\" ) 3804037224742576468 >>> hash (( 0 , 1 )) - 1950498447580522560 >>> hash ( 35 ) 35 >>> hash ( - 41.2 ) - 461168601842745385 Exercices sur les dictionnaires Exercice 1 Enonc\u00e9 R\u00e9ponses Ecrire un dictionnaire mois dont les cl\u00e9s seront les mois de l'ann\u00e9e et les valeurs seront le nombre de jours du mois correspondant (ann\u00e9e non-bissextiles). Cr\u00e9er une fonction quelMois donnant les mois dont le nombre de jours est pass\u00e9 en argument. A venir ! Exercice 2 Enonc\u00e9 R\u00e9ponses Ecrire une fonction occurrence(chaine : str) qui prend une chaine de caract\u00e8res en argument, et qui renvoie un dictionnaire contenant le nombre d'occurrences de chaque caract\u00e8re. def occurrence ( chaine : str ) -> dict : \"\"\" Prend en argument une chaine de caract\u00e8re quelconque mais non vide, et renvoi un dictionnaire du nombre d'occurrence de chaque caract\u00e8re de la chaine, y compris les espaces et caract\u00e8res sp\u00e9ciaux. Par exemple : >>> occurrence(\"abc\") {'a': 1, 'b': 1, 'c': 1} >>> occurrence(\"abaacc\") {'a': 3, 'b': 1, 'c': 2} >>> occurrence(\"ab ! bc ! \") {'a': 1, 'b': 2, ' ': 4, '!': 2, 'c': 1} \"\"\" ... Ecrire une fonction occurrenceMot(chaine :str) qui prend en argument une chaine de caract\u00e8re, et renvoie un dictionnaire contenant le nombre d'occurrence de chaque mot de la chaine . def occurenceMot ( chaine : str ) -> dict : \"\"\" Prend en argument une chaine de caract\u00e8re quelconque mais non vide, et renvoie un dictionnaire du nombre d'occurrence de chaque mot de la chaine, en minuscule. On ne passera en argument que des chaines sans caract\u00e8res de ponctuation. Par exemple : >>> occurenceMot(\"Le petit chien\") {'le': 1, 'petit': 1, 'chien': 1} >>> occurence(\"Le petit chien joue avec le petit chat\") {'le': 2, 'petit': 2, 'chien': 1, \"joue\" : 1, \"avec\" : 1, \"chat\" : 1 } \"\"\" ... Indice : on pourra utiliser la m\u00e9thode de chaine split(separateur) qui renvoie une liste de sous chaines cr\u00e9\u00e9 \u00e0partir du s\u00e9parateur pass\u00e9 en argument : >>> \"Martine va \u00e0 la plage\" . split ( \" \" ) [ \"Martine\" , \"va\" , \"\u00e0\" , \"la\" , \"plage\" ] A venir ! Exercice 3 (D'apr\u00e8s Romain Tavenard, Universit\u00e9 de Rennes 2) Enonc\u00e9 R\u00e9ponses On dispose d'un dictionnaire associant \u00e0 des noms de commerciaux d'une soci\u00e9t\u00e9 le nombre de ventes qu'ils ont r\u00e9alis\u00e9es. Par exemple : ventes = { \"Dupont\" : 14 , \"Hervy\" : 19 , \"Geoffroy\" : 15 , \"Layec\" : 21 } \u00c9crivez une fonction qui prend en entr\u00e9e un tel dictionnaire et renvoie le nombre total de ventes dans la soci\u00e9t\u00e9. \u00c9crivez une fonction qui prend en entr\u00e9e un tel dictionnaire et renvoie le nom du vendeur ayant r\u00e9alis\u00e9 le plus de ventes. Si plusieurs vendeurs sont ex-aequo sur ce crit\u00e8re, la fonction devra retourner le nom de l'un d'entre eux. A venir !","title":"Les dictionnaires"},{"location":"NSI/Premiere/C06/Dictionnaires/#les-dictionnaires-en-python","text":"","title":"Les dictionnaires en Python"},{"location":"NSI/Premiere/C06/Dictionnaires/#avant-de-commencer-tableaux-simultanes","text":"","title":"Avant de commencer : tableaux simultan\u00e9s"},{"location":"NSI/Premiere/C06/Dictionnaires/#des-listes-avec-le-meme-index","text":"Premier exemple On consid\u00e8re les deux listes suivantes : animaux = [ 'Vache' , 'Chien' , 'Chat' , 'Poule' , 'Ane' , 'Cochon' , 'Paon' ] cris = [ 'Meuh' , 'Wouf' , 'Miaou' , 'Cot-cot' , 'Hi-Han' , 'Gruik' , 'Leon' ] Enonc\u00e9 R\u00e9ponse Ecrire une fonction afficheCri qui prend comme argument le nom d'un animal, et renvoie : soit une chaine de caract\u00e8re telle que dans l'exemple ci-dessous : >>> afficheCri ( \"Vache\" ) \"Le cri de l'animal Vache est Meuh !\" soit la chaine \"Je ne connais pas le cri de Vache\" dans le cas o\u00f9 l'animal n'est pas dans la liste animaux . Le principe est de parcourir par indice la liste animaux , et de comparer avec l'animal cherch\u00e9. Comme les indices correspondent entre les listes animaux et cris , il suffira alors de renvoyer le cri correspondant \u00e0 l'indice trouv\u00e9. Si la boucle se termine, c'est que l'animal ne se rtrouve pas dans cette liste, et qu'on renvoie alors la phrase correspondante : def afficheCri ( animal ) : for i in range ( len ( animaux )) : if animaux [ i ] == animal : return cris [ i ] return f \"Je ne connais pas le cri de { animal } \" Si cette m\u00e9thode est fonctionnelle, il faut quand m\u00eame se poser la question de son efficacit\u00e9 , et plus particuli\u00e8rement de son efficacit\u00e9 en temps . Mesurer un temps d'ex\u00e9cution avec timeit Le module timeit est un module particuli\u00e8rement utile pour mesurer des temps d'ex\u00e9cution. Il peut \u00eatre import\u00e9 par la commande suivante, que je vous conseille de mettre dans l'ent\u00eate de votre fichier : import timeit Une fois import\u00e9, nous allons utiliser la fonction timeit du module pour calculer le temps d'ex\u00e9cution d'une instruction par la commande suivante : timeit . timeit ( lambda : afficheCri ( 'Vache' ), number = 1000 ) L'instruction afficheCri('Vache') sera alors ex\u00e9cut\u00e9e 1000 fois, et le temps moyen d'ex\u00e9cution sera affich\u00e9 (mais sans le r\u00e9sultat d'ex\u00e9cution de la fonction...). Mesurer le temps Quel est le temps d'ex\u00e9cution de la fonction afficheCri ? Testez sur plusieurs animaux.","title":"Des listes avec le m\u00eame index"},{"location":"NSI/Premiere/C06/Dictionnaires/#et-avec-plus-de-donnees","text":"Que se passe-t-il si les tableaux sont plus long ? Deuxi\u00e8me exemple Enonc\u00e9 T\u00e9l\u00e9chargez le fichier suivant , et sauvegardez le dans le m\u00eame dossier que votre code Python actuel. Copiez-collez la fonction makebigArray suivante. def makeBigArray () : import csv with open ( \"Long_Dico.csv\" , \"r\" , encoding = \"utf8\" ) as file : dicReader = csv . DictReader ( file , delimiter = ';' ) etablissements = [] GPS = [] for line in dicReader : etablissements . append ( line [ 'Nom' ]) GPS . append ( line [ 'GPS' ]) return etablissements , GPS Copiez-collez ensuite la ligne suivante dans votre code, apr\u00e8s la fonction pr\u00e9c\u00e9dente : etablissements , GPS = makeBigArray () Le code ci-dessous cr\u00e9e deux listes : la premi\u00e8re contient tous les diff\u00e9rents \u00e9tablissements pr\u00e9sents sur ParcourSup , et la deuxi\u00e8me contient les coordonn\u00e9es GPS de chacun de ces \u00e9tablissements. V\u00e9rifiez que les listes etablissements et GPS sont bien de la m\u00eame dimension A partir de la fonction afficheCri , cr\u00e9ez une fonction afficheGPS afin qu'elle permette de r\u00e9cup\u00e9rer les coordonn\u00e9es GPS d'un \u00e9tablissement dont on a sais le nom, et qu'elle renvoie None si l'\u00e9tablissement n'est pas pr\u00e9sent. Testez ensuite la ligne suivante : timeit . timeit ( lambda : afficheGPS ( 'Lyc\u00e9e Auguste Pavie (Guingamp - 22)' ), number = 1000 ) Quel est le temps d'ex\u00e9cution ? Testez ensuite la ligne suivante : timeit . timeit ( lambda : afficheGPS ( 'Pavie' ), number = 1000 ) Quel est le temps d'ex\u00e9cution ? Pourquoi est-il plus long que pr\u00e9c\u00e9demment ? Limite des listes Les listes s\u00e0ont des objets tr\u00e8s pratiques, mais poss\u00e9dant des limites, en particulier concernant la recherche d'\u00e9l\u00e9ments : si la liste n'est pas tri\u00e9e, la recherche se fait en \\(\\mathbb{O}(n)\\) , ce qui signifie que la recherche prend un temps proportionnel \u00e0 la longueur de la liste ; si la liste est tri\u00e9e, il est possible d'utiliser des algorithmes de recherches rapides, comme la recherche dichotomique (au programme de terminale), qui permettent de rechercher en un temps plus court, en \\(\\mathbb{O}(log(n))\\) . Quoi qu'il en soit, ce temps est tr\u00e8s long comparativemment au temps d'acc\u00e8s \u00e0 un \u00e9l\u00e9ment, quand on connait son indice ! En effet, peu importe la taille de la liste , le temps d'acc\u00e8s \u00e0 un \u00e9l\u00e9ment reste constant, il est en \\(\\mathbb{O}(1)\\) .","title":"Et avec plus de donn\u00e9es ?"},{"location":"NSI/Premiere/C06/Dictionnaires/#les-dictionnaires-en-python_1","text":"","title":"Les dictionnaires en Python"},{"location":"NSI/Premiere/C06/Dictionnaires/#premiers-apercu-des-dictionnaires","text":"Dictionnaires en Python Un dictionnaire est une structure d\u00e9clar\u00e9e entre accolades , o\u00f9 chaque d\u00e9claration est une paire de type cl\u00e9 : valeur . La seule limite impos\u00e9e dans les types des objets cl\u00e9 et valeurs est que la cl\u00e9 doit \u00eatre d'un type non-mutable (un entier, une cha\u00eene de caract\u00e8res, un tuple, ... mais par contre pas une liste !). exmple On consid\u00e8re le code suivant : cris = { \"Vache\" : \"Meuh\" , \"Chien\" : \"Wouf\" , \"Chat\" : \"Miaou\" , \"Poule\" : \"Cot-cot\" , \"Ane\" : \"Hi-Han\" , \"Cochon\" : \"Gruik\" , \"Paon\" : \"Leon\" } La variable cris est associ\u00e9e \u00e0 un objet de type dictionnaire , ce qu'on peut v\u00e9rifier en testant : type ( cris ) Par exemple dans le dictionnaire cris , on trouve la paire \"Chat\" : \"Miaou\" o\u00f9 : \"Chat\" est la cl\u00e9 (de type cha\u00eene de caract\u00e8res) ; \"Miaou\" est la valeur (aussi de type chacun\u00eene de caract\u00e8res). Acc\u00e8s \u00e0 un \u00e9l\u00e9ment Pour acc\u00e9der \u00e0 une valeur v \u00e0 partir de la cl\u00e9 c d'un dictionnaire d , il suffit d'utiliser la notation suivante : >>> d [ c ] v Ce qui signifie que l'appel d[c] renvoie la valeur v . Exemple Pour obtenir le cri de la vache, il suffit d'utiliser : >>> cris [ \"Vache\" ] 'Meuh' Pour obtenir le cri du cochon, il suffit d'utiliser : >>> cris [ \"Cochon\" ] 'Gruik' Par contre, si on demande une cl\u00e9 qui n'existe pas, on obtient l'erreur suivante : >>> cris [ 'Perroquet' ] Traceback ( most recent call last ): File \"<pyshell>\" , line 1 , in < module > KeyError : 'Perroquet' ce qui signifie que \"Perroquet\" n'est pas une cl\u00e9 valide du dictionnaire.","title":"Premiers aper\u00e7u des dictionnaires"},{"location":"NSI/Premiere/C06/Dictionnaires/#manipulation-des-dictionnaires","text":"","title":"Manipulation des dictionnaires"},{"location":"NSI/Premiere/C06/Dictionnaires/#creation-dun-dictionnaire-vide","text":"Il existe deux possibilit\u00e9s pour cr\u00e9er un dictionnaire vide : >>> dico1 = {} >>> dico2 = dict ()","title":"Cr\u00e9ation d'un  dictionnaire vide"},{"location":"NSI/Premiere/C06/Dictionnaires/#ajout-dun-element","text":"Pour ajouter un couple cl\u00e9/valeur \u00e0 un dictionnaire, rien de plus simple : >>> cris [ 'Girafe' ] = 'Tic-Tic' >>> cris { 'Vache' : 'Meuh' , 'Chien' : 'Wouf' , 'Chat' : 'Miaou' , 'Poule' : 'Cot-cot' , 'Ane' : 'Hi-Han' , 'Cochon' : 'Gruik' , 'Paon' : 'Leon' , 'Girafe' : 'Tic-Tic' }","title":"Ajout d'un \u00e9l\u00e9ment"},{"location":"NSI/Premiere/C06/Dictionnaires/#supprimer-un-element","text":"On supprime le couple cl\u00e9/valeur d'un dictionnaire gr\u00e2ce au mot-cl\u00e9 del : >>> del cris [ 'Girafe' ] >>> cris { 'Vache' : 'Meuh' , 'Chien' : 'Wouf' , 'Chat' : 'Miaou' , 'Poule' : 'Cot-cot' , 'Ane' : 'Hi-Han' , 'Cochon' : 'Gruik' , 'Paon' : 'Leon' }","title":"Supprimer un \u00e9l\u00e9ment"},{"location":"NSI/Premiere/C06/Dictionnaires/#longueur-dun-dictionnaire","text":"Un dictionnaire poss\u00e8de une longueur : le nombre de cl\u00e9s disponibles. Cette longueur est accessible avec la fonction built-in len() : >>> len ( cris ) 7","title":"Longueur d'un dictionnaire"},{"location":"NSI/Premiere/C06/Dictionnaires/#test-de-presence-de-cles","text":"Il est possible de tester l'existence d'une cl\u00e9 dans le dictionnaire gr\u00e2ce \u00e0 l' op\u00e9rateur \u00ecn : >>> 'Vache' in cris True >>> ` vache ` in cris False Par contre cet op\u00e9rateur ne permet pas de tester l'existence d'une valeur : >>> 'Meuh' in cris False","title":"Test de pr\u00e9sence de cl\u00e9s"},{"location":"NSI/Premiere/C06/Dictionnaires/#liste-des-cles-des-valeurs-et-des-couples","text":"Le type dictionnaire poss\u00e8de plusieurs m\u00e9thodes, permettant d'obtenir les cl\u00e9s, les valeurs et les paires cl\u00e9s/valeurs : Pour obtenir la liste des cl\u00e9s , on utilise la m\u00e9thode keys() . >>> cris . keys () dict_keys ([ 'Vache' , 'Chien' , 'Chat' , 'Poule' , 'Ane' , 'Cochon' , 'Paon' ]) L'objet obtenu est dyu type dict_keys , qui se comporte comme un it\u00e9rable classique (c'est-\u00e0-dire qu'on peut l'utiliser dans une boucle for ) : for bestiole in cris . keys () : print ( bestiole ) Pour obtenir la liste des valeurs , on utilise la m\u00e9thode values() . >>> cris . values () dict_values ([ 'Meuh' , 'Wouf' , 'Miaou' , 'Cot-cot' , 'Hi-Han' , 'Gruik' , 'Leon' ]) De la m\u00eame mani\u00e8re que pour les cl\u00e9s, l'objet obtenu est un it\u00e9rable et donc utilisable dans une boucle for : for cri in cris . values (): print ( cri ) On peut aussi obtenir le couple cl\u00e9/valeurs sous la forme d'un tuple par l'interm\u00e9diaire de la m\u00e9thode items() : >>> cris . items () dict_items ([( 'Vache' , 'Meuh' ), ( 'Chien' , 'Wouf' ), ( 'Chat' , 'Miaou' ), ( 'Poule' , 'Cot-cot' ), ( 'Ane' , 'Hi-Han' ), ( 'Cochon' , 'Gruik' ), ( 'Paon' , 'Leon' )]) Et on peut encore it\u00e9rer sur cet objet : for item in cris . items () : print ( f \" { item [ 1 ] } est le cri de { item [ 0 ] } \" ) Tuple unpacking On peut aussi utiliser la technique du tuple unpacking pour extraire chaque \u00e9l\u00e9ment cl\u00e9 et valeur gr\u00e2ce \u00e0 la m\u00e9thode items , en utilisant la technique suivante : for animal , cri in cris . items () : print ( f \"L'animal { animal } fait { cri } !\" ) Am\u00e9liorer avec les dictionnaires Enonc\u00e9 R\u00e9ponses Reconstruisez une nouvelle fonction afficheCri2 sur le m\u00eame mod\u00e8le que la premi\u00e8re, mais en utilisant la structure de dictionnaire, puis testez la vitesse d'ex\u00e9cution de cette nouvelle fonction. Le code : def afficheCri2 ( animal ) : if animal in cris : return cris [ animal ] return f \"Je ne connais pas le cri de { animal } \" Sur une petite structure comme celle-ci, le temps d'ex\u00e9cution n'est pas sensiblement diff\u00e9rent (sauf dans le cas o\u00f9 la cl\u00e9 n'est pas dans le dictionnaire).","title":"Liste des cl\u00e9s, des valeurs et des couples"},{"location":"NSI/Premiere/C06/Dictionnaires/#et-avec-plus-de-donnees_1","text":"Re-cr\u00e9ons \u00e0 partir du m\u00eame fichier Parcoursup un dictionnaire contenant les \u00e9tablissements et leurs coordonn\u00e9es GPS : def makeBigDict () : import csv with open ( \"Long_Dico.csv\" , \"r\" , encoding = \"utf8\" ) as file : dicReader = csv . DictReader ( file , delimiter = ';' ) etablissements = dict () for line in dicReader : etablissements [ line [ 'Nom' ]] = line [ 'GPS' ] return etablissements dicEtablissements = makeBigDict () Et v\u00e9rifions que sa taille st bien coh\u00e9rente : >>> len ( dicEtablissements ) 6183 Un gain de vitesse ? Enonc\u00e9 R\u00e9ponses Adaptez de nouveau la fonction afficheCri2 en une fonction afficheGPS2 afin qu'elle permette de r\u00e9cup\u00e9rer les coordonn\u00e9es GPS d'un \u00e9tablissement dont on a sais le nom, et qu'elle renvoie None si l'\u00e9tablissement n'est pas pr\u00e9sent. Comparez le temps d'ex\u00e9cution avec la fonction afficheGPS . A venir !","title":"Et avec plus de donn\u00e9es ?"},{"location":"NSI/Premiere/C06/Dictionnaires/#les-dictionnaires-des-tables-de-hachage","text":"Cette partie est hors-programme. Mais elle n'en demeure pas moins int\u00e9resante ! Si la structure de dictionnaire est plus rapide que celle d'un tableau simple, c'est parce qu'elle est construite sur le principe d'une table de hachage , \u00e0 l'aide d'une fonction de hachage . Une fonction de hachage est une fonction qui va renvoyer une valeur qui d\u00e9pendra de l'objet qui lui est pass\u00e9 en argument. A la cr\u00e9ation d'un dictionnaire, un tableau vide est cr\u00e9\u00e9. Ce tableau est un tableau classique, index\u00e9 par des entiers. Lors de l'ajout d'un \u00e9l\u00e9ment dans un dictionnaire, la fonction de hachage calcule l'image de la cl\u00e9, donc un nombre, et range dans la case correspondante du tableau nomm\u00e9e alv\u00e9ole (ou bucket ou slot ) la paire cl\u00e9/valeur. Prenons comme exemple de fonction de hachage la fonction \\(f\\) qui renvoie le nombre de lettres de la chaine de caract\u00e8re de la cl\u00e9 . Avec cet exemple : \\(f('Vache') = 5\\) , donc le couple (\"Vache\", \"Meuh\") est rang\u00e9 dans la case d'indice 5 du tableau. \\(f('Cochon') = 6\\) , donc le couple (\"Cochon\", \"Gruik\") est rang\u00e9 dans la case d'indice 6 du tableau. \\(f('Ane') = 3\\) , donc le couple (\"Ane\", \"Hi-Han\") est rang\u00e9 dans la case d'indice 3 du tableau. \\(f('Chat') = 4\\) , donc le couple (\"Chat\", \"Miaou\") est rang\u00e9 dans la case d'indice 4 du tableau. Cette m\u00e9thode de construction apporte un net avantage dans le temps d'acc\u00e8s aux \u00e9l\u00e9ments. En effet, comme dans un tableau normal, acc\u00e9der \u00e0 un \u00e9l\u00e9ment avec son indice est une op\u00e9ration en \\(\\mathcal{O}(1)\\) . Et pour tester si une cl\u00e9 est bien dans le dictionnaire, il suffit de calculer son hash et de regarder dans le tableau si la case contient quelque chose. Cependant elle implique un certain nombre de r\u00e8gles et de contraintes pouvant \u00eatre assez g\u00eanantes : La cl\u00e9 d'un objet doit \u00eatre non mutable . En effet, si la cl\u00e9 change, la valeur de hash renvoy\u00e9e par la fonction ne sera plus la m\u00eame, et l'objet serait perdu. Ainsi Python impose d'utiliser des objets non-mutables comme cl\u00e9, comme des entiers, des cha\u00eenes de caract\u00e8res, et m\u00eame des tuples : newDic = {( 0 , 0 ) : 0 , ( 0 , 1 ) : 5 , ( 0 , 2 ) : 3 , ( 0 , 1 , 2 , 3 ) : 4 } Remarquez que les cl\u00e9s peuvent \u00eatre de types diff\u00e9rents - tant que la fonction de hachage est capable de calculer, il n'y a pas de probl\u00e8mes. Mais il est impossible d'utiliser des listes comme cl\u00e9 : >>> newDic [[ 1 , 0 ]] = 0 Comme tous les tableaux , une taille de base est fix\u00e9e au d\u00e9part. Si jamais l'ajout d'un nouveau couple cl\u00e9/valeur am\u00e8ne \u00e0 d\u00e9passer la taille du tableau initial, un nouveau tableau 2 fois plus grand est cr\u00e9\u00e9, et l'ensemble de l'ancien tableau est copi\u00e9 dans ce nouveau qui devient le nouvel objet de r\u00e9f\u00e9rence. Cette copie peut \u00eatre co\u00fbteues en temps et en m\u00e9moire . Avec certaines fonctions de hachage, plusieurs cl\u00e9s peuvent avoir la m\u00eame image . Par exemple avec la fonction utilisant la longueur des chaines : \\(f('Vache') =5\\) \\(f('Chien') =5\\) On obtient alors une collision . Dans ce cas les deux couples (\"Vache\",\"Meuh\") et (\"Chien\",\"Wouf\") seront rang\u00e9s dans la m\u00eame alv\u00e9ole, sous la forme d'une liste, ce qui risque de diminuer l'efficacit\u00e9 de la recherche, dans le cas d'alv\u00e9oles trop remplies. Par exemple, collisions comprises, avec cette fonction de hachage on obtiendrait la table de hachage suivante : C'est pourquoi il est n\u00e9cessaire d'avoir une bonne fonction de hachage qui limite les possibilit\u00e9s de collision !!! Heureusement pour nous, Python fait bien son travail et utilise une fonction de hachage bien impl\u00e9ment\u00e9e, dont on peut voir quelques exemples dans les cellules ci-dessous : >>> hash ( \"Vache\" ) 3804037224742576468 >>> hash (( 0 , 1 )) - 1950498447580522560 >>> hash ( 35 ) 35 >>> hash ( - 41.2 ) - 461168601842745385","title":"Les dictionnaires : des tables de hachage"},{"location":"NSI/Premiere/C06/Dictionnaires/#exercices-sur-les-dictionnaires","text":"Exercice 1 Enonc\u00e9 R\u00e9ponses Ecrire un dictionnaire mois dont les cl\u00e9s seront les mois de l'ann\u00e9e et les valeurs seront le nombre de jours du mois correspondant (ann\u00e9e non-bissextiles). Cr\u00e9er une fonction quelMois donnant les mois dont le nombre de jours est pass\u00e9 en argument. A venir ! Exercice 2 Enonc\u00e9 R\u00e9ponses Ecrire une fonction occurrence(chaine : str) qui prend une chaine de caract\u00e8res en argument, et qui renvoie un dictionnaire contenant le nombre d'occurrences de chaque caract\u00e8re. def occurrence ( chaine : str ) -> dict : \"\"\" Prend en argument une chaine de caract\u00e8re quelconque mais non vide, et renvoi un dictionnaire du nombre d'occurrence de chaque caract\u00e8re de la chaine, y compris les espaces et caract\u00e8res sp\u00e9ciaux. Par exemple : >>> occurrence(\"abc\") {'a': 1, 'b': 1, 'c': 1} >>> occurrence(\"abaacc\") {'a': 3, 'b': 1, 'c': 2} >>> occurrence(\"ab ! bc ! \") {'a': 1, 'b': 2, ' ': 4, '!': 2, 'c': 1} \"\"\" ... Ecrire une fonction occurrenceMot(chaine :str) qui prend en argument une chaine de caract\u00e8re, et renvoie un dictionnaire contenant le nombre d'occurrence de chaque mot de la chaine . def occurenceMot ( chaine : str ) -> dict : \"\"\" Prend en argument une chaine de caract\u00e8re quelconque mais non vide, et renvoie un dictionnaire du nombre d'occurrence de chaque mot de la chaine, en minuscule. On ne passera en argument que des chaines sans caract\u00e8res de ponctuation. Par exemple : >>> occurenceMot(\"Le petit chien\") {'le': 1, 'petit': 1, 'chien': 1} >>> occurence(\"Le petit chien joue avec le petit chat\") {'le': 2, 'petit': 2, 'chien': 1, \"joue\" : 1, \"avec\" : 1, \"chat\" : 1 } \"\"\" ... Indice : on pourra utiliser la m\u00e9thode de chaine split(separateur) qui renvoie une liste de sous chaines cr\u00e9\u00e9 \u00e0partir du s\u00e9parateur pass\u00e9 en argument : >>> \"Martine va \u00e0 la plage\" . split ( \" \" ) [ \"Martine\" , \"va\" , \"\u00e0\" , \"la\" , \"plage\" ] A venir ! Exercice 3 (D'apr\u00e8s Romain Tavenard, Universit\u00e9 de Rennes 2) Enonc\u00e9 R\u00e9ponses On dispose d'un dictionnaire associant \u00e0 des noms de commerciaux d'une soci\u00e9t\u00e9 le nombre de ventes qu'ils ont r\u00e9alis\u00e9es. Par exemple : ventes = { \"Dupont\" : 14 , \"Hervy\" : 19 , \"Geoffroy\" : 15 , \"Layec\" : 21 } \u00c9crivez une fonction qui prend en entr\u00e9e un tel dictionnaire et renvoie le nombre total de ventes dans la soci\u00e9t\u00e9. \u00c9crivez une fonction qui prend en entr\u00e9e un tel dictionnaire et renvoie le nom du vendeur ayant r\u00e9alis\u00e9 le plus de ventes. Si plusieurs vendeurs sont ex-aequo sur ce crit\u00e8re, la fonction devra retourner le nom de l'un d'entre eux. A venir !","title":"Exercices sur les dictionnaires"},{"location":"NSI/Premiere/C07/Algorithmes_Gloutons/","text":"Algorithmes Gloutons D'apr\u00e8s pixees.fr Probl\u00e8mes d'optimisations Le probl\u00e8me du sac \u00e0 dos Le probl\u00e8me du sac \u00e0 dos ( KP ou Knapsack Problem ) Un cambrioleur poss\u00e8de un sac \u00e0 dos d'une contenance maximum de 30 Kg. Au cours d'un de ses cambriolages, il a la possibilit\u00e9 de d\u00e9rober 4 objets A, B, C et D. Voici un tableau qui r\u00e9sume les caract\u00e9ristiques de ces objets : Objet A B C D Masse 13 Kg 22 Kg 8 Kg 10 Kg Valeur 700 \u20ac 400 \u20ac 300 \u20ac 300 \u20ac D\u00e9terminez les objets que le cambrioleur aura int\u00e9r\u00eat \u00e0 d\u00e9rober, sachant que : tous les objets d\u00e9rob\u00e9s devront tenir dans le sac \u00e0 dos (30 Kg maxi) ; le cambrioleur cherche \u00e0 obtenir un gain maximum. Existe-t-il d'autres solutions ? Optimisation Ce genre de probl\u00e8me est un grand classique en informatique, on parle de probl\u00e8mes d'optimisation . Il existe souvent plusieurs solutions possibles \u00e0 un probl\u00e8me d'optimisation, mais toutes ne sont pas \u00e9quivalentes. En effet on cherche une solution dite optimale (dans notre exemple on cherche le plus grand gain possible). Souvent, dans les probl\u00e8mes d'optimisation, il n'existe pas une solution optimale, mais plusieurs solutions optimales, et r\u00e9soudre un probl\u00e8me d'optimisation c'est donc trouver une des solutions optimales. Solution na\u00efve En apparence, la solution la plus simple dans le cas du sac \u00e0 dos serait d'\u00e9crire un algorithme qui teste toutes les combinaisons d'objets possibles et qui retient les solutions qui offrent un gain maximum. Dans notre cas pr\u00e9cis, avec seulement 4 objets, cette solution pourrait \u00eatre envisag\u00e9e, mais avec un plus grand nombre d'objets, le temps de calcul, m\u00eame pour un ordinateur tr\u00e8s puissant, deviendrait trop important. En effet l'algorithme qui testerait toutes les combinaisons possibles aurait une complexit\u00e9 en temps en \\(\\mathrm{O}(a^n)\\) avec \\(a\\) une constante et \\(n\\) le nombre d'objets. On parle dans ce cas d'une complexit\u00e9 exponentielle (en temps), ce qu'on peut voir dans le graphique suivant (ex\u00e9cut\u00e9 sur mon ordinateur personnel). Les algorithmes \u00e0 complexit\u00e9 exponentielle ne sont pas efficaces pour r\u00e9soudre des probl\u00e8mes, le temps de calcul devient beaucoup trop important quand \\(n\\) devient tr\u00e8s grand. Pour les cracks Coder la solution na\u00efve Une solution hors programme Cette question est vraiment difficile ! Comment faire pour tester toutes les solutions possibles, sachant que la liste des objets est donn\u00e9e sous la forme d'un dictionnaire (ou d'une liste de dictionnaire), o\u00f9 chaque objet est repr\u00e9sent\u00e9 par deux cl\u00e9s masse et valeur ? La solution est de cr\u00e9er une liste de tous les sous-ensembles possibles \u00e0 partir d'une donn\u00e9e d'objets, puis de calculer pour chacun de ces sous-ensemble la masse et la valeur totale...mais c'est complexe surtout sans ma\u00eetrise pas la r\u00e9cursivit\u00e9 (au programme de Terminale). Vous pouvez toujours chercher, une solution \u00e9tant propos\u00e9e dans l'onglet suivant. def makeTree ( T : list ) -> list : \"\"\"fonction r\u00e9cursive renvoyant l'ensemble des sous-ensembles non vides d'un ensemble de d\u00e9part donn\u00e9 sous la forme d'une liste. L'ensemble de d\u00e9part doit \u00eatre non vide\"\"\" #Cas de base : la liste ne contient qu'un seul \u00e9l\u00e9ment if len ( T ) == 1 : return [ T ] else : comp = [] # Sinon cr\u00e9ation de la liste des sous-ensembles nT = T [:] #on cr\u00e9\u00e9 une copie locale de la liste de d\u00e9part for e in T : # Pour chaque \u00e9l\u00e9ment de la liste de d\u00e9part comp . append ([ e ]) # On ajoute le singleton correspondant nT . remove ( e ) #On le supprime de la liste locale for ne in makeTree ( nT ) : # On ex\u00e9cute r\u00e9cursivemment la fonction makeTree #et pour chaque sous-ensemble obtenu, on rajoute l'\u00e9l\u00e9ment e comp . append ([ e ] + ne ) return comp def sacADosNaif ( listeObj : dict , masseMax : int ) -> list : \"\"\" Calcule la solution optimale pour le probl\u00e8me du sac \u00e0 dos\"\"\" optimale = [] valeurOptimale = 0 for se in makeTree ([ name for name in listeObj . keys ()]) : masseLocale = sum ([ listeObj [ nom ][ 'masse' ] for nom in se ]) valeurLocale = sum ([ listeObj [ nom ][ 'valeur' ] for nom in se ]) if valeurLocale > valeurOptimale and masseLocale <= masseMax : valeurOptimale = valeurLocale optimale = se return optimale , valeurOptimale Une solution gloutonne Solution \u00ab Gloutonne \u00bb La r\u00e9solution d'un probl\u00e8me d'optimisation se fait g\u00e9n\u00e9ralement par \u00e9tapes : \u00e0 chaque \u00e9tape on doit faire un choix . Par exemple, dans le probl\u00e8me du sac \u00e0 dos, nous ajoutons les objets un par un, chaque ajout d'un objet constitue une \u00e9tape : \u00e0 chaque \u00e9tape on doit choisir un objet \u00e0 mettre dans le sac. Le principe de la m\u00e9thode gloutonne ( greedy en anglais) est de, \u00e0 chaque \u00e9tape de la r\u00e9solution du probl\u00e8me, faire le choix qui semble le plus pertinent sur le moment, avec l'espoir qu'au bout du compte, cela nous conduira vers une solution optimale du probl\u00e8me \u00e0 r\u00e9soudre. Autrement dit, on fait des choix localement optimaux , ce qui signifie de faire le choix qui semble le plus pertinent \u00e0 chaque \u00e9tape, dans l'espoir que ces choix m\u00e8neront \u00e0 une solution globalement optimale. M\u00e9thode gloutonne Enonc\u00e9 Solutions Comme on cherche \u00e0 optimiser au maximum le gain, on va s'int\u00e9resser \u00e0 la \u00ab valeur massique \u00bb de chaque objet. Compl\u00e9ter le tableau suivant : Objet A B C D Valeur Massique (en \u20ac/Kg) Trier le tableau par valeur d\u00e9croissante de la valeur massique. Enfin, on remplit le sac en prenant les objets dans l'ordre et en s'arr\u00eatant d\u00e8s que la masse limite est atteinte.\\ Quelle est la composition du sac ? Est-elle optimale ? A venir Comparaison des temps d'ex\u00e9cution entre algorithme na\u00eff et algorithme glouton Sur les m\u00eames valeurs, voici une comparaison entre les temps d'\u00e9x\u00e9cution des deux algorithmes : ATTENTION Il faut bien comprendre que l'algorithme glouton ne donne pas forc\u00e9ment la m\u00eame r\u00e9ponse que l'algorithme na\u00eff, c'est-\u00e0-dire la solution optimale ! Cependant les diff\u00e9rences de temps d'ex\u00e9cution lorsque \\(n\\) est suffisamment grand sont telles que la solution approch\u00e9e donn\u00e9e par une m\u00e9thode gloutonne est bien souvent acceptable. Code en Python Enonc\u00e9 La liste des objets et leur poids est donn\u00e9 par un dictionnaire nom : (masse; valeur). objets = { \"A\" : { 'masse' : 13 , 'valeur' : 700 }, \"B\" : { 'masse' : 12 , 'valeur' : 400 }, \"C\" : { 'masse' : 8 , 'valeur' : 300 }, \"D\" : { 'masse' : 10 , 'valeur' : 300 }, } Ecrire une fonction Python qui renvoie un taleau de tuples (nom ; valeur_massique) \u00e0 partir du dictionnaire pass\u00e9 en argument. Trier ce tableau par ordre d\u00e9croissant des valeurs massiques. Ecrire une fonction Python qui finalise l'algorithme glouton. Probl\u00e8me du rendu de monnaie La situation Le probl\u00e8me du rendu de monnaie Nous sommes des commer\u00e7ants, nous avons \u00e0 notre disposition un nombre illimit\u00e9 de pi\u00e8ces de : 1 centime 2 centimes 5 centimes 10 centimes 20 centimes 50 centimes 1 euro 2 euros Nous devons rendre la monnaie \u00e0 un client \u00e0 l'aide de ces pi\u00e8ces. La contrainte est d'utiliser le moins de pi\u00e8ces possible . L'algorithme Enonc\u00e9 Trouvez une m\u00e9thode gloutonne permettant d'effectuer un rendu de monnaie (en utilisant le moins possible de pi\u00e8ces). Vous devez rendre la somme de 2,63 \u20ac. Appliquez la m\u00e9thode que vous venez de mettre au point. Combien de pi\u00e8ces avez-vous utilis\u00e9es ? La solution trouv\u00e9e est-elle optimale ? Vous devez rendre la somme de 4,05 \u20ac. Appliquez la m\u00e9thode que vous venez de mettre au point. Combien de pi\u00e8ces avez-vous utilis\u00e9es ? La solution trouv\u00e9e est-elle optimale ? Le code \u00c0 partir de la m\u00e9thode gloutonne que vous avez \u00e9labor\u00e9e ci-dessus, \u00e9crivez un algorithme glouton qui permettra de d\u00e9terminer le nombre minimal de pi\u00e8ces \u00e0 utiliser pour une somme donn\u00e9e. Vous proposerez ensuite une impl\u00e9mentation en Python de votre algorithme. Vous testerez votre programme avec une somme \u00e0 rendre de 2 euros et 63 centimes. Autres syst\u00e8mes de monnaie Le probl\u00e8me du rendu de monnaie est NP-complet dans le cas g\u00e9n\u00e9ral, c'est-\u00e0-dire tr\u00e8s difficile \u00e0 r\u00e9soudre. Cependant pour certains syst\u00e8mes de monnaie dits canoniques , l'algorithme glouton est optimal, c'est-\u00e0-dire qu'il suffit de rendre syst\u00e9matiquement la pi\u00e8ce ou le billet de valeur maximale \u2014 ce tant qu'il reste quelque chose \u00e0 rendre. C'est la m\u00e9thode employ\u00e9e en pratique, ce qui se justifie car la quasi-totalit\u00e9 des syst\u00e8mes ayant cours dans le monde sont canoniques. Dans un syst\u00e8me de monnaie non-canonique ne poss\u00e9dant que 3 pi\u00e8ces de valeurs 1, 3 et 4, quelle est la solution optimale du probl\u00e8me du rendu de monnaie pourt une valeur de 6 ? Que donne l'algorithme glouton ? Pour les cracks Pour ceux int\u00e9ress\u00e9s, voici les fichiers permettant de visualiser la comparaison entre les m\u00e9thodes : sacADos_Naif_Glouton.py : NREP correspond au nombre maximum d'objets test\u00e9s ; LISSAGE correspond au nombre de r\u00e9p\u00e9titions effectu\u00e9es pour lisser les r\u00e9sultats FACTEUR_TAILLE correspond \u00e0 la taille du sac \u00e0 dos (d\u00e9pend du nombnre d'objets). Ce fichier cr\u00e9e un fichier binaire compareGreedyNatural.dat qui contient les donn\u00e9es de temps des m\u00e9thodes naives et gloutonnes, utilis\u00e9es par le fichier suivant. plotCompare.py permet d'obtenir une animation matplotlib comparant les m\u00e9thodes.","title":"Algorithmes Gloutons"},{"location":"NSI/Premiere/C07/Algorithmes_Gloutons/#algorithmes-gloutons","text":"D'apr\u00e8s pixees.fr","title":"Algorithmes Gloutons"},{"location":"NSI/Premiere/C07/Algorithmes_Gloutons/#problemes-doptimisations","text":"","title":"Probl\u00e8mes d'optimisations"},{"location":"NSI/Premiere/C07/Algorithmes_Gloutons/#le-probleme-du-sac-a-dos","text":"Le probl\u00e8me du sac \u00e0 dos ( KP ou Knapsack Problem ) Un cambrioleur poss\u00e8de un sac \u00e0 dos d'une contenance maximum de 30 Kg. Au cours d'un de ses cambriolages, il a la possibilit\u00e9 de d\u00e9rober 4 objets A, B, C et D. Voici un tableau qui r\u00e9sume les caract\u00e9ristiques de ces objets : Objet A B C D Masse 13 Kg 22 Kg 8 Kg 10 Kg Valeur 700 \u20ac 400 \u20ac 300 \u20ac 300 \u20ac D\u00e9terminez les objets que le cambrioleur aura int\u00e9r\u00eat \u00e0 d\u00e9rober, sachant que : tous les objets d\u00e9rob\u00e9s devront tenir dans le sac \u00e0 dos (30 Kg maxi) ; le cambrioleur cherche \u00e0 obtenir un gain maximum. Existe-t-il d'autres solutions ? Optimisation Ce genre de probl\u00e8me est un grand classique en informatique, on parle de probl\u00e8mes d'optimisation . Il existe souvent plusieurs solutions possibles \u00e0 un probl\u00e8me d'optimisation, mais toutes ne sont pas \u00e9quivalentes. En effet on cherche une solution dite optimale (dans notre exemple on cherche le plus grand gain possible). Souvent, dans les probl\u00e8mes d'optimisation, il n'existe pas une solution optimale, mais plusieurs solutions optimales, et r\u00e9soudre un probl\u00e8me d'optimisation c'est donc trouver une des solutions optimales. Solution na\u00efve En apparence, la solution la plus simple dans le cas du sac \u00e0 dos serait d'\u00e9crire un algorithme qui teste toutes les combinaisons d'objets possibles et qui retient les solutions qui offrent un gain maximum. Dans notre cas pr\u00e9cis, avec seulement 4 objets, cette solution pourrait \u00eatre envisag\u00e9e, mais avec un plus grand nombre d'objets, le temps de calcul, m\u00eame pour un ordinateur tr\u00e8s puissant, deviendrait trop important. En effet l'algorithme qui testerait toutes les combinaisons possibles aurait une complexit\u00e9 en temps en \\(\\mathrm{O}(a^n)\\) avec \\(a\\) une constante et \\(n\\) le nombre d'objets. On parle dans ce cas d'une complexit\u00e9 exponentielle (en temps), ce qu'on peut voir dans le graphique suivant (ex\u00e9cut\u00e9 sur mon ordinateur personnel). Les algorithmes \u00e0 complexit\u00e9 exponentielle ne sont pas efficaces pour r\u00e9soudre des probl\u00e8mes, le temps de calcul devient beaucoup trop important quand \\(n\\) devient tr\u00e8s grand. Pour les cracks Coder la solution na\u00efve Une solution hors programme Cette question est vraiment difficile ! Comment faire pour tester toutes les solutions possibles, sachant que la liste des objets est donn\u00e9e sous la forme d'un dictionnaire (ou d'une liste de dictionnaire), o\u00f9 chaque objet est repr\u00e9sent\u00e9 par deux cl\u00e9s masse et valeur ? La solution est de cr\u00e9er une liste de tous les sous-ensembles possibles \u00e0 partir d'une donn\u00e9e d'objets, puis de calculer pour chacun de ces sous-ensemble la masse et la valeur totale...mais c'est complexe surtout sans ma\u00eetrise pas la r\u00e9cursivit\u00e9 (au programme de Terminale). Vous pouvez toujours chercher, une solution \u00e9tant propos\u00e9e dans l'onglet suivant. def makeTree ( T : list ) -> list : \"\"\"fonction r\u00e9cursive renvoyant l'ensemble des sous-ensembles non vides d'un ensemble de d\u00e9part donn\u00e9 sous la forme d'une liste. L'ensemble de d\u00e9part doit \u00eatre non vide\"\"\" #Cas de base : la liste ne contient qu'un seul \u00e9l\u00e9ment if len ( T ) == 1 : return [ T ] else : comp = [] # Sinon cr\u00e9ation de la liste des sous-ensembles nT = T [:] #on cr\u00e9\u00e9 une copie locale de la liste de d\u00e9part for e in T : # Pour chaque \u00e9l\u00e9ment de la liste de d\u00e9part comp . append ([ e ]) # On ajoute le singleton correspondant nT . remove ( e ) #On le supprime de la liste locale for ne in makeTree ( nT ) : # On ex\u00e9cute r\u00e9cursivemment la fonction makeTree #et pour chaque sous-ensemble obtenu, on rajoute l'\u00e9l\u00e9ment e comp . append ([ e ] + ne ) return comp def sacADosNaif ( listeObj : dict , masseMax : int ) -> list : \"\"\" Calcule la solution optimale pour le probl\u00e8me du sac \u00e0 dos\"\"\" optimale = [] valeurOptimale = 0 for se in makeTree ([ name for name in listeObj . keys ()]) : masseLocale = sum ([ listeObj [ nom ][ 'masse' ] for nom in se ]) valeurLocale = sum ([ listeObj [ nom ][ 'valeur' ] for nom in se ]) if valeurLocale > valeurOptimale and masseLocale <= masseMax : valeurOptimale = valeurLocale optimale = se return optimale , valeurOptimale","title":"Le probl\u00e8me du sac \u00e0 dos"},{"location":"NSI/Premiere/C07/Algorithmes_Gloutons/#une-solution-gloutonne","text":"Solution \u00ab Gloutonne \u00bb La r\u00e9solution d'un probl\u00e8me d'optimisation se fait g\u00e9n\u00e9ralement par \u00e9tapes : \u00e0 chaque \u00e9tape on doit faire un choix . Par exemple, dans le probl\u00e8me du sac \u00e0 dos, nous ajoutons les objets un par un, chaque ajout d'un objet constitue une \u00e9tape : \u00e0 chaque \u00e9tape on doit choisir un objet \u00e0 mettre dans le sac. Le principe de la m\u00e9thode gloutonne ( greedy en anglais) est de, \u00e0 chaque \u00e9tape de la r\u00e9solution du probl\u00e8me, faire le choix qui semble le plus pertinent sur le moment, avec l'espoir qu'au bout du compte, cela nous conduira vers une solution optimale du probl\u00e8me \u00e0 r\u00e9soudre. Autrement dit, on fait des choix localement optimaux , ce qui signifie de faire le choix qui semble le plus pertinent \u00e0 chaque \u00e9tape, dans l'espoir que ces choix m\u00e8neront \u00e0 une solution globalement optimale. M\u00e9thode gloutonne Enonc\u00e9 Solutions Comme on cherche \u00e0 optimiser au maximum le gain, on va s'int\u00e9resser \u00e0 la \u00ab valeur massique \u00bb de chaque objet. Compl\u00e9ter le tableau suivant : Objet A B C D Valeur Massique (en \u20ac/Kg) Trier le tableau par valeur d\u00e9croissante de la valeur massique. Enfin, on remplit le sac en prenant les objets dans l'ordre et en s'arr\u00eatant d\u00e8s que la masse limite est atteinte.\\ Quelle est la composition du sac ? Est-elle optimale ? A venir Comparaison des temps d'ex\u00e9cution entre algorithme na\u00eff et algorithme glouton Sur les m\u00eames valeurs, voici une comparaison entre les temps d'\u00e9x\u00e9cution des deux algorithmes : ATTENTION Il faut bien comprendre que l'algorithme glouton ne donne pas forc\u00e9ment la m\u00eame r\u00e9ponse que l'algorithme na\u00eff, c'est-\u00e0-dire la solution optimale ! Cependant les diff\u00e9rences de temps d'ex\u00e9cution lorsque \\(n\\) est suffisamment grand sont telles que la solution approch\u00e9e donn\u00e9e par une m\u00e9thode gloutonne est bien souvent acceptable. Code en Python Enonc\u00e9 La liste des objets et leur poids est donn\u00e9 par un dictionnaire nom : (masse; valeur). objets = { \"A\" : { 'masse' : 13 , 'valeur' : 700 }, \"B\" : { 'masse' : 12 , 'valeur' : 400 }, \"C\" : { 'masse' : 8 , 'valeur' : 300 }, \"D\" : { 'masse' : 10 , 'valeur' : 300 }, } Ecrire une fonction Python qui renvoie un taleau de tuples (nom ; valeur_massique) \u00e0 partir du dictionnaire pass\u00e9 en argument. Trier ce tableau par ordre d\u00e9croissant des valeurs massiques. Ecrire une fonction Python qui finalise l'algorithme glouton.","title":"Une solution gloutonne"},{"location":"NSI/Premiere/C07/Algorithmes_Gloutons/#probleme-du-rendu-de-monnaie","text":"","title":"Probl\u00e8me du rendu de monnaie"},{"location":"NSI/Premiere/C07/Algorithmes_Gloutons/#la-situation","text":"Le probl\u00e8me du rendu de monnaie Nous sommes des commer\u00e7ants, nous avons \u00e0 notre disposition un nombre illimit\u00e9 de pi\u00e8ces de : 1 centime 2 centimes 5 centimes 10 centimes 20 centimes 50 centimes 1 euro 2 euros Nous devons rendre la monnaie \u00e0 un client \u00e0 l'aide de ces pi\u00e8ces. La contrainte est d'utiliser le moins de pi\u00e8ces possible . L'algorithme Enonc\u00e9 Trouvez une m\u00e9thode gloutonne permettant d'effectuer un rendu de monnaie (en utilisant le moins possible de pi\u00e8ces). Vous devez rendre la somme de 2,63 \u20ac. Appliquez la m\u00e9thode que vous venez de mettre au point. Combien de pi\u00e8ces avez-vous utilis\u00e9es ? La solution trouv\u00e9e est-elle optimale ? Vous devez rendre la somme de 4,05 \u20ac. Appliquez la m\u00e9thode que vous venez de mettre au point. Combien de pi\u00e8ces avez-vous utilis\u00e9es ? La solution trouv\u00e9e est-elle optimale ?","title":"La situation"},{"location":"NSI/Premiere/C07/Algorithmes_Gloutons/#le-code","text":"\u00c0 partir de la m\u00e9thode gloutonne que vous avez \u00e9labor\u00e9e ci-dessus, \u00e9crivez un algorithme glouton qui permettra de d\u00e9terminer le nombre minimal de pi\u00e8ces \u00e0 utiliser pour une somme donn\u00e9e. Vous proposerez ensuite une impl\u00e9mentation en Python de votre algorithme. Vous testerez votre programme avec une somme \u00e0 rendre de 2 euros et 63 centimes. Autres syst\u00e8mes de monnaie Le probl\u00e8me du rendu de monnaie est NP-complet dans le cas g\u00e9n\u00e9ral, c'est-\u00e0-dire tr\u00e8s difficile \u00e0 r\u00e9soudre. Cependant pour certains syst\u00e8mes de monnaie dits canoniques , l'algorithme glouton est optimal, c'est-\u00e0-dire qu'il suffit de rendre syst\u00e9matiquement la pi\u00e8ce ou le billet de valeur maximale \u2014 ce tant qu'il reste quelque chose \u00e0 rendre. C'est la m\u00e9thode employ\u00e9e en pratique, ce qui se justifie car la quasi-totalit\u00e9 des syst\u00e8mes ayant cours dans le monde sont canoniques. Dans un syst\u00e8me de monnaie non-canonique ne poss\u00e9dant que 3 pi\u00e8ces de valeurs 1, 3 et 4, quelle est la solution optimale du probl\u00e8me du rendu de monnaie pourt une valeur de 6 ? Que donne l'algorithme glouton ? Pour les cracks Pour ceux int\u00e9ress\u00e9s, voici les fichiers permettant de visualiser la comparaison entre les m\u00e9thodes : sacADos_Naif_Glouton.py : NREP correspond au nombre maximum d'objets test\u00e9s ; LISSAGE correspond au nombre de r\u00e9p\u00e9titions effectu\u00e9es pour lisser les r\u00e9sultats FACTEUR_TAILLE correspond \u00e0 la taille du sac \u00e0 dos (d\u00e9pend du nombnre d'objets). Ce fichier cr\u00e9e un fichier binaire compareGreedyNatural.dat qui contient les donn\u00e9es de temps des m\u00e9thodes naives et gloutonnes, utilis\u00e9es par le fichier suivant. plotCompare.py permet d'obtenir une animation matplotlib comparant les m\u00e9thodes.","title":"Le code"},{"location":"NSI/Premiere/C08/Client_Serveur/","text":"Transmissions client-serveur Tr\u00e8s fortement inspir\u00e9, voir carr\u00e9ment recopi\u00e9 depuis : http://lesmathsduyeti.fr/fr/lycee/nsi-premiere/interactions-client-serveur-flask Mod\u00e8le client-serveur Pour simplifier, le mod\u00e8le client-serveur d\u00e9signe un mode de communication entre logiciels : l'un qualifi\u00e9 de client envoie des requ\u00eates; l'autre, le serveur , y r\u00e9pond. Dans le cas du web, le logiciel client est le navigateur et le protocole utilis\u00e9 pour communiquer avec le logiciel serveur est HTTP (ou HTTPS). Le logiciel serveur est un logiciel sp\u00e9cialis\u00e9 dans le traitement des requ\u00eates HTTP, comme Apache ou NGinx . Ces logiciels sont \u00e9paul\u00e9s par des programmes qui peuvent \u00eatre \u00e9crits dans diff\u00e9rents langages, comme PHP ou Python . Pour ce TP, nous allons \u00eatre dans une situation particuli\u00e8re : le logiciel client et le logiciel serveur seront sur la m\u00eame machine. Installation de Flask et premiers tests Installation de Flask et d\u00e9marrage du serveur Flask Flask est un micro framework (ou micro infrastructure logicielle ) open-source de d\u00e9veloppement web en Python. Il est class\u00e9 comme micro framework, car il est tr\u00e8s l\u00e9ger. Flask a pour objectif de garder un noyau simple, mais extensible. Il n'int\u00e8gre pas de syst\u00e8me d'authentification, pas de couche d'abstraction de base de donn\u00e9es, ni d'outil de validation de formulaires. Cependant, de nombreuses extensions permettent d'ajouter facilement des fonctionnalit\u00e9s. M\u00e9thodologie Installer Flask par l'interm\u00e9diaire du gestionnaire de modules de Thonny Tools > Manage packages . La derni\u00e8re version est la 2.1.2 (au 06 juin 2022). Cr\u00e9er un fichier Tuto_Flask.py dans Thonny , puis taper les lignes suivantes et sauvegardez le fichier. from flask import Flask app = Flask ( __name__ ) @app . route ( '/' ) def index () : return \"Hello World !\" if __name__ == \"__main__\" : app . run ( debug = True ) Pour une raison qui m'est pour l'instant inconnue, Thonny arr\u00eate pr\u00e9matur\u00e9ment l'ex\u00e9cution du programme, si on le lance par l'interm\u00e9diaire de la commande run . Il est donc n\u00e9cessaire de le lancer par la ligne de commande . Ouvrir la ligne de commande de Thonny : Tools > Open system shell... Ex\u00e9cuter la commande python Tuto_Flask . py Patientez jusqu'\u00e0 avoir la derni\u00e8re ligne du code ci-dessous : NE FERMEZ SURTOUT PAS LA CONSOLE ! Bravo ! Bravo, vous avez maintenant un serveur web local qui fonctionne sur votre ordinateur ! Celui-ci \u00e9coute toutes les entr\u00e9es \u00e0 destination de localhost ( ou h\u00f4te local ), qui est le nom DNS correspondant \u00e0 l'adresse IP 127.0.0.1 . ce serveur acceptera les requ\u00eates qui lui sont envoy\u00e9es sur le port TCP 5000. Dans Firefox , tapez l'adresse 127.0.0.1:5000 . On obtient donc... une page web, certes sommaire, mais elle a bien \u00e9t\u00e9 renvoy\u00e9e par le serveur. On peut le voir dans la console par la ligne : 127 .0.0.1 - - [ 06 /Jun/2022 21 :26:21 ] \"GET / HTTP/1.1\" 200 - Nous voyons ainsi l'adresse du client (ici 127.0.0.1 ) qui effectue une requ\u00eate HTTP ( version 1.1) de type GET. Le code 200 signifie le succ\u00e8s de la requ\u00eate . Dans Firefox , tapez l'adresse 127.0.0.1:5000/Accueil . On obtient donc... une page web Not Found 127 .0.0.1 - - [ 06 /Jun/2022 21 :27:11 ] \"GET /Accueil HTTP/1.1\" 404 - C'est donc que le chemin vers la page Accueil n'a pas \u00e9t\u00e9 trouv\u00e9. Le serveur renvoie donc la classique erreur 404. Analyse du code Flask Comment comprendre le code que vous avez utilis\u00e9 ? Rassurez-vous, vous devez le comprendre, mais pas savoir le produire en partant de rien ! Allons-y \u00e9tape par \u00e9tape : from flask import Flask Cette ligne permet d'importer, parmi les m\u00e9thodes et fonctions du module flask , l'objet Flask qui permet de cr\u00e9er une application web. app = Flask ( __name__ ) Cr\u00e9er une instance d'objet app \u00e0 l'aide du constructeur Flask . @app . route ( '/' ) Nous utilisons ici un d\u00e9corateur gr\u00e2ce \u00e0 la commande @ (cette notion de d\u00e9corateur ne sera pas trait\u00e9e en NSI). Vous devez juste comprendre la fonction qui suit ce d\u00e9corateur (c'est-\u00e0-dire la fonction index ), sera ex\u00e9cut\u00e9e dans le cas o\u00f9 le serveur web recevra une requ\u00eate HTTP avec une URL correspondant \u00e0 la racine du site ( / ), c'est-\u00e0-dire, dans notre exemple, le cas o\u00f9 on saisie dans la barre d'adresse 127.0.0.1:5000/ ou localhost:5000/ ou m\u00eame simplement localhost:5000 . def index (): return \"Hello World !\" C'est la fonction qui sera appel\u00e9e lorsqu'un client demandera l'adresse localhost:5000/ . Elle renvoie toujours le m\u00eame contenu, on parlera de contenu statique . Plus tard nous verrons comment faire \u00e9voluer ce contenu en fonction de param\u00e8tres. if __name__ == '__main__' : app . run ( debug = True ) Ces 2 lignes permettent de d\u00e9marrer le serveur et l'instance de l'application web, en mode debug . C'est un tr\u00e8s bon moyen de visualiser les requ\u00eates vers le serveur. Ajouter une page L'objectif est de cr\u00e9er une nouvelle page contact , qui sera donc accessible par l'URL localhost:5000/contact . M\u00e9thodologie Apr\u00e8s la fonction index , mais avant l'instruction if __name__ ... , ins\u00e9rez le code suivant, en modifiant les informations pour y mettre les v\u00f4tres : @app . route ( '/contact' ) def presentation (): message = \"<h1> Pr\u00e9sentation du webmaster </h1>\" message += \"<h2> Kakashi Hatake </h2>\" message += \"<p> J\u00f4nin du village cach\u00e9 de Konoha, Sixi\u00e8me Hokage </p>\" message += \"\"\"<a href=\"mailto:kakashihatake@konoha.jp\">Mon mail</a> \"\"\" return message Sauvegardez le fichier. Normalement, le serveur \u00e9tant en mode debug , il devrait red\u00e9marrer et prendre en compte imm\u00e9diatement vos changements (dans le cas contraire, il suffit de relancer le script Python). Rendez-vous \u00e0 l'adresse de la page de contact. Le code renvoy\u00e9 par une fonction d\u00e9cor\u00e9e par une route peut donc \u00eatre du code HTML . Il peut \u00eatre charg\u00e9 depuis un fichier ext\u00e9rieur, comme nous avons d\u00e9j\u00e0 vu avec la fonction open() par exemple... Mais les cr\u00e9atrices et cr\u00e9ateurs de Flask ont pr\u00e9vu bien plus simple ! Cr\u00e9er une page accessible depuis l'adresse 127.0.0.1:5000/loisirs pr\u00e9sentant en quelques mots sur vos loisirs. Le mod\u00e8le MVC Mod\u00e8le Vue Contr\u00f4leur Pour l'instant tout fonctionne, mais il y a encore des choses que l'on peut am\u00e9liorer : il n'y a pas d'interaction avec l'utilisateur, nous verrons cela avec les param\u00e8tres des fonctions et les formulaires ; taper du code HTML dans une fonction python, ce n'est pas tr\u00e8s propre ! Pour cette derni\u00e8re remarque, nous allons parler des templates (ou gabarits en fran\u00e7ais). Mais avant, un peu de th\u00e9orie sur le mod\u00e8le MVC . MVC Nous parlons souvent de l' architecture MVC (ce n'est pas uniquement li\u00e9 \u00e0 Flask). Il s'agit d'un mod\u00e8le distinguant plusieurs r\u00f4les pr\u00e9cis d'une application, qui doivent \u00eatre accomplis. Comme son nom l'indique, l'architecture Mod\u00e8le-Vue-Contr\u00f4leur est compos\u00e9e de trois entit\u00e9s distinctes, chacune ayant son propre r\u00f4le \u00e0 remplir. Voici un sch\u00e9ma qui r\u00e9sume cela : Le mod\u00e8le MVC permet de bien organiser son code source . Il va vous aider \u00e0 savoir quels fichiers cr\u00e9er, mais surtout \u00e0 d\u00e9finir leur r\u00f4le. Le but de MVC est justement de s\u00e9parer la logique du code en trois parties que l'on retrouve dans des fichiers distincts : Mod\u00e8le : cette partie g\u00e8re les donn\u00e9es de votre site . Son r\u00f4le est d'aller r\u00e9cup\u00e9rer les informations \u00ab brutes \u00bb dans la base de donn\u00e9es (nom, pr\u00e9nom, derni\u00e8re connexion d'un utilisateur inscrit d'un site, par exemple) de les organiser et de les assembler pour qu'elles puissent ensuite \u00eatre trait\u00e9es par le contr\u00f4leur. On y trouve donc entre autres les requ\u00eates aux bases de donn\u00e9es (programme de Terminale NSI). Vue : cette partie se concentre sur l' affichage . Elle ne fait presque aucun calcul et se contente de r\u00e9cup\u00e9rer des variables pour savoir ce qu'elle doit afficher. On y trouve essentiellement du code HTML mais aussi quelques boucles et conditions python tr\u00e8s simples, pour afficher par exemple une liste de messages. Elle utilise en particulier des templates , c'est-\u00e0-dire des mod\u00e8les de pages HTML qui seront utilis\u00e9s par la vue pour g\u00e9n\u00e9rer les pages HTML envoy\u00e9es au client. On peut concevoir ces templates comme des textes \u00e0 trous dans lesquels seront ins\u00e9r\u00e9es les donn\u00e9es calcul\u00e9es par le contr\u00f4leur . Contr\u00f4leur : cette partie g\u00e8re la logique du code qui prend des d\u00e9cisions. C'est en quelque sorte l'interm\u00e9diaire entre le mod\u00e8le et la vue : le contr\u00f4leur va demander au mod\u00e8le les donn\u00e9es, les analyser, prendre des d\u00e9cisions et renvoyer le texte \u00e0 afficher \u00e0 la vue. Le contr\u00f4leur contient exclusivement du python (dans notre cas). C'est notamment lui qui d\u00e9termine si le visiteur a le droit de voir la page ou non (gestion des droits d'acc\u00e8s). Un exemple de template Notre objectif est de cr\u00e9er une page d'accueil plus sympathique. Nous allons donc modifier la fonction index . M\u00e9thodologie Cr\u00e9er un dossier templates dans le dossier contenant le fichier Tuto_Flask.py . Dans ce dossier, cr\u00e9er un fichier index.html avec le code suivant : <!doctype html> < html lang = \"fr\" > < head > < meta charset = \"utf-8\" > < title > Ma page d'accueil </ title > </ head > < body > < h1 > Un site qui d\u00e9chire. </ h1 > < h2 > Bonjour cher visiteur ! </ h2 > < p > Vous voici sur mon site \u00e0 moi. </ p > < a href = \"http://127.0.0.1:5000/contact\" > Lien vers les contacts. </ a > </ body > </ html > Nous allons maintenant modifier le fichier Tuto_Flask.py , pour lui permettre d'utiliser ce template . Modifier la premi\u00e8re ligne par : from flask import Flask , render_template Modifiez la fonction index comme suit : @app . route ( '/' ) def index (): return render_template ( \"index.html\" ) Visualisez le r\u00e9sultat dans votre navigateur. Modifiez la fonction qui permet l'affichage de la page de contact de mani\u00e8re \u00e0 ce qu'elle utilise un template. Dynamiser les pages Introduire des variables Pour l'instant, le serveur Flask produit toujours les m\u00eames pages. Mais Flask permet de g\u00e9n\u00e9rer des vues (pages HTML) en fonction de param\u00e8tres, de formulaires ... Commen\u00e7ons par am\u00e9liorer l'affichage de notre page d'accueil en personnalisant l'affichage de la salutation. M\u00e9thodologie Modifiez la page index.html comme cela : <!doctype html> < html lang = \"fr\" > < head > < meta charset = \"utf-8\" > < title > Ma page d'accueil </ title > </ head > < body > < h1 > Un site qui d\u00e9chire. </ h1 > < h2 > Bonjour {{prenom}} {{nom}} ! </ h2 > < p > Vous voici sur mon site \u00e0 moi. </ p > < a href = \"./contact\" > Lien vers les contacts. </ a > </ body > </ html > Modifiez la fonction index du fichier Tuto_Flask.py comme suit : @app . route ( '/' ) def index (): p = \"Kakashi\" n = \"Hatake\" return render_template ( \"index.html\" , prenom = p , nom = n ) Enregistrez et allez voir le r\u00e9sultat dans votre navigateur. Moteur de Template Jinja Remarquez le code {{prenom}} {{nom}} dans le template. Il s'agit de syntaxe Jinja . Le contr\u00f4leur de Flask utilise Jinja pour remplacer ces variables par celles qui sont fournies par la fonction index . Jinja permet bien d'autres actions, et est particuli\u00e8rement adapt\u00e9 pour la cr\u00e9ation de grosses applications web. Pour l'instant, il faut changer \u00e0 la main les variables pour que le nom affich\u00e9 soit le bon, MAIS ce n'est que le d\u00e9but. Nous verrons plus tard comment, avec un formulaire, nous pourrons adapter la page \u00e0 l'utilisateur. Modifiez le d\u00e9but du fichier Tuto_Flask.py avec : from flask import Flask , render_template import datetime from math import pi app = Flask ( __name__ ) @app . route ( '/' ) def index (): p = \"Kakashi\" n = \"Hatake\" date = datetime . datetime . now () heure = date . hour minute = date . minute seconde = date . second return render_template ( \"index.html\" , prenom = p , nom = n , heure = heure , minute = minute , seconde = seconde ) Modifiez le fichier index.html en ajoutant la ligne suivante entre les balises <body> et </body> : < p > Il est {{heure}} h {{minute}} m {{seconde}} s (heure du serveur !) </ p > Testez l'affichage dans votre navigateur. Modifiez la fonction contact et le template associ\u00e9 pour qu'il affiche une phrase du genre \u00ab Je suis n\u00e9 le xx/xx/xxxx cela fait xxxx jours \u00bb. Quelques indices Quelques indices : datetime.datetime(a,m,j) permet de cr\u00e9er un objet date de l'ann\u00e9e a , mois m et jours j ; Pour r\u00e9cup\u00e9rer le nombre de jour d'un objet date, if faut ajouter l'attribut .day \u00e0 la suite de l'objet date . Utilisation d'un formulaire avec la m\u00e9thode GET M\u00e9thodologie Modifiez le fichier index.html en introduisant le formulaire suivant juste avant la balise </body> : < form action = \"./resultat\" method = \"get\" > < label > Nom </ label > : < input type = \"text\" name = \"nom\" /> < label > Pr\u00e9nom </ label > : < input type = \"text\" name = \"prenom\" /> < input type = \"submit\" value = \"Envoyer\" /> </ form > Actualisez ou affichez la page d'accueil, et compl\u00e9tez le formulaire. Que se passe-t-il quand vous cliquez sur le bouton Envoyer ? C'est tout-\u00e0-fait normal ! En effet le code : < form action = \"./resultat\" method = \"get\" > signifie que l'envoi du formulaire se fait avec la m\u00e9thode GET et que la page affich\u00e9e ensuite sera celle de l'adresse 127.0.0.1/resultat . Or il n'y a pas de route associ\u00e9e \u00e0 cette adresse, et encore moins de template. Cependant vous pouvez observer que l'adresse obtenue dans la barre d'adresse est du type http://localhost:5000/resultat?nom = HATAKE & prenom = Kakashi Les donn\u00e9es envoy\u00e9es apparaissent dans l'URL . C'est la m\u00e9thode GET - qui est une m\u00e9thode g\u00e9n\u00e9rale de HTTP, qui veut cela. Avec cette m\u00e9thode, les donn\u00e9es du formulaire seront encod\u00e9es dans une URL . Celle-ci est compos\u00e9e du nom de la page ou du script \u00e0 charger avec les donn\u00e9es de formulaire empaquet\u00e9e dans une chaine. Les donn\u00e9es sont s\u00e9par\u00e9es de l'adresse de la page par le code ? et entre elles par le code & . Imaginez si Facebook faisait \u00e7a quand vous entre votre login et votre mot de passe... M\u00e9thode GET La m\u00e9thode GET est limit\u00e9e : Elle ne s\u00e9curise pas du tout l'envoi de donn\u00e9es ; Les donn\u00e9es de formulaire doivent \u00eatre uniquement des codes ASCII. La taille d'une URL est limit\u00e9e \u00e0 par le serveur, souvent un peu plus de 2000 caract\u00e8res, en comprenant les codes d'\u00e9chappement. Il est recommand\u00e9 d'utiliser cette m\u00e9thode dans des cas o\u00f9 l'on ne modifie pas de base de donn\u00e9es pour des raisons \u00e9videntes de s\u00e9curit\u00e9. Dans un cas comme le notre cela suffira car nous allons simplement lire les donn\u00e9es pour faire un affichage. Dans le fichier Tuto_Flask.py , ajoutez l'import from flask import Flask , render_template , request Ajoutez la route et la fonction suivante : @app . route ( '/resultat' , methods = [ 'GET' , 'POST' ]) def salutation (): if request . method == 'GET' : return request . args else : return \"post\" Actualisez et remplissez \u00e0 nouveau le formulaire. request.args va s'afficher, et vous pouvez constater que c'est un objet de type dictionnaire. Pour acc\u00e9der au nom il va falloir utiliser la syntaxe des dictionnaires : request.args['nom'] Cr\u00e9er un fichier resultat.html dans le dossier templates , contenant le code HTML suivant : <!doctype html> < html lang = \"fr\" > < head > < meta charset = \"utf-8\" > < title > Salutations ! </ title > </ head > < body > < p > Bonjour, en fait vous vous nommez {{prenom}} {{nom}} ! </ p > </ body > </ html > Modifiez le fichier Tuto_Flask.py comme ceci : @app . route ( '/resultat' , methods = [ 'GET' , 'POST' ]) def salutation (): if request . method == 'GET' : prenom_visiteur = request . args [ 'prenom' ] nom_visiteur = request . args [ 'nom' ] return render_template ( 'resultat.html' , prenom = prenom_visiteur , nom = nom_visiteur ) elif request . method == 'POST' : return \"post\" Testez \u00e0 nouveau. Vous devriez avoir un affichage correct. Utilisation d'un formulaire avec la m\u00e9thode POST M\u00e9thodologie Modifiez la m\u00e9thode d'envoi du formulaire par : < form action = \"http://127.0.0.1:5000/resultat\" method = \"post\" > Actualisez, remplissez le formulaire et cliquez sur envoyer. C'est tout-\u00e0-fait normal de voir juste \u00e9crit \u00ab post\u00bb sur la page finale, car nous n'avons pas modifi\u00e9 la fonction salutation . Par contre vous devez observer que les donn\u00e9es ont bien disparu de l'URL . Mais heureusement elles sont quand m\u00eame transmises. Modifiez dans la fonction salutation les deux derni\u00e8res lignes par : elif request . method == 'POST' : return request . form Actualisez, remplissez le formulaire, etc... request.form va s'afficher, et vous pouvez constater que rien n'a chang\u00e9 par rapport \u00e0 la m\u00e9thode POST, mis \u00e0 part la m\u00e9thode .args remplac\u00e9e par .form . Modifiez enfin la fonction salutation ainsi : @app . route ( '/resultat' , methods = [ 'GET' , 'POST' ]) def salutation (): if request . method == 'GET' : prenom_visiteur = request . args [ 'prenom' ] nom_visiteur = request . args [ 'nom' ] elif request . method == 'POST' : prenom_visiteur = request . form [ 'prenom' ] nom_visiteur = request . form [ 'nom' ] return render_template ( 'resultat.html' , prenom = prenom_visiteur , nom = nom_visiteur ) M\u00e9thode POST La m\u00e9thode POST est indispensable pour : des codes non ASCII, des donn\u00e9es de taille importante, et elle est recommand\u00e9e pour modifier les donn\u00e9es sur le serveur, et pour les donn\u00e9es sensible comme expliqu\u00e9 par le W3C. Une application : chiffre de C\u00e9sar Vous devez cr\u00e9er une application web qui pourra coder ou d\u00e9coder un texte cod\u00e9 avec la m\u00e9thode de C\u00e9sar. La m\u00e9thode de C\u00e9sar est expliqu\u00e9e ici . Pour r\u00e9aliser cet exercice, il faut : une page cesar.html avec un formulaire pour saisir le texte \u00e0 coder et pour saisir la cl\u00e9 de codage ; une page codage.html qui sera appel\u00e9e apr\u00e8s l'envoi du formulaire et qui affichera le texte cod\u00e9. Voici le code d'une fonction permettant de coder une chaine de caract\u00e8re selon le code de C\u00e9sar : def cesar ( texte , cle ): \"\"\" Fonction de codage par d\u00e9calage (c\u00e9sar) Entr\u00e9es : une chaine de caract\u00e8res et un entier Sortie : une chaine de caract\u00e8re \"\"\" texte_code = \"\" for char in texte : if char . isalpha (): #si le caract\u00e8re est une lettre on d\u00e9cale nouvelIndice = ord ( char ) + cle #Pour rester dans l'aplphabet, on d\u00e9cale de 26 en arri\u00e8re si besoin if ord ( char ) <= ord ( 'z' ) < nouvelIndice or ord ( char ) <= ord ( 'Z' ) < nouvelIndice : nouvelIndice -= 26 lettrefinale = chr ( nouvelIndice ) texte_code += lettrefinale else : #si le caract\u00e8re n'est pas une lettre, on n'y touche pas texte_code += char return texte_code Quelques liens Le m\u00e9ga tutoriel Flask de Miguel Grinberg (en anglais) La chaine Youtube Pretty Printed (en anglais), qui offre d'excellentes vid\u00e9os sur Flask, mais aussi sur son concurrent Django.","title":"Transmission Client-Serveur"},{"location":"NSI/Premiere/C08/Client_Serveur/#transmissions-client-serveur","text":"Tr\u00e8s fortement inspir\u00e9, voir carr\u00e9ment recopi\u00e9 depuis : http://lesmathsduyeti.fr/fr/lycee/nsi-premiere/interactions-client-serveur-flask Mod\u00e8le client-serveur Pour simplifier, le mod\u00e8le client-serveur d\u00e9signe un mode de communication entre logiciels : l'un qualifi\u00e9 de client envoie des requ\u00eates; l'autre, le serveur , y r\u00e9pond. Dans le cas du web, le logiciel client est le navigateur et le protocole utilis\u00e9 pour communiquer avec le logiciel serveur est HTTP (ou HTTPS). Le logiciel serveur est un logiciel sp\u00e9cialis\u00e9 dans le traitement des requ\u00eates HTTP, comme Apache ou NGinx . Ces logiciels sont \u00e9paul\u00e9s par des programmes qui peuvent \u00eatre \u00e9crits dans diff\u00e9rents langages, comme PHP ou Python . Pour ce TP, nous allons \u00eatre dans une situation particuli\u00e8re : le logiciel client et le logiciel serveur seront sur la m\u00eame machine.","title":"Transmissions client-serveur"},{"location":"NSI/Premiere/C08/Client_Serveur/#installation-de-flask-et-premiers-tests","text":"","title":"Installation de Flask et premiers tests"},{"location":"NSI/Premiere/C08/Client_Serveur/#installation-de-flask-et-demarrage-du-serveur","text":"Flask Flask est un micro framework (ou micro infrastructure logicielle ) open-source de d\u00e9veloppement web en Python. Il est class\u00e9 comme micro framework, car il est tr\u00e8s l\u00e9ger. Flask a pour objectif de garder un noyau simple, mais extensible. Il n'int\u00e8gre pas de syst\u00e8me d'authentification, pas de couche d'abstraction de base de donn\u00e9es, ni d'outil de validation de formulaires. Cependant, de nombreuses extensions permettent d'ajouter facilement des fonctionnalit\u00e9s. M\u00e9thodologie Installer Flask par l'interm\u00e9diaire du gestionnaire de modules de Thonny Tools > Manage packages . La derni\u00e8re version est la 2.1.2 (au 06 juin 2022). Cr\u00e9er un fichier Tuto_Flask.py dans Thonny , puis taper les lignes suivantes et sauvegardez le fichier. from flask import Flask app = Flask ( __name__ ) @app . route ( '/' ) def index () : return \"Hello World !\" if __name__ == \"__main__\" : app . run ( debug = True ) Pour une raison qui m'est pour l'instant inconnue, Thonny arr\u00eate pr\u00e9matur\u00e9ment l'ex\u00e9cution du programme, si on le lance par l'interm\u00e9diaire de la commande run . Il est donc n\u00e9cessaire de le lancer par la ligne de commande . Ouvrir la ligne de commande de Thonny : Tools > Open system shell... Ex\u00e9cuter la commande python Tuto_Flask . py Patientez jusqu'\u00e0 avoir la derni\u00e8re ligne du code ci-dessous : NE FERMEZ SURTOUT PAS LA CONSOLE ! Bravo ! Bravo, vous avez maintenant un serveur web local qui fonctionne sur votre ordinateur ! Celui-ci \u00e9coute toutes les entr\u00e9es \u00e0 destination de localhost ( ou h\u00f4te local ), qui est le nom DNS correspondant \u00e0 l'adresse IP 127.0.0.1 . ce serveur acceptera les requ\u00eates qui lui sont envoy\u00e9es sur le port TCP 5000. Dans Firefox , tapez l'adresse 127.0.0.1:5000 . On obtient donc... une page web, certes sommaire, mais elle a bien \u00e9t\u00e9 renvoy\u00e9e par le serveur. On peut le voir dans la console par la ligne : 127 .0.0.1 - - [ 06 /Jun/2022 21 :26:21 ] \"GET / HTTP/1.1\" 200 - Nous voyons ainsi l'adresse du client (ici 127.0.0.1 ) qui effectue une requ\u00eate HTTP ( version 1.1) de type GET. Le code 200 signifie le succ\u00e8s de la requ\u00eate . Dans Firefox , tapez l'adresse 127.0.0.1:5000/Accueil . On obtient donc... une page web Not Found 127 .0.0.1 - - [ 06 /Jun/2022 21 :27:11 ] \"GET /Accueil HTTP/1.1\" 404 - C'est donc que le chemin vers la page Accueil n'a pas \u00e9t\u00e9 trouv\u00e9. Le serveur renvoie donc la classique erreur 404.","title":"Installation de Flask et d\u00e9marrage du serveur"},{"location":"NSI/Premiere/C08/Client_Serveur/#analyse-du-code-flask","text":"Comment comprendre le code que vous avez utilis\u00e9 ? Rassurez-vous, vous devez le comprendre, mais pas savoir le produire en partant de rien ! Allons-y \u00e9tape par \u00e9tape : from flask import Flask Cette ligne permet d'importer, parmi les m\u00e9thodes et fonctions du module flask , l'objet Flask qui permet de cr\u00e9er une application web. app = Flask ( __name__ ) Cr\u00e9er une instance d'objet app \u00e0 l'aide du constructeur Flask . @app . route ( '/' ) Nous utilisons ici un d\u00e9corateur gr\u00e2ce \u00e0 la commande @ (cette notion de d\u00e9corateur ne sera pas trait\u00e9e en NSI). Vous devez juste comprendre la fonction qui suit ce d\u00e9corateur (c'est-\u00e0-dire la fonction index ), sera ex\u00e9cut\u00e9e dans le cas o\u00f9 le serveur web recevra une requ\u00eate HTTP avec une URL correspondant \u00e0 la racine du site ( / ), c'est-\u00e0-dire, dans notre exemple, le cas o\u00f9 on saisie dans la barre d'adresse 127.0.0.1:5000/ ou localhost:5000/ ou m\u00eame simplement localhost:5000 . def index (): return \"Hello World !\" C'est la fonction qui sera appel\u00e9e lorsqu'un client demandera l'adresse localhost:5000/ . Elle renvoie toujours le m\u00eame contenu, on parlera de contenu statique . Plus tard nous verrons comment faire \u00e9voluer ce contenu en fonction de param\u00e8tres. if __name__ == '__main__' : app . run ( debug = True ) Ces 2 lignes permettent de d\u00e9marrer le serveur et l'instance de l'application web, en mode debug . C'est un tr\u00e8s bon moyen de visualiser les requ\u00eates vers le serveur.","title":"Analyse du code Flask"},{"location":"NSI/Premiere/C08/Client_Serveur/#ajouter-une-page","text":"L'objectif est de cr\u00e9er une nouvelle page contact , qui sera donc accessible par l'URL localhost:5000/contact . M\u00e9thodologie Apr\u00e8s la fonction index , mais avant l'instruction if __name__ ... , ins\u00e9rez le code suivant, en modifiant les informations pour y mettre les v\u00f4tres : @app . route ( '/contact' ) def presentation (): message = \"<h1> Pr\u00e9sentation du webmaster </h1>\" message += \"<h2> Kakashi Hatake </h2>\" message += \"<p> J\u00f4nin du village cach\u00e9 de Konoha, Sixi\u00e8me Hokage </p>\" message += \"\"\"<a href=\"mailto:kakashihatake@konoha.jp\">Mon mail</a> \"\"\" return message Sauvegardez le fichier. Normalement, le serveur \u00e9tant en mode debug , il devrait red\u00e9marrer et prendre en compte imm\u00e9diatement vos changements (dans le cas contraire, il suffit de relancer le script Python). Rendez-vous \u00e0 l'adresse de la page de contact. Le code renvoy\u00e9 par une fonction d\u00e9cor\u00e9e par une route peut donc \u00eatre du code HTML . Il peut \u00eatre charg\u00e9 depuis un fichier ext\u00e9rieur, comme nous avons d\u00e9j\u00e0 vu avec la fonction open() par exemple... Mais les cr\u00e9atrices et cr\u00e9ateurs de Flask ont pr\u00e9vu bien plus simple ! Cr\u00e9er une page accessible depuis l'adresse 127.0.0.1:5000/loisirs pr\u00e9sentant en quelques mots sur vos loisirs.","title":"Ajouter une page"},{"location":"NSI/Premiere/C08/Client_Serveur/#le-modele-mvc","text":"","title":"Le mod\u00e8le MVC"},{"location":"NSI/Premiere/C08/Client_Serveur/#modele-vue-controleur","text":"Pour l'instant tout fonctionne, mais il y a encore des choses que l'on peut am\u00e9liorer : il n'y a pas d'interaction avec l'utilisateur, nous verrons cela avec les param\u00e8tres des fonctions et les formulaires ; taper du code HTML dans une fonction python, ce n'est pas tr\u00e8s propre ! Pour cette derni\u00e8re remarque, nous allons parler des templates (ou gabarits en fran\u00e7ais). Mais avant, un peu de th\u00e9orie sur le mod\u00e8le MVC . MVC Nous parlons souvent de l' architecture MVC (ce n'est pas uniquement li\u00e9 \u00e0 Flask). Il s'agit d'un mod\u00e8le distinguant plusieurs r\u00f4les pr\u00e9cis d'une application, qui doivent \u00eatre accomplis. Comme son nom l'indique, l'architecture Mod\u00e8le-Vue-Contr\u00f4leur est compos\u00e9e de trois entit\u00e9s distinctes, chacune ayant son propre r\u00f4le \u00e0 remplir. Voici un sch\u00e9ma qui r\u00e9sume cela : Le mod\u00e8le MVC permet de bien organiser son code source . Il va vous aider \u00e0 savoir quels fichiers cr\u00e9er, mais surtout \u00e0 d\u00e9finir leur r\u00f4le. Le but de MVC est justement de s\u00e9parer la logique du code en trois parties que l'on retrouve dans des fichiers distincts : Mod\u00e8le : cette partie g\u00e8re les donn\u00e9es de votre site . Son r\u00f4le est d'aller r\u00e9cup\u00e9rer les informations \u00ab brutes \u00bb dans la base de donn\u00e9es (nom, pr\u00e9nom, derni\u00e8re connexion d'un utilisateur inscrit d'un site, par exemple) de les organiser et de les assembler pour qu'elles puissent ensuite \u00eatre trait\u00e9es par le contr\u00f4leur. On y trouve donc entre autres les requ\u00eates aux bases de donn\u00e9es (programme de Terminale NSI). Vue : cette partie se concentre sur l' affichage . Elle ne fait presque aucun calcul et se contente de r\u00e9cup\u00e9rer des variables pour savoir ce qu'elle doit afficher. On y trouve essentiellement du code HTML mais aussi quelques boucles et conditions python tr\u00e8s simples, pour afficher par exemple une liste de messages. Elle utilise en particulier des templates , c'est-\u00e0-dire des mod\u00e8les de pages HTML qui seront utilis\u00e9s par la vue pour g\u00e9n\u00e9rer les pages HTML envoy\u00e9es au client. On peut concevoir ces templates comme des textes \u00e0 trous dans lesquels seront ins\u00e9r\u00e9es les donn\u00e9es calcul\u00e9es par le contr\u00f4leur . Contr\u00f4leur : cette partie g\u00e8re la logique du code qui prend des d\u00e9cisions. C'est en quelque sorte l'interm\u00e9diaire entre le mod\u00e8le et la vue : le contr\u00f4leur va demander au mod\u00e8le les donn\u00e9es, les analyser, prendre des d\u00e9cisions et renvoyer le texte \u00e0 afficher \u00e0 la vue. Le contr\u00f4leur contient exclusivement du python (dans notre cas). C'est notamment lui qui d\u00e9termine si le visiteur a le droit de voir la page ou non (gestion des droits d'acc\u00e8s).","title":"Mod\u00e8le Vue Contr\u00f4leur"},{"location":"NSI/Premiere/C08/Client_Serveur/#un-exemple-de-template","text":"Notre objectif est de cr\u00e9er une page d'accueil plus sympathique. Nous allons donc modifier la fonction index . M\u00e9thodologie Cr\u00e9er un dossier templates dans le dossier contenant le fichier Tuto_Flask.py . Dans ce dossier, cr\u00e9er un fichier index.html avec le code suivant : <!doctype html> < html lang = \"fr\" > < head > < meta charset = \"utf-8\" > < title > Ma page d'accueil </ title > </ head > < body > < h1 > Un site qui d\u00e9chire. </ h1 > < h2 > Bonjour cher visiteur ! </ h2 > < p > Vous voici sur mon site \u00e0 moi. </ p > < a href = \"http://127.0.0.1:5000/contact\" > Lien vers les contacts. </ a > </ body > </ html > Nous allons maintenant modifier le fichier Tuto_Flask.py , pour lui permettre d'utiliser ce template . Modifier la premi\u00e8re ligne par : from flask import Flask , render_template Modifiez la fonction index comme suit : @app . route ( '/' ) def index (): return render_template ( \"index.html\" ) Visualisez le r\u00e9sultat dans votre navigateur. Modifiez la fonction qui permet l'affichage de la page de contact de mani\u00e8re \u00e0 ce qu'elle utilise un template.","title":"Un exemple de template"},{"location":"NSI/Premiere/C08/Client_Serveur/#dynamiser-les-pages","text":"","title":"Dynamiser les pages"},{"location":"NSI/Premiere/C08/Client_Serveur/#introduire-des-variables","text":"Pour l'instant, le serveur Flask produit toujours les m\u00eames pages. Mais Flask permet de g\u00e9n\u00e9rer des vues (pages HTML) en fonction de param\u00e8tres, de formulaires ... Commen\u00e7ons par am\u00e9liorer l'affichage de notre page d'accueil en personnalisant l'affichage de la salutation. M\u00e9thodologie Modifiez la page index.html comme cela : <!doctype html> < html lang = \"fr\" > < head > < meta charset = \"utf-8\" > < title > Ma page d'accueil </ title > </ head > < body > < h1 > Un site qui d\u00e9chire. </ h1 > < h2 > Bonjour {{prenom}} {{nom}} ! </ h2 > < p > Vous voici sur mon site \u00e0 moi. </ p > < a href = \"./contact\" > Lien vers les contacts. </ a > </ body > </ html > Modifiez la fonction index du fichier Tuto_Flask.py comme suit : @app . route ( '/' ) def index (): p = \"Kakashi\" n = \"Hatake\" return render_template ( \"index.html\" , prenom = p , nom = n ) Enregistrez et allez voir le r\u00e9sultat dans votre navigateur. Moteur de Template Jinja Remarquez le code {{prenom}} {{nom}} dans le template. Il s'agit de syntaxe Jinja . Le contr\u00f4leur de Flask utilise Jinja pour remplacer ces variables par celles qui sont fournies par la fonction index . Jinja permet bien d'autres actions, et est particuli\u00e8rement adapt\u00e9 pour la cr\u00e9ation de grosses applications web. Pour l'instant, il faut changer \u00e0 la main les variables pour que le nom affich\u00e9 soit le bon, MAIS ce n'est que le d\u00e9but. Nous verrons plus tard comment, avec un formulaire, nous pourrons adapter la page \u00e0 l'utilisateur. Modifiez le d\u00e9but du fichier Tuto_Flask.py avec : from flask import Flask , render_template import datetime from math import pi app = Flask ( __name__ ) @app . route ( '/' ) def index (): p = \"Kakashi\" n = \"Hatake\" date = datetime . datetime . now () heure = date . hour minute = date . minute seconde = date . second return render_template ( \"index.html\" , prenom = p , nom = n , heure = heure , minute = minute , seconde = seconde ) Modifiez le fichier index.html en ajoutant la ligne suivante entre les balises <body> et </body> : < p > Il est {{heure}} h {{minute}} m {{seconde}} s (heure du serveur !) </ p > Testez l'affichage dans votre navigateur. Modifiez la fonction contact et le template associ\u00e9 pour qu'il affiche une phrase du genre \u00ab Je suis n\u00e9 le xx/xx/xxxx cela fait xxxx jours \u00bb. Quelques indices Quelques indices : datetime.datetime(a,m,j) permet de cr\u00e9er un objet date de l'ann\u00e9e a , mois m et jours j ; Pour r\u00e9cup\u00e9rer le nombre de jour d'un objet date, if faut ajouter l'attribut .day \u00e0 la suite de l'objet date .","title":"Introduire des variables"},{"location":"NSI/Premiere/C08/Client_Serveur/#utilisation-dun-formulaire-avec-la-methode-get","text":"M\u00e9thodologie Modifiez le fichier index.html en introduisant le formulaire suivant juste avant la balise </body> : < form action = \"./resultat\" method = \"get\" > < label > Nom </ label > : < input type = \"text\" name = \"nom\" /> < label > Pr\u00e9nom </ label > : < input type = \"text\" name = \"prenom\" /> < input type = \"submit\" value = \"Envoyer\" /> </ form > Actualisez ou affichez la page d'accueil, et compl\u00e9tez le formulaire. Que se passe-t-il quand vous cliquez sur le bouton Envoyer ? C'est tout-\u00e0-fait normal ! En effet le code : < form action = \"./resultat\" method = \"get\" > signifie que l'envoi du formulaire se fait avec la m\u00e9thode GET et que la page affich\u00e9e ensuite sera celle de l'adresse 127.0.0.1/resultat . Or il n'y a pas de route associ\u00e9e \u00e0 cette adresse, et encore moins de template. Cependant vous pouvez observer que l'adresse obtenue dans la barre d'adresse est du type http://localhost:5000/resultat?nom = HATAKE & prenom = Kakashi Les donn\u00e9es envoy\u00e9es apparaissent dans l'URL . C'est la m\u00e9thode GET - qui est une m\u00e9thode g\u00e9n\u00e9rale de HTTP, qui veut cela. Avec cette m\u00e9thode, les donn\u00e9es du formulaire seront encod\u00e9es dans une URL . Celle-ci est compos\u00e9e du nom de la page ou du script \u00e0 charger avec les donn\u00e9es de formulaire empaquet\u00e9e dans une chaine. Les donn\u00e9es sont s\u00e9par\u00e9es de l'adresse de la page par le code ? et entre elles par le code & . Imaginez si Facebook faisait \u00e7a quand vous entre votre login et votre mot de passe... M\u00e9thode GET La m\u00e9thode GET est limit\u00e9e : Elle ne s\u00e9curise pas du tout l'envoi de donn\u00e9es ; Les donn\u00e9es de formulaire doivent \u00eatre uniquement des codes ASCII. La taille d'une URL est limit\u00e9e \u00e0 par le serveur, souvent un peu plus de 2000 caract\u00e8res, en comprenant les codes d'\u00e9chappement. Il est recommand\u00e9 d'utiliser cette m\u00e9thode dans des cas o\u00f9 l'on ne modifie pas de base de donn\u00e9es pour des raisons \u00e9videntes de s\u00e9curit\u00e9. Dans un cas comme le notre cela suffira car nous allons simplement lire les donn\u00e9es pour faire un affichage. Dans le fichier Tuto_Flask.py , ajoutez l'import from flask import Flask , render_template , request Ajoutez la route et la fonction suivante : @app . route ( '/resultat' , methods = [ 'GET' , 'POST' ]) def salutation (): if request . method == 'GET' : return request . args else : return \"post\" Actualisez et remplissez \u00e0 nouveau le formulaire. request.args va s'afficher, et vous pouvez constater que c'est un objet de type dictionnaire. Pour acc\u00e9der au nom il va falloir utiliser la syntaxe des dictionnaires : request.args['nom'] Cr\u00e9er un fichier resultat.html dans le dossier templates , contenant le code HTML suivant : <!doctype html> < html lang = \"fr\" > < head > < meta charset = \"utf-8\" > < title > Salutations ! </ title > </ head > < body > < p > Bonjour, en fait vous vous nommez {{prenom}} {{nom}} ! </ p > </ body > </ html > Modifiez le fichier Tuto_Flask.py comme ceci : @app . route ( '/resultat' , methods = [ 'GET' , 'POST' ]) def salutation (): if request . method == 'GET' : prenom_visiteur = request . args [ 'prenom' ] nom_visiteur = request . args [ 'nom' ] return render_template ( 'resultat.html' , prenom = prenom_visiteur , nom = nom_visiteur ) elif request . method == 'POST' : return \"post\" Testez \u00e0 nouveau. Vous devriez avoir un affichage correct.","title":"Utilisation d'un formulaire avec la m\u00e9thode GET"},{"location":"NSI/Premiere/C08/Client_Serveur/#utilisation-dun-formulaire-avec-la-methode-post","text":"M\u00e9thodologie Modifiez la m\u00e9thode d'envoi du formulaire par : < form action = \"http://127.0.0.1:5000/resultat\" method = \"post\" > Actualisez, remplissez le formulaire et cliquez sur envoyer. C'est tout-\u00e0-fait normal de voir juste \u00e9crit \u00ab post\u00bb sur la page finale, car nous n'avons pas modifi\u00e9 la fonction salutation . Par contre vous devez observer que les donn\u00e9es ont bien disparu de l'URL . Mais heureusement elles sont quand m\u00eame transmises. Modifiez dans la fonction salutation les deux derni\u00e8res lignes par : elif request . method == 'POST' : return request . form Actualisez, remplissez le formulaire, etc... request.form va s'afficher, et vous pouvez constater que rien n'a chang\u00e9 par rapport \u00e0 la m\u00e9thode POST, mis \u00e0 part la m\u00e9thode .args remplac\u00e9e par .form . Modifiez enfin la fonction salutation ainsi : @app . route ( '/resultat' , methods = [ 'GET' , 'POST' ]) def salutation (): if request . method == 'GET' : prenom_visiteur = request . args [ 'prenom' ] nom_visiteur = request . args [ 'nom' ] elif request . method == 'POST' : prenom_visiteur = request . form [ 'prenom' ] nom_visiteur = request . form [ 'nom' ] return render_template ( 'resultat.html' , prenom = prenom_visiteur , nom = nom_visiteur ) M\u00e9thode POST La m\u00e9thode POST est indispensable pour : des codes non ASCII, des donn\u00e9es de taille importante, et elle est recommand\u00e9e pour modifier les donn\u00e9es sur le serveur, et pour les donn\u00e9es sensible comme expliqu\u00e9 par le W3C.","title":"Utilisation d'un formulaire avec la m\u00e9thode POST"},{"location":"NSI/Premiere/C08/Client_Serveur/#une-application-chiffre-de-cesar","text":"Vous devez cr\u00e9er une application web qui pourra coder ou d\u00e9coder un texte cod\u00e9 avec la m\u00e9thode de C\u00e9sar. La m\u00e9thode de C\u00e9sar est expliqu\u00e9e ici . Pour r\u00e9aliser cet exercice, il faut : une page cesar.html avec un formulaire pour saisir le texte \u00e0 coder et pour saisir la cl\u00e9 de codage ; une page codage.html qui sera appel\u00e9e apr\u00e8s l'envoi du formulaire et qui affichera le texte cod\u00e9. Voici le code d'une fonction permettant de coder une chaine de caract\u00e8re selon le code de C\u00e9sar : def cesar ( texte , cle ): \"\"\" Fonction de codage par d\u00e9calage (c\u00e9sar) Entr\u00e9es : une chaine de caract\u00e8res et un entier Sortie : une chaine de caract\u00e8re \"\"\" texte_code = \"\" for char in texte : if char . isalpha (): #si le caract\u00e8re est une lettre on d\u00e9cale nouvelIndice = ord ( char ) + cle #Pour rester dans l'aplphabet, on d\u00e9cale de 26 en arri\u00e8re si besoin if ord ( char ) <= ord ( 'z' ) < nouvelIndice or ord ( char ) <= ord ( 'Z' ) < nouvelIndice : nouvelIndice -= 26 lettrefinale = chr ( nouvelIndice ) texte_code += lettrefinale else : #si le caract\u00e8re n'est pas une lettre, on n'y touche pas texte_code += char return texte_code Quelques liens Le m\u00e9ga tutoriel Flask de Miguel Grinberg (en anglais) La chaine Youtube Pretty Printed (en anglais), qui offre d'excellentes vid\u00e9os sur Flask, mais aussi sur son concurrent Django.","title":"Une application : chiffre de C\u00e9sar"},{"location":"NSI/Premiere/C08/Histoire/","text":"Notions historiques : Arpanet et internet Il existe beaucoup de r\u00e9seaux dans le monde, souvent compos\u00e9s de mat\u00e9riels et de logiciels diff\u00e9rents. Les personnes connect\u00e9es \u00e0 un r\u00e9seau souhaitent fr\u00e9quemment communiquer avec d'autres personnes reli\u00e9es \u00e0 d'autres r\u00e9seaux. Pour satisfaire \u00e0 cette demande, les divers r\u00e9seaux, souvent incompatibles entre eux, doivent \u00eatre interconnect\u00e9s . Un ensemble de r\u00e9seaux ainsi reli\u00e9s s'appelle un interr\u00e9seau ( inter-network ), l'Internet en \u00e9tant l'exemple le plus connu aujourd'hui. Il utilise des r\u00e9seaux de FAI pour connecter des r\u00e9seaux d'entreprise, des r\u00e9seaux domestiques et bien d'autres r\u00e9seaux. L'Internet n'est donc pas v\u00e9ritablement un r\u00e9seau mais un immense regroupement de diff\u00e9rents r\u00e9seaux qui ont en commun diff\u00e9rents protocoles et offrent certains services similaires. C'est un syst\u00e8me qui n'a pas \u00e9t\u00e9 planifi\u00e9 par quiconque et que personne ne contr\u00f4le. Pour mieux le comprendre, voyons comment il s'est d\u00e9velopp\u00e9 et pour quelles raisons. Les textes et illustrations ci-dessous sont extraits du livre R\u00e9seaux , Andrew Tanenbaum et David Wetherall, 5\u00e8me \u00e9dition, Pearson . AT&T et Paul Baran Tout commence \u00e0 la fin des ann\u00e9es 1950, au plus fort de la Guerre Froide. Le minist\u00e8re de la d\u00e9fense dse Etats-Unis ( DoD : Department of Defense ) souhaitait disposer d'un r\u00e9seau de communication capable de r\u00e9sister \u00e0 une attaque nucl\u00e9aire. A l'\u00e9poque, le r\u00e9seau t\u00e9l\u00e9phonique des Etats-Unis \u00e9tait connect\u00e9 comme sur le sch\u00e9ma ci-dessous. Chaque point noir repr\u00e9sente un commutateur t\u00e9l\u00e9phonique , auquel \u00e9taient reli\u00e9s des milliers de t\u00e9l\u00e9phones. Ces commutateurs locaux \u00e9taient eux-m\u00eames connect\u00e9s \u00e0 des commutateurs centraux pour former une hi\u00e9rarchie nationale, avec une redondance minimale (c'est-\u00e0-dire sans duplication de syst\u00e8mes ou de mat\u00e9riels). Le probl\u00e8me \u00e9tait que la destruction de quelques-uns seulement de ces centres pouvait conduire \u00e0 l'\u00e9clatement du syst\u00e8me, qui serait alors fragment\u00e9 en de nombreux \u00eelots isol\u00e9s. Vers 1960, le DoD passa un contrat avec la RAND Corporation pour trouver une solution. L'un de ses employ\u00e9s, Paul Baran , alors \u00e2g\u00e9 d'environ 35 ans, imagina une architecture hautement distribu\u00e9e et tol\u00e9rante aux pannes, illustr\u00e9e ci-dessous. La distance entre deux commutateurs \u00e9tant trop importante pour que les signaux analogiques puissent la parcourir sans distorsion, Baran proposa d'employer une technologie num\u00e9rique de commutation de paquets . Il r\u00e9digea plusieurs rapports \u00e0 l'intention du DoD , d\u00e9crivant en d\u00e9tail son id\u00e9e. Le Pentagone la trouva int\u00e9ressante et demanda \u00e0 AT&T, entreprise qui d\u00e9tenait \u00e0 l'\u00e9poque le monopole des communications t\u00e9l\u00e9phoniques sur le territoire des \u00c9tats-Unis, de d\u00e9velopper un prototype. AT&T rejeta d'embl\u00e9e le concept de Baran. Ce n'\u00e9tait pas un jeune employ\u00e9 qui allait apprendre \u00e0 l'entreprise la plus grande et la plus riche du monde \u00e0 concevoir un syst\u00e8me t\u00e9l\u00e9phonique. Baran s'entendit finalement dire que son id\u00e9e de r\u00e9seau n'\u00e9tait pas r\u00e9alisable, et elle fut donc abandonn\u00e9e. ARPA et ARPAnet Parall\u00e8lement, en octobre 1957, l'Union Sovi\u00e9tique prend une avance consid\u00e9rable sur les Etats-Unis dans la course vers l'espace, avec le lancement du premier satellite artificiel, Spoutnik . Le pr\u00e9sident am\u00e9ricain Eisenhower, en tentant de d\u00e9terminer les causes de ce retard, fut constern\u00e9 de constater que les arm\u00e9es de terre, de l'air et la marine am\u00e9ricaine se disputaient le budget de la recherche du Pentagone. Il r\u00e9agit imm\u00e9diatement avec la cr\u00e9ation d'une seule unit\u00e9 de recherche de la D\u00e9fense, l' ARPA ( Advanced Research Projects Agency ). Cette agence n'employait aucun scientifique et ne poss\u00e9dait pas non plus de laboratoires : en fait, elle ne disposait que d'un bureau et d'un budget modeste (selon les standards du Pentagone). Sa t\u00e2che consistait \u00e0 octroyer des subventions et des contrats aux universit\u00e9s et aux entreprises dont les projets lui semblaient prometteurs. Au cours de ses premi\u00e8res ann\u00e9es d'existence, l'ARPA tenta de mieux d\u00e9finir quelle devait \u00eatre sa mission.En 1962 l'ARPA soutient le projet du professeur Licklider qui a pour but de mettre en r\u00e9seau les ordinateurs des universit\u00e9s am\u00e9ricaines afin que ces derni\u00e8res puissent \u00e9changer des informations plus rapidement (m\u00eame \u00e0 des milliers de kilom\u00e8tres de distance). En 1967, l'attention de Larry Roberts , un directeur de programme de l'ARPA, se tourna vers les r\u00e9seaux. Parmi les diff\u00e9rents experts contact\u00e9s se trouvait Wesley Clark qui sugg\u00e9ra de cr\u00e9er un sous-r\u00e9seau \u00e0 commutation de paquets. Apr\u00e8s quelques h\u00e9sitations, Roberts accepta l'id\u00e9e et pr\u00e9senta un projet assez vague \u00e0 ce sujet lors d'un colloque de l' ACM ( Association for Computing Machinery ) \u00e0 Gatlinburg dans le Tennessee, fin 1967. \u00c0 sa grande surprise, une autre communication pr\u00e9sent\u00e9e \u00e0 cette conf\u00e9rence d\u00e9crivait un syst\u00e8me similaire, qui avait \u00e9t\u00e9 non seulement con\u00e7u mais encore enti\u00e8rement impl\u00e9ment\u00e9 au Royaume-Uni, sous la direction de Donald Davies du NPL ( National Physical Laboratory ), et qui se r\u00e9f\u00e9rait en outre au travail de Baran. Ce syst\u00e8me n'\u00e9tait pas d\u00e9velopp\u00e9 \u00e0 l'\u00e9chelle nationale (il connectait seulement quelques ordinateurs du campus du NPL), mais il d\u00e9montrait la faisabilit\u00e9 d'un r\u00e9seau \u00e0 commutation de paquets. Roberts revint de Gatlinburg bien d\u00e9cid\u00e9 \u00e0 mettre en \u0153uvre ce qui allait devenir l' ARPAnet . Le sous-r\u00e9seau serait form\u00e9 de mini-ordinateurs appel\u00e9s IMP ( Interface Message Processor ), reli\u00e9s par des lignes de transmission \u00e0 56 kbit/s (ce qui \u00e9tait ce qui ce faisait de mieux \u00e0 l'\u00e9poque). Pour une fiabilit\u00e9 maximale, chaque IMP serait connect\u00e9 au moins \u00e0 deux autres IMP. Chaque n\u0153ud du r\u00e9seau consisterait en un IMP et un h\u00f4te, situ\u00e9s dans la m\u00eame pi\u00e8ce et reli\u00e9s par un c\u00e2ble court. L'h\u00f4te pourrait envoyer des messages de 8 063 bits maximum \u00e0 son IMP, qui les diviserait alors en paquets de 1 008 bits maximum et les transmettrait ind\u00e9pendamment vers leur destination. Chaque paquet serait enti\u00e8rement re\u00e7u par un n\u0153ud avant d'\u00eatre retransmis. Il s'av\u00e9ra que la soci\u00e9t\u00e9 d\u00e9sign\u00e9e pour concevoir le syst\u00e8me s'\u00e9tait born\u00e9e au niveau logiciel \u00e0 ne concevoir que les liaisons IMP, et laissa de c\u00f4t\u00e9 le protocole h\u00f4te. Pour r\u00e9soudre ce probl\u00e8me de logiciel du c\u00f4t\u00e9 h\u00f4te, Larry Roberts (de l'ARPA) convia des chercheurs en r\u00e9seau, pour la plupart des \u00e9tudiants en troisi\u00e8me cycle, \u00e0 se r\u00e9unir durant l'\u00e9t\u00e9 1969. Ceux-ci s'attendaient \u00e0 ce qu'un expert leur d\u00e9crive la conception du r\u00e9seau et de son logiciel puis demande \u00e0 chacun d'en impl\u00e9menter une partie. \u00c0 leur grande surprise, ils constat\u00e8rent qu'il n'y avait ni expert ni conception pour les guider, et qu'il leur faudrait d\u00e9terminer eux-m\u00eames comment proc\u00e9der. Le 29 octobre 1969, le premier message (le mot login ) est envoy\u00e9 depuis l'UCLA vers le SRI, les 2 universit\u00e9s \u00e9tant environ distantes de 500 Km. C'est un demi-succ\u00e8s, puisque seules les lettres l et o arriveront \u00e0 bon port. C'est ainsi qu'un r\u00e9seau exp\u00e9rimental vit le jour en d\u00e9cembre 1969, form\u00e9 de quatre n\u0153uds situ\u00e9s \u00e0 l'universit\u00e9 de Californie \u00e0 Los Angeles (UCLA), \u00e0 l'universit\u00e9 de Californie \u00e0 Santa Barbara (UCSB), au Stanford Research Institute (SRI) et \u00e0 l'universit\u00e9 d'Utah. Ces quatre institutions furent choisies en raison du grand nombre de contrats pass\u00e9s par chacune avec l'ARPA, mais aussi pour la diversit\u00e9 et l'incompatibilt\u00e9 de leurs ordinateurs respectifs (ce qui accentuait le d\u00e9fi). Le r\u00e9seau se d\u00e9veloppa rapidement comme le montre le sch\u00e9ma suivant. D'ARPAnet \u00e0 Internet En plus de soutenir la croissance du tout jeune r\u00e9seau ARPAnet, l'ARPA a aussi financ\u00e9 des recherches sur les r\u00e9seaux satellitaires et les r\u00e9seaux radio mobiles par paquets. Dans l'une de ses exp\u00e9riences devenue c\u00e9l\u00e8bre, un chercheur parcourant la Californie \u00e0 bord d'un camion utilisait un r\u00e9seau radio par paquets pour envoyer des messages au SRI, qui les transmettait \u00e0 travers l'ARPAnet vers la c\u00f4te est, apr\u00e8s quoi ils \u00e9taient achemin\u00e9s vers l'University College de Londres via un satellite. Le chercheur pouvait ainsi utiliser un ordinateur situ\u00e9 \u00e0 Londres pendant que lui-m\u00eame se d\u00e9pla\u00e7ait de l'autre c\u00f4t\u00e9 de l'Atlantique. Cette exp\u00e9rience a \u00e9galement d\u00e9montr\u00e9 que les protocoles ARPAnet existants n'\u00e9taient pas adapt\u00e9s aux transmissions entre r\u00e9seaux diff\u00e9rents. Cette observation a entra\u00een\u00e9 la poursuite des recherches sur les protocoles, conduisant notamment \u00e0 l'invention du mod\u00e8le TCP/IP et de ses protocoles par Vinton Cerf et Robert Elliot Kahn. Ce mod\u00e8le a \u00e9t\u00e9 Con\u00e7u pr\u00e9cis\u00e9ment pour g\u00e9rer les communications sur des interr\u00e9seaux, r\u00e9pondant \u00e0 une n\u00e9cessit\u00e9 croissante due au raccordement de r\u00e9seaux toujours plus nombreux \u00e0 l'ARPAnet. Au cours des ann\u00e9es 1980, davantage de r\u00e9seaux, surtout des LAN, furent raccord\u00e9s \u00e0 l'ARPAnet. Mais plus celui-ci s'\u00e9tendait, plus il devenait co\u00fbteux de localiser ses h\u00f4tes. En r\u00e9ponse \u00e0 ce probl\u00e8me, le syst\u00e8me de gestion des noms de domaine, DNS ( Domain Name System ), fut d\u00e9velopp\u00e9 de fa\u00e7on \u00e0 organiser les machines en domaines et \u00e0 associer des noms d'h\u00f4tes aux adresses IP. Parall\u00e8lement, \u00e0 la fin des ann\u00e9es 1970, la NSF ( National Science Foundation ) constata \u00e0 quel point l'impact de l'ARPAnet sur la recherche universitaire \u00e9tait important, puisqu'il permettait aux scientifiques de partager des donn\u00e9es et de travailler sur des projets communs \u00e0 travers tout le pays. Toutefois, pour pouvoir participer \u00e0 ce r\u00e9seau, une universit\u00e9 devait \u00eatre sous contrat de recherche avec le DoD, ce qui n'\u00e9tait pas le cas pour beaucoup d'entre elles. La r\u00e9ponse initiale de la NSF fut de financer le CSNET (Computer Science Network) en 1981. Celui-ci connectait des d\u00e9partements d'informatique et des laboratoires de recherche appliqu\u00e9e \u00e0 l'ARPAnet via des connexions par modem et des lignes lou\u00e9es. \u00c0 la fin des ann\u00e9es 1980, la NSF alla plus loin et d\u00e9cida de construire un successeur de l'ARPAnet qui serait ouvert \u00e0 toutes les instances de recherche universitaire. La NSF d\u00e9cida donc de cr\u00e9er un r\u00e9seau f\u00e9d\u00e9rateur pour connecter ses six centres de calcul bas\u00e9s \u00e0 San Diego, Boulder, Champaign, Pittsburgh, Ithaca et Princeton. \u00c0 chacun des six supercalculateurs \u00e9tait associ\u00e9 un micro-ordinateur surnomm\u00e9 fuzzball . Ces fuzzballs \u00e9taient reli\u00e9s au moyen de lignes lou\u00e9es \u00e0 56 kbit/s et formaient le sous-r\u00e9seau, \u00e0 l'image de la technologie mat\u00e9rielle utilis\u00e9e par l'ARPAnet. Toutefois, la technologie logicielle \u00e9tait diff\u00e9rente : les fuzzballs supportaient d\u00e8s le d\u00e9part TCP/IP. La NSF finan\u00e7a \u00e9galement plusieurs r\u00e9seaux r\u00e9gionaux (une vingtaine au total), qui furent reli\u00e9s \u00e0 l'\u00e9pine dorsale pour permettre aux utilisateurs de milliers d'universit\u00e9s, de laboratoires de recherche, de biblioth\u00e8ques et de mus\u00e9es d'acc\u00e9der \u00e0 n'importe quel supercalculateur et de communiquer entre eux. Le r\u00e9seau complet, incluant l'\u00e9pine dorsale et les r\u00e9seaux r\u00e9gionaux, fut nomm\u00e9 NSFNET et raccord\u00e9 \u00e0 l'ARPAnet au moyen d'une liaison entre un IMP et un fuzzball dans la salle des machines de l'universit\u00e9 Carnegie-Mellon. Victime de son succ\u00e8s, NSFNET fut surcharg\u00e9 d\u00e8s le d\u00e9but, et du s'adapter en passant \u00e0 la fibre optique. \u00c0 mesure que l'expansion du r\u00e9seau continuait, la NSF se rendit compte que le gouvernement ne pourrait pas la financer ind\u00e9finiment. En outre, les statuts de la fondation emp\u00eachaient les entreprises commerciales d'utiliser un r\u00e9seau dont elle assurait seule le financement. En cons\u00e9quence, elle encouragea ces entreprises \u00e0 cr\u00e9er une organisation \u00e0 but non lucratif, l' ANS ( Advanced Networks and Services ), qui serait la premi\u00e8re \u00e9tape sur la voie de la commercialisation. Pour faciliter la transition et s'assurer que tous les r\u00e9seaux r\u00e9gionaux pourraient communiquer entre eux, la NSF signa des contrats avec quatre op\u00e9rateurs diff\u00e9rents en vue d'\u00e9tablir des points d'acc\u00e8s au r\u00e9seau ou NAP (Network Access Point). Chaque op\u00e9rateur devait se raccorder \u00e0 tous les NAP pour pouvoir offrir des services d'\u00e9pine dorsale aux r\u00e9seaux r\u00e9gionaux. Cela signifiait qu'un paquet provenant de n'importe lequel de ces r\u00e9seaux avait le choix entre plusieurs op\u00e9rateurs pour aller du NAP source vers le NAP de destination. Les op\u00e9rateurs se disput\u00e8rent donc les march\u00e9s r\u00e9gionaux \u00e0 coups d'offres de services et de prix, ce qui \u00e9tait bien entendu l'effet recherch\u00e9. Le concept d'une seule \u00e9pine dorsale par d\u00e9faut fut ainsi remplac\u00e9 par une infrastructure commerciale o\u00f9 la concurrence \u00e9tait vive. Au cours des ann\u00e9es 1990, de nombreux autres pays et r\u00e9gions du monde mirent en place des r\u00e9seaux de recherche nationaux, souvent inspir\u00e9s des mod\u00e8les ARPAnet et NSFNET. EuropaNET et EBONE sont des exemples europ\u00e9ens. En Europe, l'infrastructure de r\u00e9seau a fini elle aussi par passer aux mains de l'industrie. Le sch\u00e9ma suivant donne une vision simplifi\u00e9e de ce qu'est internet aujourd'hui :","title":"Internet : historique"},{"location":"NSI/Premiere/C08/Histoire/#notions-historiques-arpanet-et-internet","text":"Il existe beaucoup de r\u00e9seaux dans le monde, souvent compos\u00e9s de mat\u00e9riels et de logiciels diff\u00e9rents. Les personnes connect\u00e9es \u00e0 un r\u00e9seau souhaitent fr\u00e9quemment communiquer avec d'autres personnes reli\u00e9es \u00e0 d'autres r\u00e9seaux. Pour satisfaire \u00e0 cette demande, les divers r\u00e9seaux, souvent incompatibles entre eux, doivent \u00eatre interconnect\u00e9s . Un ensemble de r\u00e9seaux ainsi reli\u00e9s s'appelle un interr\u00e9seau ( inter-network ), l'Internet en \u00e9tant l'exemple le plus connu aujourd'hui. Il utilise des r\u00e9seaux de FAI pour connecter des r\u00e9seaux d'entreprise, des r\u00e9seaux domestiques et bien d'autres r\u00e9seaux. L'Internet n'est donc pas v\u00e9ritablement un r\u00e9seau mais un immense regroupement de diff\u00e9rents r\u00e9seaux qui ont en commun diff\u00e9rents protocoles et offrent certains services similaires. C'est un syst\u00e8me qui n'a pas \u00e9t\u00e9 planifi\u00e9 par quiconque et que personne ne contr\u00f4le. Pour mieux le comprendre, voyons comment il s'est d\u00e9velopp\u00e9 et pour quelles raisons. Les textes et illustrations ci-dessous sont extraits du livre R\u00e9seaux , Andrew Tanenbaum et David Wetherall, 5\u00e8me \u00e9dition, Pearson .","title":"Notions historiques : Arpanet et internet"},{"location":"NSI/Premiere/C08/Histoire/#att-et-paul-baran","text":"Tout commence \u00e0 la fin des ann\u00e9es 1950, au plus fort de la Guerre Froide. Le minist\u00e8re de la d\u00e9fense dse Etats-Unis ( DoD : Department of Defense ) souhaitait disposer d'un r\u00e9seau de communication capable de r\u00e9sister \u00e0 une attaque nucl\u00e9aire. A l'\u00e9poque, le r\u00e9seau t\u00e9l\u00e9phonique des Etats-Unis \u00e9tait connect\u00e9 comme sur le sch\u00e9ma ci-dessous. Chaque point noir repr\u00e9sente un commutateur t\u00e9l\u00e9phonique , auquel \u00e9taient reli\u00e9s des milliers de t\u00e9l\u00e9phones. Ces commutateurs locaux \u00e9taient eux-m\u00eames connect\u00e9s \u00e0 des commutateurs centraux pour former une hi\u00e9rarchie nationale, avec une redondance minimale (c'est-\u00e0-dire sans duplication de syst\u00e8mes ou de mat\u00e9riels). Le probl\u00e8me \u00e9tait que la destruction de quelques-uns seulement de ces centres pouvait conduire \u00e0 l'\u00e9clatement du syst\u00e8me, qui serait alors fragment\u00e9 en de nombreux \u00eelots isol\u00e9s. Vers 1960, le DoD passa un contrat avec la RAND Corporation pour trouver une solution. L'un de ses employ\u00e9s, Paul Baran , alors \u00e2g\u00e9 d'environ 35 ans, imagina une architecture hautement distribu\u00e9e et tol\u00e9rante aux pannes, illustr\u00e9e ci-dessous. La distance entre deux commutateurs \u00e9tant trop importante pour que les signaux analogiques puissent la parcourir sans distorsion, Baran proposa d'employer une technologie num\u00e9rique de commutation de paquets . Il r\u00e9digea plusieurs rapports \u00e0 l'intention du DoD , d\u00e9crivant en d\u00e9tail son id\u00e9e. Le Pentagone la trouva int\u00e9ressante et demanda \u00e0 AT&T, entreprise qui d\u00e9tenait \u00e0 l'\u00e9poque le monopole des communications t\u00e9l\u00e9phoniques sur le territoire des \u00c9tats-Unis, de d\u00e9velopper un prototype. AT&T rejeta d'embl\u00e9e le concept de Baran. Ce n'\u00e9tait pas un jeune employ\u00e9 qui allait apprendre \u00e0 l'entreprise la plus grande et la plus riche du monde \u00e0 concevoir un syst\u00e8me t\u00e9l\u00e9phonique. Baran s'entendit finalement dire que son id\u00e9e de r\u00e9seau n'\u00e9tait pas r\u00e9alisable, et elle fut donc abandonn\u00e9e.","title":"AT&amp;T et Paul Baran"},{"location":"NSI/Premiere/C08/Histoire/#arpa-et-arpanet","text":"Parall\u00e8lement, en octobre 1957, l'Union Sovi\u00e9tique prend une avance consid\u00e9rable sur les Etats-Unis dans la course vers l'espace, avec le lancement du premier satellite artificiel, Spoutnik . Le pr\u00e9sident am\u00e9ricain Eisenhower, en tentant de d\u00e9terminer les causes de ce retard, fut constern\u00e9 de constater que les arm\u00e9es de terre, de l'air et la marine am\u00e9ricaine se disputaient le budget de la recherche du Pentagone. Il r\u00e9agit imm\u00e9diatement avec la cr\u00e9ation d'une seule unit\u00e9 de recherche de la D\u00e9fense, l' ARPA ( Advanced Research Projects Agency ). Cette agence n'employait aucun scientifique et ne poss\u00e9dait pas non plus de laboratoires : en fait, elle ne disposait que d'un bureau et d'un budget modeste (selon les standards du Pentagone). Sa t\u00e2che consistait \u00e0 octroyer des subventions et des contrats aux universit\u00e9s et aux entreprises dont les projets lui semblaient prometteurs. Au cours de ses premi\u00e8res ann\u00e9es d'existence, l'ARPA tenta de mieux d\u00e9finir quelle devait \u00eatre sa mission.En 1962 l'ARPA soutient le projet du professeur Licklider qui a pour but de mettre en r\u00e9seau les ordinateurs des universit\u00e9s am\u00e9ricaines afin que ces derni\u00e8res puissent \u00e9changer des informations plus rapidement (m\u00eame \u00e0 des milliers de kilom\u00e8tres de distance). En 1967, l'attention de Larry Roberts , un directeur de programme de l'ARPA, se tourna vers les r\u00e9seaux. Parmi les diff\u00e9rents experts contact\u00e9s se trouvait Wesley Clark qui sugg\u00e9ra de cr\u00e9er un sous-r\u00e9seau \u00e0 commutation de paquets. Apr\u00e8s quelques h\u00e9sitations, Roberts accepta l'id\u00e9e et pr\u00e9senta un projet assez vague \u00e0 ce sujet lors d'un colloque de l' ACM ( Association for Computing Machinery ) \u00e0 Gatlinburg dans le Tennessee, fin 1967. \u00c0 sa grande surprise, une autre communication pr\u00e9sent\u00e9e \u00e0 cette conf\u00e9rence d\u00e9crivait un syst\u00e8me similaire, qui avait \u00e9t\u00e9 non seulement con\u00e7u mais encore enti\u00e8rement impl\u00e9ment\u00e9 au Royaume-Uni, sous la direction de Donald Davies du NPL ( National Physical Laboratory ), et qui se r\u00e9f\u00e9rait en outre au travail de Baran. Ce syst\u00e8me n'\u00e9tait pas d\u00e9velopp\u00e9 \u00e0 l'\u00e9chelle nationale (il connectait seulement quelques ordinateurs du campus du NPL), mais il d\u00e9montrait la faisabilit\u00e9 d'un r\u00e9seau \u00e0 commutation de paquets. Roberts revint de Gatlinburg bien d\u00e9cid\u00e9 \u00e0 mettre en \u0153uvre ce qui allait devenir l' ARPAnet . Le sous-r\u00e9seau serait form\u00e9 de mini-ordinateurs appel\u00e9s IMP ( Interface Message Processor ), reli\u00e9s par des lignes de transmission \u00e0 56 kbit/s (ce qui \u00e9tait ce qui ce faisait de mieux \u00e0 l'\u00e9poque). Pour une fiabilit\u00e9 maximale, chaque IMP serait connect\u00e9 au moins \u00e0 deux autres IMP. Chaque n\u0153ud du r\u00e9seau consisterait en un IMP et un h\u00f4te, situ\u00e9s dans la m\u00eame pi\u00e8ce et reli\u00e9s par un c\u00e2ble court. L'h\u00f4te pourrait envoyer des messages de 8 063 bits maximum \u00e0 son IMP, qui les diviserait alors en paquets de 1 008 bits maximum et les transmettrait ind\u00e9pendamment vers leur destination. Chaque paquet serait enti\u00e8rement re\u00e7u par un n\u0153ud avant d'\u00eatre retransmis. Il s'av\u00e9ra que la soci\u00e9t\u00e9 d\u00e9sign\u00e9e pour concevoir le syst\u00e8me s'\u00e9tait born\u00e9e au niveau logiciel \u00e0 ne concevoir que les liaisons IMP, et laissa de c\u00f4t\u00e9 le protocole h\u00f4te. Pour r\u00e9soudre ce probl\u00e8me de logiciel du c\u00f4t\u00e9 h\u00f4te, Larry Roberts (de l'ARPA) convia des chercheurs en r\u00e9seau, pour la plupart des \u00e9tudiants en troisi\u00e8me cycle, \u00e0 se r\u00e9unir durant l'\u00e9t\u00e9 1969. Ceux-ci s'attendaient \u00e0 ce qu'un expert leur d\u00e9crive la conception du r\u00e9seau et de son logiciel puis demande \u00e0 chacun d'en impl\u00e9menter une partie. \u00c0 leur grande surprise, ils constat\u00e8rent qu'il n'y avait ni expert ni conception pour les guider, et qu'il leur faudrait d\u00e9terminer eux-m\u00eames comment proc\u00e9der. Le 29 octobre 1969, le premier message (le mot login ) est envoy\u00e9 depuis l'UCLA vers le SRI, les 2 universit\u00e9s \u00e9tant environ distantes de 500 Km. C'est un demi-succ\u00e8s, puisque seules les lettres l et o arriveront \u00e0 bon port. C'est ainsi qu'un r\u00e9seau exp\u00e9rimental vit le jour en d\u00e9cembre 1969, form\u00e9 de quatre n\u0153uds situ\u00e9s \u00e0 l'universit\u00e9 de Californie \u00e0 Los Angeles (UCLA), \u00e0 l'universit\u00e9 de Californie \u00e0 Santa Barbara (UCSB), au Stanford Research Institute (SRI) et \u00e0 l'universit\u00e9 d'Utah. Ces quatre institutions furent choisies en raison du grand nombre de contrats pass\u00e9s par chacune avec l'ARPA, mais aussi pour la diversit\u00e9 et l'incompatibilt\u00e9 de leurs ordinateurs respectifs (ce qui accentuait le d\u00e9fi). Le r\u00e9seau se d\u00e9veloppa rapidement comme le montre le sch\u00e9ma suivant.","title":"ARPA et ARPAnet"},{"location":"NSI/Premiere/C08/Histoire/#darpanet-a-internet","text":"En plus de soutenir la croissance du tout jeune r\u00e9seau ARPAnet, l'ARPA a aussi financ\u00e9 des recherches sur les r\u00e9seaux satellitaires et les r\u00e9seaux radio mobiles par paquets. Dans l'une de ses exp\u00e9riences devenue c\u00e9l\u00e8bre, un chercheur parcourant la Californie \u00e0 bord d'un camion utilisait un r\u00e9seau radio par paquets pour envoyer des messages au SRI, qui les transmettait \u00e0 travers l'ARPAnet vers la c\u00f4te est, apr\u00e8s quoi ils \u00e9taient achemin\u00e9s vers l'University College de Londres via un satellite. Le chercheur pouvait ainsi utiliser un ordinateur situ\u00e9 \u00e0 Londres pendant que lui-m\u00eame se d\u00e9pla\u00e7ait de l'autre c\u00f4t\u00e9 de l'Atlantique. Cette exp\u00e9rience a \u00e9galement d\u00e9montr\u00e9 que les protocoles ARPAnet existants n'\u00e9taient pas adapt\u00e9s aux transmissions entre r\u00e9seaux diff\u00e9rents. Cette observation a entra\u00een\u00e9 la poursuite des recherches sur les protocoles, conduisant notamment \u00e0 l'invention du mod\u00e8le TCP/IP et de ses protocoles par Vinton Cerf et Robert Elliot Kahn. Ce mod\u00e8le a \u00e9t\u00e9 Con\u00e7u pr\u00e9cis\u00e9ment pour g\u00e9rer les communications sur des interr\u00e9seaux, r\u00e9pondant \u00e0 une n\u00e9cessit\u00e9 croissante due au raccordement de r\u00e9seaux toujours plus nombreux \u00e0 l'ARPAnet. Au cours des ann\u00e9es 1980, davantage de r\u00e9seaux, surtout des LAN, furent raccord\u00e9s \u00e0 l'ARPAnet. Mais plus celui-ci s'\u00e9tendait, plus il devenait co\u00fbteux de localiser ses h\u00f4tes. En r\u00e9ponse \u00e0 ce probl\u00e8me, le syst\u00e8me de gestion des noms de domaine, DNS ( Domain Name System ), fut d\u00e9velopp\u00e9 de fa\u00e7on \u00e0 organiser les machines en domaines et \u00e0 associer des noms d'h\u00f4tes aux adresses IP. Parall\u00e8lement, \u00e0 la fin des ann\u00e9es 1970, la NSF ( National Science Foundation ) constata \u00e0 quel point l'impact de l'ARPAnet sur la recherche universitaire \u00e9tait important, puisqu'il permettait aux scientifiques de partager des donn\u00e9es et de travailler sur des projets communs \u00e0 travers tout le pays. Toutefois, pour pouvoir participer \u00e0 ce r\u00e9seau, une universit\u00e9 devait \u00eatre sous contrat de recherche avec le DoD, ce qui n'\u00e9tait pas le cas pour beaucoup d'entre elles. La r\u00e9ponse initiale de la NSF fut de financer le CSNET (Computer Science Network) en 1981. Celui-ci connectait des d\u00e9partements d'informatique et des laboratoires de recherche appliqu\u00e9e \u00e0 l'ARPAnet via des connexions par modem et des lignes lou\u00e9es. \u00c0 la fin des ann\u00e9es 1980, la NSF alla plus loin et d\u00e9cida de construire un successeur de l'ARPAnet qui serait ouvert \u00e0 toutes les instances de recherche universitaire. La NSF d\u00e9cida donc de cr\u00e9er un r\u00e9seau f\u00e9d\u00e9rateur pour connecter ses six centres de calcul bas\u00e9s \u00e0 San Diego, Boulder, Champaign, Pittsburgh, Ithaca et Princeton. \u00c0 chacun des six supercalculateurs \u00e9tait associ\u00e9 un micro-ordinateur surnomm\u00e9 fuzzball . Ces fuzzballs \u00e9taient reli\u00e9s au moyen de lignes lou\u00e9es \u00e0 56 kbit/s et formaient le sous-r\u00e9seau, \u00e0 l'image de la technologie mat\u00e9rielle utilis\u00e9e par l'ARPAnet. Toutefois, la technologie logicielle \u00e9tait diff\u00e9rente : les fuzzballs supportaient d\u00e8s le d\u00e9part TCP/IP. La NSF finan\u00e7a \u00e9galement plusieurs r\u00e9seaux r\u00e9gionaux (une vingtaine au total), qui furent reli\u00e9s \u00e0 l'\u00e9pine dorsale pour permettre aux utilisateurs de milliers d'universit\u00e9s, de laboratoires de recherche, de biblioth\u00e8ques et de mus\u00e9es d'acc\u00e9der \u00e0 n'importe quel supercalculateur et de communiquer entre eux. Le r\u00e9seau complet, incluant l'\u00e9pine dorsale et les r\u00e9seaux r\u00e9gionaux, fut nomm\u00e9 NSFNET et raccord\u00e9 \u00e0 l'ARPAnet au moyen d'une liaison entre un IMP et un fuzzball dans la salle des machines de l'universit\u00e9 Carnegie-Mellon. Victime de son succ\u00e8s, NSFNET fut surcharg\u00e9 d\u00e8s le d\u00e9but, et du s'adapter en passant \u00e0 la fibre optique. \u00c0 mesure que l'expansion du r\u00e9seau continuait, la NSF se rendit compte que le gouvernement ne pourrait pas la financer ind\u00e9finiment. En outre, les statuts de la fondation emp\u00eachaient les entreprises commerciales d'utiliser un r\u00e9seau dont elle assurait seule le financement. En cons\u00e9quence, elle encouragea ces entreprises \u00e0 cr\u00e9er une organisation \u00e0 but non lucratif, l' ANS ( Advanced Networks and Services ), qui serait la premi\u00e8re \u00e9tape sur la voie de la commercialisation. Pour faciliter la transition et s'assurer que tous les r\u00e9seaux r\u00e9gionaux pourraient communiquer entre eux, la NSF signa des contrats avec quatre op\u00e9rateurs diff\u00e9rents en vue d'\u00e9tablir des points d'acc\u00e8s au r\u00e9seau ou NAP (Network Access Point). Chaque op\u00e9rateur devait se raccorder \u00e0 tous les NAP pour pouvoir offrir des services d'\u00e9pine dorsale aux r\u00e9seaux r\u00e9gionaux. Cela signifiait qu'un paquet provenant de n'importe lequel de ces r\u00e9seaux avait le choix entre plusieurs op\u00e9rateurs pour aller du NAP source vers le NAP de destination. Les op\u00e9rateurs se disput\u00e8rent donc les march\u00e9s r\u00e9gionaux \u00e0 coups d'offres de services et de prix, ce qui \u00e9tait bien entendu l'effet recherch\u00e9. Le concept d'une seule \u00e9pine dorsale par d\u00e9faut fut ainsi remplac\u00e9 par une infrastructure commerciale o\u00f9 la concurrence \u00e9tait vive. Au cours des ann\u00e9es 1990, de nombreux autres pays et r\u00e9gions du monde mirent en place des r\u00e9seaux de recherche nationaux, souvent inspir\u00e9s des mod\u00e8les ARPAnet et NSFNET. EuropaNET et EBONE sont des exemples europ\u00e9ens. En Europe, l'infrastructure de r\u00e9seau a fini elle aussi par passer aux mains de l'industrie. Le sch\u00e9ma suivant donne une vision simplifi\u00e9e de ce qu'est internet aujourd'hui :","title":"D'ARPAnet \u00e0 Internet"},{"location":"NSI/Premiere/C08/Trames/","text":"R\u00e9seaux, Trames et Paquets Les textes et illustrations sont extraites de pixees.fr . Un bon point de d\u00e9part est de conna\u00eetre le oprincipe de TCP/IP et le vocabulaire de base du r\u00e9seau, qu'on peut retrouver, ainsi que la manipulation du logiciel Filius , dans la partie du site sur le r\u00e9seau en SNT Le principe d'encapsulation Nous avons eu l'occasion de voir avec les protocoles TCP et IP le processus d'encapsulation des donn\u00e9es : \u00ab IP encapsule TCP \u00bb. On parle alors de communication en couches . Pour mieux comprendre ce que repr\u00e9sente la communication en couches, imaginez la situation suivante. Deux philosophes (couche 3) souhaitent s'entretenir, mais l'un parle ourdou et anglais, et l'autre chinois et fran\u00e7ais. Faute de pouvoir partager une langue commune, ils engagent chacun un traducteur (couche 2), qui fait appel \u00e0 son tour \u00e0 une secr\u00e9taire (couche 1). Le premier philosophe souhaite communiquer \u00e0 son homologue distant sa passion pour Oryctolagus cuniculus . Il transmet un message (en anglais) \u00e0 son traducteur de vive voix (interface \u2154), en indiquant \u00ab I like rabbits \u00bb. Comme les traducteurs se sont accord\u00e9s sur une langue commune, en l'occurrence le n\u00e9erlandais, le message est converti en \u00ab Ik vind konijnen leuk \u00bb.Le choix de cette langue fait partie du protocole de couche 2 et appartient aux seulement aux traducteurs. Le traducteur \u00e9crit le message et le passe \u00e0 sa secr\u00e9taire (interface \u00bd) pour transmission. de la m\u00eame mani\u00e8re les secr\u00e9taires se sont entendues pour correspondre par email (protocole de couche 1). Quand le message parvient \u00e0 l'autre secr\u00e9taire, il est transmis au traducteur local, qui le traduit en fran\u00e7ais et le transmet au deuxi\u00e8me philosophe. Notez que les protocoles sont compl\u00e8tement ind\u00e9pendants les uns des autres tant que les interfaces ne sont pas chang\u00e9es. Les traducteurs pourraient passer au finnois, pourvu qu'ils soient tous les deux d'accord et qu'aucun ne change ses interfaces avec les couches 1 et 3. De m\u00eame, les secr\u00e9taires pourraient choisir le t\u00e9l\u00e9phone ou les signaux de fum\u00e9es, sans d\u00e9ranger, ni m\u00eame aviser, les autres couches. Chaque processus peut ajouter certaines informations \u00e0 l'intention du processus pair uniquement, et celles-ci ne seront pas transmises \u00e0 la couche sup\u00e9rieure. Trames Ethernet Les paquets IP ne peuvent pas transiter sur un r\u00e9seau tel quel, ils vont eux aussi \u00eatre encapsul\u00e9s avant de pouvoir \u00ab voyager\u00bb sur le r\u00e9seau. L'encapsulation des paquets IP produit ce que l'on appelle une trame. Il n'est pas question d'\u00e9tudier en d\u00e9tail ce qu'est une trame, vous devez juste savoir qu'il existe de nombreux types de trames : ATM, token ring, PPP, Ethernet, Wifi... Nous allons uniquement \u00e9voquer la derni\u00e8re : la trame Ethernet (en sachant que la trame Wifi ressemble beaucoup \u00e0 la trame Ethernet). Nous avons vu que le paquet IP contient les adresses IP de l'\u00e9metteur et du r\u00e9cepteur : Le paquet IP \u00e9tant encapsul\u00e9 par la trame Ethernet, les adresses IP ne sont plus directement disponibles (il faut d\u00e9sencapsuler le paquet IP pour pouvoir lire ces adresses IP), nous allons donc trouver un autre type d'adresse qui permet d'identifier l'\u00e9metteur et le r\u00e9cepteur : l'adresse MAC ( Media Access Control ) aussi appel\u00e9e adresse physique. Une adresse MAC est cod\u00e9e sur 6 octets,et est \u00e9crite traditionnellement hexad\u00e9cimal, chaque octet \u00e9tant s\u00e9par\u00e9s par 2 points (exemple d'adresse MAC : 00:E0:4C:68:02:11 ). L'adresse MAC est li\u00e9e au mat\u00e9riel, chaque carte r\u00e9seau (Ethernet ou Wifi) poss\u00e8de sa propre adresse MAC, il n'existe pas dans le monde, 2 cartes r\u00e9seau (Ethernet ou Wifi) qui poss\u00e8dent la m\u00eame adresse MAC. Les 3 premiers octets d'une adresse MAC ( 00:E0:4C dans l'exemple ci-dessus) d\u00e9signent le constructeur du mat\u00e9riel, par exemple, 00:E0:4C d\u00e9signe le constructeur \u00ab Realtek semiconductor corp\u00bb. Au moment de l'encapsulation d'un paquet IP, l'ordinateur \u00e9metteur va utiliser un protocole nomm\u00e9 ARP ( Address Resolution Protocol ) qui va permettre de d\u00e9terminer l'adresse MAC de l'ordinateur destinataire, en effectuant une requ\u00eate de type broadcast (requ\u00eate destin\u00e9e \u00e0 tous les ordinateurs du r\u00e9seau) du type : \u00ab j'aimerais connaitre l'adresse MAC de l'ordinateur ayant pour IP XXX.XXX.XXX.XXX \u00bb. Une fois qu'il a obtenu une r\u00e9ponse \u00e0 cette requ\u00eate ARP, l'ordinateur \u00e9metteur encapsule le paquet IP dans une trame Ethernet et envoie cette trame sur le r\u00e9seau. L'encapsulation TCP En fait, TCP effectue lui aussi une encapsulation, les donn\u00e9es encapsul\u00e9es par TCP peuvent \u00eatre de plusieurs natures : requ\u00eates et r\u00e9ponses HTTP, ou FTP ( File Transfer Protocol ), SMTP ( Send Message Transfert Protocol ), DNS , etc... En conservant l'exemple d'une requ\u00eate HTTP, on a donc : Le mod\u00e8le des couches TCP/IP Le mod\u00e8le TCP/IP est donc un mod\u00e8le en couches : La couche du \u00ab dessous \u00bb encapsule la couche situ\u00e9e \u00ab au dessus \u00bb.On nomme ce syst\u00e8me de couche \u00ab mod\u00e8le de couches TCP/IP \u00bb car ce mod\u00e8le repose principalement sur TCP et IP. Il existe aussi un mod\u00e8le th\u00e9orique, dit mod\u00e8le OSI ( Open System Interconnectioon ), qui est un mod\u00e8le con\u00e7u \u00e0 la demande de l'ISO comme une premi\u00e8re \u00e9tape vers la normalisation internationale des protocoles utilis\u00e9s dans les diverses couches. Une description en est donn\u00e9e dans la figure ci-dessous : Une v\u00e9ritable trame Le logiciel libre Wireshark permet la capture et l'analyse de toutes les trames pasant par les diverses interfaces r\u00e9seau d'un ordinateur. Voici une copie d'\u00e9cran d'une capture : Voici les donn\u00e9es pr\u00e9sentes dans chaque onglet : Ethernet IP TCP HTTP Ethernet II, Src: FreeboxS_81:53:dc ( 68 :a3:78:81:53:dc ) , Dst: Giga-Byt_dd:1c:1b ( 90 :2b:34:dd:1c:1b ) Destination: Giga-Byt_dd:1c:1b ( 90 :2b:34:dd:1c:1b ) Address: Giga-Byt_dd:1c:1b ( 90 :2b:34:dd:1c:1b ) .... ..0. .... .... .... .... = LG bit: Globally unique address ( factory default ) .... ...0 .... .... .... .... = IG bit: Individual address ( unicast ) Source: FreeboxS_81:53:dc ( 68 :a3:78:81:53:dc ) Address: FreeboxS_81:53:dc ( 68 :a3:78:81:53:dc ) .... ..0. .... .... .... .... = LG bit: Globally unique address ( factory default ) .... ...0 .... .... .... .... = IG bit: Individual address ( unicast ) Type: IPv4 ( 0x0800 ) Internet Protocol Version 4 , Src: 195 .221.67.112, Dst: 192 .168.1.35 0100 .... = Version: 4 .... 0101 = Header Length: 20 bytes ( 5 ) Differentiated Services Field: 0x00 ( DSCP: CS0, ECN: Not-ECT ) 0000 00 .. = Differentiated Services Codepoint: Default ( 0 ) .... ..00 = Explicit Congestion Notification: Not ECN-Capable Transport ( 0 ) Total Length: 176 Identification: 0x4f14 ( 20244 ) Flags: 0x40, Don 't fragment 0... .... = Reserved bit: Not set .1.. .... = Don' t fragment: Set ..0. .... = More fragments: Not set Fragment Offset: 0 Time to Live: 247 Protocol: TCP ( 6 ) Header Checksum: 0x6b1a [ validation disabled ] [ Header checksum status: Unverified ] Source Address: 195 .221.67.112 Destination Address: 192 .168.1.35 Transmission Control Protocol, Src Port: 80 , Dst Port: 59676 , Seq: 1 , Ack: 497 , Len: 136 Source Port: 80 Destination Port: 59676 [ Stream index: 6 ] [ TCP Segment Len: 136 ] Sequence Number: 1 ( relative sequence number ) Sequence Number ( raw ) : 2717814275 [ Next Sequence Number: 137 ( relative sequence number )] Acknowledgment Number: 497 ( relative ack number ) Acknowledgment number ( raw ) : 3656933230 0101 .... = Header Length: 20 bytes ( 5 ) Flags: 0x018 ( PSH, ACK ) 000 . .... .... = Reserved: Not set ...0 .... .... = Nonce: Not set .... 0 ... .... = Congestion Window Reduced ( CWR ) : Not set .... .0.. .... = ECN-Echo: Not set .... ..0. .... = Urgent: Not set .... ...1 .... = Acknowledgment: Set .... .... 1 ... = Push: Set .... .... .0.. = Reset: Not set .... .... ..0. = Syn: Not set .... .... ...0 = Fin: Not set [ TCP Flags: \u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7AP\u00b7\u00b7\u00b7 ] Window: 4380 [ Calculated window size: 4380 ] [ Window size scaling factor: -2 ( no window scaling used )] Checksum: 0x26e8 [ unverified ] [ Checksum Status: Unverified ] Urgent Pointer: 0 [ SEQ/ACK analysis ] [ This is an ACK to the segment in frame: 105 ] [ The RTT to ACK the segment was: 0 .025245000 seconds ] [ iRTT: 0 .021163000 seconds ] [ Bytes in flight: 136 ] [ Bytes sent since last PSH flag: 136 ] [ Timestamps ] [ Time since first frame in this TCP stream: 0 .049359000 seconds ] [ Time since previous frame in this TCP stream: 0 .025245000 seconds ] TCP payload ( 136 bytes ) Hypertext Transfer Protocol HTTP/1.0 302 Moved Temporarily [ Expert Info ( Chat/Sequence ) : HTTP/1.0 302 Moved Temporarily ] [ HTTP/1.0 302 Moved Temporarily ] [ Severity level: Chat ] [ Group: Sequence ] Response Version: HTTP/1.0 Status Code: 302 [ Status Code Description: Found ] Response Phrase: Moved Temporarily Location: https://www.toutatice.fr/portail Server: BigIP Connection: Keep-Alive Content-Length: 0 [ Content length: 0 ] [ HTTP response 1 /1 ] [ Time since request: 0 .025245000 seconds ] [ Request in frame: 105 ] [ Request URI: http://www.toutatice.fr/portail ] Exercice Identifier chacun des \u00e9l\u00e9ments par sa couche. Quel est l'\u00e9metteur de cette trame ? Qui est le r\u00e9cepteur de cette trame ? Quel protocole d'application a \u00e9t\u00e9 utilis\u00e9 ? Quand cette trame a-t-elle \u00e9t\u00e9 \u00e9mise ? Protocole du bit altern\u00e9 Le principe Nous avons vu que le protocole TCP propose un m\u00e9canisme d'accus\u00e9s de r\u00e9ception afin de s'assurer qu'un paquet est bien arriv\u00e9 \u00e0 destination. On parle plus g\u00e9n\u00e9ralement de processus d'acquittement . Ces processus d'acquittement permettent de d\u00e9tecter les pertes de paquets au sein d'un r\u00e9seau, l'id\u00e9e \u00e9tant qu'en cas de perte, l'\u00e9metteur du paquet renvoie le paquet perdu au destinataire. Nous allons ici \u00e9tudier un protocole simple de r\u00e9cup\u00e9ration de perte de paquet : le protocole de bit altern\u00e9 . Le protocole de bit altern\u00e9 est impl\u00e9ment\u00e9 au niveau de la couche de liaison de donn\u00e9es du mod\u00e8le OSI (couche 2), il ne concerne donc pas les paquets, mais les trames . Le principe de ce protocole est simple, consid\u00e9rons 2 ordinateurs en r\u00e9seau : un ordinateur A qui sera l'\u00e9metteur des trames et un ordinateur B qui sera le destinataire des trames. Au moment d'\u00e9mettre une trame, A va ajouter \u00e0 cette trame un bit (1 ou 0) appel\u00e9 drapeau ( flag en anglais). B va envoyer un accus\u00e9 de r\u00e9ception ( acknowledge en anglais souvent not\u00e9 ACK ) \u00e0 destination de A d\u00e8s qu'il a re\u00e7u une trame en provenance de A. \u00c0 cet accus\u00e9 de r\u00e9ception on associe aussi un bit drapeau (1 ou 0). La r\u00e8gle est relativement simple : la premi\u00e8re trame envoy\u00e9e par A aura pour drapeau 0, d\u00e8s cette trame re\u00e7ue par B, ce dernier va envoyer un accus\u00e9 de r\u00e9ception avec le drapeau 1 (ce 1 signifie \u00ab la prochaine trame que A va m'envoyer devra avoir son drapeau \u00e0 1\u00bb). D\u00e8s que A re\u00e7oit l'accus\u00e9 de r\u00e9ception avec le drapeau \u00e0 1, il envoie la 2\u00e8me trame avec un drapeau \u00e0 1, et ainsi de suite... Le syst\u00e8me de drapeau est compl\u00e9t\u00e9 avec un syst\u00e8me d'horloge c\u00f4t\u00e9 \u00e9metteur. Un \u00abchronom\u00e8tre\u00bb est d\u00e9clench\u00e9 \u00e0 chaque envoi de trame, si au bout d'un certain temps, l'\u00e9metteur n'a pas re\u00e7u un acquittement correct (avec le bon drapeau), la trame pr\u00e9c\u00e9demment envoy\u00e9e par l'\u00e9metteur est consid\u00e9r\u00e9e comme perdue et est de nouveau envoy\u00e9e. Exemples d'erreur La trame est perdue : ) Au bout d'un certain temps ( TIME OUT ) A n'a pas re\u00e7u d'accus\u00e9 de r\u00e9ception, la trame est consid\u00e9r\u00e9e comme perdue, elle est donc renvoy\u00e9e. L'accus\u00e9 de r\u00e9ception est perdu : ) A ne re\u00e7oit pas d'accus\u00e9 de r\u00e9ception avec le drapeau \u00e0 1, il renvoie donc la trame 1 avec le drapeau 0. B re\u00e7oit donc cette trame avec un drapeau \u00e0 0 alors qu'il attend une trame avec un drapeau \u00e0 1 (puisqu'il a envoy\u00e9 un accus\u00e9 de r\u00e9ception avec un drapeau 1), il \"en d\u00e9duit\" que l'accus\u00e9 de r\u00e9ception pr\u00e9c\u00e9dent n'est pas arriv\u00e9 \u00e0 destination : il ne tient pas compte de la trame re\u00e7ue et renvoie l'accus\u00e9 de r\u00e9ception avec le drapeau \u00e0 1. Ensuite, le processus peut se poursuivre normalement. Exercice Dans certaines situations, le protocole de bit altern\u00e9 ne permet pas de r\u00e9cup\u00e9rer les trames perdues, c'est pour cela que ce protocole est aujourd'hui remplac\u00e9 par des protocoles plus efficaces, mais aussi plus complexes. Essayez de d\u00e9terminer une ou plusieurs situations o\u00f9 le protocole de bit altern\u00e9 est inefficace.","title":"R\u00e9seaux, Trames, Paquets"},{"location":"NSI/Premiere/C08/Trames/#reseaux-trames-et-paquets","text":"Les textes et illustrations sont extraites de pixees.fr . Un bon point de d\u00e9part est de conna\u00eetre le oprincipe de TCP/IP et le vocabulaire de base du r\u00e9seau, qu'on peut retrouver, ainsi que la manipulation du logiciel Filius , dans la partie du site sur le r\u00e9seau en SNT","title":"R\u00e9seaux, Trames et Paquets"},{"location":"NSI/Premiere/C08/Trames/#le-principe-dencapsulation","text":"Nous avons eu l'occasion de voir avec les protocoles TCP et IP le processus d'encapsulation des donn\u00e9es : \u00ab IP encapsule TCP \u00bb. On parle alors de communication en couches . Pour mieux comprendre ce que repr\u00e9sente la communication en couches, imaginez la situation suivante. Deux philosophes (couche 3) souhaitent s'entretenir, mais l'un parle ourdou et anglais, et l'autre chinois et fran\u00e7ais. Faute de pouvoir partager une langue commune, ils engagent chacun un traducteur (couche 2), qui fait appel \u00e0 son tour \u00e0 une secr\u00e9taire (couche 1). Le premier philosophe souhaite communiquer \u00e0 son homologue distant sa passion pour Oryctolagus cuniculus . Il transmet un message (en anglais) \u00e0 son traducteur de vive voix (interface \u2154), en indiquant \u00ab I like rabbits \u00bb. Comme les traducteurs se sont accord\u00e9s sur une langue commune, en l'occurrence le n\u00e9erlandais, le message est converti en \u00ab Ik vind konijnen leuk \u00bb.Le choix de cette langue fait partie du protocole de couche 2 et appartient aux seulement aux traducteurs. Le traducteur \u00e9crit le message et le passe \u00e0 sa secr\u00e9taire (interface \u00bd) pour transmission. de la m\u00eame mani\u00e8re les secr\u00e9taires se sont entendues pour correspondre par email (protocole de couche 1). Quand le message parvient \u00e0 l'autre secr\u00e9taire, il est transmis au traducteur local, qui le traduit en fran\u00e7ais et le transmet au deuxi\u00e8me philosophe. Notez que les protocoles sont compl\u00e8tement ind\u00e9pendants les uns des autres tant que les interfaces ne sont pas chang\u00e9es. Les traducteurs pourraient passer au finnois, pourvu qu'ils soient tous les deux d'accord et qu'aucun ne change ses interfaces avec les couches 1 et 3. De m\u00eame, les secr\u00e9taires pourraient choisir le t\u00e9l\u00e9phone ou les signaux de fum\u00e9es, sans d\u00e9ranger, ni m\u00eame aviser, les autres couches. Chaque processus peut ajouter certaines informations \u00e0 l'intention du processus pair uniquement, et celles-ci ne seront pas transmises \u00e0 la couche sup\u00e9rieure.","title":"Le principe d'encapsulation"},{"location":"NSI/Premiere/C08/Trames/#trames-ethernet","text":"Les paquets IP ne peuvent pas transiter sur un r\u00e9seau tel quel, ils vont eux aussi \u00eatre encapsul\u00e9s avant de pouvoir \u00ab voyager\u00bb sur le r\u00e9seau. L'encapsulation des paquets IP produit ce que l'on appelle une trame. Il n'est pas question d'\u00e9tudier en d\u00e9tail ce qu'est une trame, vous devez juste savoir qu'il existe de nombreux types de trames : ATM, token ring, PPP, Ethernet, Wifi... Nous allons uniquement \u00e9voquer la derni\u00e8re : la trame Ethernet (en sachant que la trame Wifi ressemble beaucoup \u00e0 la trame Ethernet). Nous avons vu que le paquet IP contient les adresses IP de l'\u00e9metteur et du r\u00e9cepteur : Le paquet IP \u00e9tant encapsul\u00e9 par la trame Ethernet, les adresses IP ne sont plus directement disponibles (il faut d\u00e9sencapsuler le paquet IP pour pouvoir lire ces adresses IP), nous allons donc trouver un autre type d'adresse qui permet d'identifier l'\u00e9metteur et le r\u00e9cepteur : l'adresse MAC ( Media Access Control ) aussi appel\u00e9e adresse physique. Une adresse MAC est cod\u00e9e sur 6 octets,et est \u00e9crite traditionnellement hexad\u00e9cimal, chaque octet \u00e9tant s\u00e9par\u00e9s par 2 points (exemple d'adresse MAC : 00:E0:4C:68:02:11 ). L'adresse MAC est li\u00e9e au mat\u00e9riel, chaque carte r\u00e9seau (Ethernet ou Wifi) poss\u00e8de sa propre adresse MAC, il n'existe pas dans le monde, 2 cartes r\u00e9seau (Ethernet ou Wifi) qui poss\u00e8dent la m\u00eame adresse MAC. Les 3 premiers octets d'une adresse MAC ( 00:E0:4C dans l'exemple ci-dessus) d\u00e9signent le constructeur du mat\u00e9riel, par exemple, 00:E0:4C d\u00e9signe le constructeur \u00ab Realtek semiconductor corp\u00bb. Au moment de l'encapsulation d'un paquet IP, l'ordinateur \u00e9metteur va utiliser un protocole nomm\u00e9 ARP ( Address Resolution Protocol ) qui va permettre de d\u00e9terminer l'adresse MAC de l'ordinateur destinataire, en effectuant une requ\u00eate de type broadcast (requ\u00eate destin\u00e9e \u00e0 tous les ordinateurs du r\u00e9seau) du type : \u00ab j'aimerais connaitre l'adresse MAC de l'ordinateur ayant pour IP XXX.XXX.XXX.XXX \u00bb. Une fois qu'il a obtenu une r\u00e9ponse \u00e0 cette requ\u00eate ARP, l'ordinateur \u00e9metteur encapsule le paquet IP dans une trame Ethernet et envoie cette trame sur le r\u00e9seau.","title":"Trames Ethernet"},{"location":"NSI/Premiere/C08/Trames/#lencapsulation-tcp","text":"En fait, TCP effectue lui aussi une encapsulation, les donn\u00e9es encapsul\u00e9es par TCP peuvent \u00eatre de plusieurs natures : requ\u00eates et r\u00e9ponses HTTP, ou FTP ( File Transfer Protocol ), SMTP ( Send Message Transfert Protocol ), DNS , etc... En conservant l'exemple d'une requ\u00eate HTTP, on a donc :","title":"L'encapsulation TCP"},{"location":"NSI/Premiere/C08/Trames/#le-modele-des-couches-tcpip","text":"Le mod\u00e8le TCP/IP est donc un mod\u00e8le en couches : La couche du \u00ab dessous \u00bb encapsule la couche situ\u00e9e \u00ab au dessus \u00bb.On nomme ce syst\u00e8me de couche \u00ab mod\u00e8le de couches TCP/IP \u00bb car ce mod\u00e8le repose principalement sur TCP et IP. Il existe aussi un mod\u00e8le th\u00e9orique, dit mod\u00e8le OSI ( Open System Interconnectioon ), qui est un mod\u00e8le con\u00e7u \u00e0 la demande de l'ISO comme une premi\u00e8re \u00e9tape vers la normalisation internationale des protocoles utilis\u00e9s dans les diverses couches. Une description en est donn\u00e9e dans la figure ci-dessous :","title":"Le mod\u00e8le des couches TCP/IP"},{"location":"NSI/Premiere/C08/Trames/#une-veritable-trame","text":"Le logiciel libre Wireshark permet la capture et l'analyse de toutes les trames pasant par les diverses interfaces r\u00e9seau d'un ordinateur. Voici une copie d'\u00e9cran d'une capture : Voici les donn\u00e9es pr\u00e9sentes dans chaque onglet : Ethernet IP TCP HTTP Ethernet II, Src: FreeboxS_81:53:dc ( 68 :a3:78:81:53:dc ) , Dst: Giga-Byt_dd:1c:1b ( 90 :2b:34:dd:1c:1b ) Destination: Giga-Byt_dd:1c:1b ( 90 :2b:34:dd:1c:1b ) Address: Giga-Byt_dd:1c:1b ( 90 :2b:34:dd:1c:1b ) .... ..0. .... .... .... .... = LG bit: Globally unique address ( factory default ) .... ...0 .... .... .... .... = IG bit: Individual address ( unicast ) Source: FreeboxS_81:53:dc ( 68 :a3:78:81:53:dc ) Address: FreeboxS_81:53:dc ( 68 :a3:78:81:53:dc ) .... ..0. .... .... .... .... = LG bit: Globally unique address ( factory default ) .... ...0 .... .... .... .... = IG bit: Individual address ( unicast ) Type: IPv4 ( 0x0800 ) Internet Protocol Version 4 , Src: 195 .221.67.112, Dst: 192 .168.1.35 0100 .... = Version: 4 .... 0101 = Header Length: 20 bytes ( 5 ) Differentiated Services Field: 0x00 ( DSCP: CS0, ECN: Not-ECT ) 0000 00 .. = Differentiated Services Codepoint: Default ( 0 ) .... ..00 = Explicit Congestion Notification: Not ECN-Capable Transport ( 0 ) Total Length: 176 Identification: 0x4f14 ( 20244 ) Flags: 0x40, Don 't fragment 0... .... = Reserved bit: Not set .1.. .... = Don' t fragment: Set ..0. .... = More fragments: Not set Fragment Offset: 0 Time to Live: 247 Protocol: TCP ( 6 ) Header Checksum: 0x6b1a [ validation disabled ] [ Header checksum status: Unverified ] Source Address: 195 .221.67.112 Destination Address: 192 .168.1.35 Transmission Control Protocol, Src Port: 80 , Dst Port: 59676 , Seq: 1 , Ack: 497 , Len: 136 Source Port: 80 Destination Port: 59676 [ Stream index: 6 ] [ TCP Segment Len: 136 ] Sequence Number: 1 ( relative sequence number ) Sequence Number ( raw ) : 2717814275 [ Next Sequence Number: 137 ( relative sequence number )] Acknowledgment Number: 497 ( relative ack number ) Acknowledgment number ( raw ) : 3656933230 0101 .... = Header Length: 20 bytes ( 5 ) Flags: 0x018 ( PSH, ACK ) 000 . .... .... = Reserved: Not set ...0 .... .... = Nonce: Not set .... 0 ... .... = Congestion Window Reduced ( CWR ) : Not set .... .0.. .... = ECN-Echo: Not set .... ..0. .... = Urgent: Not set .... ...1 .... = Acknowledgment: Set .... .... 1 ... = Push: Set .... .... .0.. = Reset: Not set .... .... ..0. = Syn: Not set .... .... ...0 = Fin: Not set [ TCP Flags: \u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7AP\u00b7\u00b7\u00b7 ] Window: 4380 [ Calculated window size: 4380 ] [ Window size scaling factor: -2 ( no window scaling used )] Checksum: 0x26e8 [ unverified ] [ Checksum Status: Unverified ] Urgent Pointer: 0 [ SEQ/ACK analysis ] [ This is an ACK to the segment in frame: 105 ] [ The RTT to ACK the segment was: 0 .025245000 seconds ] [ iRTT: 0 .021163000 seconds ] [ Bytes in flight: 136 ] [ Bytes sent since last PSH flag: 136 ] [ Timestamps ] [ Time since first frame in this TCP stream: 0 .049359000 seconds ] [ Time since previous frame in this TCP stream: 0 .025245000 seconds ] TCP payload ( 136 bytes ) Hypertext Transfer Protocol HTTP/1.0 302 Moved Temporarily [ Expert Info ( Chat/Sequence ) : HTTP/1.0 302 Moved Temporarily ] [ HTTP/1.0 302 Moved Temporarily ] [ Severity level: Chat ] [ Group: Sequence ] Response Version: HTTP/1.0 Status Code: 302 [ Status Code Description: Found ] Response Phrase: Moved Temporarily Location: https://www.toutatice.fr/portail Server: BigIP Connection: Keep-Alive Content-Length: 0 [ Content length: 0 ] [ HTTP response 1 /1 ] [ Time since request: 0 .025245000 seconds ] [ Request in frame: 105 ] [ Request URI: http://www.toutatice.fr/portail ] Exercice Identifier chacun des \u00e9l\u00e9ments par sa couche. Quel est l'\u00e9metteur de cette trame ? Qui est le r\u00e9cepteur de cette trame ? Quel protocole d'application a \u00e9t\u00e9 utilis\u00e9 ? Quand cette trame a-t-elle \u00e9t\u00e9 \u00e9mise ?","title":"Une v\u00e9ritable trame"},{"location":"NSI/Premiere/C08/Trames/#protocole-du-bit-alterne","text":"","title":"Protocole du bit altern\u00e9"},{"location":"NSI/Premiere/C08/Trames/#le-principe","text":"Nous avons vu que le protocole TCP propose un m\u00e9canisme d'accus\u00e9s de r\u00e9ception afin de s'assurer qu'un paquet est bien arriv\u00e9 \u00e0 destination. On parle plus g\u00e9n\u00e9ralement de processus d'acquittement . Ces processus d'acquittement permettent de d\u00e9tecter les pertes de paquets au sein d'un r\u00e9seau, l'id\u00e9e \u00e9tant qu'en cas de perte, l'\u00e9metteur du paquet renvoie le paquet perdu au destinataire. Nous allons ici \u00e9tudier un protocole simple de r\u00e9cup\u00e9ration de perte de paquet : le protocole de bit altern\u00e9 . Le protocole de bit altern\u00e9 est impl\u00e9ment\u00e9 au niveau de la couche de liaison de donn\u00e9es du mod\u00e8le OSI (couche 2), il ne concerne donc pas les paquets, mais les trames . Le principe de ce protocole est simple, consid\u00e9rons 2 ordinateurs en r\u00e9seau : un ordinateur A qui sera l'\u00e9metteur des trames et un ordinateur B qui sera le destinataire des trames. Au moment d'\u00e9mettre une trame, A va ajouter \u00e0 cette trame un bit (1 ou 0) appel\u00e9 drapeau ( flag en anglais). B va envoyer un accus\u00e9 de r\u00e9ception ( acknowledge en anglais souvent not\u00e9 ACK ) \u00e0 destination de A d\u00e8s qu'il a re\u00e7u une trame en provenance de A. \u00c0 cet accus\u00e9 de r\u00e9ception on associe aussi un bit drapeau (1 ou 0). La r\u00e8gle est relativement simple : la premi\u00e8re trame envoy\u00e9e par A aura pour drapeau 0, d\u00e8s cette trame re\u00e7ue par B, ce dernier va envoyer un accus\u00e9 de r\u00e9ception avec le drapeau 1 (ce 1 signifie \u00ab la prochaine trame que A va m'envoyer devra avoir son drapeau \u00e0 1\u00bb). D\u00e8s que A re\u00e7oit l'accus\u00e9 de r\u00e9ception avec le drapeau \u00e0 1, il envoie la 2\u00e8me trame avec un drapeau \u00e0 1, et ainsi de suite... Le syst\u00e8me de drapeau est compl\u00e9t\u00e9 avec un syst\u00e8me d'horloge c\u00f4t\u00e9 \u00e9metteur. Un \u00abchronom\u00e8tre\u00bb est d\u00e9clench\u00e9 \u00e0 chaque envoi de trame, si au bout d'un certain temps, l'\u00e9metteur n'a pas re\u00e7u un acquittement correct (avec le bon drapeau), la trame pr\u00e9c\u00e9demment envoy\u00e9e par l'\u00e9metteur est consid\u00e9r\u00e9e comme perdue et est de nouveau envoy\u00e9e.","title":"Le principe"},{"location":"NSI/Premiere/C08/Trames/#exemples-derreur","text":"La trame est perdue : ) Au bout d'un certain temps ( TIME OUT ) A n'a pas re\u00e7u d'accus\u00e9 de r\u00e9ception, la trame est consid\u00e9r\u00e9e comme perdue, elle est donc renvoy\u00e9e. L'accus\u00e9 de r\u00e9ception est perdu : ) A ne re\u00e7oit pas d'accus\u00e9 de r\u00e9ception avec le drapeau \u00e0 1, il renvoie donc la trame 1 avec le drapeau 0. B re\u00e7oit donc cette trame avec un drapeau \u00e0 0 alors qu'il attend une trame avec un drapeau \u00e0 1 (puisqu'il a envoy\u00e9 un accus\u00e9 de r\u00e9ception avec un drapeau 1), il \"en d\u00e9duit\" que l'accus\u00e9 de r\u00e9ception pr\u00e9c\u00e9dent n'est pas arriv\u00e9 \u00e0 destination : il ne tient pas compte de la trame re\u00e7ue et renvoie l'accus\u00e9 de r\u00e9ception avec le drapeau \u00e0 1. Ensuite, le processus peut se poursuivre normalement. Exercice Dans certaines situations, le protocole de bit altern\u00e9 ne permet pas de r\u00e9cup\u00e9rer les trames perdues, c'est pour cela que ce protocole est aujourd'hui remplac\u00e9 par des protocoles plus efficaces, mais aussi plus complexes. Essayez de d\u00e9terminer une ou plusieurs situations o\u00f9 le protocole de bit altern\u00e9 est inefficace.","title":"Exemples d'erreur"},{"location":"NSI/Premiere/Projets/BanditManchot/Projet_Bandit_Manchot/","text":"Projet : Bandit Manchot Principes du projet LA NOTE MAXIMALE DE CE PROJET EST DE 18 SANS LA PARTIE FACULTATIVE ! Vous travaillerez par binomes sur ce projet (ou exceptionnellement par trinome). Vous rendrez le code complet pour le 09 novembre 2022 au plus tard. Vous aurez un temps en classe pour r\u00e9aliser le projet, mais ce temps ne sera pas suffisant ! Vous devrez vous coordonner pour arriver \u00e0 vos fins ! Description du projet L'objectif est de simuler une partie de machine \u00e0 sous de casino de type Bandit Manchot. Le ou la joueur\u00b7euse commence la partie avec 500 \u20ac. Il ou elle parie une somme comprise entre 10 \u20ac et son pot actuel. Le bandit-manchot tire alors al\u00e9atoirement une s\u00e9rie de trois symboles, qui donnent ou non un gain selon le tirage. Si le pot n'est pas \u00e9gal \u00e0 z\u00e9ro, le ou la joueur\u00b7euse peut rejouer si il ou elle le souhaite. Facultatif : Le joueur/la joueuse peut se voir proposer de sauvegarder son nom et son score. Sule les 10 meilleusr scores sont sauvegard\u00e9s. Exemple de r\u00e9alisation Table des gains Il existe de nombreuses tables de gains pour une machine \u00e0 sous. Vous devrez cependant utiliser la table ci-dessous pour passer tous les tests : Cha\u00eene Gain D\u00e9tails 777 100 fois la mise \u03a9\u03a9\u03a9 50 fois la mise \u2665\u2665\u2665 20 fois la mise On aura de m\u00eame pour les autres symboles \u2660 , \u2666 et \u2663 \u03a97\u03a9 10 fois la mise On aura de m\u00eame si l'ordre des symboles change \u2660\u26607 5 fois la mise On aura de m\u00eame si l'ordre des symboles change, et avec les symboles, \u2665 \u2666 et \u2663 \u2660\u03a97 2 fois la mise ou pour toute autre s\u00e9rie de trois symboles diff\u00e9rents Les fonctions n\u00e9cessaires Base de travail Vous trouverez ici une base de code \u00e0 utiliser pour r\u00e9aliser le jeu. Fonctions get_score et sauve_score Ces fonctions ne sont pas \u00e0 modifier , ni m\u00eame \u00e0 comprendre... Elles sont n\u00e9cessaires pour la partie facultative du projet ! Plan de travail Voii quelques \u00e9l\u00e9ments sur le code, dont un plan de travail : Une variable globale symboles = \"\u2660\u2665\u2666\u26637\u03a9\" donne les 6 symboles utilis\u00e9s dans le bandit-manchot. Vous devrez concevoir une fonction choisir_symbole qui prend en argument la cha\u00eene de caract\u00e8res symboles , et renvoie une chaine de caract\u00e8re contenant un seul de ces symboles al\u00e9atoirement . La fonction fabriquer_chaine doit fournir une cha\u00eene de caract\u00e8res de taille taille (par d\u00e9faut 3), dont tous les caract\u00e8res sont al\u00e9atoirement choisis parmi une liste de caract\u00e8res symboles . Inutile de r\u00e9i\u00e7nventer l'eau chaude, puisque vous avez d\u00e9j\u00e0 fait la question pr\u00e9c\u00e9dente. Vous impl\u00e9menterez ensuite une fonction compte_symboles_identiques , qui prend en argument un caract\u00e8re s , et qui cherche le nombre d'occurence de ce caract\u00e8re dans la chaine chaine pass\u00e9e en argument. Les exemples donn\u00e9s dans la docstring doivent vous aider. Vous pourrez ensuite impl\u00e9menter la fonction presence_symboles_identiques_multiples (p\u00e9nible \u00e0 taper ce nom... mais ne le changez pas !) qui prend en argument une liste de symboles symboles , et une chaine de caract\u00e8res chaine , et qui renvoie True si un des symboles est pr\u00e9sent plusieurs fois dans la chaine , ou False si ce n'est pas le cas. En parall\u00e8le (c'est-\u00e0-dire que vous pouvez faire cette fonction ind\u00e9pendamment des autres), vous pourrez impl\u00e9menter la fonction table_gain qui renvoie le gain associ\u00e9 \u00e0 la chaine pass\u00e9e en argument, en fonction de la mise de d\u00e9part. En parall\u00e8le, vous pourrez impl\u00e9menter la fonction saisir_mise qui prend en argument une valeur (le pot actuel du joueur/de la joueuse), et renvoie la mise saisie par le joueur/la joueuse. En parall\u00e8le, vous impl\u00e9menterez la fonction demander_continuer , qui demande \u00e0 l'utilisateur\u00b7trice si il souhaite refaire une nouvelle manche de jeu, et renvoie un bool\u00e9en correspondant \u00e0 la r\u00e9ponse. En parall\u00e8le, vous impl\u00e9menterez une fonction afficher_bandit sans valeur de retour, qui affiche dans la console le bandit-manchot ainsi que le gain correspondant. Vous pouvez vous inspirer de la fonction presentation qui vous est fournie. Une fois toutes les \u00e9tapes pr\u00e9c\u00e9dentes termin\u00e9es, vous impl\u00e9menterez une fonction main_game qui repr\u00e9sente la totalit\u00e9 du jeu d'un joueur/d'une joueuse, jusqu'\u00e0 ce qu'il/elle abandonne ou qu'il/elle s'arr\u00eate. La fonction renverra le gain r\u00e9el du joueur/de la joueuse , qui pourra servir \u00e0 la phase suivante. Facultatif : en utilisant les fonctions sauve_score et get_score , ins\u00e9rez \u00e0 la fin du jeu la possibilt\u00e9 d'enregistrer son score, puis qui affiche les 10 meilleurs scores enregistr\u00e9s. Grille de notation intitul\u00e9 bar\u00eame D\u00e9tails fonction choisir_symbole 1 pt assertions efficaces fonction fabriquer_chaine 1 pt assertions efficaces fonction compte_symboles_identiques 1 pt passage de tous les tests unitaires fonction presence_symboles_identiques_multiples 2 pt fonction table_gain 1 pt passage de tous les tests unitaires fonction saisir_mise 1 pt dumbproof fonction demander_continuer 1 pt dumbproof fonction afficher_bandit 1 pt Affichage correct fonction main_game 4 pts On attend un jeu a minima fonctionnel Noms des variables clairs 2 pts On proscrira les noms de variable d'un seul caract\u00e8re, sauf compteurs pr\u00e9cis Code comment\u00e9 et clair 2 pts Des explications minimales doivent \u00eatre \u00e9crites pour expliquer votre code Am\u00e9liorations, qualit\u00e9 du code, etc... 1 pts Partie facultative 2 pts Avec un affichage correct et une bonne saisie","title":"Projet : Bandit-Manchot"},{"location":"NSI/Premiere/Projets/BanditManchot/Projet_Bandit_Manchot/#projet-bandit-manchot","text":"Principes du projet LA NOTE MAXIMALE DE CE PROJET EST DE 18 SANS LA PARTIE FACULTATIVE ! Vous travaillerez par binomes sur ce projet (ou exceptionnellement par trinome). Vous rendrez le code complet pour le 09 novembre 2022 au plus tard. Vous aurez un temps en classe pour r\u00e9aliser le projet, mais ce temps ne sera pas suffisant ! Vous devrez vous coordonner pour arriver \u00e0 vos fins !","title":"Projet : Bandit Manchot"},{"location":"NSI/Premiere/Projets/BanditManchot/Projet_Bandit_Manchot/#description-du-projet","text":"L'objectif est de simuler une partie de machine \u00e0 sous de casino de type Bandit Manchot. Le ou la joueur\u00b7euse commence la partie avec 500 \u20ac. Il ou elle parie une somme comprise entre 10 \u20ac et son pot actuel. Le bandit-manchot tire alors al\u00e9atoirement une s\u00e9rie de trois symboles, qui donnent ou non un gain selon le tirage. Si le pot n'est pas \u00e9gal \u00e0 z\u00e9ro, le ou la joueur\u00b7euse peut rejouer si il ou elle le souhaite. Facultatif : Le joueur/la joueuse peut se voir proposer de sauvegarder son nom et son score. Sule les 10 meilleusr scores sont sauvegard\u00e9s. Exemple de r\u00e9alisation Table des gains Il existe de nombreuses tables de gains pour une machine \u00e0 sous. Vous devrez cependant utiliser la table ci-dessous pour passer tous les tests : Cha\u00eene Gain D\u00e9tails 777 100 fois la mise \u03a9\u03a9\u03a9 50 fois la mise \u2665\u2665\u2665 20 fois la mise On aura de m\u00eame pour les autres symboles \u2660 , \u2666 et \u2663 \u03a97\u03a9 10 fois la mise On aura de m\u00eame si l'ordre des symboles change \u2660\u26607 5 fois la mise On aura de m\u00eame si l'ordre des symboles change, et avec les symboles, \u2665 \u2666 et \u2663 \u2660\u03a97 2 fois la mise ou pour toute autre s\u00e9rie de trois symboles diff\u00e9rents","title":"Description du projet"},{"location":"NSI/Premiere/Projets/BanditManchot/Projet_Bandit_Manchot/#les-fonctions-necessaires","text":"Base de travail Vous trouverez ici une base de code \u00e0 utiliser pour r\u00e9aliser le jeu. Fonctions get_score et sauve_score Ces fonctions ne sont pas \u00e0 modifier , ni m\u00eame \u00e0 comprendre... Elles sont n\u00e9cessaires pour la partie facultative du projet !","title":"Les fonctions n\u00e9cessaires"},{"location":"NSI/Premiere/Projets/BanditManchot/Projet_Bandit_Manchot/#plan-de-travail","text":"Voii quelques \u00e9l\u00e9ments sur le code, dont un plan de travail : Une variable globale symboles = \"\u2660\u2665\u2666\u26637\u03a9\" donne les 6 symboles utilis\u00e9s dans le bandit-manchot. Vous devrez concevoir une fonction choisir_symbole qui prend en argument la cha\u00eene de caract\u00e8res symboles , et renvoie une chaine de caract\u00e8re contenant un seul de ces symboles al\u00e9atoirement . La fonction fabriquer_chaine doit fournir une cha\u00eene de caract\u00e8res de taille taille (par d\u00e9faut 3), dont tous les caract\u00e8res sont al\u00e9atoirement choisis parmi une liste de caract\u00e8res symboles . Inutile de r\u00e9i\u00e7nventer l'eau chaude, puisque vous avez d\u00e9j\u00e0 fait la question pr\u00e9c\u00e9dente. Vous impl\u00e9menterez ensuite une fonction compte_symboles_identiques , qui prend en argument un caract\u00e8re s , et qui cherche le nombre d'occurence de ce caract\u00e8re dans la chaine chaine pass\u00e9e en argument. Les exemples donn\u00e9s dans la docstring doivent vous aider. Vous pourrez ensuite impl\u00e9menter la fonction presence_symboles_identiques_multiples (p\u00e9nible \u00e0 taper ce nom... mais ne le changez pas !) qui prend en argument une liste de symboles symboles , et une chaine de caract\u00e8res chaine , et qui renvoie True si un des symboles est pr\u00e9sent plusieurs fois dans la chaine , ou False si ce n'est pas le cas. En parall\u00e8le (c'est-\u00e0-dire que vous pouvez faire cette fonction ind\u00e9pendamment des autres), vous pourrez impl\u00e9menter la fonction table_gain qui renvoie le gain associ\u00e9 \u00e0 la chaine pass\u00e9e en argument, en fonction de la mise de d\u00e9part. En parall\u00e8le, vous pourrez impl\u00e9menter la fonction saisir_mise qui prend en argument une valeur (le pot actuel du joueur/de la joueuse), et renvoie la mise saisie par le joueur/la joueuse. En parall\u00e8le, vous impl\u00e9menterez la fonction demander_continuer , qui demande \u00e0 l'utilisateur\u00b7trice si il souhaite refaire une nouvelle manche de jeu, et renvoie un bool\u00e9en correspondant \u00e0 la r\u00e9ponse. En parall\u00e8le, vous impl\u00e9menterez une fonction afficher_bandit sans valeur de retour, qui affiche dans la console le bandit-manchot ainsi que le gain correspondant. Vous pouvez vous inspirer de la fonction presentation qui vous est fournie. Une fois toutes les \u00e9tapes pr\u00e9c\u00e9dentes termin\u00e9es, vous impl\u00e9menterez une fonction main_game qui repr\u00e9sente la totalit\u00e9 du jeu d'un joueur/d'une joueuse, jusqu'\u00e0 ce qu'il/elle abandonne ou qu'il/elle s'arr\u00eate. La fonction renverra le gain r\u00e9el du joueur/de la joueuse , qui pourra servir \u00e0 la phase suivante. Facultatif : en utilisant les fonctions sauve_score et get_score , ins\u00e9rez \u00e0 la fin du jeu la possibilt\u00e9 d'enregistrer son score, puis qui affiche les 10 meilleurs scores enregistr\u00e9s.","title":"Plan de travail"},{"location":"NSI/Premiere/Projets/BanditManchot/Projet_Bandit_Manchot/#grille-de-notation","text":"intitul\u00e9 bar\u00eame D\u00e9tails fonction choisir_symbole 1 pt assertions efficaces fonction fabriquer_chaine 1 pt assertions efficaces fonction compte_symboles_identiques 1 pt passage de tous les tests unitaires fonction presence_symboles_identiques_multiples 2 pt fonction table_gain 1 pt passage de tous les tests unitaires fonction saisir_mise 1 pt dumbproof fonction demander_continuer 1 pt dumbproof fonction afficher_bandit 1 pt Affichage correct fonction main_game 4 pts On attend un jeu a minima fonctionnel Noms des variables clairs 2 pts On proscrira les noms de variable d'un seul caract\u00e8re, sauf compteurs pr\u00e9cis Code comment\u00e9 et clair 2 pts Des explications minimales doivent \u00eatre \u00e9crites pour expliquer votre code Am\u00e9liorations, qualit\u00e9 du code, etc... 1 pts Partie facultative 2 pts Avec un affichage correct et une bonne saisie","title":"Grille de notation"},{"location":"NSI/Premiere/Projets/NasaWeb/Nasa_Web/","text":"Projet Rover Curiosity Nasa L'objectif est de cr\u00e9er une page web permettant d'afficher les photos prises par le rover Curiosity de la plan\u00e8te Mars, en choisissant la date de prise de vue et la cam\u00e9ra \u00e0 partir d'un formulaire, et avec des boutons permettant de naviguer d'une photo \u00e0 l'autre. L'API de la NASA Notion d'API *D'apr\u00e8s wikipedia Une API ( application programming interface ou \u00ab interface de programmation d'application \u00bb) est un ensemble normalis\u00e9 de classes , de m\u00e9thodes , de fonctions et de constantes qui sert de fa\u00e7ade par laquelle un logiciel offre des services \u00e0 d'autres logiciels. Elle est offerte par une biblioth\u00e8que logicielle ou un service web , le plus souvent accompagn\u00e9e d'une description qui sp\u00e9cifie comment des programmes \u00ab consommateurs \u00bb peuvent se servir des fonctionnalit\u00e9s du programme \u00ab fournisseur \u00bb. La NASA offre des API libres d'acc\u00e8s (avec une cl\u00e9 personnelle) permettant de parcourir des donn\u00e9es collect\u00e9es par des satellites, des t\u00e9l\u00e9scopes, des robots, etc... Nous nous interesserons \u00e0 l'API Mars Rover Photos . Cette API permet de consulter les photos prises par les diff\u00e9rents Rovers sur Mars, \u00e0 diff\u00e9rentes dates. Par exemple, en utilisant l'url suivante : https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?earth_date=2015-6-3&camera=FHAZ&api_key=DEMO_KEY on r\u00e9cup\u00e8re des donn\u00e9es au format JSON donnant toutes les informations sur les images prises par la cam\u00e9ra avant ( FHAZ ) du rover Curiosity le 3 juin 2016. { \"photos\" : [ { \"id\" : 102685 , \"sol\" : 1004 , \"camera\" : { \"id\" : 20 , \"name\" : \"FHAZ\" , \"rover_id\" : 5 , \"full_name\" : \"Front Hazard Avoidance Camera\" }, \"img_src\" : \"http://mars.jpl.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/01004/opgs/edr/fcam/FLB_486615455EDR_F0481570FHAZ00323M_.JPG\" , \"earth_date\" : \"2015-06-03\" , \"rover\" : { \"id\" : 5 , \"name\" : \"Curiosity\" , \"landing_date\" : \"2012-08-06\" , \"launch_date\" : \"2011-11-26\" , \"status\" : \"active\" } }, { \"id\" : 102686 , \"sol\" : 1004 , \"camera\" : { \"id\" : 20 , \"name\" : \"FHAZ\" , \"rover_id\" : 5 , \"full_name\" : \"Front Hazard Avoidance Camera\" }, \"img_src\" : \"http://mars.jpl.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/01004/opgs/edr/fcam/FRB_486615455EDR_F0481570FHAZ00323M_.JPG\" , \"earth_date\" : \"2015-06-03\" , \"rover\" : { \"id\" : 5 , \"name\" : \"Curiosity\" , \"landing_date\" : \"2012-08-06\" , \"launch_date\" : \"2011-11-26\" , \"status\" : \"active\" } } ] } Le format JSON et les types de donn\u00e9es Format JSON JSON ( JavaScript Object Notation \u2013 Notation Objet issue de JavaScript) est un format l\u00e9ger d'\u00e9change de donn\u00e9es. Il est facile \u00e0 lire ou \u00e0 \u00e9crire pour des humains. Il est ais\u00e9ment analysable ou g\u00e9n\u00e9rable par des machines, et il utilise des notations famili\u00e8res aux langages descendant du langage C , comme C, C++, java, Javascript, Python... JSON se base sur deux structures: Une liste de valeurs ordonn\u00e9es, qui correspond au type list de Python, donc encadr\u00e9 par des crochets [ et ] . Les valeurs sont accessibles par leur indice ; Une collection de couples nom/valeur, qui correspond au type dict (dictionnaire) de Python, c'est-\u00e0-dire encadr\u00e9 par des accolades { et } . Les valeurs sont accessibles par leur cl\u00e9 . Aper\u00e7u rapide des dictionnaires de Python / Collections en Javascript Le but ici n'est pas de d\u00e9taill\u00e9 le fonctionnement des dictionnaires/collections, chose que nous ferons plus tard dans un chapitre d\u00e9di\u00e9, mais de vous donner un aper\u00e7u de l'utilisation de ces dictionnaires. Consid\u00e9rons le code suivant ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder perso1 = {'nom' : 'DarkVador', bksl-nl'Age' : 41,bksl-nl'Pilote' : 'Tie Fighter',bksl-nl'Sabre' : 'Rouge', bksl-nl'enfants' : ['Luke Skywalker', 'Leia Organa']}bksl-nlbksl-nlperso2 = {'nom' : 'Luke Skywalker', bksl-nl'Age' : 19,bksl-nl'Pilote' : 'X-Wing',bksl-nl'Sabre' : 'Vert', bksl-nl'enfants' : None }bksl-nl Pour le dictionnaire perso1 , l'appel \u00e0 la cl\u00e9 \"nom\" renverra la cha\u00eene de caract\u00e8re \"Dark Vador\" : >>> perso1 [ \"nom\" ] \"Dark Vador\" Pour le dictionnaire perso2 , l'appel \u00e0 la cl\u00e9 \"Sabre\" renverra la cha\u00eene de caract\u00e8re \"Vert\" : >>> perso2 [ \"Sabre\" ] \"Vert\" Pour le dictionnaire perso1 , l'appel \u00e0 la cl\u00e9 \"enfants\" renverra la liste ['Luke Skywalker', 'Leia Organa'] : >>> perso1 [ \"enfants\" ] [ 'Luke Skywalker' , 'Leia Organa' ] Il sera alors possible d'atteindre la cha\u00eene 'Leia Organa' en utilisant l'indice de celle-ci dans la liste : >>> perso1 [ \"enfants\" ][ 1 ] 'Leia Organa' Analyse des donn\u00e9es re\u00e7ues par une requ\u00eate La requ\u00eate https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?earth_date=2015-6-3&camera=FHAZ&api_key=DEMO_KEY renvoie les donn\u00e9es JSON suivantes : { \"photos\" : [ { \"id\" : 102685 , \"sol\" : 1004 , \"camera\" : { \"id\" : 20 , \"name\" : \"FHAZ\" , \"rover_id\" : 5 , \"full_name\" : \"Front Hazard Avoidance Camera\" }, \"img_src\" : \"http://mars.jpl.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/01004/opgs/edr/fcam/FLB_486615455EDR_F0481570FHAZ00323M_.JPG\" , \"earth_date\" : \"2015-06-03\" , \"rover\" : { \"id\" : 5 , \"name\" : \"Curiosity\" , \"landing_date\" : \"2012-08-06\" , \"launch_date\" : \"2011-11-26\" , \"status\" : \"active\" } }, { \"id\" : 102686 , \"sol\" : 1004 , \"camera\" : { \"id\" : 20 , \"name\" : \"FHAZ\" , \"rover_id\" : 5 , \"full_name\" : \"Front Hazard Avoidance Camera\" }, \"img_src\" : \"http://mars.jpl.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/01004/opgs/edr/fcam/FRB_486615455EDR_F0481570FHAZ00323M_.JPG\" , \"earth_date\" : \"2015-06-03\" , \"rover\" : { \"id\" : 5 , \"name\" : \"Curiosity\" , \"landing_date\" : \"2012-08-06\" , \"launch_date\" : \"2011-11-26\" , \"status\" : \"active\" } } ] } Qu'on peut analyser ainsi : Le r\u00e9sultat est un dictionnaire, ayant une unique cl\u00e9 \"Photos\" , auquel la valeur associ\u00e9e est de type liste. La liste contient deux \u00e9l\u00e9ments de type dictionnaire. Les deux dictionnaires poss\u00e8dent les m\u00eames cl\u00e9s \"id\" : l'identifiant de la photo, un entier ; \"sol\" : le nombre de jour depuis l'aterrissage du rover \u00e0 la date donn\u00e9e ; \"camera\" : un dictionnaire contenant les informations sur la cam\u00e9ra utilis\u00e9e pour prendre la photo \"img_src\" : l'URL de la photo ; \"earth_date\" : la date terrienne \u00e0 laquelle a \u00e9t\u00e9 prise la photo ; \"rover\" : un dictionnaire contenant les informations sur le rover qui a pris cette photo. Applications Applications en Python Exercice En utilisant la cl\u00e9 API que je vous fournirais en classe, copiez-collez le code suivant dans un nouveau fichier de Thonny : nasa_key = ... # importation du module webbrowser import webbrowser # importation du sous-module MarsRovers du module nasaapi from nasaapi import MarsRovers # initialisation de la connexion avec l\u2019API et cr\u00e9ation de l\u2019objet rovers rovers = MarsRovers ( nasa_key , 50 , \"NAVCAM\" ) # r\u00e9cup\u00e9ration des donn\u00e9es de Curiosity (dictionnaire) cur = rovers . curiosity () # acc\u00e8s \u00e0 l\u2019URL de la quatri\u00e8me photo url = cur [ 'photos' ][ 3 ][ 'img_src' ] # envoi de l\u2019URL dans le navigateur webbrowser . open_new_tab ( url ) Installez les modules webbrowser , python-nasa-api et requests dans Thonny, en utilisant le menu Outils > G\u00e9rer les paquets . Ex\u00e9cutez le code. Que se passe-t-il ? Modifiez le code pour recevoir la premi\u00e8re photo prise par la cam\u00e9ra FHAZ ( Front Hazard Avoidance Camera ). Combien de photos ont \u00e9t\u00e9 prises par la cam\u00e9ra panoramique le 30\u00e8me jour par Opportunity ? Les afficher toutes ! Combien de photos ont \u00e9t\u00e9 prises par toutes les cam\u00e9ras de Curiosity le 100\u00e8me jour ? Les afficher toutes ! Application en HTML Le projet individuel L'objectif est de constuire un ensemble de pages web permettant de s\u00e9lectionner un rover, une cam\u00e9ra et une date ou un sol afin d'obtenir un carroussel des photos correspondantes, comme par exemple sur la capture d'\u00e9cran suivante : Afin de simplifier votre travail de r\u00e9cup\u00e9ration des donn\u00e9es, un fichier javascript nasa_js.js vous est fourni, comprenant : une constante MY_NASA_KEY devant contenir la cl\u00e9 de connexion \u00e0 la NASA ; une variable imgArray servant \u00e0 contenir les r\u00e9sultats de r\u00e9qu\u00eates sur l'API de la NASA ; un objet de request_parameters de type Map (dictionnaire/collection), servant \u00e0 contenir les param\u00e8tres de la requ\u00eate ; une fonction request_to_nasa qui, une fois appel\u00e9e avec les bons param\u00e8tres, peuple la variable imgArray des r\u00e9sultats de la requ\u00eate. Le projet est individuel, et doit contenir : une ou pluseiurs fichiers HTML ; un ou plusieurs fichiers CSS (mais un seul suffit) ; le fichier nasa_js.js compl\u00e9t\u00e9 avec vos propres fonctions si n\u00e9cessaires ; Le bar\u00eame est le suivant : 10 points pour un site fonctionnel, plus particuli\u00e8rement : 5 points pour une(des) page(s) contenant un formulaire de s\u00e9lection des options ; 5 points pour une m\u00e9thode de visualisation des photos obtenues ; 4 points pour l'esth\u00e9tique du site (fichier CSS coh\u00e9rent et ergonomie du site ) ; 3 points pour un code sans erreur HTML/CSS (v\u00e9rifier sur W3C ); 3 points bonus, selon les am\u00e9liorations que vous apporterez !","title":"Projet Rover Mars"},{"location":"NSI/Premiere/Projets/NasaWeb/Nasa_Web/#projet-rover-curiosity-nasa","text":"L'objectif est de cr\u00e9er une page web permettant d'afficher les photos prises par le rover Curiosity de la plan\u00e8te Mars, en choisissant la date de prise de vue et la cam\u00e9ra \u00e0 partir d'un formulaire, et avec des boutons permettant de naviguer d'une photo \u00e0 l'autre.","title":"Projet Rover Curiosity Nasa"},{"location":"NSI/Premiere/Projets/NasaWeb/Nasa_Web/#lapi-de-la-nasa","text":"Notion d'API *D'apr\u00e8s wikipedia Une API ( application programming interface ou \u00ab interface de programmation d'application \u00bb) est un ensemble normalis\u00e9 de classes , de m\u00e9thodes , de fonctions et de constantes qui sert de fa\u00e7ade par laquelle un logiciel offre des services \u00e0 d'autres logiciels. Elle est offerte par une biblioth\u00e8que logicielle ou un service web , le plus souvent accompagn\u00e9e d'une description qui sp\u00e9cifie comment des programmes \u00ab consommateurs \u00bb peuvent se servir des fonctionnalit\u00e9s du programme \u00ab fournisseur \u00bb. La NASA offre des API libres d'acc\u00e8s (avec une cl\u00e9 personnelle) permettant de parcourir des donn\u00e9es collect\u00e9es par des satellites, des t\u00e9l\u00e9scopes, des robots, etc... Nous nous interesserons \u00e0 l'API Mars Rover Photos . Cette API permet de consulter les photos prises par les diff\u00e9rents Rovers sur Mars, \u00e0 diff\u00e9rentes dates. Par exemple, en utilisant l'url suivante : https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?earth_date=2015-6-3&camera=FHAZ&api_key=DEMO_KEY on r\u00e9cup\u00e8re des donn\u00e9es au format JSON donnant toutes les informations sur les images prises par la cam\u00e9ra avant ( FHAZ ) du rover Curiosity le 3 juin 2016. { \"photos\" : [ { \"id\" : 102685 , \"sol\" : 1004 , \"camera\" : { \"id\" : 20 , \"name\" : \"FHAZ\" , \"rover_id\" : 5 , \"full_name\" : \"Front Hazard Avoidance Camera\" }, \"img_src\" : \"http://mars.jpl.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/01004/opgs/edr/fcam/FLB_486615455EDR_F0481570FHAZ00323M_.JPG\" , \"earth_date\" : \"2015-06-03\" , \"rover\" : { \"id\" : 5 , \"name\" : \"Curiosity\" , \"landing_date\" : \"2012-08-06\" , \"launch_date\" : \"2011-11-26\" , \"status\" : \"active\" } }, { \"id\" : 102686 , \"sol\" : 1004 , \"camera\" : { \"id\" : 20 , \"name\" : \"FHAZ\" , \"rover_id\" : 5 , \"full_name\" : \"Front Hazard Avoidance Camera\" }, \"img_src\" : \"http://mars.jpl.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/01004/opgs/edr/fcam/FRB_486615455EDR_F0481570FHAZ00323M_.JPG\" , \"earth_date\" : \"2015-06-03\" , \"rover\" : { \"id\" : 5 , \"name\" : \"Curiosity\" , \"landing_date\" : \"2012-08-06\" , \"launch_date\" : \"2011-11-26\" , \"status\" : \"active\" } } ] }","title":"L'API de la NASA"},{"location":"NSI/Premiere/Projets/NasaWeb/Nasa_Web/#le-format-json-et-les-types-de-donnees","text":"Format JSON JSON ( JavaScript Object Notation \u2013 Notation Objet issue de JavaScript) est un format l\u00e9ger d'\u00e9change de donn\u00e9es. Il est facile \u00e0 lire ou \u00e0 \u00e9crire pour des humains. Il est ais\u00e9ment analysable ou g\u00e9n\u00e9rable par des machines, et il utilise des notations famili\u00e8res aux langages descendant du langage C , comme C, C++, java, Javascript, Python... JSON se base sur deux structures: Une liste de valeurs ordonn\u00e9es, qui correspond au type list de Python, donc encadr\u00e9 par des crochets [ et ] . Les valeurs sont accessibles par leur indice ; Une collection de couples nom/valeur, qui correspond au type dict (dictionnaire) de Python, c'est-\u00e0-dire encadr\u00e9 par des accolades { et } . Les valeurs sont accessibles par leur cl\u00e9 . Aper\u00e7u rapide des dictionnaires de Python / Collections en Javascript Le but ici n'est pas de d\u00e9taill\u00e9 le fonctionnement des dictionnaires/collections, chose que nous ferons plus tard dans un chapitre d\u00e9di\u00e9, mais de vous donner un aper\u00e7u de l'utilisation de ces dictionnaires. Consid\u00e9rons le code suivant ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder perso1 = {'nom' : 'DarkVador', bksl-nl'Age' : 41,bksl-nl'Pilote' : 'Tie Fighter',bksl-nl'Sabre' : 'Rouge', bksl-nl'enfants' : ['Luke Skywalker', 'Leia Organa']}bksl-nlbksl-nlperso2 = {'nom' : 'Luke Skywalker', bksl-nl'Age' : 19,bksl-nl'Pilote' : 'X-Wing',bksl-nl'Sabre' : 'Vert', bksl-nl'enfants' : None }bksl-nl Pour le dictionnaire perso1 , l'appel \u00e0 la cl\u00e9 \"nom\" renverra la cha\u00eene de caract\u00e8re \"Dark Vador\" : >>> perso1 [ \"nom\" ] \"Dark Vador\" Pour le dictionnaire perso2 , l'appel \u00e0 la cl\u00e9 \"Sabre\" renverra la cha\u00eene de caract\u00e8re \"Vert\" : >>> perso2 [ \"Sabre\" ] \"Vert\" Pour le dictionnaire perso1 , l'appel \u00e0 la cl\u00e9 \"enfants\" renverra la liste ['Luke Skywalker', 'Leia Organa'] : >>> perso1 [ \"enfants\" ] [ 'Luke Skywalker' , 'Leia Organa' ] Il sera alors possible d'atteindre la cha\u00eene 'Leia Organa' en utilisant l'indice de celle-ci dans la liste : >>> perso1 [ \"enfants\" ][ 1 ] 'Leia Organa'","title":"Le format JSON et les types de donn\u00e9es"},{"location":"NSI/Premiere/Projets/NasaWeb/Nasa_Web/#analyse-des-donnees-recues-par-une-requete","text":"La requ\u00eate https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?earth_date=2015-6-3&camera=FHAZ&api_key=DEMO_KEY renvoie les donn\u00e9es JSON suivantes : { \"photos\" : [ { \"id\" : 102685 , \"sol\" : 1004 , \"camera\" : { \"id\" : 20 , \"name\" : \"FHAZ\" , \"rover_id\" : 5 , \"full_name\" : \"Front Hazard Avoidance Camera\" }, \"img_src\" : \"http://mars.jpl.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/01004/opgs/edr/fcam/FLB_486615455EDR_F0481570FHAZ00323M_.JPG\" , \"earth_date\" : \"2015-06-03\" , \"rover\" : { \"id\" : 5 , \"name\" : \"Curiosity\" , \"landing_date\" : \"2012-08-06\" , \"launch_date\" : \"2011-11-26\" , \"status\" : \"active\" } }, { \"id\" : 102686 , \"sol\" : 1004 , \"camera\" : { \"id\" : 20 , \"name\" : \"FHAZ\" , \"rover_id\" : 5 , \"full_name\" : \"Front Hazard Avoidance Camera\" }, \"img_src\" : \"http://mars.jpl.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/01004/opgs/edr/fcam/FRB_486615455EDR_F0481570FHAZ00323M_.JPG\" , \"earth_date\" : \"2015-06-03\" , \"rover\" : { \"id\" : 5 , \"name\" : \"Curiosity\" , \"landing_date\" : \"2012-08-06\" , \"launch_date\" : \"2011-11-26\" , \"status\" : \"active\" } } ] } Qu'on peut analyser ainsi : Le r\u00e9sultat est un dictionnaire, ayant une unique cl\u00e9 \"Photos\" , auquel la valeur associ\u00e9e est de type liste. La liste contient deux \u00e9l\u00e9ments de type dictionnaire. Les deux dictionnaires poss\u00e8dent les m\u00eames cl\u00e9s \"id\" : l'identifiant de la photo, un entier ; \"sol\" : le nombre de jour depuis l'aterrissage du rover \u00e0 la date donn\u00e9e ; \"camera\" : un dictionnaire contenant les informations sur la cam\u00e9ra utilis\u00e9e pour prendre la photo \"img_src\" : l'URL de la photo ; \"earth_date\" : la date terrienne \u00e0 laquelle a \u00e9t\u00e9 prise la photo ; \"rover\" : un dictionnaire contenant les informations sur le rover qui a pris cette photo.","title":"Analyse des donn\u00e9es re\u00e7ues par une requ\u00eate"},{"location":"NSI/Premiere/Projets/NasaWeb/Nasa_Web/#applications","text":"","title":"Applications"},{"location":"NSI/Premiere/Projets/NasaWeb/Nasa_Web/#applications-en-python","text":"Exercice En utilisant la cl\u00e9 API que je vous fournirais en classe, copiez-collez le code suivant dans un nouveau fichier de Thonny : nasa_key = ... # importation du module webbrowser import webbrowser # importation du sous-module MarsRovers du module nasaapi from nasaapi import MarsRovers # initialisation de la connexion avec l\u2019API et cr\u00e9ation de l\u2019objet rovers rovers = MarsRovers ( nasa_key , 50 , \"NAVCAM\" ) # r\u00e9cup\u00e9ration des donn\u00e9es de Curiosity (dictionnaire) cur = rovers . curiosity () # acc\u00e8s \u00e0 l\u2019URL de la quatri\u00e8me photo url = cur [ 'photos' ][ 3 ][ 'img_src' ] # envoi de l\u2019URL dans le navigateur webbrowser . open_new_tab ( url ) Installez les modules webbrowser , python-nasa-api et requests dans Thonny, en utilisant le menu Outils > G\u00e9rer les paquets . Ex\u00e9cutez le code. Que se passe-t-il ? Modifiez le code pour recevoir la premi\u00e8re photo prise par la cam\u00e9ra FHAZ ( Front Hazard Avoidance Camera ). Combien de photos ont \u00e9t\u00e9 prises par la cam\u00e9ra panoramique le 30\u00e8me jour par Opportunity ? Les afficher toutes ! Combien de photos ont \u00e9t\u00e9 prises par toutes les cam\u00e9ras de Curiosity le 100\u00e8me jour ? Les afficher toutes !","title":"Applications en Python"},{"location":"NSI/Premiere/Projets/NasaWeb/Nasa_Web/#application-en-html","text":"Le projet individuel L'objectif est de constuire un ensemble de pages web permettant de s\u00e9lectionner un rover, une cam\u00e9ra et une date ou un sol afin d'obtenir un carroussel des photos correspondantes, comme par exemple sur la capture d'\u00e9cran suivante : Afin de simplifier votre travail de r\u00e9cup\u00e9ration des donn\u00e9es, un fichier javascript nasa_js.js vous est fourni, comprenant : une constante MY_NASA_KEY devant contenir la cl\u00e9 de connexion \u00e0 la NASA ; une variable imgArray servant \u00e0 contenir les r\u00e9sultats de r\u00e9qu\u00eates sur l'API de la NASA ; un objet de request_parameters de type Map (dictionnaire/collection), servant \u00e0 contenir les param\u00e8tres de la requ\u00eate ; une fonction request_to_nasa qui, une fois appel\u00e9e avec les bons param\u00e8tres, peuple la variable imgArray des r\u00e9sultats de la requ\u00eate. Le projet est individuel, et doit contenir : une ou pluseiurs fichiers HTML ; un ou plusieurs fichiers CSS (mais un seul suffit) ; le fichier nasa_js.js compl\u00e9t\u00e9 avec vos propres fonctions si n\u00e9cessaires ; Le bar\u00eame est le suivant : 10 points pour un site fonctionnel, plus particuli\u00e8rement : 5 points pour une(des) page(s) contenant un formulaire de s\u00e9lection des options ; 5 points pour une m\u00e9thode de visualisation des photos obtenues ; 4 points pour l'esth\u00e9tique du site (fichier CSS coh\u00e9rent et ergonomie du site ) ; 3 points pour un code sans erreur HTML/CSS (v\u00e9rifier sur W3C ); 3 points bonus, selon les am\u00e9liorations que vous apporterez !","title":"Application en HTML"},{"location":"NSI/Premiere/Projets/PFC/PFC/","text":"Projet Pierre-Feuille-Ciseau principe du projet LA NOTE MAXIMALE DE CE PROJET EST DE 13 SANS LA PARTIE FACULTATIVE ! Vous travaillerez par binomes sur ce projet (ou exceptionnellement par trinome). Vous rendrez le code complet + votre dossier personnel pour le 09 novembre 2022 au plus tard. Vous aurez un temps en classe pour r\u00e9aliser le projet, mais ce temps ne sera pas suffisant ! Vous devrez vous coordonner pour arriver \u00e0 vos fins ! Description du projet L'objectifv est d'impl\u00e9menter un jeude \u00ab Pierre - Feuille- Ciseaux \u00bb entre un joueur/une joueuse humaine et l'ordinateur. Le joueur/la joueuse choisit parmi les trois possibilit\u00e9s, puis l'ordinateur choisit au hasard une des trois possibilit\u00e9s. Le gagnant gagne 1 point, si il y a \u00e9galit\u00e9 aucun ne marque. Le jeu se termine d\u00e8s qu'un des participant\u00b7e\u00b7s atteint 5 points. Plan de travail Le jeu \u00e9tant tr\u00e8s simple \u00e0 cr\u00e9er, le plan de travail est moins avanc\u00e9 que pour les projets Pendu ou Bandit Manchot . Il faudra cependant cr\u00e9er les assertions et/ou les tests n\u00e9cessaires pour chacune des fonctions suivantes. Il faudra cr\u00e9er : une fonction choix_joueur , qui renvoie le choix du joueur / de la joueuse ; une fonction choix_ordinateur , qui renvoie le choix de l'ordinateur ; une fonction qui_gagne , qui renvoie l'indice du joueur/ de la joueuse gagnant\u00b7e, selon les deux arguments pass\u00e9s. Par exemple qui_gagne('Feuille', 'Ciseaux') renvoie 1 , alors que qui_gagne('Pierre', 'Ciseaux') renvoie 0 ; une fonction une_manche qui g\u00e8re une manche de jeu ; une fonction main_game qui g\u00e8re une partie compl\u00e8te. Partie facultative Il est possible de complexifier le jeu avec 5 possibilit\u00e9s, comme dans le jeu de Pierre - Feuille - Ciseaux - Lezard - Spock , pr\u00e9sent\u00e9 ici par Sheldon Cooper . Pour les allergiques \u00e0 l'audio en anglais, le voici en explication texte Grille de notation intitul\u00e9 bar\u00eame D\u00e9tails fonction choix_joueur 2 pts Les assertions sont explicites fonction choix_ordinateur 2 pts Les assertions sont explicites fonction qui_gagne 2 pts Des tests exhaustifs sont \u00e9crits fonction une_manche 1 pt L'ensemble est coh\u00e9rent fonction main_game 1 pt Une partie est jouable Code clair et comment\u00e9 2 pts Coh\u00e9rence des choix de noms de variables 2 pts Esth\u00e9tique du jeu 1 pt RCPLS 2pts Jeu selon les r\u00e8glmes TBBT","title":"Projet : Pierre-Feuille-Ciseaux"},{"location":"NSI/Premiere/Projets/PFC/PFC/#projet-pierre-feuille-ciseau","text":"principe du projet LA NOTE MAXIMALE DE CE PROJET EST DE 13 SANS LA PARTIE FACULTATIVE ! Vous travaillerez par binomes sur ce projet (ou exceptionnellement par trinome). Vous rendrez le code complet + votre dossier personnel pour le 09 novembre 2022 au plus tard. Vous aurez un temps en classe pour r\u00e9aliser le projet, mais ce temps ne sera pas suffisant ! Vous devrez vous coordonner pour arriver \u00e0 vos fins !","title":"Projet Pierre-Feuille-Ciseau"},{"location":"NSI/Premiere/Projets/PFC/PFC/#description-du-projet","text":"L'objectifv est d'impl\u00e9menter un jeude \u00ab Pierre - Feuille- Ciseaux \u00bb entre un joueur/une joueuse humaine et l'ordinateur. Le joueur/la joueuse choisit parmi les trois possibilit\u00e9s, puis l'ordinateur choisit au hasard une des trois possibilit\u00e9s. Le gagnant gagne 1 point, si il y a \u00e9galit\u00e9 aucun ne marque. Le jeu se termine d\u00e8s qu'un des participant\u00b7e\u00b7s atteint 5 points.","title":"Description du projet"},{"location":"NSI/Premiere/Projets/PFC/PFC/#plan-de-travail","text":"Le jeu \u00e9tant tr\u00e8s simple \u00e0 cr\u00e9er, le plan de travail est moins avanc\u00e9 que pour les projets Pendu ou Bandit Manchot . Il faudra cependant cr\u00e9er les assertions et/ou les tests n\u00e9cessaires pour chacune des fonctions suivantes. Il faudra cr\u00e9er : une fonction choix_joueur , qui renvoie le choix du joueur / de la joueuse ; une fonction choix_ordinateur , qui renvoie le choix de l'ordinateur ; une fonction qui_gagne , qui renvoie l'indice du joueur/ de la joueuse gagnant\u00b7e, selon les deux arguments pass\u00e9s. Par exemple qui_gagne('Feuille', 'Ciseaux') renvoie 1 , alors que qui_gagne('Pierre', 'Ciseaux') renvoie 0 ; une fonction une_manche qui g\u00e8re une manche de jeu ; une fonction main_game qui g\u00e8re une partie compl\u00e8te. Partie facultative Il est possible de complexifier le jeu avec 5 possibilit\u00e9s, comme dans le jeu de Pierre - Feuille - Ciseaux - Lezard - Spock , pr\u00e9sent\u00e9 ici par Sheldon Cooper . Pour les allergiques \u00e0 l'audio en anglais, le voici en explication texte","title":"Plan de travail"},{"location":"NSI/Premiere/Projets/PFC/PFC/#grille-de-notation","text":"intitul\u00e9 bar\u00eame D\u00e9tails fonction choix_joueur 2 pts Les assertions sont explicites fonction choix_ordinateur 2 pts Les assertions sont explicites fonction qui_gagne 2 pts Des tests exhaustifs sont \u00e9crits fonction une_manche 1 pt L'ensemble est coh\u00e9rent fonction main_game 1 pt Une partie est jouable Code clair et comment\u00e9 2 pts Coh\u00e9rence des choix de noms de variables 2 pts Esth\u00e9tique du jeu 1 pt RCPLS 2pts Jeu selon les r\u00e8glmes TBBT","title":"Grille de notation"},{"location":"NSI/Premiere/Projets/Pendu/ProjetPendu/","text":"Projet : Jeu du Pendu principe du projet Vous travaillerez par binomes sur ce projet (ou exceptionnellement par trinome). Vous rendrez le code complet + votre dossier personnel pour le 09 novembre 2022 au plus tard. Vous aurez un temps en classe pour r\u00e9aliser le projet, mais ce temps ne sera pas suffisant ! Vous devrez vous coordonner pour arriver \u00e0 vos fins ! Description du projet jeu du Pendu Le principe retenu pour le jeu est le suivant : Un mot fran\u00e7ais est tir\u00e9 al\u00e9atoirement depuis un fichier externe. Ce mot est nettoy\u00e9 des accents et autres signes diacritiques fran\u00e7ais ( \u00e7 , \u0153 , \u00e6 , ...) puis converti en majuscules. Les tirets des mots compos\u00e9s sont conserv\u00e9s ! On affiche une s\u00e9rie de tirets correspondant aux emplacements des lettres ainsi que la potence de d\u00e9part du pendu. On demande \u00e0 l'utilisateur\u00b7trice une lettre saisie au clavier, et on v\u00e9rifie que : c'est bien une unique lettre ; elle n'a pas d\u00e9j\u00e0 \u00e9t\u00e9 propos\u00e9e. Si la lettre fait partie du mot cherch\u00e9, les tirets correspondants sont remplac\u00e9s par la lettre. Sinon on ajoute un \u00e9l\u00e9ment au dessin du pendu. On reprend \u00e0 l'\u00e9tape 4 tant que : soit il reste des lettres \u00e0 trouver ; soit le pendu est compl\u00e8tement dessin\u00e9 (6 \u00e9checs). Une fois la partie termin\u00e9e, le joueur/la joueuse\" peut alors choisir de recommencer ou non une nouvelle partie. Le rendu final devrait ressembler si possible \u00e0 celui de la vid\u00e9o suivante : Les fichiers n\u00e9cessaires Fichier de mots Pour mener \u00e0 bien le projet, vous aurez d'abord besoin du fichier des mots fran\u00e7ais. . Vous t\u00e9l\u00e9chargerez celui-ci et le copierez dans votre dossier de travail, \u00e0 c\u00f4t\u00e9 du fichier python utilis\u00e9. J'ai retir\u00e9 de celui-ci tous les mots contenant des signes diacritiques autres que : les lettres accentu\u00e9es ; les tirets ; les c\u00e9dilles ; les lettres combin\u00e9es (e dans l'o,...) Les mots peuvent \u00eatre en majuscule, en minuscule, ou toute autre combinaison de casse. Base de code Python Je vous donne ici le code qui doit \u00eatre votre base de travail. fonction choix_mot(adresseFichier) Cette fonction ne doit pas \u00eatre modifi\u00e9e ! Elle prend en argument l'adresse relative ou absolue d'un fichier texte, et renvoie la chaine de caract\u00e8res correspondant \u00e0 une ligne de ce fichier, o\u00f9 : les \u00e9ventuels espaces de d\u00e9but et de fin de ligne sont supprim\u00e9s ; les caract\u00e8res retour chariot (sauts de lignes) \\n sont supprim\u00e9s. Dans le cadre de ce projet, le fichier liste_francais_modifiee.txt doit normalement \u00eatre situ\u00e9 dans le m\u00eame r\u00e9pertoire que ProjetPendu.py . Donc vous pouvez utiliser cette fonction de la mani\u00e8re suivante : mot = choix_mot ( \"liste_francais_modifiee.txt\" ) Ainsi la variable mot contiendra un mot extrait al\u00e9atoirement du fichier. Plan de travail Vous commencerez par compl\u00e9ter la fonction formate_mot(mot) , afin qu'elle renvoie une cha\u00eene de caract\u00e8res en majuscule dans laquelle tous les signes diacritiques ont \u00e9t\u00e9 supprim\u00e9s (\u00e0 par les tirets des mots compos\u00e9s). Des tests unitaires sont donn\u00e9s \u00e0 titre d'exemple Vous pouvez \u00e9ventuellement rajouter les votres. Vous compl\u00e8terez ensuite la fonction genere_tirets(mot_a_trouver,lettres_utilisees) , qui renvoie une cha\u00eene de caract\u00e8res correspondant \u00e0 celle pass\u00e9e en premier argument mot_a_trouver , pour laquelle les lettres non pr\u00e9sentes dans la cha\u00eene de caract\u00e8re lettres_utilisees . De plus, chaque caract\u00e8re de la cha\u00eene finale devra \u00eatre suivi d'un espace . Des tests unitaires sont donn\u00e9s \u00e0 titre d'exemple Vous pouvez \u00e9ventuellement rajouter les votres. Vous compl\u00e8terez la fonction compte_restantes(mot_a_trouver,lettres_utilisees) qui renvoie un entier correspondant au nombre de lettres restant \u00e0 trouver dans mot_a_trouver sachant la cha\u00eene de lettres d\u00e9j\u00e0 utilis\u00e9es lettres_utilisees . Vous compl\u00e8terez ensuite la fonction demande_joueur_lettre() et la rendrez dumbproof : cette fonction doit continuer \u00e0 redemander au joueur de saisir une lettre tant que celle-ci n'est pas compatible avec les r\u00e8gles du jeu. Vous compl\u00e8terez ensuite la fonction affiche_pendu(mot_a_trouver, lettres_utilisees, nb_echecs) qui affiche non seulement la potence, amis aussi le mot \u00e0 trouver sous sa forme de tirets. Pour construire cette fonction, vous utiliserez une f-string multi-lignes telle que : 1 2 3 4 5 6 7 8 9 f \"\"\" _ _ _ o | / | \\ | / \\ | | _______|__ \"\"\" 6. A partir de toutes les fonctions pr\u00e9c\u00e9dentes, vous finaliserez le jeu en compl\u00e9tant la fonction une_manche() . Une fois le jeu compl\u00e9t\u00e9, vous devrez en outre compl\u00e9ter un dossier personnel d'une ou deux pages pr\u00e9sentant : ce que vous avez r\u00e9alis\u00e9 individuellement dans ce projet ; les difficult\u00e9s rencontr\u00e9es et/ou les probl\u00e8mes que vous n'avez pas pu r\u00e9soudre ; les aides qui vous on \u00e9t\u00e9 apport\u00e9es. Vous pourrez enfin apporter des modifications et/ou am\u00e9liorations au code, par exemple en : ajoutant un compteur de score qui donne le nombre de r\u00e9ussites par rapport au nombre de parties jou\u00e9es. ajouter un niveau de difficult\u00e9, en changeant le nombre d'erreurs possibles ; etc... Grille de notation intitul\u00e9 bar\u00eame D\u00e9tails fonction formate_mot 3 pt passage de tous les tests unitaires fonction genere_tirets 2 pt passage de tous les tests unitaires fonction compte_restantes 2 pt passage de tous les tests unitaires fonction demande_joueur_lettre 1 pt dumbproof fonction affiche_pendu 3 pt Affichage correct fonction une_manche 3 pts On attend un jeu a minima fonctionnel Noms des variables clairs 2 pts On proscrira les noms de variable d'un seul caract\u00e8re, sauf compteurs pr\u00e9cis Code comment\u00e9 et clair 3 pts Des explications minimales doivent \u00eatre \u00e9crites pour expliquer votre code Am\u00e9liorations, qualit\u00e9 du code, etc... 2 pts","title":"Projet : Jeu du Pendu"},{"location":"NSI/Premiere/Projets/Pendu/ProjetPendu/#projet-jeu-du-pendu","text":"principe du projet Vous travaillerez par binomes sur ce projet (ou exceptionnellement par trinome). Vous rendrez le code complet + votre dossier personnel pour le 09 novembre 2022 au plus tard. Vous aurez un temps en classe pour r\u00e9aliser le projet, mais ce temps ne sera pas suffisant ! Vous devrez vous coordonner pour arriver \u00e0 vos fins !","title":"Projet : Jeu du Pendu"},{"location":"NSI/Premiere/Projets/Pendu/ProjetPendu/#description-du-projet","text":"jeu du Pendu Le principe retenu pour le jeu est le suivant : Un mot fran\u00e7ais est tir\u00e9 al\u00e9atoirement depuis un fichier externe. Ce mot est nettoy\u00e9 des accents et autres signes diacritiques fran\u00e7ais ( \u00e7 , \u0153 , \u00e6 , ...) puis converti en majuscules. Les tirets des mots compos\u00e9s sont conserv\u00e9s ! On affiche une s\u00e9rie de tirets correspondant aux emplacements des lettres ainsi que la potence de d\u00e9part du pendu. On demande \u00e0 l'utilisateur\u00b7trice une lettre saisie au clavier, et on v\u00e9rifie que : c'est bien une unique lettre ; elle n'a pas d\u00e9j\u00e0 \u00e9t\u00e9 propos\u00e9e. Si la lettre fait partie du mot cherch\u00e9, les tirets correspondants sont remplac\u00e9s par la lettre. Sinon on ajoute un \u00e9l\u00e9ment au dessin du pendu. On reprend \u00e0 l'\u00e9tape 4 tant que : soit il reste des lettres \u00e0 trouver ; soit le pendu est compl\u00e8tement dessin\u00e9 (6 \u00e9checs). Une fois la partie termin\u00e9e, le joueur/la joueuse\" peut alors choisir de recommencer ou non une nouvelle partie. Le rendu final devrait ressembler si possible \u00e0 celui de la vid\u00e9o suivante :","title":"Description du projet"},{"location":"NSI/Premiere/Projets/Pendu/ProjetPendu/#les-fichiers-necessaires","text":"Fichier de mots Pour mener \u00e0 bien le projet, vous aurez d'abord besoin du fichier des mots fran\u00e7ais. . Vous t\u00e9l\u00e9chargerez celui-ci et le copierez dans votre dossier de travail, \u00e0 c\u00f4t\u00e9 du fichier python utilis\u00e9. J'ai retir\u00e9 de celui-ci tous les mots contenant des signes diacritiques autres que : les lettres accentu\u00e9es ; les tirets ; les c\u00e9dilles ; les lettres combin\u00e9es (e dans l'o,...) Les mots peuvent \u00eatre en majuscule, en minuscule, ou toute autre combinaison de casse. Base de code Python Je vous donne ici le code qui doit \u00eatre votre base de travail. fonction choix_mot(adresseFichier) Cette fonction ne doit pas \u00eatre modifi\u00e9e ! Elle prend en argument l'adresse relative ou absolue d'un fichier texte, et renvoie la chaine de caract\u00e8res correspondant \u00e0 une ligne de ce fichier, o\u00f9 : les \u00e9ventuels espaces de d\u00e9but et de fin de ligne sont supprim\u00e9s ; les caract\u00e8res retour chariot (sauts de lignes) \\n sont supprim\u00e9s. Dans le cadre de ce projet, le fichier liste_francais_modifiee.txt doit normalement \u00eatre situ\u00e9 dans le m\u00eame r\u00e9pertoire que ProjetPendu.py . Donc vous pouvez utiliser cette fonction de la mani\u00e8re suivante : mot = choix_mot ( \"liste_francais_modifiee.txt\" ) Ainsi la variable mot contiendra un mot extrait al\u00e9atoirement du fichier.","title":"Les fichiers n\u00e9cessaires"},{"location":"NSI/Premiere/Projets/Pendu/ProjetPendu/#plan-de-travail","text":"Vous commencerez par compl\u00e9ter la fonction formate_mot(mot) , afin qu'elle renvoie une cha\u00eene de caract\u00e8res en majuscule dans laquelle tous les signes diacritiques ont \u00e9t\u00e9 supprim\u00e9s (\u00e0 par les tirets des mots compos\u00e9s). Des tests unitaires sont donn\u00e9s \u00e0 titre d'exemple Vous pouvez \u00e9ventuellement rajouter les votres. Vous compl\u00e8terez ensuite la fonction genere_tirets(mot_a_trouver,lettres_utilisees) , qui renvoie une cha\u00eene de caract\u00e8res correspondant \u00e0 celle pass\u00e9e en premier argument mot_a_trouver , pour laquelle les lettres non pr\u00e9sentes dans la cha\u00eene de caract\u00e8re lettres_utilisees . De plus, chaque caract\u00e8re de la cha\u00eene finale devra \u00eatre suivi d'un espace . Des tests unitaires sont donn\u00e9s \u00e0 titre d'exemple Vous pouvez \u00e9ventuellement rajouter les votres. Vous compl\u00e8terez la fonction compte_restantes(mot_a_trouver,lettres_utilisees) qui renvoie un entier correspondant au nombre de lettres restant \u00e0 trouver dans mot_a_trouver sachant la cha\u00eene de lettres d\u00e9j\u00e0 utilis\u00e9es lettres_utilisees . Vous compl\u00e8terez ensuite la fonction demande_joueur_lettre() et la rendrez dumbproof : cette fonction doit continuer \u00e0 redemander au joueur de saisir une lettre tant que celle-ci n'est pas compatible avec les r\u00e8gles du jeu. Vous compl\u00e8terez ensuite la fonction affiche_pendu(mot_a_trouver, lettres_utilisees, nb_echecs) qui affiche non seulement la potence, amis aussi le mot \u00e0 trouver sous sa forme de tirets. Pour construire cette fonction, vous utiliserez une f-string multi-lignes telle que : 1 2 3 4 5 6 7 8 9 f \"\"\" _ _ _ o | / | \\ | / \\ | | _______|__ \"\"\" 6. A partir de toutes les fonctions pr\u00e9c\u00e9dentes, vous finaliserez le jeu en compl\u00e9tant la fonction une_manche() . Une fois le jeu compl\u00e9t\u00e9, vous devrez en outre compl\u00e9ter un dossier personnel d'une ou deux pages pr\u00e9sentant : ce que vous avez r\u00e9alis\u00e9 individuellement dans ce projet ; les difficult\u00e9s rencontr\u00e9es et/ou les probl\u00e8mes que vous n'avez pas pu r\u00e9soudre ; les aides qui vous on \u00e9t\u00e9 apport\u00e9es. Vous pourrez enfin apporter des modifications et/ou am\u00e9liorations au code, par exemple en : ajoutant un compteur de score qui donne le nombre de r\u00e9ussites par rapport au nombre de parties jou\u00e9es. ajouter un niveau de difficult\u00e9, en changeant le nombre d'erreurs possibles ; etc...","title":"Plan de travail"},{"location":"NSI/Premiere/Projets/Pendu/ProjetPendu/#grille-de-notation","text":"intitul\u00e9 bar\u00eame D\u00e9tails fonction formate_mot 3 pt passage de tous les tests unitaires fonction genere_tirets 2 pt passage de tous les tests unitaires fonction compte_restantes 2 pt passage de tous les tests unitaires fonction demande_joueur_lettre 1 pt dumbproof fonction affiche_pendu 3 pt Affichage correct fonction une_manche 3 pts On attend un jeu a minima fonctionnel Noms des variables clairs 2 pts On proscrira les noms de variable d'un seul caract\u00e8re, sauf compteurs pr\u00e9cis Code comment\u00e9 et clair 3 pts Des explications minimales doivent \u00eatre \u00e9crites pour expliquer votre code Am\u00e9liorations, qualit\u00e9 du code, etc... 2 pts","title":"Grille de notation"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/","text":"Projet D\u00e9mineur Pr\u00e9sentation du jeu Le jeu du d\u00e9mineur ( Minesweeper en anglais) est un classique des jeux vid\u00e9o, dont les principes sont pr\u00e9sent\u00e9s ci-dessous : ] Une grille carr\u00e9e de taille quelconque (en g\u00e9n\u00e9ral 9 ou 10) est pr\u00e9sent\u00e9e, o\u00f9 toutes les cases sont couvertes (le contenu est cach\u00e9). Dans cette grille, on trouve un certain nombre de bombes, ce nombre d\u00e9pendant de la difficult\u00e9 choisie : easy : le nombre de bombes est taille + 1 ; \u01f9ormal : le nombre de bombes est taille + taille//4 ; hard : le nombre de bombes est taille + taille//2 . Une case peut-alors : soit contenir une bombe ; soit contenir un nombre qui correspond au nombre de bombes pr\u00e9sentes dans les 8 cases qui lui sont adjacentes ; soit \u00eatre vide - ce qui signifie qu'elle ne contient pas de bombe et n'est adjacente \u00e0 aucune. le/la joueur\u00b7euse doit d\u00e9couvrir (au sens d'enlever la couverture) toutes les cases ne contenant pas de bombes et perd d\u00e8s qu'une bombe est d\u00e9couverte. le/la joueur\u00b7euse peut placer des drapeaux ( flags ) sur les cases qu'il soup\u00e7onne contenir une bombe (les cases bleues dans la capture d'\u00e9cran). Lorsqu'il clique sur une case, le/la joueur\u00b7euse voit donc trois possibilit\u00e9s : soit la case contient une bombe, et il a alors perdu ; soit la case est adjacente \u00e0 une bombe, et donc **seule cette case est d\u00e9couverte\" ; soit la case n'est pas adjacente \u00e0 une bombe, et alors la case est d\u00e9couverte, ainsi que toutes ses voisines et leurs voisines etc..., comme si le/la joueur\u00b7euse avait cliqu\u00e9 dessus. La propagation s'arr\u00eate donc aux cases adjacentes \u00e0 une bombe, qui sont d\u00e9couvertes, mais pas leurs voisines. Ainsi sur la capture, le/la joueur\u00b7euse a perdu 1 ! Il a plac\u00e9 8 drapeaux au bon endroit, mais a cliqu\u00e9 sur la case enti\u00e8rement rouge qui contenait une bombe, et n'a pas vu les deux bombes restantes dans les cases ayant le petit carr\u00e9 rouge. Les fichiers et fonctions du projet Fichier demineur.py Imports On importe le module random pour g\u00e9rer l'al\u00e9atoire, ainsi que la classe Fore du module colorama pour g\u00e9rer la couleur dans la console. Classe Cell Sans rentrer dans les d\u00e9tails, il s'agit de programmation orient\u00e9e objet (POO) , qui est au programme de terminale, mais vous n'aurez rien \u00e0 changer dans cette partie du programme, qui est l\u00e0 pour vous simplifier le travail au sein du projet. Cette classe permet \u00ab d'\u00e9tendre \u00bb l'ensemble des objets possibles dans Python, en permettant de cr\u00e9er des objets de type Cell . De tels objets poss\u00e8deront trois attributs : value : la valeur de la cellule (de type int ), initialis\u00e9e \u00e0 0 ; flag : un bool\u00e9en prenant pour valeur True si la case poss\u00e8de un drapeau, et False sinon. Par d\u00e9faut initialis\u00e9e \u00e0 False ; covered : un bool\u00e9en prenant pour valeur True si la case est d\u00e9couverte, et False sinon. Par d\u00e9faut initialis\u00e9e \u00e0 False . On utilise un objet de type Cell de la mani\u00e8re suivante : >>> c = Cell () >>> c . value 0 >>> c . value = 20 >>> c . value 20 >>> c . flag = True >>> c . flag True >>> c . covered False Pour cr\u00e9er un tableau de 5 cellules, on utilise la compr\u00e9hension suivante : >>> t = [ Cell () for _ in range ( 5 )] Pour ensuite modifier un des objets de type Cell , il faudra l'appeler : soit gr\u00e2ce \u00e0 son indice : >>> t [ 2 ] . value = 3 soit en utilisant un parcours par \u00e9l\u00e9ments : >>> for elem in t : elem . covered = True valeur` Fonction init_grid(taille) Cette fonction doit cr\u00e9er et renvoyer une grille carr\u00e9e de dimension taille x taille , contenant un objet de type Cell dans chaque case. Fonction compute_cell(grid, x, y) Cette fonction doit mettre \u00e0 jour la valeur de la cellule de la ligne x et de la colonne y de la grille grid , en fonction du nombre de cases voisines contenant des bombes. On utilisera le code suivant : une cellule ayant pour valeur -1 repr\u00e9sentera une bombe ; une cellule ayant pour valeur 0 repr\u00e9sentera une case non-adjacente \u00e0 une bombe ; une cellule adjacente \u00e0 une ou des bombes portera une valeur \u00e9gale au nombre de bombes \u00e0 laquellle elle est adjacente. Sur une grille 5x5 en mode easy , on pourra par exemple avoir la configuration suivante : Fonction make_grid(grid, nb_bombes) Cette fonction doit modifier en place la grille grid pour \u00e0 la fois placer al\u00e9atoirement nb_bombes bombes (sans que deux bombes soient sur la m\u00eame case), et mettre \u00e0 jour l'ensemble des cases de la grille. Fonction affichegrid(grid, colors= False, detonate= False) Cette fonction permet d'afficher dans la console la grille de jeu de la mani\u00e8re suivante : en jeu la grille est affich\u00e9e ainsi : \u00e0 la fin de la partie, on utilise des couleurs (vert pour bon placement, rouge pour erreur) comme dans la capture ci-dessous : Afin de rendre l'interface agr\u00e9able, vous devrez utiliser une police mono dans la console (comme courrier ), et pourrez utiliser les caract\u00e8res utf-8 suivants : \u2550 et \u2551 ; \u2554, \u2566, et \u2557 ; \u2560, \u256c, et \u2563 ; \u255a, \u2569 et \u255d \u2588, \u25d5 et \u25d8 Les arguments colors et detonate sont des bool\u00e9ens signifiants respectivement que des couleurs doivent \u00eatre utilis\u00e9es, et qu'une bombe a explos\u00e9e (= que la partie est perdue). Fonction ask_position(grid) Fonction demandant au joueur son prochain coup, sous la forme d'une chaine de caract\u00e8res de la forme B3 ou fB3 , selon que le/la joueur\u00b7euse souhaite d\u00e9couvrir ou flaguer une case (ou m\u00eame supprimer un drapeau), et qui renvoie un tuple sous la forme (flag, indice_ligne, indice_colonne) , o\u00f9 flag est un bool\u00e9en donnant la nature du coup, indice_ligne est l'indice de la ligne de la grille correspondant au coup jou\u00e9, et de m\u00eame pour indice_colonne . fonction propagate(grid, x, y) Il s'agit d'une des fonctions essentielles du jeu. Si le/la joueur\u00b7euse clique sur une case vide(d'attribut valeur \u00e9gal \u00e0 0 ) de la grille grid d'indice de ligne x et de colonne y , il d\u00e9couvre toutes les cases qui lui sont adjacentes ayant pour valeur 0 , 1 , ou plus, ainsi que les voisines de celles de valeur 0 , et la d\u00e9couverte se propage ainsi de proche en proche. L'algorithme \u00e0 utiliser pour permettre cette propagation est le suivant : Algorithme de propagation on cr\u00e9e deux listes to_uncover et to_compute qui contiennent respectivement les coordonn\u00e9es des cellules \u00e0 d\u00e9couvrir et de celles \u00e0 traiter, qui sont toutes les deux initialis\u00e9es avec le tuple (x,y) o\u00f9 x et y sont les arguments fournis \u00e0 la fonction. tant que la liste to_compute n'est pas vide, on effectue alors es op\u00e9rations suivantes : on \u00abpop\u00bb de la liste to_compute son dernier \u00e9l\u00e9ment, qui donne les coordonn\u00e9es de la cellule qui va \u00eatre \u00e9tudi\u00e9e, et on change l'attribut covered de cette cellule \u00e0 False ; si la cellule a pour valeur 0, alors on ajoute toutes ses voisines \u00e0 la fois \u00e0 la liste to_compute et \u00e0 la liste to_uncover , si elles n'y sont pas d\u00e9j\u00e0 pr\u00e9sentes . Fonction apply_position(grid, flag, x, y) Cette fonction applique l'effet d'un coup du joueur sur la grille : en pla\u00e7ant un drapeau sur la cellule de coordonn\u00e9es (x, y) si l'argument flag est True ; en d\u00e9couvrant une bombe si le/la joueur\u00b7euse a jou\u00e9 sur une case en contenant une ; en appliquant la fonction propagate dans le cas o\u00f9 le/la joueur\u00b7euse joue sur une case ne contenant pas de bombes. Cette fonction renvoie un bool\u00e9en qui vaut True si le jeu se poursuit, et False si le/la joueur\u00b7euse a jou\u00e9 sur une bombe. Fonction count_uncovered(grid) Cette fonction renvoie le nombre de cases d\u00e9couvertes sur la grille (elle aidera \u00e0 savoir si le /la joueur\u00b7euse a gagn\u00e9). Fonction count_flagged(grid) Cette fonction renvoie le nombre de cases contenant un drapeau, utile pour l'interface graphique. Fonction main_console(grid, difficulte = 1) Cette fonction permet de lancer une partie de d\u00e9mineur dans la console, avec une difficult\u00e9 qui repr\u00e9sente le nombre de bombes suppl\u00e9mentaires (en plus de taille ) \u00e0 ajouter \u00e0 la grille. Cette fonction traite tous les cas, et affiche donc au joueur s'il a gagn\u00e9 ou perdu. Fichier demineurP5.py Ce fichier utilise le module P5 , qui est un portage en Python du module p5 de javascript, qui permet de cr\u00e9er des interfaces graphiques. Pour utiliser P5 avec Thonny, vous pouvez suivre ce tutoriel Vous n'avez rien \u00e0 changer dans ce module, sauf am\u00e9lioration souhait\u00e9e, mais si vos fonctions respectent les sp\u00e9cifications donn\u00e9es ci-dessus, le jeu devrait raisonnablement fonctionner (mais il peut \u00eatre potentiellement tr\u00e8s lent...). Bar\u00e8me du projet Un jeu en console fonctionnel (c'est-\u00e0-dire permettant de faire une partie) vous apporte 7 pts ; Un code correctement comment\u00e9 vous apporte 3 pts ; Si toutes les sp\u00e9cifications sont correctes, vous gagnez 2 pts ; Un code lisible, donc avec des noms de variables parlants et des sauts de lignes ad\u00e9quats, vous rapporte 3 pts ; Les 5 points restants correspondent aux am\u00e9liorations possibles, soit dans la console, soit dans l'interface graphique, par exemple : la possibilit\u00e9 de choisir une taille de grille diff\u00e9rente ; l'introduction d'un chronom\u00e8tre ; une sauvegarde du score possible (s'inspirer par exemple du projet de Bandit Manchot...) ... C'est fait expr\u00e8s... Je suis bien meilleur que \u00e7a \u00e0 ce jeu... Des ann\u00e9es de pratique ! \u21a9","title":"Projet : D\u00e9mineur"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#projet-demineur","text":"","title":"Projet D\u00e9mineur"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#presentation-du-jeu","text":"Le jeu du d\u00e9mineur ( Minesweeper en anglais) est un classique des jeux vid\u00e9o, dont les principes sont pr\u00e9sent\u00e9s ci-dessous : ] Une grille carr\u00e9e de taille quelconque (en g\u00e9n\u00e9ral 9 ou 10) est pr\u00e9sent\u00e9e, o\u00f9 toutes les cases sont couvertes (le contenu est cach\u00e9). Dans cette grille, on trouve un certain nombre de bombes, ce nombre d\u00e9pendant de la difficult\u00e9 choisie : easy : le nombre de bombes est taille + 1 ; \u01f9ormal : le nombre de bombes est taille + taille//4 ; hard : le nombre de bombes est taille + taille//2 . Une case peut-alors : soit contenir une bombe ; soit contenir un nombre qui correspond au nombre de bombes pr\u00e9sentes dans les 8 cases qui lui sont adjacentes ; soit \u00eatre vide - ce qui signifie qu'elle ne contient pas de bombe et n'est adjacente \u00e0 aucune. le/la joueur\u00b7euse doit d\u00e9couvrir (au sens d'enlever la couverture) toutes les cases ne contenant pas de bombes et perd d\u00e8s qu'une bombe est d\u00e9couverte. le/la joueur\u00b7euse peut placer des drapeaux ( flags ) sur les cases qu'il soup\u00e7onne contenir une bombe (les cases bleues dans la capture d'\u00e9cran). Lorsqu'il clique sur une case, le/la joueur\u00b7euse voit donc trois possibilit\u00e9s : soit la case contient une bombe, et il a alors perdu ; soit la case est adjacente \u00e0 une bombe, et donc **seule cette case est d\u00e9couverte\" ; soit la case n'est pas adjacente \u00e0 une bombe, et alors la case est d\u00e9couverte, ainsi que toutes ses voisines et leurs voisines etc..., comme si le/la joueur\u00b7euse avait cliqu\u00e9 dessus. La propagation s'arr\u00eate donc aux cases adjacentes \u00e0 une bombe, qui sont d\u00e9couvertes, mais pas leurs voisines. Ainsi sur la capture, le/la joueur\u00b7euse a perdu 1 ! Il a plac\u00e9 8 drapeaux au bon endroit, mais a cliqu\u00e9 sur la case enti\u00e8rement rouge qui contenait une bombe, et n'a pas vu les deux bombes restantes dans les cases ayant le petit carr\u00e9 rouge.","title":"Pr\u00e9sentation du jeu"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#les-fichiers-et-fonctions-du-projet","text":"","title":"Les fichiers et fonctions du projet"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#fichier-demineurpy","text":"","title":"Fichier demineur.py"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#imports","text":"On importe le module random pour g\u00e9rer l'al\u00e9atoire, ainsi que la classe Fore du module colorama pour g\u00e9rer la couleur dans la console.","title":"Imports"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#classe-cell","text":"Sans rentrer dans les d\u00e9tails, il s'agit de programmation orient\u00e9e objet (POO) , qui est au programme de terminale, mais vous n'aurez rien \u00e0 changer dans cette partie du programme, qui est l\u00e0 pour vous simplifier le travail au sein du projet. Cette classe permet \u00ab d'\u00e9tendre \u00bb l'ensemble des objets possibles dans Python, en permettant de cr\u00e9er des objets de type Cell . De tels objets poss\u00e8deront trois attributs : value : la valeur de la cellule (de type int ), initialis\u00e9e \u00e0 0 ; flag : un bool\u00e9en prenant pour valeur True si la case poss\u00e8de un drapeau, et False sinon. Par d\u00e9faut initialis\u00e9e \u00e0 False ; covered : un bool\u00e9en prenant pour valeur True si la case est d\u00e9couverte, et False sinon. Par d\u00e9faut initialis\u00e9e \u00e0 False . On utilise un objet de type Cell de la mani\u00e8re suivante : >>> c = Cell () >>> c . value 0 >>> c . value = 20 >>> c . value 20 >>> c . flag = True >>> c . flag True >>> c . covered False Pour cr\u00e9er un tableau de 5 cellules, on utilise la compr\u00e9hension suivante : >>> t = [ Cell () for _ in range ( 5 )] Pour ensuite modifier un des objets de type Cell , il faudra l'appeler : soit gr\u00e2ce \u00e0 son indice : >>> t [ 2 ] . value = 3 soit en utilisant un parcours par \u00e9l\u00e9ments : >>> for elem in t : elem . covered = True valeur`","title":"Classe Cell"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#fonction-init_gridtaille","text":"Cette fonction doit cr\u00e9er et renvoyer une grille carr\u00e9e de dimension taille x taille , contenant un objet de type Cell dans chaque case.","title":"Fonction init_grid(taille)"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#fonction-compute_cellgrid-x-y","text":"Cette fonction doit mettre \u00e0 jour la valeur de la cellule de la ligne x et de la colonne y de la grille grid , en fonction du nombre de cases voisines contenant des bombes. On utilisera le code suivant : une cellule ayant pour valeur -1 repr\u00e9sentera une bombe ; une cellule ayant pour valeur 0 repr\u00e9sentera une case non-adjacente \u00e0 une bombe ; une cellule adjacente \u00e0 une ou des bombes portera une valeur \u00e9gale au nombre de bombes \u00e0 laquellle elle est adjacente. Sur une grille 5x5 en mode easy , on pourra par exemple avoir la configuration suivante :","title":"Fonction compute_cell(grid, x, y)"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#fonction-make_gridgrid-nb_bombes","text":"Cette fonction doit modifier en place la grille grid pour \u00e0 la fois placer al\u00e9atoirement nb_bombes bombes (sans que deux bombes soient sur la m\u00eame case), et mettre \u00e0 jour l'ensemble des cases de la grille.","title":"Fonction make_grid(grid, nb_bombes)"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#fonction-affichegridgrid-colors-false-detonate-false","text":"Cette fonction permet d'afficher dans la console la grille de jeu de la mani\u00e8re suivante : en jeu la grille est affich\u00e9e ainsi : \u00e0 la fin de la partie, on utilise des couleurs (vert pour bon placement, rouge pour erreur) comme dans la capture ci-dessous : Afin de rendre l'interface agr\u00e9able, vous devrez utiliser une police mono dans la console (comme courrier ), et pourrez utiliser les caract\u00e8res utf-8 suivants : \u2550 et \u2551 ; \u2554, \u2566, et \u2557 ; \u2560, \u256c, et \u2563 ; \u255a, \u2569 et \u255d \u2588, \u25d5 et \u25d8 Les arguments colors et detonate sont des bool\u00e9ens signifiants respectivement que des couleurs doivent \u00eatre utilis\u00e9es, et qu'une bombe a explos\u00e9e (= que la partie est perdue).","title":"Fonction affichegrid(grid, colors= False, detonate= False)"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#fonction-ask_positiongrid","text":"Fonction demandant au joueur son prochain coup, sous la forme d'une chaine de caract\u00e8res de la forme B3 ou fB3 , selon que le/la joueur\u00b7euse souhaite d\u00e9couvrir ou flaguer une case (ou m\u00eame supprimer un drapeau), et qui renvoie un tuple sous la forme (flag, indice_ligne, indice_colonne) , o\u00f9 flag est un bool\u00e9en donnant la nature du coup, indice_ligne est l'indice de la ligne de la grille correspondant au coup jou\u00e9, et de m\u00eame pour indice_colonne .","title":"Fonction ask_position(grid)"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#fonction-propagategrid-x-y","text":"Il s'agit d'une des fonctions essentielles du jeu. Si le/la joueur\u00b7euse clique sur une case vide(d'attribut valeur \u00e9gal \u00e0 0 ) de la grille grid d'indice de ligne x et de colonne y , il d\u00e9couvre toutes les cases qui lui sont adjacentes ayant pour valeur 0 , 1 , ou plus, ainsi que les voisines de celles de valeur 0 , et la d\u00e9couverte se propage ainsi de proche en proche. L'algorithme \u00e0 utiliser pour permettre cette propagation est le suivant : Algorithme de propagation on cr\u00e9e deux listes to_uncover et to_compute qui contiennent respectivement les coordonn\u00e9es des cellules \u00e0 d\u00e9couvrir et de celles \u00e0 traiter, qui sont toutes les deux initialis\u00e9es avec le tuple (x,y) o\u00f9 x et y sont les arguments fournis \u00e0 la fonction. tant que la liste to_compute n'est pas vide, on effectue alors es op\u00e9rations suivantes : on \u00abpop\u00bb de la liste to_compute son dernier \u00e9l\u00e9ment, qui donne les coordonn\u00e9es de la cellule qui va \u00eatre \u00e9tudi\u00e9e, et on change l'attribut covered de cette cellule \u00e0 False ; si la cellule a pour valeur 0, alors on ajoute toutes ses voisines \u00e0 la fois \u00e0 la liste to_compute et \u00e0 la liste to_uncover , si elles n'y sont pas d\u00e9j\u00e0 pr\u00e9sentes .","title":"fonction propagate(grid, x, y)"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#fonction-apply_positiongrid-flag-x-y","text":"Cette fonction applique l'effet d'un coup du joueur sur la grille : en pla\u00e7ant un drapeau sur la cellule de coordonn\u00e9es (x, y) si l'argument flag est True ; en d\u00e9couvrant une bombe si le/la joueur\u00b7euse a jou\u00e9 sur une case en contenant une ; en appliquant la fonction propagate dans le cas o\u00f9 le/la joueur\u00b7euse joue sur une case ne contenant pas de bombes. Cette fonction renvoie un bool\u00e9en qui vaut True si le jeu se poursuit, et False si le/la joueur\u00b7euse a jou\u00e9 sur une bombe.","title":"Fonction apply_position(grid, flag, x, y)"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#fonction-count_uncoveredgrid","text":"Cette fonction renvoie le nombre de cases d\u00e9couvertes sur la grille (elle aidera \u00e0 savoir si le /la joueur\u00b7euse a gagn\u00e9).","title":"Fonction count_uncovered(grid)"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#fonction-count_flaggedgrid","text":"Cette fonction renvoie le nombre de cases contenant un drapeau, utile pour l'interface graphique.","title":"Fonction count_flagged(grid)"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#fonction-main_consolegrid-difficulte-1","text":"Cette fonction permet de lancer une partie de d\u00e9mineur dans la console, avec une difficult\u00e9 qui repr\u00e9sente le nombre de bombes suppl\u00e9mentaires (en plus de taille ) \u00e0 ajouter \u00e0 la grille. Cette fonction traite tous les cas, et affiche donc au joueur s'il a gagn\u00e9 ou perdu.","title":"Fonction main_console(grid, difficulte = 1)"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#fichier-demineurp5py","text":"Ce fichier utilise le module P5 , qui est un portage en Python du module p5 de javascript, qui permet de cr\u00e9er des interfaces graphiques. Pour utiliser P5 avec Thonny, vous pouvez suivre ce tutoriel Vous n'avez rien \u00e0 changer dans ce module, sauf am\u00e9lioration souhait\u00e9e, mais si vos fonctions respectent les sp\u00e9cifications donn\u00e9es ci-dessus, le jeu devrait raisonnablement fonctionner (mais il peut \u00eatre potentiellement tr\u00e8s lent...).","title":"Fichier demineurP5.py"},{"location":"NSI/Premiere/Projets/demineurP5/projet_demineur/#bareme-du-projet","text":"Un jeu en console fonctionnel (c'est-\u00e0-dire permettant de faire une partie) vous apporte 7 pts ; Un code correctement comment\u00e9 vous apporte 3 pts ; Si toutes les sp\u00e9cifications sont correctes, vous gagnez 2 pts ; Un code lisible, donc avec des noms de variables parlants et des sauts de lignes ad\u00e9quats, vous rapporte 3 pts ; Les 5 points restants correspondent aux am\u00e9liorations possibles, soit dans la console, soit dans l'interface graphique, par exemple : la possibilit\u00e9 de choisir une taille de grille diff\u00e9rente ; l'introduction d'un chronom\u00e8tre ; une sauvegarde du score possible (s'inspirer par exemple du projet de Bandit Manchot...) ... C'est fait expr\u00e8s... Je suis bien meilleur que \u00e7a \u00e0 ce jeu... Des ann\u00e9es de pratique ! \u21a9","title":"Bar\u00e8me du projet"},{"location":"NSI/Terminale/graphe/","text":"","title":"Graphe"},{"location":"NSI/Terminale/home/","text":"Le programme Documents officiels Le programme de Terminale NSI se trouve ici . Cependant certains ajustements ont \u00e9t\u00e9 effectu\u00e9s dans le BO du 29 juillet 2021 . Pr\u00e9vision de progression annuelle 2022-2023 Cette progression n'est valable que pour les \u00e9l\u00e8ves du Lyc\u00e9e Pavie de Guingamp, et est sujette \u00e0 modifications au cours de l'ann\u00e9e... Th\u00e8me Chapitre Dur\u00e9e Estim\u00e9e Dates pr\u00e9vues Dates effectives Remarques Structures de donn\u00e9es Modularit\u00e9 et POO 2 semaine Langages et programmation R\u00e9cursivit\u00e9 2 semaines Les \u00e9preuves Epreuve \u00e9crite Pour l'instant, aucune date officielle n'est tomb\u00e9e concernant l'\u00e9preuve \u00e9crite de NSI pour la session de Bac 2023. Nous pouvons cependant- supposer qu'elle aura lieu en Mars . Les sujets et corrig\u00e9s de l'\u00e9preuve \u00e9crite 2022 peuvent \u00eatre trouv\u00e9s ici Epreuve pratique Pour l'instant, aucune date officielle n'est tomb\u00e9e concernant l'\u00e9preuve pratique de NSI pour la session de Bac 2023. Nous pouvons cependant- supposer qu'elle aura lieu en Mai . La base de donn\u00e9e des sujets d'Epreuve Pratique NSI est disponible ici .","title":"Pr\u00e9sentation"},{"location":"NSI/Terminale/home/#le-programme","text":"","title":"Le programme"},{"location":"NSI/Terminale/home/#documents-officiels","text":"Le programme de Terminale NSI se trouve ici . Cependant certains ajustements ont \u00e9t\u00e9 effectu\u00e9s dans le BO du 29 juillet 2021 .","title":"Documents officiels"},{"location":"NSI/Terminale/home/#prevision-de-progression-annuelle-2022-2023","text":"Cette progression n'est valable que pour les \u00e9l\u00e8ves du Lyc\u00e9e Pavie de Guingamp, et est sujette \u00e0 modifications au cours de l'ann\u00e9e... Th\u00e8me Chapitre Dur\u00e9e Estim\u00e9e Dates pr\u00e9vues Dates effectives Remarques Structures de donn\u00e9es Modularit\u00e9 et POO 2 semaine Langages et programmation R\u00e9cursivit\u00e9 2 semaines","title":"Pr\u00e9vision de progression annuelle 2022-2023"},{"location":"NSI/Terminale/home/#les-epreuves","text":"","title":"Les \u00e9preuves"},{"location":"NSI/Terminale/home/#epreuve-ecrite","text":"Pour l'instant, aucune date officielle n'est tomb\u00e9e concernant l'\u00e9preuve \u00e9crite de NSI pour la session de Bac 2023. Nous pouvons cependant- supposer qu'elle aura lieu en Mars . Les sujets et corrig\u00e9s de l'\u00e9preuve \u00e9crite 2022 peuvent \u00eatre trouv\u00e9s ici","title":"Epreuve \u00e9crite"},{"location":"NSI/Terminale/home/#epreuve-pratique","text":"Pour l'instant, aucune date officielle n'est tomb\u00e9e concernant l'\u00e9preuve pratique de NSI pour la session de Bac 2023. Nous pouvons cependant- supposer qu'elle aura lieu en Mai . La base de donn\u00e9e des sujets d'Epreuve Pratique NSI est disponible ici .","title":"Epreuve pratique"},{"location":"NSI/Terminale/C01/Exceptions/","text":"Gestion des exceptions Un exemple d'erreur \u00e0 ne pas commettre Utilisation malheureuse d'un module Reprenons le module secondDegre.py , mais en temps qu'utilisateur\u00b7trice. Nous connaissons l'interface qui nous a \u00e9t\u00e9 fournie par l'auteur\u00b7trice. Pour tester le module nous lan\u00e7ons le script suivant, nomm\u00e9 testModule.py , et situ\u00e9 dans le m\u00eame dossier que secondDegre.py : import secondDegre as sD p = input ( \"Donnez les coefficients du polynome s\u00e9par\u00e9s par des virgules :\" ) p = tuple ( map ( float , p . split ( \",\" ))) p = sD . polynome ( p ) print ( sD . tangente ( p , 3 )) ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder import secondDegrepy-undv1 as sDbksl-nlbksl-nlp = input(\"Donnez les coefficients du polynome s\u00e9par\u00e9s par des virgules :\")bksl-nlbksl-nlp = tuple(map(float, p.split(\",\")))bksl-nlbksl-nlp = sD.polynome(p)bksl-nlbksl-nlprint(sD.tangente(p,3))bksl-nlbksl-nl Un probl\u00e8me ? Copiez-collez le code ci-dessus dans un fichier testModule.py , puis ex\u00e9cutez-le en saisissant : 3,4,5 ; \"trois\",4,5 3,4,5,6 0,3,4 Dans chacun des cas, qu'obtient-on en sortie ? Pourquoi ? Solution 3,4,5 \"trois\",4,5 3,4,5,6 0,3,4 La sortie est : `y = 22.0(x-3) + 44.0` qui est correcte. La sortie renvoie une erreur de type ValueError , mais c'est celle lev\u00e9e dans le premier if , car un \u00e9l\u00e9ment du tuple n'est pas du bon type. La sortie renvoie une erreur de type ValueError , mais c'est celle lev\u00e9e dans le premier if , car le tuple donn\u00e9 n'est pas de la bonne taille. La sortie renvoie une erreur de type ValueError , mais c'est celle lev\u00e9e dans le deuxi\u00e8me if , car le tuple donn\u00e9 ne correspond pas \u00e0 un polyn\u00f4me de degr\u00e9 2. Lever les bonnes erreurs Dans l'exemple pr\u00e9c\u00e9dent, les trois erreurs, pourtant tr\u00e8s diff\u00e9rentes, sont signal\u00e9es par le m\u00eame message. L'utilisateur\u00b7trice, qui lui ne conna\u00eet pas l'impl\u00e9mentation, ne peut donc pas savoir d'o\u00f9 provient son erreur** (ce qui peut donner des s\u00e9ances de d\u00e9buggage particuli\u00e8rement frustrantes). Il est donc n\u00e9cessaire de pr\u00e9ciser mieux les erreurs commises par l'utilisateur\u00b7trice, pour qu'il ou elle n'ait pas \u00e0 ses pr\u00e9occuper des d\u00e9tails d'impl\u00e9mentation. Il est par exemple possible de rajouter un message lorsque l'erreur est lev\u00e9e, en la passant en param\u00e8tre directement dans l'instruction ValueError() : def polynome ( t ) : a , b , * c = t if len ( c ) > 1 : raise ValueError ( \"length of tuple argument greater than 3\" ) if not ( isinstance ( a ,( int , float )) ) or not ( isinstance ( b ,( int , float )) ) or not ( isinstance ( * c ,( int , float ))) : raise ValueError ( \"argment Error : argument must be a tuple integers or float\" ) if a == 0 : raise ValueError ( \"First element of tuple must not be 0\" ) return t Tyes d'exceptions Voici quelques exceptions courantes, et leurs utilisations Exception Contexte NameError acc\u00e8s \u00e0 une variable inexistante dans l'espace de nom courant IndexError acc\u00e8s \u00e0 un indice invalide d'une liste, d'un tuple, d'une chaine de caract\u00e8res... KeyError acc\u00e8s \u00e0 une cl\u00e9 inexistante d'un dictionnaire ZeroDivisionError division par z\u00e9ro TypeError op\u00e9ration appliqu\u00e9es \u00e0 un ou des objets incompatibles Lever des exceptions Une exception peut \u00eatre lev\u00e9e (c'est-\u00e0-dire volontairement d\u00e9clench\u00e9e) par l'interm\u00e9diaire de l'instruction raise . Dans ce cas le programme est interrompu , et la pile d'erreurs est renvoy\u00e9es dans le terminal \u00e0 l'utilisateur. Corriger le code\"\" Malgr\u00e9 nos corrections, il reste plusieurs possibilit\u00e9s d'erreurs dans l'utilisation de la fonction polynome(t) . Quelles sont-elles et comment les corriger pour lever une exception explicite ? Solution Ex\u00e9cution de polynome((2,3)) ou polynome((4)) Ex\u00e9cution de polynome(3,4,5) Une correction possible Que se passe-t-il lorsqu'on utilise la fonction polynome avec un tuple de 1 ou 2 \u00e9l\u00e9ments ? Dans le cas d'un seul \u00e9l\u00e9ment, l'erreur ressortie est : a , b , * c = t TypeError : cannot unpack non - iterable int object Dans le cas de deux \u00e9l\u00e9ments, l'erreur lev\u00e9e est : ) or not ( isinstance ( * c ,( int , float ))) : TypeError : isinstance expected 2 arguments , got 1 Dans les deux cas, on voit appara\u00eetre les d\u00e9tails d'impl\u00e9mentation du code de la fonction, qui sont peu clairs en particulier pour le cas n\u00b02. Une erreur possible, et que vous avez probablement commise, est celle de passer non pas un seul argument sous la forme d'un tuple (ou d'une liste) mais de multiples param\u00e8tres. Cette erreur d\u00e9clenche alors l'exception TypeError car les trois arguments pass\u00e9s ne sont pas du bon type. Le code suivant est une solution possible (certainement perfectible) \u00e0 la lev\u00e9e d'erreurs plus explicites : def polynome ( * t ) : try : if len ( t ) == 1 : # si on passe un tuple ou un tableau (1,2,3), # *t le convertit en [(1,2,3)] t = t [ 0 ] # d'o\u00f9 cette ligne a , b , * c = t #Puis on unpack, c \u00e9tant une liste \u00e9ventuellement vide except TypeError : raise TypeError ( \"Must pass three argument or a tuple of 3 element.\" ) if len ( c ) != 1 : # si c est vide ou contient au moins 2 \u00e9l\u00e9ments raise ValueError ( \"Bad Number of argument.\" ) if not ( isinstance ( a ,( int , float )) ) or not ( isinstance ( b ,( int , float )) ) or not ( isinstance ( * c ,( int , float ))) : raise TypeError ( \"argment Error : argument must be a tuple of integers or floats.\" ) if a == 0 : raise ValueError ( \"First element of tuple must not be 0.\" ) return t Intercepter des exceptions Vous avez constat\u00e9 dans la solution pr\u00e9c\u00e9dente un bloc que nous n'avons encore jamais utilis\u00e9 : try : if len ( t ) == 1 : t = t [ 0 ] a , b , * c = t except TypeError : raise TypeError ( \"Must pass three argument or a tuple of 3 element.\" ) On a ici l'utilisation d'une structure sp\u00e9ciale : l'interception d'ereurs. Interception des exceptions Il arrive souvent en programmation que l'on doive utiliser une instructions oui une s\u00e9rie d'instruction dont on sait \u00e0 l'avance qu'elle peuvent g\u00e9n\u00e9rer des erreurs. La structure suivante est l\u00e0 pour \u00e7a : try : # Bloc try except error : # Bloc except Le code du bloc try va \u00eatre ex\u00e9cut\u00e9, et si une erreur du type fournie en argument de l'instruction except est lev\u00e9e, alors le code du bloc except est ex\u00e9cut\u00e9. Exemple : En premi\u00e8re nous avons vu l'importance de rendre parfois un code dumbproof , et que cela g\u00e9n\u00e8rais parfois de nombreuses difficult\u00e9s. Le simple fait de coder une fonction demandant \u00e0 un utilisateur de saisir un nombre entier entre 1 et 10 inclus pouvaiet rapidement p\u00e9nible \u00e0 \u00e9crire. Les deux onglets ci-dessous donnent deux versions d'une fonction permettant de r\u00e9aliser cette fonction, la version utilis\u00e9e en premi\u00e8re, et celle levant des excpetions. Version avec des structures conditionnelles Version avec interception d'erreurs def askIntFrom1To10 () : while True : nb = input ( \"Entrez un entier entre 1 et 10 :\" ) if nb . isnumeric () and \".\" not in ( nb ) : nb = int ( nb ) if 1 <= nb and nb <= 10 : return nb else : print ( \"L'entier saisi n'est pas entre 1 et 10. Veuillez recommencer\" ) else : print ( \"Ce n'est pas un entier, veuillez recommencer !\" ) def askIntFrom1To10 () : while True : try : nb = int ( input ( \"Entrez un entier entre 1 et 10 :\" )) if 1 <= nb and nb <= 10 : return nb else : print ( \"L'entier saisi n'est pas entre 1 et 10. Veuillez recommencer\" ) except ValueError : print ( \"Ce n'est pas un entier, veuillez recommencer !\" ) Exercice Evidemment, la diff\u00e9rence ne saute pas vraiment aux yeux... Pourquoi faire tout un plat d'une seule ligne gagn\u00e9e ? Essayez donc, pour chacune des 2 fonctions pr\u00e9c\u00e9dentes, avec les chaines de caract\u00e8res suivantes (\u00e0 copier-coller) : \u00bd 3\u00b2 R\u00e9ponse En fait le probl\u00e8me provient de la m\u00e9thode isnumeric() , dont on ne contr\u00f4le pas vraiment le fonctionnement. On sait que cette m\u00e9thode permet de v\u00e9rifier si une chaine de caract\u00e8res est bien constitu\u00e9e uniquement de caract\u00e8res num\u00e9riques. Mais sans lire r\u00e9ellement la documentation, qui peut se douter que les fractions d\u00e9finies dans la table utf8 , ainsi que les caract\u00e8res en exposant et en indice , sont consid\u00e9r\u00e9s comme des valeurs num\u00e9riques. L'int\u00e9r\u00eat du bloc try est qu'il se d\u00e9clenchera d\u00e8s qu'il y aura une exception lev\u00e9e. Et cette exception a peu de chance de se produire dans le bloc if / else . La fonction devient dumbproof (mais si vous r\u00e9ussissez \u00e0 d\u00e9clencher une erreur bloquante, signalez-le moi !!). Enchainer les interceptions Il est aussi possible d'avoir plusieurs blocs except successifs, en utilisant : try : # Bloc try except error1 : # Bloc except1 except error2 : # Bloc except2 ... Etendre la gestion des exceptions Il existe de nombreuses autres possibilit\u00e9s utilisant la lev\u00e9e d'exceptions, mais elles d\u00e9passent largement le programme de Terminale. Les plus curieux parmi vous pourront toujours aller lire la doc Python \", qui reste la r\u00e9f\u00e9rence absolue...","title":"Exceptions"},{"location":"NSI/Terminale/C01/Exceptions/#gestion-des-exceptions","text":"","title":"Gestion des exceptions"},{"location":"NSI/Terminale/C01/Exceptions/#un-exemple-derreur-a-ne-pas-commettre","text":"Utilisation malheureuse d'un module Reprenons le module secondDegre.py , mais en temps qu'utilisateur\u00b7trice. Nous connaissons l'interface qui nous a \u00e9t\u00e9 fournie par l'auteur\u00b7trice. Pour tester le module nous lan\u00e7ons le script suivant, nomm\u00e9 testModule.py , et situ\u00e9 dans le m\u00eame dossier que secondDegre.py : import secondDegre as sD p = input ( \"Donnez les coefficients du polynome s\u00e9par\u00e9s par des virgules :\" ) p = tuple ( map ( float , p . split ( \",\" ))) p = sD . polynome ( p ) print ( sD . tangente ( p , 3 )) ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder import secondDegrepy-undv1 as sDbksl-nlbksl-nlp = input(\"Donnez les coefficients du polynome s\u00e9par\u00e9s par des virgules :\")bksl-nlbksl-nlp = tuple(map(float, p.split(\",\")))bksl-nlbksl-nlp = sD.polynome(p)bksl-nlbksl-nlprint(sD.tangente(p,3))bksl-nlbksl-nl Un probl\u00e8me ? Copiez-collez le code ci-dessus dans un fichier testModule.py , puis ex\u00e9cutez-le en saisissant : 3,4,5 ; \"trois\",4,5 3,4,5,6 0,3,4 Dans chacun des cas, qu'obtient-on en sortie ? Pourquoi ? Solution 3,4,5 \"trois\",4,5 3,4,5,6 0,3,4 La sortie est : `y = 22.0(x-3) + 44.0` qui est correcte. La sortie renvoie une erreur de type ValueError , mais c'est celle lev\u00e9e dans le premier if , car un \u00e9l\u00e9ment du tuple n'est pas du bon type. La sortie renvoie une erreur de type ValueError , mais c'est celle lev\u00e9e dans le premier if , car le tuple donn\u00e9 n'est pas de la bonne taille. La sortie renvoie une erreur de type ValueError , mais c'est celle lev\u00e9e dans le deuxi\u00e8me if , car le tuple donn\u00e9 ne correspond pas \u00e0 un polyn\u00f4me de degr\u00e9 2. Lever les bonnes erreurs Dans l'exemple pr\u00e9c\u00e9dent, les trois erreurs, pourtant tr\u00e8s diff\u00e9rentes, sont signal\u00e9es par le m\u00eame message. L'utilisateur\u00b7trice, qui lui ne conna\u00eet pas l'impl\u00e9mentation, ne peut donc pas savoir d'o\u00f9 provient son erreur** (ce qui peut donner des s\u00e9ances de d\u00e9buggage particuli\u00e8rement frustrantes). Il est donc n\u00e9cessaire de pr\u00e9ciser mieux les erreurs commises par l'utilisateur\u00b7trice, pour qu'il ou elle n'ait pas \u00e0 ses pr\u00e9occuper des d\u00e9tails d'impl\u00e9mentation. Il est par exemple possible de rajouter un message lorsque l'erreur est lev\u00e9e, en la passant en param\u00e8tre directement dans l'instruction ValueError() : def polynome ( t ) : a , b , * c = t if len ( c ) > 1 : raise ValueError ( \"length of tuple argument greater than 3\" ) if not ( isinstance ( a ,( int , float )) ) or not ( isinstance ( b ,( int , float )) ) or not ( isinstance ( * c ,( int , float ))) : raise ValueError ( \"argment Error : argument must be a tuple integers or float\" ) if a == 0 : raise ValueError ( \"First element of tuple must not be 0\" ) return t","title":"Un exemple d'erreur \u00e0 ne pas commettre"},{"location":"NSI/Terminale/C01/Exceptions/#tyes-dexceptions","text":"Voici quelques exceptions courantes, et leurs utilisations Exception Contexte NameError acc\u00e8s \u00e0 une variable inexistante dans l'espace de nom courant IndexError acc\u00e8s \u00e0 un indice invalide d'une liste, d'un tuple, d'une chaine de caract\u00e8res... KeyError acc\u00e8s \u00e0 une cl\u00e9 inexistante d'un dictionnaire ZeroDivisionError division par z\u00e9ro TypeError op\u00e9ration appliqu\u00e9es \u00e0 un ou des objets incompatibles Lever des exceptions Une exception peut \u00eatre lev\u00e9e (c'est-\u00e0-dire volontairement d\u00e9clench\u00e9e) par l'interm\u00e9diaire de l'instruction raise . Dans ce cas le programme est interrompu , et la pile d'erreurs est renvoy\u00e9es dans le terminal \u00e0 l'utilisateur. Corriger le code\"\" Malgr\u00e9 nos corrections, il reste plusieurs possibilit\u00e9s d'erreurs dans l'utilisation de la fonction polynome(t) . Quelles sont-elles et comment les corriger pour lever une exception explicite ? Solution Ex\u00e9cution de polynome((2,3)) ou polynome((4)) Ex\u00e9cution de polynome(3,4,5) Une correction possible Que se passe-t-il lorsqu'on utilise la fonction polynome avec un tuple de 1 ou 2 \u00e9l\u00e9ments ? Dans le cas d'un seul \u00e9l\u00e9ment, l'erreur ressortie est : a , b , * c = t TypeError : cannot unpack non - iterable int object Dans le cas de deux \u00e9l\u00e9ments, l'erreur lev\u00e9e est : ) or not ( isinstance ( * c ,( int , float ))) : TypeError : isinstance expected 2 arguments , got 1 Dans les deux cas, on voit appara\u00eetre les d\u00e9tails d'impl\u00e9mentation du code de la fonction, qui sont peu clairs en particulier pour le cas n\u00b02. Une erreur possible, et que vous avez probablement commise, est celle de passer non pas un seul argument sous la forme d'un tuple (ou d'une liste) mais de multiples param\u00e8tres. Cette erreur d\u00e9clenche alors l'exception TypeError car les trois arguments pass\u00e9s ne sont pas du bon type. Le code suivant est une solution possible (certainement perfectible) \u00e0 la lev\u00e9e d'erreurs plus explicites : def polynome ( * t ) : try : if len ( t ) == 1 : # si on passe un tuple ou un tableau (1,2,3), # *t le convertit en [(1,2,3)] t = t [ 0 ] # d'o\u00f9 cette ligne a , b , * c = t #Puis on unpack, c \u00e9tant une liste \u00e9ventuellement vide except TypeError : raise TypeError ( \"Must pass three argument or a tuple of 3 element.\" ) if len ( c ) != 1 : # si c est vide ou contient au moins 2 \u00e9l\u00e9ments raise ValueError ( \"Bad Number of argument.\" ) if not ( isinstance ( a ,( int , float )) ) or not ( isinstance ( b ,( int , float )) ) or not ( isinstance ( * c ,( int , float ))) : raise TypeError ( \"argment Error : argument must be a tuple of integers or floats.\" ) if a == 0 : raise ValueError ( \"First element of tuple must not be 0.\" ) return t","title":"Tyes d'exceptions"},{"location":"NSI/Terminale/C01/Exceptions/#intercepter-des-exceptions","text":"Vous avez constat\u00e9 dans la solution pr\u00e9c\u00e9dente un bloc que nous n'avons encore jamais utilis\u00e9 : try : if len ( t ) == 1 : t = t [ 0 ] a , b , * c = t except TypeError : raise TypeError ( \"Must pass three argument or a tuple of 3 element.\" ) On a ici l'utilisation d'une structure sp\u00e9ciale : l'interception d'ereurs. Interception des exceptions Il arrive souvent en programmation que l'on doive utiliser une instructions oui une s\u00e9rie d'instruction dont on sait \u00e0 l'avance qu'elle peuvent g\u00e9n\u00e9rer des erreurs. La structure suivante est l\u00e0 pour \u00e7a : try : # Bloc try except error : # Bloc except Le code du bloc try va \u00eatre ex\u00e9cut\u00e9, et si une erreur du type fournie en argument de l'instruction except est lev\u00e9e, alors le code du bloc except est ex\u00e9cut\u00e9. Exemple : En premi\u00e8re nous avons vu l'importance de rendre parfois un code dumbproof , et que cela g\u00e9n\u00e8rais parfois de nombreuses difficult\u00e9s. Le simple fait de coder une fonction demandant \u00e0 un utilisateur de saisir un nombre entier entre 1 et 10 inclus pouvaiet rapidement p\u00e9nible \u00e0 \u00e9crire. Les deux onglets ci-dessous donnent deux versions d'une fonction permettant de r\u00e9aliser cette fonction, la version utilis\u00e9e en premi\u00e8re, et celle levant des excpetions. Version avec des structures conditionnelles Version avec interception d'erreurs def askIntFrom1To10 () : while True : nb = input ( \"Entrez un entier entre 1 et 10 :\" ) if nb . isnumeric () and \".\" not in ( nb ) : nb = int ( nb ) if 1 <= nb and nb <= 10 : return nb else : print ( \"L'entier saisi n'est pas entre 1 et 10. Veuillez recommencer\" ) else : print ( \"Ce n'est pas un entier, veuillez recommencer !\" ) def askIntFrom1To10 () : while True : try : nb = int ( input ( \"Entrez un entier entre 1 et 10 :\" )) if 1 <= nb and nb <= 10 : return nb else : print ( \"L'entier saisi n'est pas entre 1 et 10. Veuillez recommencer\" ) except ValueError : print ( \"Ce n'est pas un entier, veuillez recommencer !\" ) Exercice Evidemment, la diff\u00e9rence ne saute pas vraiment aux yeux... Pourquoi faire tout un plat d'une seule ligne gagn\u00e9e ? Essayez donc, pour chacune des 2 fonctions pr\u00e9c\u00e9dentes, avec les chaines de caract\u00e8res suivantes (\u00e0 copier-coller) : \u00bd 3\u00b2 R\u00e9ponse En fait le probl\u00e8me provient de la m\u00e9thode isnumeric() , dont on ne contr\u00f4le pas vraiment le fonctionnement. On sait que cette m\u00e9thode permet de v\u00e9rifier si une chaine de caract\u00e8res est bien constitu\u00e9e uniquement de caract\u00e8res num\u00e9riques. Mais sans lire r\u00e9ellement la documentation, qui peut se douter que les fractions d\u00e9finies dans la table utf8 , ainsi que les caract\u00e8res en exposant et en indice , sont consid\u00e9r\u00e9s comme des valeurs num\u00e9riques. L'int\u00e9r\u00eat du bloc try est qu'il se d\u00e9clenchera d\u00e8s qu'il y aura une exception lev\u00e9e. Et cette exception a peu de chance de se produire dans le bloc if / else . La fonction devient dumbproof (mais si vous r\u00e9ussissez \u00e0 d\u00e9clencher une erreur bloquante, signalez-le moi !!). Enchainer les interceptions Il est aussi possible d'avoir plusieurs blocs except successifs, en utilisant : try : # Bloc try except error1 : # Bloc except1 except error2 : # Bloc except2 ... Etendre la gestion des exceptions Il existe de nombreuses autres possibilit\u00e9s utilisant la lev\u00e9e d'exceptions, mais elles d\u00e9passent largement le programme de Terminale. Les plus curieux parmi vous pourront toujours aller lire la doc Python \", qui reste la r\u00e9f\u00e9rence absolue...","title":"Intercepter des exceptions"},{"location":"NSI/Terminale/C01/Intro/","text":"Modularit\u00e9 et initiation \u00e0 la Programmation Orient\u00e9e Objet Quand nous utilisons certaines fonctions o\u00f9 certains objets Python, qu'ils soient built-in ou bien import\u00e9s \u00e0 partir de modules , nous nous posons rarement la question de savoir quelle est leur impl\u00e9mentation , c'est-\u00e0-dire la mani\u00e8re dont-ils ont \u00e9t\u00e9 con\u00e7u et programm\u00e9. Nous faisons globalement confiance aux concepteurs du langage ou du module. Ce qui nous importe est plut\u00f4t l'interface de ces objets, c'est-\u00e0-dire la fa\u00e7on dont nous pouvons interagir avec ces objets : les cr\u00e9er, les affecter, les additionner, les supprimer,... Dans cette partie nous verrons comment cr\u00e9er un module, le documenter, et d\u00e9finir une interface claire. Nous verrons les pr\u00e9mices d'un nouveau paradigme de programmation : la Programmation Orient\u00e9e Objet( POO ). La suite de cette partie est grandement inspir\u00e9e de Num\u00e9riques et Sciences Informatique, 24 le\u00e7ons avec exercices corrig\u00e9, Ellipse Un premier probl\u00e8me Abstract Voici une propri\u00e9t\u00e9 probabiliste peu intuitive : il suffit d'avoir un groupe de 23 personnes pour que la probabilit\u00e9 que deux personnes aient la m\u00eame date d'anniversaire soit sup\u00e9rieure \u00e0 50%. Nous allons construire un programme Python qui permettra de v\u00e9rifier exp\u00e9rimentalement cette propri\u00e9t\u00e9. Pour mod\u00e9liser le probl\u00e8me : plut\u00f4t que d'utiliser des dates, nous allons utiliser des entiers de 1 \u00e0 365 ; nous allons cr\u00e9er une fonction sans param\u00e8tres genere_groupe() qui renvoie un tableau al\u00e9atoire de 23 entiers de 1 \u00e0 365 ; nous allons cr\u00e9er une fonction contient_doublon(t) qui renverra True si le tableau contient un doublon, et False sinon ; puis nous cr\u00e9erons une fonction teste_hypothese(n) qui testera sur un \u00e9chantillon de n groupes la pr\u00e9sence d'un doublon ou non, et renverra le nombre de groupes ayant eu des doublons. Exercice Cr\u00e9er un fichier recherchesDates.py et impl\u00e9menter les fonctions pr\u00e9c\u00e9dentes. Des solutions sont propos\u00e9es dans les parties ci-dessous, mais vous devez d'abord tester par vous-m\u00eames . Vous pouvez cependant utiliser les indices ci-dessous pour vous aider Proc\u00e9dure genere_groupe() Utiliser la fonction randint du module random (voir la doc ) Utiliser les m\u00e9thodes de listes (voir la doc ) Fonction contient_doublon(t) Une possibilit\u00e9 est de cr\u00e9er d'abord une liste vide vus , dans laquelle on ajoutera les valeurs d\u00e9j\u00e0 vue lors du parcours de la liste t . Ainsi, on parcourt la liste t si l'\u00e9l\u00e9ment est dans vus , c'est qu'il y a un doublon, donc on arr\u00eate la fonction en renvoyant True si l'\u00e9l\u00e9ment n'est pas dans vus , c'est donc la premi\u00e8re fois qu'on le voit, et on l'ajoute \u00e0 vus . Si on atteint la fin de la liste, c'est qu'il n'y a pas de doublons. fonction teste_hypothese(n) Il faut : Initialiser une variable comptant le nombre de doublons \u00e0 0. Effectuer n fois une boucle qui : G\u00e9n\u00e8re un groupe al\u00e9atoire. Incr\u00e9mente de 1 le compteur si ce groupe contient un doublon Renvoie le compteur. Solution ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder from random import randintbksl-nl bksl-nldef generepy-undgroupe() -> list :bksl-nl \"\"\"fonction renvoyant un tableau de 23 nombres al\u00e9atoires entre 1 et 365\"\"\"bksl-nl return [randint(1,365) for py-und in range(23)]bksl-nlbksl-nldef contientpy-unddoublon(t : list) -> bool :bksl-nl \"\"\"fonction renvoyant un bool\u00e9en signalant la pr\u00e9sence ou non d'un doublon dans le tableau\"\"\"bksl-nl s = [] # s est un tableau temporaire contenant les valeurs test\u00e9esbksl-nl for data in t :bksl-nl if data in s : # si data est d\u00e9j\u00e0 dans s, alors c'est un doublonbksl-nl return Truebksl-nl else : # sinon on ajoute data \u00e0 la liste des valeurs test\u00e9es.bksl-nl s.append(data)bksl-nl return Falsebksl-nl bksl-nldef testepy-undhypothese(n : int) -> int:bksl-nl \"\"\"fonction renvoyant le nombre de groupes contenant un doublonbksl-nl sur un \u00e9chantillon de n groupes\"\"\"bksl-nl nbDoublons = 0 bksl-nl for py-und in range(n) :bksl-nl t = generepy-undgroupe()bksl-nl if contientpy-unddoublon(t) :bksl-nl nbDoublons +=1bksl-nl return nbDoublons/npy-str100bksl-nl Preuve math\u00e9matique Cette pruve est donn\u00e9e \u00e0 titre indicatif, et n'a ni \u00e0 \u00eatre connue, ni m\u00eame \u00e0 \u00eatre comprise. Consid\u00e9rons notre groupe de 23 personnes, et cherchons la probabilit\u00e9 que les 23 personnes n'aient pas la m\u00eame date anniversaire : la premi\u00e8re peut avoir n'importe quel date anniversaire, donc 365 possibilit\u00e9 sur 365 dates possibles. La deuxi\u00e8me ne peut pas avoir la m\u00eame date que les deux premiers, donc 364 possibilit\u00e9s sur 365. La troisi\u00e8me ne peut avoir la m\u00eame date que les deux premiers, donc 363 possibilit\u00e9s sur 365. ... La \\(n-i\u00e8me\\) ne peut avoir la m\u00eame date que les \\(n-1\\) pr\u00e9c\u00e9dents, donc \\(365-(n-1)\\) possibilit\u00e9s. ... La 23\u00e8me ne peut avoir la m\u00eame date que les 22 pr\u00e9c\u00e9dents, donc \\(365-22 = 343\\) possibilit\u00e9s. La probabilit\u00e9 cherch\u00e9e est donc \\(p = \\dfrac{365}{365} \\times \\dfrac{364}{365} \\times ... \\times \\dfrac{343}{365} = \\dfrac{365~!}{342~!.365^{23}}\\) o\u00f9 \\(365~!\\) est la factorielle de 365, soit la multiplication \\(365 \\times 364 \\times 363 \\times ... \\times 2 \\times 1\\) . Or l'\u00e9v\u00e9nement contraire de \"les 23 personnes n'ont pas la m\u00eame date anniversaire\" est l'\u00e9v\u00e9nement \"au moins 2 personnes parmi les 23 ont la m\u00eame date d'anniversaire\" . Donc sa probabilit\u00e9 est \\(p' = 1-p\\) soit en calculant environ \\(0,5073\\) , soit \\(50,73\\) \\%. Plus d'informations peuvent \u00eatre trouv\u00e9es sur l' article correspondant de wikipedia . Diff\u00e9rentes solutions ? Bien entendu, les solutions propos\u00e9es ci-dessus ne sont pas uniques. Elles sont m\u00eames non optimales (en tout cas pour la fonction contient_doublon(t) ). Il est tout \u00e0 fait possible de proposer d'autres impl\u00e9mentations du code, c'est-\u00e0-dire d'autres fa\u00e7ons de coder la fonctionnalit\u00e9 voulue. Ainsi on pourrait regarder les impl\u00e9mentations suivantes, et les comparer entre elles : Exercice : autres impl\u00e9mentations de contient_doublon(t) Tableau de bool\u00e9ens Tableau de bits Table de hachage def contient_doublon ( t ) : \"\"\"fonction renvoyant un bool\u00e9en signalant la pr\u00e9sence ou non d'un doublon dans le tableau\"\"\" s = [ False ] * 365 # s est un tableau temporaire contenant false pour chaque date for data in t : if s [ data ] : # si s[data] est vrai (True), alors il y a doublon return True else : # sinon on bascule s[data] \u00e0 True s [ data ] = True return False C'est une solution simple. Mais que dire de ses avantages et de ses inconv\u00e9nients ? def contient_doublon ( t ) : \"\"\"fonction renvoyant un bool\u00e9en signalant la pr\u00e9sence ou non d'un doublon dans le tableau\"\"\" s = 0 for data in t : if s & ( 1 << data ) != 0 : return True else : s = s | ( 1 << data ) return False C'est une solution beaucoup plus complexe (et hors programme de Terminale dans sa conception). Quels sont ses avantages et ses inconv\u00e9nients ? def contient_doublon ( t ) : \"\"\"fonction renvoyant un bool\u00e9en signalant la pr\u00e9sence ou non d'un doublon dans le tableau\"\"\" s = [[] for _ in range ( 23 )] for data in t : if data in s [ data % 23 ] : return True else : s [ data % 23 ] . append ( data ) return False Solution Solution originale Solution tableau de bool\u00e9ens Solution tableau de bits Solution table de hachage L'avantage est la simplicit\u00e9 du code, et c'est \u00e0 peu pr\u00e8s tout... Par contre les inconv\u00e9nients sont nombreux, en particulier le co\u00fbt en temps : en effet \u00e0 chaque tour de boucle for data in t , on ex\u00e9cute l'instruction data in s , qui parcoure tout le tableau s ... On a donc une complexit\u00e9 en temps en \\(\\mathscr{O}(n^2)\\) (au pire). Pour un tableau de 23 \u00e9l\u00e9ments, c'est acceptable, mais dans l'hypoth\u00e8se d'un tableau de plus grande taille, c'est absolument \u00e0 \u00e9viter ! Un des avantages est que la complexit\u00e9 en temps est bien meilleure que pour la premi\u00e8re solution. Il n'y a plus les deux boucles imbriqu\u00e9es, d'o\u00f9 un gain consid\u00e9rable. Cependant on peut avoir un probl\u00e8me de co\u00fbt en m\u00e9moire , car on utilise un tableau de taille 365 pour uniquement v\u00e9rifier 23 dates. Dans le cadre d'une comparaison sur un ensemble de valeurs possibles sup\u00e9rieures \u00e0 365, le co\u00fbt en m\u00e9moire peut vite devenir probl\u00e9matique. La solution est tr\u00e8s complexe, mais elle a un grand m\u00e9rite : un bool\u00e9en, en python, est en fait un entier (0 ou 1), donc stock\u00e9 sur... 8 octets ! (source ici ) Or il n'est pas n\u00e9cessaire d'utilier 8 octets, soit 64 bits, pour stocker un bool\u00e9en... En fait il suffit d'un seul bit ! Cette solution divise donc par 64 la taille m\u00e9moire par rapport \u00e0 la solution pr\u00e9c\u00e9dente ! C'est globalement un bon avantage dans cette situation,; mais cela reste rapidement insuffisant si le nombre d'\u00e9l\u00e9ments auquel on s'int\u00e9rese est bien plus grand que 365. Il faut noter que le tableau de bits (ou bit set ou bit array ) est une structure compacte qui permet de repr\u00e9senter facilement des tableaux de bool\u00e9ens. Elle permet une meilleure utilisation des ressources m\u00e9moires dans les cas o\u00f9 celle-ci est limit\u00e9e, comme par exemple dans la m\u00e9moire cache du processeur. Comme nous l'avons vu en classe de premi\u00e8re, la table de hachage est une solution efficace et \u00e9l\u00e9gante qui permet de gagner \u00e0 la fois du co\u00fbt en temps (on ne parcourt pas un tableau, on atteint directement l'objet par sa cl\u00e9 , ou en tout on parcourt un sous-ensemble beaucoup plus petit), et du co\u00fbt en m\u00e9moire (le tableau des cl\u00e9s est de la taille strictement n\u00e9cessaire). Une m\u00eame interface Exercice Quand on observe les 4 propositions de codes pour la fonction contient_doublon(t) , on peut constater que ces 4 codes sont quasiment identiques. Quelles sont ces parties identiques ? Solution def contient_doublon ( t ) : \"\"\"fonction renvoyant un bool\u00e9en signalant la pr\u00e9sence ou non d'un doublon dans le tableau\"\"\" s = ... for data in t : if ... : return True else : ... return False Les parties en pointill\u00e9 de la solution pr\u00e9c\u00e9dente v\u00e9rifient les conditions suivantes : s repr\u00e9sente un ensemble de date, et le premier trou correspond \u00e0 la cr\u00e9ation de cette structure. Le deuxi\u00e8me trou consiste \u00e0 v\u00e9rifier si data est contenu dans s . le troisi\u00e8me trou consiste \u00e0 ajouter data \u00e0 s Seules ces trois parties changent dans les 4 programmes. On pourrait alors isoler ces trois aspects dans trois fonctions diff\u00e9rentes et obtenir le code factoris\u00e9 suivant : Code factoris\u00e9 def contient_doublon ( t ) : \"\"\"fonction renvoyant un bool\u00e9en signalant la pr\u00e9sence ou non d'un doublon dans le tableau\"\"\" s = cree () for data in t : if contient ( data , s ) : return True else : ajoute ( data , s ) return False On d\u00e9finit ainsi une fonction contient_doublon(t) compl\u00e8tement s\u00e9par\u00e9e de la repr\u00e9sentation de la structure s . Le ou la programmeur\u00b7euse qui souhaite simplement utiliser la structure de donn\u00e9e s n'a pas \u00e0 se pr\u00e9occuper de la fa\u00e7on dont elle a \u00e9t\u00e9 impl\u00e9ment\u00e9e . Il ou elle n'a besoin que de conna\u00eetre son interface : la fonction cree() sert \u00e0 construire une structure ; la fonction contient(data,s) sert \u00e0 regarder si data est contenu dans la structure s ; La fonction ajoute(data,s) ajoute l'\u00e9l\u00e9ment data \u00e0 la structure s . C'est exactement ce qui se passe quand on utilise des modules python : on ne cherche pas \u00e0 savoir comment sont programm\u00e9s les fonctions du modules(c'est-\u00e0-dire l'impl\u00e9mentation du module ) - car on fait confiance aux programmeur\u00b7euse\u00b7s de ce module, mais juste \u00e0 savoir comment utiliser ces fonctions(= l'interface du module ). Encore mieux, le ou la programmeur\u00b7euse du module peut, si il ou elle ne change pas l' interface (c'est-\u00e0-dire la mani\u00e8re d'utiliser les fonctions), am\u00e9liorer ces fonctions (en temps, en m\u00e9moire, etc...) sans m\u00eame que l'utilisateur\u00b7trice n'ait \u00e0 changer quoi que ce soit \u00e0 son propre programme, qui continuera \u00e0 fonctionner (mieux, du moins on esp\u00e8re...).","title":"Introduction"},{"location":"NSI/Terminale/C01/Intro/#modularite-et-initiation-a-la-programmation-orientee-objet","text":"Quand nous utilisons certaines fonctions o\u00f9 certains objets Python, qu'ils soient built-in ou bien import\u00e9s \u00e0 partir de modules , nous nous posons rarement la question de savoir quelle est leur impl\u00e9mentation , c'est-\u00e0-dire la mani\u00e8re dont-ils ont \u00e9t\u00e9 con\u00e7u et programm\u00e9. Nous faisons globalement confiance aux concepteurs du langage ou du module. Ce qui nous importe est plut\u00f4t l'interface de ces objets, c'est-\u00e0-dire la fa\u00e7on dont nous pouvons interagir avec ces objets : les cr\u00e9er, les affecter, les additionner, les supprimer,... Dans cette partie nous verrons comment cr\u00e9er un module, le documenter, et d\u00e9finir une interface claire. Nous verrons les pr\u00e9mices d'un nouveau paradigme de programmation : la Programmation Orient\u00e9e Objet( POO ). La suite de cette partie est grandement inspir\u00e9e de Num\u00e9riques et Sciences Informatique, 24 le\u00e7ons avec exercices corrig\u00e9, Ellipse","title":"Modularit\u00e9 et initiation \u00e0 la Programmation Orient\u00e9e Objet"},{"location":"NSI/Terminale/C01/Intro/#un-premier-probleme","text":"Abstract Voici une propri\u00e9t\u00e9 probabiliste peu intuitive : il suffit d'avoir un groupe de 23 personnes pour que la probabilit\u00e9 que deux personnes aient la m\u00eame date d'anniversaire soit sup\u00e9rieure \u00e0 50%. Nous allons construire un programme Python qui permettra de v\u00e9rifier exp\u00e9rimentalement cette propri\u00e9t\u00e9. Pour mod\u00e9liser le probl\u00e8me : plut\u00f4t que d'utiliser des dates, nous allons utiliser des entiers de 1 \u00e0 365 ; nous allons cr\u00e9er une fonction sans param\u00e8tres genere_groupe() qui renvoie un tableau al\u00e9atoire de 23 entiers de 1 \u00e0 365 ; nous allons cr\u00e9er une fonction contient_doublon(t) qui renverra True si le tableau contient un doublon, et False sinon ; puis nous cr\u00e9erons une fonction teste_hypothese(n) qui testera sur un \u00e9chantillon de n groupes la pr\u00e9sence d'un doublon ou non, et renverra le nombre de groupes ayant eu des doublons. Exercice Cr\u00e9er un fichier recherchesDates.py et impl\u00e9menter les fonctions pr\u00e9c\u00e9dentes. Des solutions sont propos\u00e9es dans les parties ci-dessous, mais vous devez d'abord tester par vous-m\u00eames . Vous pouvez cependant utiliser les indices ci-dessous pour vous aider Proc\u00e9dure genere_groupe() Utiliser la fonction randint du module random (voir la doc ) Utiliser les m\u00e9thodes de listes (voir la doc ) Fonction contient_doublon(t) Une possibilit\u00e9 est de cr\u00e9er d'abord une liste vide vus , dans laquelle on ajoutera les valeurs d\u00e9j\u00e0 vue lors du parcours de la liste t . Ainsi, on parcourt la liste t si l'\u00e9l\u00e9ment est dans vus , c'est qu'il y a un doublon, donc on arr\u00eate la fonction en renvoyant True si l'\u00e9l\u00e9ment n'est pas dans vus , c'est donc la premi\u00e8re fois qu'on le voit, et on l'ajoute \u00e0 vus . Si on atteint la fin de la liste, c'est qu'il n'y a pas de doublons. fonction teste_hypothese(n) Il faut : Initialiser une variable comptant le nombre de doublons \u00e0 0. Effectuer n fois une boucle qui : G\u00e9n\u00e8re un groupe al\u00e9atoire. Incr\u00e9mente de 1 le compteur si ce groupe contient un doublon Renvoie le compteur. Solution ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder from random import randintbksl-nl bksl-nldef generepy-undgroupe() -> list :bksl-nl \"\"\"fonction renvoyant un tableau de 23 nombres al\u00e9atoires entre 1 et 365\"\"\"bksl-nl return [randint(1,365) for py-und in range(23)]bksl-nlbksl-nldef contientpy-unddoublon(t : list) -> bool :bksl-nl \"\"\"fonction renvoyant un bool\u00e9en signalant la pr\u00e9sence ou non d'un doublon dans le tableau\"\"\"bksl-nl s = [] # s est un tableau temporaire contenant les valeurs test\u00e9esbksl-nl for data in t :bksl-nl if data in s : # si data est d\u00e9j\u00e0 dans s, alors c'est un doublonbksl-nl return Truebksl-nl else : # sinon on ajoute data \u00e0 la liste des valeurs test\u00e9es.bksl-nl s.append(data)bksl-nl return Falsebksl-nl bksl-nldef testepy-undhypothese(n : int) -> int:bksl-nl \"\"\"fonction renvoyant le nombre de groupes contenant un doublonbksl-nl sur un \u00e9chantillon de n groupes\"\"\"bksl-nl nbDoublons = 0 bksl-nl for py-und in range(n) :bksl-nl t = generepy-undgroupe()bksl-nl if contientpy-unddoublon(t) :bksl-nl nbDoublons +=1bksl-nl return nbDoublons/npy-str100bksl-nl Preuve math\u00e9matique Cette pruve est donn\u00e9e \u00e0 titre indicatif, et n'a ni \u00e0 \u00eatre connue, ni m\u00eame \u00e0 \u00eatre comprise. Consid\u00e9rons notre groupe de 23 personnes, et cherchons la probabilit\u00e9 que les 23 personnes n'aient pas la m\u00eame date anniversaire : la premi\u00e8re peut avoir n'importe quel date anniversaire, donc 365 possibilit\u00e9 sur 365 dates possibles. La deuxi\u00e8me ne peut pas avoir la m\u00eame date que les deux premiers, donc 364 possibilit\u00e9s sur 365. La troisi\u00e8me ne peut avoir la m\u00eame date que les deux premiers, donc 363 possibilit\u00e9s sur 365. ... La \\(n-i\u00e8me\\) ne peut avoir la m\u00eame date que les \\(n-1\\) pr\u00e9c\u00e9dents, donc \\(365-(n-1)\\) possibilit\u00e9s. ... La 23\u00e8me ne peut avoir la m\u00eame date que les 22 pr\u00e9c\u00e9dents, donc \\(365-22 = 343\\) possibilit\u00e9s. La probabilit\u00e9 cherch\u00e9e est donc \\(p = \\dfrac{365}{365} \\times \\dfrac{364}{365} \\times ... \\times \\dfrac{343}{365} = \\dfrac{365~!}{342~!.365^{23}}\\) o\u00f9 \\(365~!\\) est la factorielle de 365, soit la multiplication \\(365 \\times 364 \\times 363 \\times ... \\times 2 \\times 1\\) . Or l'\u00e9v\u00e9nement contraire de \"les 23 personnes n'ont pas la m\u00eame date anniversaire\" est l'\u00e9v\u00e9nement \"au moins 2 personnes parmi les 23 ont la m\u00eame date d'anniversaire\" . Donc sa probabilit\u00e9 est \\(p' = 1-p\\) soit en calculant environ \\(0,5073\\) , soit \\(50,73\\) \\%. Plus d'informations peuvent \u00eatre trouv\u00e9es sur l' article correspondant de wikipedia .","title":"Un premier probl\u00e8me"},{"location":"NSI/Terminale/C01/Intro/#differentes-solutions","text":"Bien entendu, les solutions propos\u00e9es ci-dessus ne sont pas uniques. Elles sont m\u00eames non optimales (en tout cas pour la fonction contient_doublon(t) ). Il est tout \u00e0 fait possible de proposer d'autres impl\u00e9mentations du code, c'est-\u00e0-dire d'autres fa\u00e7ons de coder la fonctionnalit\u00e9 voulue. Ainsi on pourrait regarder les impl\u00e9mentations suivantes, et les comparer entre elles : Exercice : autres impl\u00e9mentations de contient_doublon(t) Tableau de bool\u00e9ens Tableau de bits Table de hachage def contient_doublon ( t ) : \"\"\"fonction renvoyant un bool\u00e9en signalant la pr\u00e9sence ou non d'un doublon dans le tableau\"\"\" s = [ False ] * 365 # s est un tableau temporaire contenant false pour chaque date for data in t : if s [ data ] : # si s[data] est vrai (True), alors il y a doublon return True else : # sinon on bascule s[data] \u00e0 True s [ data ] = True return False C'est une solution simple. Mais que dire de ses avantages et de ses inconv\u00e9nients ? def contient_doublon ( t ) : \"\"\"fonction renvoyant un bool\u00e9en signalant la pr\u00e9sence ou non d'un doublon dans le tableau\"\"\" s = 0 for data in t : if s & ( 1 << data ) != 0 : return True else : s = s | ( 1 << data ) return False C'est une solution beaucoup plus complexe (et hors programme de Terminale dans sa conception). Quels sont ses avantages et ses inconv\u00e9nients ? def contient_doublon ( t ) : \"\"\"fonction renvoyant un bool\u00e9en signalant la pr\u00e9sence ou non d'un doublon dans le tableau\"\"\" s = [[] for _ in range ( 23 )] for data in t : if data in s [ data % 23 ] : return True else : s [ data % 23 ] . append ( data ) return False Solution Solution originale Solution tableau de bool\u00e9ens Solution tableau de bits Solution table de hachage L'avantage est la simplicit\u00e9 du code, et c'est \u00e0 peu pr\u00e8s tout... Par contre les inconv\u00e9nients sont nombreux, en particulier le co\u00fbt en temps : en effet \u00e0 chaque tour de boucle for data in t , on ex\u00e9cute l'instruction data in s , qui parcoure tout le tableau s ... On a donc une complexit\u00e9 en temps en \\(\\mathscr{O}(n^2)\\) (au pire). Pour un tableau de 23 \u00e9l\u00e9ments, c'est acceptable, mais dans l'hypoth\u00e8se d'un tableau de plus grande taille, c'est absolument \u00e0 \u00e9viter ! Un des avantages est que la complexit\u00e9 en temps est bien meilleure que pour la premi\u00e8re solution. Il n'y a plus les deux boucles imbriqu\u00e9es, d'o\u00f9 un gain consid\u00e9rable. Cependant on peut avoir un probl\u00e8me de co\u00fbt en m\u00e9moire , car on utilise un tableau de taille 365 pour uniquement v\u00e9rifier 23 dates. Dans le cadre d'une comparaison sur un ensemble de valeurs possibles sup\u00e9rieures \u00e0 365, le co\u00fbt en m\u00e9moire peut vite devenir probl\u00e9matique. La solution est tr\u00e8s complexe, mais elle a un grand m\u00e9rite : un bool\u00e9en, en python, est en fait un entier (0 ou 1), donc stock\u00e9 sur... 8 octets ! (source ici ) Or il n'est pas n\u00e9cessaire d'utilier 8 octets, soit 64 bits, pour stocker un bool\u00e9en... En fait il suffit d'un seul bit ! Cette solution divise donc par 64 la taille m\u00e9moire par rapport \u00e0 la solution pr\u00e9c\u00e9dente ! C'est globalement un bon avantage dans cette situation,; mais cela reste rapidement insuffisant si le nombre d'\u00e9l\u00e9ments auquel on s'int\u00e9rese est bien plus grand que 365. Il faut noter que le tableau de bits (ou bit set ou bit array ) est une structure compacte qui permet de repr\u00e9senter facilement des tableaux de bool\u00e9ens. Elle permet une meilleure utilisation des ressources m\u00e9moires dans les cas o\u00f9 celle-ci est limit\u00e9e, comme par exemple dans la m\u00e9moire cache du processeur. Comme nous l'avons vu en classe de premi\u00e8re, la table de hachage est une solution efficace et \u00e9l\u00e9gante qui permet de gagner \u00e0 la fois du co\u00fbt en temps (on ne parcourt pas un tableau, on atteint directement l'objet par sa cl\u00e9 , ou en tout on parcourt un sous-ensemble beaucoup plus petit), et du co\u00fbt en m\u00e9moire (le tableau des cl\u00e9s est de la taille strictement n\u00e9cessaire).","title":"Diff\u00e9rentes solutions ?"},{"location":"NSI/Terminale/C01/Intro/#une-meme-interface","text":"Exercice Quand on observe les 4 propositions de codes pour la fonction contient_doublon(t) , on peut constater que ces 4 codes sont quasiment identiques. Quelles sont ces parties identiques ? Solution def contient_doublon ( t ) : \"\"\"fonction renvoyant un bool\u00e9en signalant la pr\u00e9sence ou non d'un doublon dans le tableau\"\"\" s = ... for data in t : if ... : return True else : ... return False Les parties en pointill\u00e9 de la solution pr\u00e9c\u00e9dente v\u00e9rifient les conditions suivantes : s repr\u00e9sente un ensemble de date, et le premier trou correspond \u00e0 la cr\u00e9ation de cette structure. Le deuxi\u00e8me trou consiste \u00e0 v\u00e9rifier si data est contenu dans s . le troisi\u00e8me trou consiste \u00e0 ajouter data \u00e0 s Seules ces trois parties changent dans les 4 programmes. On pourrait alors isoler ces trois aspects dans trois fonctions diff\u00e9rentes et obtenir le code factoris\u00e9 suivant : Code factoris\u00e9 def contient_doublon ( t ) : \"\"\"fonction renvoyant un bool\u00e9en signalant la pr\u00e9sence ou non d'un doublon dans le tableau\"\"\" s = cree () for data in t : if contient ( data , s ) : return True else : ajoute ( data , s ) return False On d\u00e9finit ainsi une fonction contient_doublon(t) compl\u00e8tement s\u00e9par\u00e9e de la repr\u00e9sentation de la structure s . Le ou la programmeur\u00b7euse qui souhaite simplement utiliser la structure de donn\u00e9e s n'a pas \u00e0 se pr\u00e9occuper de la fa\u00e7on dont elle a \u00e9t\u00e9 impl\u00e9ment\u00e9e . Il ou elle n'a besoin que de conna\u00eetre son interface : la fonction cree() sert \u00e0 construire une structure ; la fonction contient(data,s) sert \u00e0 regarder si data est contenu dans la structure s ; La fonction ajoute(data,s) ajoute l'\u00e9l\u00e9ment data \u00e0 la structure s . C'est exactement ce qui se passe quand on utilise des modules python : on ne cherche pas \u00e0 savoir comment sont programm\u00e9s les fonctions du modules(c'est-\u00e0-dire l'impl\u00e9mentation du module ) - car on fait confiance aux programmeur\u00b7euse\u00b7s de ce module, mais juste \u00e0 savoir comment utiliser ces fonctions(= l'interface du module ). Encore mieux, le ou la programmeur\u00b7euse du module peut, si il ou elle ne change pas l' interface (c'est-\u00e0-dire la mani\u00e8re d'utiliser les fonctions), am\u00e9liorer ces fonctions (en temps, en m\u00e9moire, etc...) sans m\u00eame que l'utilisateur\u00b7trice n'ait \u00e0 changer quoi que ce soit \u00e0 son propre programme, qui continuera \u00e0 fonctionner (mieux, du moins on esp\u00e8re...).","title":"Une m\u00eame interface"},{"location":"NSI/Terminale/C01/IntroPOO/","text":"Introduction \u00e0 la programmation orient\u00e9e objet Un premier exemple issu de Scratch Observons ce jeu assez minable en Scratch (non, mais vraiment, allez voir sur le site...). Le lien ici Ce jeu sommaire est construit autour de trois \u00e9l\u00e9ments : la chauve-souris ; l'\u00e9clair ; le chat. Chacun de ces trois \u00e9l\u00e9ments poss\u00e8de : sa propre zone de script; ses propres caract\u00e9ristiques (nom, taille, costumes, position de d\u00e9part, orientation...). Et ces trois \u00e9l\u00e9ments r\u00e9agissent en fonction d'\u00e9v\u00e9nements li\u00e9s soit \u00e0 l'action du joueur, soit \u00e0 leurs propres interactions. L'\u00e9clair et le chat ont la possibilit\u00e9 d'exister sous la forme de clones , chacun des clones ayant ses propres caract\u00e9ristiques bien que partageant le m\u00eame comportement . Aussi simpliste que Scratch paraisse, il n'en est n\u00e9anmoins pas un v\u00e9ritable langage de programmation , qui plus est multiparadigme : il est en effet con\u00e7u pour g\u00e9rer la programmation imp\u00e9rative , la programmation orient\u00e9e objet ainsi que la programmation \u00e9v\u00e9nementielle . Paradigmes de programmation Un paradigme est \u00ab une repr\u00e9sentation du monde, une mani\u00e8re de voir les choses, un mod\u00e8le coh\u00e9rent du monde qui repose sur un fondement d\u00e9fini \u00bb . Wkipedia . En programmation, plus pr\u00e9cis\u00e9ment, on parle de paradigmes de programmation pour exprimer la mani\u00e8re dont sont con\u00e7us et envisag\u00e9s les programmes. On distingue entre autres : le paradigme de la programmation imp\u00e9rative , qui est celui que nous avons utilis\u00e9 jusqu'ici : on d\u00e9crit les op\u00e9rations en s\u00e9quences d'instructions ex\u00e9cut\u00e9es par l'ordinateur dans un ordre pr\u00e9cis (que le langage soit compil\u00e9 ou interpr\u00e9t\u00e9). C'est le paradigme classique, celui auquel tout le monde pense quand on parle de programme informatique. le paradigme de la programmation orient\u00e9 objet , qui \u00ab consiste en la d\u00e9finition et l'interaction de briques logicielles appel\u00e9es objets ; un objet repr\u00e9sente un concept, une id\u00e9e ou toute entit\u00e9 du monde physique, comme une voiture, une personne ou encore une page d'un livre. Il poss\u00e8de une structure interne et un comportement, et il sait interagir avec ses pairs. Il s'agit donc de repr\u00e9senter ces objets et leurs relation[...] \u00bb. Wikipedia . le paradigme de la programmation fonctionnelle , qui consid\u00e8re le calcul en tant qu'\u00e9valuation de fonctions math\u00e9matiques. le paradigme de la programmation \u00e9v\u00e9nementielle , qui est fond\u00e9 sur la notion d'\u00e9v\u00e9nements. Le programme sera principalement d\u00e9fini par ses r\u00e9actions aux diff\u00e9rents \u00e9v\u00e9nements qui peuvent se produire, c'est-\u00e0-dire des changements d'\u00e9tat de variable, par exemple l'incr\u00e9mentation d'une liste, un d\u00e9placement ou un clic de souris, une saisie au clavier... et bien d'autres ... Les diff\u00e9rents langages de programmation peuvent \u00eatre plus ou moins sp\u00e9cialis\u00e9 selon un certain nombre de paradigmes. Quasiment tous respectent le paradigme originel imp\u00e9ratif . Certains langages ne d\u00e9passent pas ce paradigme (assembleur, Fortran, Algol, BASIC,... ). D'autres sont sp\u00e9cialis\u00e9s sur un paradigme sp\u00e9cifique ( comme Lisp, ML, OCaml en programmation fonctionnelle, Ada, Smalltalk, C++, Ruby, C# Swift... en POO). Mais en g\u00e9n\u00e9ral tous les langages cit\u00e9s poss\u00e8dent des composantes multiparadigmes . C'est le cas de Python, qui supporte la programmation : imp\u00e9rative ; fonctionnelle ; proc\u00e9durale ; orient\u00e9e objet ; et en partie \u00e9v\u00e9nementielle. Principes Le concept principal de la programmation orient\u00e9e objet (POO) est celui d' objet . Nous avons d\u00e9j\u00e0 rencontr\u00e9 un certain nombres d'objets pr\u00e9d\u00e9finis dans Python : la classe int , pour repr\u00e9senter les entiers relatifs ; la classe float , pour repr\u00e9senter les nombre \u00e0 virgule flottante (une partie des d\u00e9cimaux) ; la classe str pour repr\u00e9senter les cha\u00eenes de caract\u00e8res ; la classe list , pour repr\u00e9senter un ensemble ordonn\u00e9 et mutable de toute autre collection d'objets ; la classe tuple , pour repr\u00e9senter un ensemble ordonn\u00e9 et non-mutable de toute autre collection d'objets ; la classe set , pour repr\u00e9senter un ensemble non ordonn\u00e9 et sans doublons ; la classe dict , pour repr\u00e9senter une collection non ordonn\u00e9e index\u00e9e par des cl\u00e9s. Chacun de ces types pr\u00e9c\u00e9dents poss\u00e8de ses propres attributs et ses propres m\u00e9thodes : un objet de la classe str poss\u00e8de une longueur, donn\u00e9 par la fonction built-in len() , et plusieurs m\u00e9thodes associ\u00e9es comme lower() , upper() , etc... un objet de la classe list poss\u00e8de lui aussi une longueur, et ses propres m\u00e9thodes comme append() , pop() , etc... A lire quand vous avez fini la page !!! Je raconte n'importe quoi ci-dessus... Je voulais prendre l'exemple de la longueur comme \u00e9tant un attribut des types str et list . En fait la valeur renvoy\u00e9e par la fonction built-in len() correspond \u00e0 celle calcul\u00e9e par le DUNDERS __len__(self) . Il ne s'agit donc pas r\u00e9ellement d'un attribut, mais du r\u00e9sultat renvoy\u00e9 par une m\u00e9thode . Comme quoi m\u00eame apr\u00e8s 30 ans de programmation on en apprend encore... Classes et constructeurs d'objets En Programmation Orient\u00e9e Objet, on va construire de nouvelles classes d'objets plus ou moins complexes, poss\u00e9dant : des attributs , c'est-\u00e0-dire des variables sp\u00e9cifiques qui lui sont directement associ\u00e9es ; des m\u00e9thodes , c'est-\u00e0-dire des fonctions modifiant l'objet, ou interagissant avec l'environnement ext\u00e9rieur \u00e0 cet objet. Application \u00e0 un exemple Personnages de JDR/MMORPG Prenons un JDR ou MMORPG lambda, dont les personnages sont constitu\u00e9s ainsi : ils ont 4 caract\u00e9ristiques num\u00e9riques entre \\(1\\) et \\(40\\) , \u00e0 savoir force, endurance, rapidit\u00e9, intelligence ; ils ont un nombre de points de vie de d\u00e9part calcul\u00e9 \u00e0 partir des caract\u00e9ristiques endurance + force//2 ; ils poss\u00e8dent bien s\u00fbr un nom ; leur nombre de points d'exp\u00e9rience au d\u00e9part est de \\(0\\) , et leur niveau est de \\(1\\) ; Chaque personnage peut mener une attaque , qui consiste \u00e0 ajouter un nombre al\u00e9atoire entre 1 et 20 \u00e0 sa force ; Chaque personnage peut se d\u00e9fendre d'une attaque qui lui est lanc\u00e9e en ajoutant un nombre al\u00e9atoire de 1 \u00e0 20 \u00e0 son endurance. Si ce r\u00e9sultat est sup\u00e9rieur ou \u00e9gal au niveau d'attaque, l'attaque a \u00e9chou\u00e9e, sinon le personnage perd un nombre de points de vie \u00e9gal \u00e0 la diff\u00e9rence entre le niveau d'attaque et le niveau de d\u00e9fense. Pour construire un tel personnage, on va devoir renseigner son nom, et ses 4 caract\u00e9ristiques. Ses PV, Pex et son niveau sont automatiquement calcul\u00e9s. Tous sont cependant des attributs du personnage. Abstract On va donc d\u00e9crire un personnage par l'interm\u00e9diaire de l'interface suivante : Cr\u00e9ation de la classe et des attributs Info Nous d\u00e9taillerons beaucoup plus dans un chapitre sp\u00e9cifique le fonctionnement de la POO. Pour l'instant vous devrez vous contenter des explications ci-dessus. D\u00e9crire une classe en Python Le code suivant permet de d\u00e9finir une nouvelle classe d'objets de type Personnage : class Personnage : \"\"\" une classe pour repr\u00e9senter un personnage g\u00e9n\u00e9rique du MMORPG \"\"\" def __init__ ( self , nom , force , endurance , rapidite , intelligence ) : self . nom = nom self . force = force self . endurance = endurance self . rapidite = rapidite self . intelligence = intelligence self . pv = self . endurance + self . force // 2 self . pex = 0 self . niveau = 1 La d\u00e9finition d'une classe d'objet est effectu\u00e9e par le mot-cl\u00e9 class , suivi du nom de la classe (commen\u00e7ant par une majuscule par convention) et du symbole : . Comme toujours en Python le symbole : d\u00e9clenche l'attente d'un bloc indent\u00e9, qui correspondra \u00e0 la d\u00e9finition de l'objet. On trouve ensuite une docstring d\u00e9crivant la classe, puis la d\u00e9finition d'une m\u00e9thode de la classe, la m\u00e9thode __init__() , appel\u00e9e m\u00e9thode constructeur de la classe . Cette m\u00e9thode prend plusieurs param\u00e8tres : le param\u00e8tre self , obligatoire , qui repr\u00e9sente 'l'instance de l'objet cr\u00e9\u00e9 (c'est une notion importante), qu'il est pour l'instant difficile d'expliquer). une s\u00e9rie de param\u00e8tres qui correspondent aux param\u00e8tres d\u00e9finis dans l'interface de l'objet Personnage . Puis dans cette m\u00e9thode, on affecte aux attributs de l'objet les valeurs pass\u00e9es en argument, puis on calcule l' attribut pv \u00e0 partir des valeurs d\u00e9j\u00e0 connues. Enfin on d\u00e9fini les deux attributs de valeurs fixes. Un oubli ? Attention ! Ici nous ne respectons pas vraiment l'interface, puisque nous ne v\u00e9rifions pas que les attributs pass\u00e9s en argument sont bien des entiers entre 1 et 40 ! Ce probl\u00e8me sera r\u00e9gl\u00e9 plus tard. Instanciation d'objets Pour cr\u00e9er des personnages, il suffit maintenant d'utiliser une expression de la forme : Personnage( nom, f, e, r, i) . Vous noterez que l'argument self n'est pas renseign\u00e9 ! On appelle cet argument un argument implicite . Ainsi pour cr\u00e9er un objet de type Personnage nomm\u00e9 Bob, et ayant les attributs 20 en force, 25 en endurance, 10 en rapidit\u00e9 et 30 en intelligence, on utilise l'instruction suivante : >>> Personnage ( \"Bob\" , 20 , 25 , 10 , 30 ) < __main__ . Personnage object at 0x7fb674844e48 > On constate donc bien qu'un objet de type Personnage est cr\u00e9e. Bien s\u00fbr, l'objet n'\u00e9tant pas affect\u00e9 \u00e0 un nom, il est imm\u00e9diatement nettoy\u00e9 par le garbage collector . On cr\u00e9e donc une variable firstPlayer comme r\u00e9f\u00e9rence \u00e0 l'objet : >>> firstPlayer = Personnage ( \"Bob\" , 20 , 25 , 10 , 30 ) Abstract On peut sch\u00e9matiser avec le dessin suivant : L'appel au nom de la classe Personnage fait en r\u00e9alit\u00e9 appel \u00e0 la m\u00e9thode constructeur , qui va permettre de cr\u00e9er un nouvel objet de type Personnage . On peut le v\u00e9rifier avec la ligne suivante : >>> type ( firstPlayer ) < class ' __main__ . Personnage '> Acc\u00e9der aux attributs et les modifier Pour acc\u00e9der \u00e0 l'attribut pv de l'objet firstPayer , il suffit d'utiliser la notation >>> firstPlayer . pv 35 Il devient d\u00e8s lors possible de modifier la valeur d'un attribut comme lors de toute modification classique des variables : >>> firstPlayer . force = 18 >>> firstPlayer . force 18 >>> firstPlayer . rapidite = firstPlayer . rapidite + 2 >>> firstPlayer . rapidite 12 Deux objets Nous souhaitons maintenant cr\u00e9er un deuxi\u00e8me personnage du nom de Bill : >>> secondPlayer = Personnage ( 'Bill' , 34 , 10 , 20 , 12 ) Abstract Cette seconde instance de type Personnage poss\u00e8de aussi ses propres attributs, comme montr\u00e9 dans le sch\u00e9ma suivant : Espace de nommage Chaque instance d'objet poss\u00e8de son propre espace de nommage. Ici m\u00eame si les deux objets de type Personnage ont le m\u00eame nom d'attribut force , ils ne repr\u00e9sentent pas le m\u00eame objet. C'est exactement la signification de self , qui signifie bien que chacun des objets Personnage aura bien son propre attribut force , son propre attribut intelligence , etc... D\u00e9finitions de m\u00e9thodes Afficher les personnage Essayons maintenant d'afficher une cha\u00eene de caract\u00e8res nous donne toutes les caract\u00e9ristiques d'un personnage. Test de print Sortie et commentaires Essayons d'abord avec la fonction built-in print() : >>> print ( firstPlayer ) La sortie sur la console Python est : < __main__ . Personnage object at 0x7fb6748590f0 > C'est peu parlant ! La fonction print ne renvoie que l'adresse m\u00e9moire et le type de l'objet que nous venons de lui passer. Nous allons donc devoir am\u00e9liorer cet affichage, en construisant notre propre m\u00e9thode , que nous nommerons affiche . Cette m\u00e9thode devra avoir le comportement suivant : >>> firstPlayer . affiche () \"Bonjour, je suis Bob, de niveau 1. J'ai 18 en force, 25 en endurance, 12 en rapidit\u00e9 et 30 en intelligence . J 'ai 35 Points de Vie\" M\u00e9thodes et attributs Si les attributs d'une classe sont comme des variables sp\u00e9cifiques \u00e0 une classe, les m\u00e9thodes sont des fonctions : elles peuvent prendre ou non des arguments, et ont des valeurs de retour (qui peuvent \u00eatre parfois implicites : la m\u00e9thode __init__ renvoie le nouvel objet cr\u00e9\u00e9.) Pour cr\u00e9er cette m\u00e9thode, nous allons compl\u00e9ter la classe Personnage de la mani\u00e8re suivante : class Personnage : \"\"\" une classe pour repr\u00e9senter un personnage g\u00e9n\u00e9rique du MMORPG \"\"\" def __init__ ( self , nom , force , endurance , rapidite , intelligence ) : self . nom = nom ... def affiche ( self ) : print ( f \"Bonjour, je suis { self . nom } , de niveau { self . niveau } .\" f \"J'ai { self . force } en force, { self . endurance } en endurance, { self . rapidite } \" f \" en rapidit\u00e9 et { self . intelligence } en intelligence. J'ai { self . pv } Points de Vie\" ) Vous constatez que : Dans la construction de la m\u00e9thode affiche , appara\u00eet l' argument implicite self , qu'il est imp\u00e9ratif d'utiliser pour avoir acc\u00e8s aux attributs de l'objet. Dans l'appel de la m\u00e9thode aucun argument n'est pass\u00e9 . En rechargeant le module, puis en recr\u00e9ant les objets secondPlayer puis firstPlayer , on obtient alors les affichages suivants : >>> firstPlayer . affiche () \"Bonjour, je suis Bob, de niveau 1.J'ai 18 en force, 25 en endurance, 12 en rapidit\u00e9 et 30 en intelligence. J'ai 34 Points de Vie\" >>> secondPlayer . affiche () \"Bonjour, je suis Bill, de niveau 1.J'ai 34 en force, 10 en endurance, 20 en rapidit\u00e9 et 12 en intelligence. J'ai 27 Points de Vie\" Impl\u00e9menter la m\u00e9thode attaque Dans notre interface de d\u00e9part, nous avions pr\u00e9vu une m\u00e9thode attaque() qui renvoie un entier \u00e9gal \u00e0 la valeur de force du personnage auquel on ajoute un nombre al\u00e9atoire entre 1 et 20. Comment impl\u00e9menter une telle m\u00e9thode ? Une impl\u00e9mentation possible from random import randint class Personnage : \"\"\" une classe pour repr\u00e9senter un personnage g\u00e9n\u00e9rique du MMORPG \"\"\" def __init__ ( self , nom , force , endurance , rapidite , intelligence ) : self . nom = nom ... def affiche ( self ) : ... def attaque ( self ) : return self . force + randint ( 1 , 20 ) Cette m\u00e9thode peut alors \u00eatre utilis\u00e9e comme dans les exemples ci-dessous : >>> firstPlayer . attaque () 22 >>> firstPlayer . attaque () 27 >>> secondPlayer . attaque () 38 Impl\u00e9menter la m\u00e9thode defense(valeurAttaque) Dans notre interface de d\u00e9part, nous avions pr\u00e9vu une m\u00e9thode defense(valeurAttaque) qui ajoute un nombre al\u00e9atoire de 1 \u00e0 20 \u00e0 l'endurance du personnage. Si ce r\u00e9sultat est sup\u00e9rieur ou \u00e9gal au niveau d'attaque, l'attaque a \u00e9chou\u00e9e et la m\u00e9thode renvoie True . Sinon le personnage perd un nombre de points de vie \u00e9gal \u00e0 la diff\u00e9rence entre le niveau d'attaque et le niveau de d\u00e9fense, et la m\u00e9thode renvoie False . Comment impl\u00e9menter une telle m\u00e9thode ? Une impl\u00e9mentation possible from random import randint class Personnage : \"\"\" une classe pour repr\u00e9senter un personnage g\u00e9n\u00e9rique du MMORPG \"\"\" def __init__ ( self , nom , force , endurance , rapidite , intelligence ) : self . nom = nom ... def affiche ( self ) : ... def attaque ( self ) : return self . force + randint ( 1 , 20 ) def defense ( self , valeurAttaque ) : valeurDefense = self . endurance + randint ( 1 , 20 ) if valeurAttaque > valeurDefense : self . pv -= valeurAttaque - valeurDefense return False return True cette m\u00e9thode peut alors \u00eatre utilis\u00e9e ainsi : >>> secondPlayer . defense ( firstPlayer . attaque ()) False >>> secondPlayer . pv 18 M\u00e9thodes sp\u00e9cifiques Info La liste de toutes les m\u00e9thodes d'une classe, y compris des DUNDERS , peut-\u00eatre obtenue par l'interm\u00e9diaire de la commande suivante : >>> dir ( Personnage ) [ '__class__' , '__delattr__' , '__dict__' , '__dir__' , '__doc__' , '__eq__' , '__format__' , '__ge__' , '__getattribute__' , '__gt__' , '__hash__' , '__init__' , '__init_subclass__' , '__le__' , '__lt__' , '__module__' , '__ne__' , '__new__' , '__reduce__' , '__reduce_ex__' , '__repr__' , '__setattr__' , '__sizeof__' , '__str__' , '__subclasshook__' , '__weakref__' , 'affiche' , 'attaque' , 'defense' ] DUNDERS Il existe plusieurs m\u00e9thodes sp\u00e9cifiques d\u00e9finies automatiquement d\u00e8s qu'on cr\u00e9e une classe d'objets. Ces m\u00e9thodes sont toutes de la forme __truc__() (c'est-\u00e0-dire que le nom de la classe est pr\u00e9fix\u00e9 par un double tiret du bas, soit Double UNDERScore , ce qui a donn\u00e9 le nom de m\u00e9thodes DUNDERS ). Ce sont des m\u00e9thodes universelles que poss\u00e8dent toute classe en Python, et qui permettent de g\u00e9rer un certain nombre d'actions. Par exemple l'instruction Personnage('Bob', 18, 25, 12, 30) fait appel \u00e0 la m\u00e9thode DUNDERS __init__() que nous avons d\u00e9finie. Il est ainsi possible de red\u00e9finir un certain nombre de ces m\u00e9thodes selon nos utilisations. Le tableau ci-dessous vous pr\u00e9sente quelques-uns de ces DUNDERS, applicables \u00e0 des objets t et other instances de la classe : m\u00e9thode Appel Int\u00e9r\u00eat __str__(self) str(t) renvoie une cha\u00eene de caract\u00e8res d\u00e9crivant l'objet t __lt__(self,other) t < other permet de d\u00e9finir la relation plus petit que entre deux objets, renvoie True ou False selon la d\u00e9finition propos\u00e9e __len__(self) len(t) permet de d\u00e9finir la longueur de l'objet t __contains__(self,x) x in t permet de d\u00e9finir l'appartenance de x \u00e0 t __eq__(self, other) t == other permet de d\u00e9finir l'\u00e9galit\u00e9 entre deux objets t et other __add__(self, other) t + other d\u00e9finit l'addition de deux objets t et other __mul__(self, other) t * other d\u00e9finit la multiplication de deux objets t et other red\u00e9finition de la m\u00e9thode __str__(self) Il est assez facile de red\u00e9finir la m\u00e9thode __str__(self) , puisque nous avons d\u00e9j\u00e0 une cha\u00eene de caract\u00e8re qui nous convient : celle de la m\u00e9thode affiche(self) . Nous allons alors changer la m\u00e9thode affiche(self) qui renverra la cha\u00eene de caract\u00e8re g\u00e9n\u00e9r\u00e9e par la m\u00e9thode __str__(self) (pour des raisons pratiques, la cha\u00eene sera multi-ligne): from random import randint class Personnage : \"\"\" une classe pour repr\u00e9senter un personnage g\u00e9n\u00e9rique du MMORPG \"\"\" def __init__ ( self , nom , force , endurance , rapidite , intelligence ) : self . nom = nom ... def __str__ ( self ) : return f \"\"\"Bonjour, je suis { self . nom } , de niveau { self . niveau } . J'ai { self . force } en force, { self . endurance } en endurance, { self . rapidite } en rapidit\u00e9 et { self . intelligence } en intelligence. J'ai { self . pv } Points de Vie\"\"\" def affiche ( self ) : print ( str ( self )) ... On a alors la possibilit\u00e9 d'utiliser les commandes suivantes : >>> str ( firstPlayer ) \"Bonjour, je suis Bob, de niveau 1. \\n J'ai 18 en force, 25 en endurance, 12 \\n en rapidit\u00e9 et 30 en intelligence. J'ai 34 Points de Vie\" >>> firstPlayer . affiche () Bonjour , je suis Bob , de niveau 1. J 'ai 18 en force, 25 en endurance, 12en rapidit\u00e9 et 30 en intelligence. J' ai 34 Points de Vie D\u00e9finir l'\u00e9galit\u00e9 entre deux personnages On consid\u00e8re que deux personnages sont \u00e9gaux quand ils poss\u00e8dent les m\u00eames caract\u00e9ristiques num\u00e9riques de bases ( force , endurance , rapidite et intelligence ). Red\u00e9finir la m\u00e9thode DUNDERS __eq__(self, u) pour qu'elle corresponde \u00e0 cette d\u00e9finition. Solution from random import randint class Personnage : \"\"\" une classe pour repr\u00e9senter un personnage g\u00e9n\u00e9rique du MMORPG \"\"\" def __init__ ( self , nom , force , endurance , rapidite , intelligence ) : self . nom = nom ... def __eq__ ( self , other ) : return ( self . force == other . force ) and ( self . endurance == other . endurance ) and ( self . rapidite == other . rapidite ) and ( self . intelligence == other . intelligence ) ... On a alors l'utilisation : >>> firstPlayer == secondPlayer False >>> firstPlayer == Personnage ( 'Marty' , 18 , 25 , 12 , 30 ) True Fight ! Un combat de ce MMORPG se d\u00e9roule selon le sch\u00e9ma suivant : Chaque personnage tire son initiative en ajoutant un nombre al\u00e9atoire entre 1 et 20 \u00e0 sa valeur de rapidite. Le joueur ayant l'initiative la plus \u00e9lev\u00e9e effectue son attaque en premier, et le second se d\u00e9fend. En cas d'\u00e9galit\u00e9 d'initiative, le joeur d'attaque sera celui qui poss\u00e8de la rapidit\u00e9 la plus \u00e9lev\u00e9e. En cas d'\u00e9galit\u00e9 de rapidit\u00e9, le premier joueur sera d\u00e9termin\u00e9 al\u00e9atoirement. Si le deuxi\u00e8me joueur est toujours vivant (ses points de vie sont sup\u00e9rieurs \u00e0 0), il effectue son attaque, et le premier se d\u00e9fend. Si les deux joueurs sont toujours vivants, on recommence un nouveau tour en reprenant en 1. Sinon on affiche le vainqueur. Le vainqueur r\u00e9colte un nombre de points d'exp\u00e9rience \u00e9gal \u00e0 : nombre d'attaque r\u00e9ussie * 2 + nombre de defense r\u00e9ussie Vous devrez impl\u00e9menter un programme simulant un combat entre Bob et Bill , dont la sortie console sera sous la forme suivante : Round 1 Bob a l 'initiative et attaque avec 28 Bill r\u00e9ussit sa d\u00e9fense Bill attaque avec 40 Bob rate sa d\u00e9fense et n 'a plus que 25 points de vie Round 2 ... Round n Le vainqueur est ... , il lui reste ... points de vie . Il gagne ... points d 'exp\u00e9riences. Pour r\u00e9aliser ce programme, vopus devrez : Compl\u00e9ter le fichier personnage.py contenant la classe Personnage de la mani\u00e8re suivante : La m\u00e9thode constructeur __init__() devra lever des exceptions de type TypeError explicites, si nom n'est pas de type str , ou bien si les 4 autres attributs de construction ne sont pas de type int . L'erreur devra interrompre l'ex\u00e9cution du programme qui la d\u00e9clenche ! La m\u00e9thode constructeur __init__() devra lever des exceptions de type ValueError explicites si les valeurs fournies pour les 4 attributs num\u00e9riques ne sont pas entre 1 et 40. L'erreur devra interrompre l'ex\u00e9cution du programme qui la d\u00e9clenche ! La m\u00e9thode constructeur __init__() devra lever des exceptions de type ValueError explicites si la cha\u00eene de caract\u00e8re nom est vide. L'erreur devra interrompre l'ex\u00e9cution du programme qui la d\u00e9clenche ! Vous devrez pour r\u00e9ussir construire une m\u00e9thode suppl\u00e9mentaire pour la classe Personnage : la m\u00e9thode initiative(self) qui renvoie un entier repr\u00e9sentant le score d'initiative du personnage. Le programme permettant le combat devra \u00eatre dans un fichier combat.py s\u00e9par\u00e9 de celui contenant la classe Personnage (la classe Personnage \u00e9tant import\u00e9e depuis le module personnage.py par la commande suivante : from personnage import Personnage Un fichier compress\u00e9 .zip ou .7z contenant les deux fichiers (celui du programme et le module contenant la classe Personnage ) sera rendu via le cahier de texte de pronote, dans la partie Travail \u00e0 rendre .","title":"Introduction \u00e0 la POO"},{"location":"NSI/Terminale/C01/IntroPOO/#introduction-a-la-programmation-orientee-objet","text":"","title":"Introduction \u00e0 la programmation orient\u00e9e objet"},{"location":"NSI/Terminale/C01/IntroPOO/#un-premier-exemple-issu-de-scratch","text":"Observons ce jeu assez minable en Scratch (non, mais vraiment, allez voir sur le site...). Le lien ici Ce jeu sommaire est construit autour de trois \u00e9l\u00e9ments : la chauve-souris ; l'\u00e9clair ; le chat. Chacun de ces trois \u00e9l\u00e9ments poss\u00e8de : sa propre zone de script; ses propres caract\u00e9ristiques (nom, taille, costumes, position de d\u00e9part, orientation...). Et ces trois \u00e9l\u00e9ments r\u00e9agissent en fonction d'\u00e9v\u00e9nements li\u00e9s soit \u00e0 l'action du joueur, soit \u00e0 leurs propres interactions. L'\u00e9clair et le chat ont la possibilit\u00e9 d'exister sous la forme de clones , chacun des clones ayant ses propres caract\u00e9ristiques bien que partageant le m\u00eame comportement . Aussi simpliste que Scratch paraisse, il n'en est n\u00e9anmoins pas un v\u00e9ritable langage de programmation , qui plus est multiparadigme : il est en effet con\u00e7u pour g\u00e9rer la programmation imp\u00e9rative , la programmation orient\u00e9e objet ainsi que la programmation \u00e9v\u00e9nementielle . Paradigmes de programmation Un paradigme est \u00ab une repr\u00e9sentation du monde, une mani\u00e8re de voir les choses, un mod\u00e8le coh\u00e9rent du monde qui repose sur un fondement d\u00e9fini \u00bb . Wkipedia . En programmation, plus pr\u00e9cis\u00e9ment, on parle de paradigmes de programmation pour exprimer la mani\u00e8re dont sont con\u00e7us et envisag\u00e9s les programmes. On distingue entre autres : le paradigme de la programmation imp\u00e9rative , qui est celui que nous avons utilis\u00e9 jusqu'ici : on d\u00e9crit les op\u00e9rations en s\u00e9quences d'instructions ex\u00e9cut\u00e9es par l'ordinateur dans un ordre pr\u00e9cis (que le langage soit compil\u00e9 ou interpr\u00e9t\u00e9). C'est le paradigme classique, celui auquel tout le monde pense quand on parle de programme informatique. le paradigme de la programmation orient\u00e9 objet , qui \u00ab consiste en la d\u00e9finition et l'interaction de briques logicielles appel\u00e9es objets ; un objet repr\u00e9sente un concept, une id\u00e9e ou toute entit\u00e9 du monde physique, comme une voiture, une personne ou encore une page d'un livre. Il poss\u00e8de une structure interne et un comportement, et il sait interagir avec ses pairs. Il s'agit donc de repr\u00e9senter ces objets et leurs relation[...] \u00bb. Wikipedia . le paradigme de la programmation fonctionnelle , qui consid\u00e8re le calcul en tant qu'\u00e9valuation de fonctions math\u00e9matiques. le paradigme de la programmation \u00e9v\u00e9nementielle , qui est fond\u00e9 sur la notion d'\u00e9v\u00e9nements. Le programme sera principalement d\u00e9fini par ses r\u00e9actions aux diff\u00e9rents \u00e9v\u00e9nements qui peuvent se produire, c'est-\u00e0-dire des changements d'\u00e9tat de variable, par exemple l'incr\u00e9mentation d'une liste, un d\u00e9placement ou un clic de souris, une saisie au clavier... et bien d'autres ... Les diff\u00e9rents langages de programmation peuvent \u00eatre plus ou moins sp\u00e9cialis\u00e9 selon un certain nombre de paradigmes. Quasiment tous respectent le paradigme originel imp\u00e9ratif . Certains langages ne d\u00e9passent pas ce paradigme (assembleur, Fortran, Algol, BASIC,... ). D'autres sont sp\u00e9cialis\u00e9s sur un paradigme sp\u00e9cifique ( comme Lisp, ML, OCaml en programmation fonctionnelle, Ada, Smalltalk, C++, Ruby, C# Swift... en POO). Mais en g\u00e9n\u00e9ral tous les langages cit\u00e9s poss\u00e8dent des composantes multiparadigmes . C'est le cas de Python, qui supporte la programmation : imp\u00e9rative ; fonctionnelle ; proc\u00e9durale ; orient\u00e9e objet ; et en partie \u00e9v\u00e9nementielle.","title":"Un premier exemple issu de Scratch"},{"location":"NSI/Terminale/C01/IntroPOO/#principes","text":"Le concept principal de la programmation orient\u00e9e objet (POO) est celui d' objet . Nous avons d\u00e9j\u00e0 rencontr\u00e9 un certain nombres d'objets pr\u00e9d\u00e9finis dans Python : la classe int , pour repr\u00e9senter les entiers relatifs ; la classe float , pour repr\u00e9senter les nombre \u00e0 virgule flottante (une partie des d\u00e9cimaux) ; la classe str pour repr\u00e9senter les cha\u00eenes de caract\u00e8res ; la classe list , pour repr\u00e9senter un ensemble ordonn\u00e9 et mutable de toute autre collection d'objets ; la classe tuple , pour repr\u00e9senter un ensemble ordonn\u00e9 et non-mutable de toute autre collection d'objets ; la classe set , pour repr\u00e9senter un ensemble non ordonn\u00e9 et sans doublons ; la classe dict , pour repr\u00e9senter une collection non ordonn\u00e9e index\u00e9e par des cl\u00e9s. Chacun de ces types pr\u00e9c\u00e9dents poss\u00e8de ses propres attributs et ses propres m\u00e9thodes : un objet de la classe str poss\u00e8de une longueur, donn\u00e9 par la fonction built-in len() , et plusieurs m\u00e9thodes associ\u00e9es comme lower() , upper() , etc... un objet de la classe list poss\u00e8de lui aussi une longueur, et ses propres m\u00e9thodes comme append() , pop() , etc... A lire quand vous avez fini la page !!! Je raconte n'importe quoi ci-dessus... Je voulais prendre l'exemple de la longueur comme \u00e9tant un attribut des types str et list . En fait la valeur renvoy\u00e9e par la fonction built-in len() correspond \u00e0 celle calcul\u00e9e par le DUNDERS __len__(self) . Il ne s'agit donc pas r\u00e9ellement d'un attribut, mais du r\u00e9sultat renvoy\u00e9 par une m\u00e9thode . Comme quoi m\u00eame apr\u00e8s 30 ans de programmation on en apprend encore... Classes et constructeurs d'objets En Programmation Orient\u00e9e Objet, on va construire de nouvelles classes d'objets plus ou moins complexes, poss\u00e9dant : des attributs , c'est-\u00e0-dire des variables sp\u00e9cifiques qui lui sont directement associ\u00e9es ; des m\u00e9thodes , c'est-\u00e0-dire des fonctions modifiant l'objet, ou interagissant avec l'environnement ext\u00e9rieur \u00e0 cet objet.","title":"Principes"},{"location":"NSI/Terminale/C01/IntroPOO/#application-a-un-exemple","text":"Personnages de JDR/MMORPG Prenons un JDR ou MMORPG lambda, dont les personnages sont constitu\u00e9s ainsi : ils ont 4 caract\u00e9ristiques num\u00e9riques entre \\(1\\) et \\(40\\) , \u00e0 savoir force, endurance, rapidit\u00e9, intelligence ; ils ont un nombre de points de vie de d\u00e9part calcul\u00e9 \u00e0 partir des caract\u00e9ristiques endurance + force//2 ; ils poss\u00e8dent bien s\u00fbr un nom ; leur nombre de points d'exp\u00e9rience au d\u00e9part est de \\(0\\) , et leur niveau est de \\(1\\) ; Chaque personnage peut mener une attaque , qui consiste \u00e0 ajouter un nombre al\u00e9atoire entre 1 et 20 \u00e0 sa force ; Chaque personnage peut se d\u00e9fendre d'une attaque qui lui est lanc\u00e9e en ajoutant un nombre al\u00e9atoire de 1 \u00e0 20 \u00e0 son endurance. Si ce r\u00e9sultat est sup\u00e9rieur ou \u00e9gal au niveau d'attaque, l'attaque a \u00e9chou\u00e9e, sinon le personnage perd un nombre de points de vie \u00e9gal \u00e0 la diff\u00e9rence entre le niveau d'attaque et le niveau de d\u00e9fense. Pour construire un tel personnage, on va devoir renseigner son nom, et ses 4 caract\u00e9ristiques. Ses PV, Pex et son niveau sont automatiquement calcul\u00e9s. Tous sont cependant des attributs du personnage. Abstract On va donc d\u00e9crire un personnage par l'interm\u00e9diaire de l'interface suivante :","title":"Application \u00e0 un exemple"},{"location":"NSI/Terminale/C01/IntroPOO/#creation-de-la-classe-et-des-attributs","text":"Info Nous d\u00e9taillerons beaucoup plus dans un chapitre sp\u00e9cifique le fonctionnement de la POO. Pour l'instant vous devrez vous contenter des explications ci-dessus. D\u00e9crire une classe en Python Le code suivant permet de d\u00e9finir une nouvelle classe d'objets de type Personnage : class Personnage : \"\"\" une classe pour repr\u00e9senter un personnage g\u00e9n\u00e9rique du MMORPG \"\"\" def __init__ ( self , nom , force , endurance , rapidite , intelligence ) : self . nom = nom self . force = force self . endurance = endurance self . rapidite = rapidite self . intelligence = intelligence self . pv = self . endurance + self . force // 2 self . pex = 0 self . niveau = 1 La d\u00e9finition d'une classe d'objet est effectu\u00e9e par le mot-cl\u00e9 class , suivi du nom de la classe (commen\u00e7ant par une majuscule par convention) et du symbole : . Comme toujours en Python le symbole : d\u00e9clenche l'attente d'un bloc indent\u00e9, qui correspondra \u00e0 la d\u00e9finition de l'objet. On trouve ensuite une docstring d\u00e9crivant la classe, puis la d\u00e9finition d'une m\u00e9thode de la classe, la m\u00e9thode __init__() , appel\u00e9e m\u00e9thode constructeur de la classe . Cette m\u00e9thode prend plusieurs param\u00e8tres : le param\u00e8tre self , obligatoire , qui repr\u00e9sente 'l'instance de l'objet cr\u00e9\u00e9 (c'est une notion importante), qu'il est pour l'instant difficile d'expliquer). une s\u00e9rie de param\u00e8tres qui correspondent aux param\u00e8tres d\u00e9finis dans l'interface de l'objet Personnage . Puis dans cette m\u00e9thode, on affecte aux attributs de l'objet les valeurs pass\u00e9es en argument, puis on calcule l' attribut pv \u00e0 partir des valeurs d\u00e9j\u00e0 connues. Enfin on d\u00e9fini les deux attributs de valeurs fixes. Un oubli ? Attention ! Ici nous ne respectons pas vraiment l'interface, puisque nous ne v\u00e9rifions pas que les attributs pass\u00e9s en argument sont bien des entiers entre 1 et 40 ! Ce probl\u00e8me sera r\u00e9gl\u00e9 plus tard.","title":"Cr\u00e9ation de la classe et des attributs"},{"location":"NSI/Terminale/C01/IntroPOO/#instanciation-dobjets","text":"Pour cr\u00e9er des personnages, il suffit maintenant d'utiliser une expression de la forme : Personnage( nom, f, e, r, i) . Vous noterez que l'argument self n'est pas renseign\u00e9 ! On appelle cet argument un argument implicite . Ainsi pour cr\u00e9er un objet de type Personnage nomm\u00e9 Bob, et ayant les attributs 20 en force, 25 en endurance, 10 en rapidit\u00e9 et 30 en intelligence, on utilise l'instruction suivante : >>> Personnage ( \"Bob\" , 20 , 25 , 10 , 30 ) < __main__ . Personnage object at 0x7fb674844e48 > On constate donc bien qu'un objet de type Personnage est cr\u00e9e. Bien s\u00fbr, l'objet n'\u00e9tant pas affect\u00e9 \u00e0 un nom, il est imm\u00e9diatement nettoy\u00e9 par le garbage collector . On cr\u00e9e donc une variable firstPlayer comme r\u00e9f\u00e9rence \u00e0 l'objet : >>> firstPlayer = Personnage ( \"Bob\" , 20 , 25 , 10 , 30 ) Abstract On peut sch\u00e9matiser avec le dessin suivant : L'appel au nom de la classe Personnage fait en r\u00e9alit\u00e9 appel \u00e0 la m\u00e9thode constructeur , qui va permettre de cr\u00e9er un nouvel objet de type Personnage . On peut le v\u00e9rifier avec la ligne suivante : >>> type ( firstPlayer ) < class ' __main__ . Personnage '>","title":"Instanciation d'objets"},{"location":"NSI/Terminale/C01/IntroPOO/#acceder-aux-attributs-et-les-modifier","text":"Pour acc\u00e9der \u00e0 l'attribut pv de l'objet firstPayer , il suffit d'utiliser la notation >>> firstPlayer . pv 35 Il devient d\u00e8s lors possible de modifier la valeur d'un attribut comme lors de toute modification classique des variables : >>> firstPlayer . force = 18 >>> firstPlayer . force 18 >>> firstPlayer . rapidite = firstPlayer . rapidite + 2 >>> firstPlayer . rapidite 12","title":"Acc\u00e9der aux attributs et les modifier"},{"location":"NSI/Terminale/C01/IntroPOO/#deux-objets","text":"Nous souhaitons maintenant cr\u00e9er un deuxi\u00e8me personnage du nom de Bill : >>> secondPlayer = Personnage ( 'Bill' , 34 , 10 , 20 , 12 ) Abstract Cette seconde instance de type Personnage poss\u00e8de aussi ses propres attributs, comme montr\u00e9 dans le sch\u00e9ma suivant : Espace de nommage Chaque instance d'objet poss\u00e8de son propre espace de nommage. Ici m\u00eame si les deux objets de type Personnage ont le m\u00eame nom d'attribut force , ils ne repr\u00e9sentent pas le m\u00eame objet. C'est exactement la signification de self , qui signifie bien que chacun des objets Personnage aura bien son propre attribut force , son propre attribut intelligence , etc...","title":"Deux objets"},{"location":"NSI/Terminale/C01/IntroPOO/#definitions-de-methodes","text":"Afficher les personnage Essayons maintenant d'afficher une cha\u00eene de caract\u00e8res nous donne toutes les caract\u00e9ristiques d'un personnage. Test de print Sortie et commentaires Essayons d'abord avec la fonction built-in print() : >>> print ( firstPlayer ) La sortie sur la console Python est : < __main__ . Personnage object at 0x7fb6748590f0 > C'est peu parlant ! La fonction print ne renvoie que l'adresse m\u00e9moire et le type de l'objet que nous venons de lui passer. Nous allons donc devoir am\u00e9liorer cet affichage, en construisant notre propre m\u00e9thode , que nous nommerons affiche . Cette m\u00e9thode devra avoir le comportement suivant : >>> firstPlayer . affiche () \"Bonjour, je suis Bob, de niveau 1. J'ai 18 en force, 25 en endurance, 12 en rapidit\u00e9 et 30 en intelligence . J 'ai 35 Points de Vie\" M\u00e9thodes et attributs Si les attributs d'une classe sont comme des variables sp\u00e9cifiques \u00e0 une classe, les m\u00e9thodes sont des fonctions : elles peuvent prendre ou non des arguments, et ont des valeurs de retour (qui peuvent \u00eatre parfois implicites : la m\u00e9thode __init__ renvoie le nouvel objet cr\u00e9\u00e9.) Pour cr\u00e9er cette m\u00e9thode, nous allons compl\u00e9ter la classe Personnage de la mani\u00e8re suivante : class Personnage : \"\"\" une classe pour repr\u00e9senter un personnage g\u00e9n\u00e9rique du MMORPG \"\"\" def __init__ ( self , nom , force , endurance , rapidite , intelligence ) : self . nom = nom ... def affiche ( self ) : print ( f \"Bonjour, je suis { self . nom } , de niveau { self . niveau } .\" f \"J'ai { self . force } en force, { self . endurance } en endurance, { self . rapidite } \" f \" en rapidit\u00e9 et { self . intelligence } en intelligence. J'ai { self . pv } Points de Vie\" ) Vous constatez que : Dans la construction de la m\u00e9thode affiche , appara\u00eet l' argument implicite self , qu'il est imp\u00e9ratif d'utiliser pour avoir acc\u00e8s aux attributs de l'objet. Dans l'appel de la m\u00e9thode aucun argument n'est pass\u00e9 . En rechargeant le module, puis en recr\u00e9ant les objets secondPlayer puis firstPlayer , on obtient alors les affichages suivants : >>> firstPlayer . affiche () \"Bonjour, je suis Bob, de niveau 1.J'ai 18 en force, 25 en endurance, 12 en rapidit\u00e9 et 30 en intelligence. J'ai 34 Points de Vie\" >>> secondPlayer . affiche () \"Bonjour, je suis Bill, de niveau 1.J'ai 34 en force, 10 en endurance, 20 en rapidit\u00e9 et 12 en intelligence. J'ai 27 Points de Vie\" Impl\u00e9menter la m\u00e9thode attaque Dans notre interface de d\u00e9part, nous avions pr\u00e9vu une m\u00e9thode attaque() qui renvoie un entier \u00e9gal \u00e0 la valeur de force du personnage auquel on ajoute un nombre al\u00e9atoire entre 1 et 20. Comment impl\u00e9menter une telle m\u00e9thode ? Une impl\u00e9mentation possible from random import randint class Personnage : \"\"\" une classe pour repr\u00e9senter un personnage g\u00e9n\u00e9rique du MMORPG \"\"\" def __init__ ( self , nom , force , endurance , rapidite , intelligence ) : self . nom = nom ... def affiche ( self ) : ... def attaque ( self ) : return self . force + randint ( 1 , 20 ) Cette m\u00e9thode peut alors \u00eatre utilis\u00e9e comme dans les exemples ci-dessous : >>> firstPlayer . attaque () 22 >>> firstPlayer . attaque () 27 >>> secondPlayer . attaque () 38 Impl\u00e9menter la m\u00e9thode defense(valeurAttaque) Dans notre interface de d\u00e9part, nous avions pr\u00e9vu une m\u00e9thode defense(valeurAttaque) qui ajoute un nombre al\u00e9atoire de 1 \u00e0 20 \u00e0 l'endurance du personnage. Si ce r\u00e9sultat est sup\u00e9rieur ou \u00e9gal au niveau d'attaque, l'attaque a \u00e9chou\u00e9e et la m\u00e9thode renvoie True . Sinon le personnage perd un nombre de points de vie \u00e9gal \u00e0 la diff\u00e9rence entre le niveau d'attaque et le niveau de d\u00e9fense, et la m\u00e9thode renvoie False . Comment impl\u00e9menter une telle m\u00e9thode ? Une impl\u00e9mentation possible from random import randint class Personnage : \"\"\" une classe pour repr\u00e9senter un personnage g\u00e9n\u00e9rique du MMORPG \"\"\" def __init__ ( self , nom , force , endurance , rapidite , intelligence ) : self . nom = nom ... def affiche ( self ) : ... def attaque ( self ) : return self . force + randint ( 1 , 20 ) def defense ( self , valeurAttaque ) : valeurDefense = self . endurance + randint ( 1 , 20 ) if valeurAttaque > valeurDefense : self . pv -= valeurAttaque - valeurDefense return False return True cette m\u00e9thode peut alors \u00eatre utilis\u00e9e ainsi : >>> secondPlayer . defense ( firstPlayer . attaque ()) False >>> secondPlayer . pv 18","title":"D\u00e9finitions de m\u00e9thodes"},{"location":"NSI/Terminale/C01/IntroPOO/#methodes-specifiques","text":"Info La liste de toutes les m\u00e9thodes d'une classe, y compris des DUNDERS , peut-\u00eatre obtenue par l'interm\u00e9diaire de la commande suivante : >>> dir ( Personnage ) [ '__class__' , '__delattr__' , '__dict__' , '__dir__' , '__doc__' , '__eq__' , '__format__' , '__ge__' , '__getattribute__' , '__gt__' , '__hash__' , '__init__' , '__init_subclass__' , '__le__' , '__lt__' , '__module__' , '__ne__' , '__new__' , '__reduce__' , '__reduce_ex__' , '__repr__' , '__setattr__' , '__sizeof__' , '__str__' , '__subclasshook__' , '__weakref__' , 'affiche' , 'attaque' , 'defense' ] DUNDERS Il existe plusieurs m\u00e9thodes sp\u00e9cifiques d\u00e9finies automatiquement d\u00e8s qu'on cr\u00e9e une classe d'objets. Ces m\u00e9thodes sont toutes de la forme __truc__() (c'est-\u00e0-dire que le nom de la classe est pr\u00e9fix\u00e9 par un double tiret du bas, soit Double UNDERScore , ce qui a donn\u00e9 le nom de m\u00e9thodes DUNDERS ). Ce sont des m\u00e9thodes universelles que poss\u00e8dent toute classe en Python, et qui permettent de g\u00e9rer un certain nombre d'actions. Par exemple l'instruction Personnage('Bob', 18, 25, 12, 30) fait appel \u00e0 la m\u00e9thode DUNDERS __init__() que nous avons d\u00e9finie. Il est ainsi possible de red\u00e9finir un certain nombre de ces m\u00e9thodes selon nos utilisations. Le tableau ci-dessous vous pr\u00e9sente quelques-uns de ces DUNDERS, applicables \u00e0 des objets t et other instances de la classe : m\u00e9thode Appel Int\u00e9r\u00eat __str__(self) str(t) renvoie une cha\u00eene de caract\u00e8res d\u00e9crivant l'objet t __lt__(self,other) t < other permet de d\u00e9finir la relation plus petit que entre deux objets, renvoie True ou False selon la d\u00e9finition propos\u00e9e __len__(self) len(t) permet de d\u00e9finir la longueur de l'objet t __contains__(self,x) x in t permet de d\u00e9finir l'appartenance de x \u00e0 t __eq__(self, other) t == other permet de d\u00e9finir l'\u00e9galit\u00e9 entre deux objets t et other __add__(self, other) t + other d\u00e9finit l'addition de deux objets t et other __mul__(self, other) t * other d\u00e9finit la multiplication de deux objets t et other red\u00e9finition de la m\u00e9thode __str__(self) Il est assez facile de red\u00e9finir la m\u00e9thode __str__(self) , puisque nous avons d\u00e9j\u00e0 une cha\u00eene de caract\u00e8re qui nous convient : celle de la m\u00e9thode affiche(self) . Nous allons alors changer la m\u00e9thode affiche(self) qui renverra la cha\u00eene de caract\u00e8re g\u00e9n\u00e9r\u00e9e par la m\u00e9thode __str__(self) (pour des raisons pratiques, la cha\u00eene sera multi-ligne): from random import randint class Personnage : \"\"\" une classe pour repr\u00e9senter un personnage g\u00e9n\u00e9rique du MMORPG \"\"\" def __init__ ( self , nom , force , endurance , rapidite , intelligence ) : self . nom = nom ... def __str__ ( self ) : return f \"\"\"Bonjour, je suis { self . nom } , de niveau { self . niveau } . J'ai { self . force } en force, { self . endurance } en endurance, { self . rapidite } en rapidit\u00e9 et { self . intelligence } en intelligence. J'ai { self . pv } Points de Vie\"\"\" def affiche ( self ) : print ( str ( self )) ... On a alors la possibilit\u00e9 d'utiliser les commandes suivantes : >>> str ( firstPlayer ) \"Bonjour, je suis Bob, de niveau 1. \\n J'ai 18 en force, 25 en endurance, 12 \\n en rapidit\u00e9 et 30 en intelligence. J'ai 34 Points de Vie\" >>> firstPlayer . affiche () Bonjour , je suis Bob , de niveau 1. J 'ai 18 en force, 25 en endurance, 12en rapidit\u00e9 et 30 en intelligence. J' ai 34 Points de Vie D\u00e9finir l'\u00e9galit\u00e9 entre deux personnages On consid\u00e8re que deux personnages sont \u00e9gaux quand ils poss\u00e8dent les m\u00eames caract\u00e9ristiques num\u00e9riques de bases ( force , endurance , rapidite et intelligence ). Red\u00e9finir la m\u00e9thode DUNDERS __eq__(self, u) pour qu'elle corresponde \u00e0 cette d\u00e9finition. Solution from random import randint class Personnage : \"\"\" une classe pour repr\u00e9senter un personnage g\u00e9n\u00e9rique du MMORPG \"\"\" def __init__ ( self , nom , force , endurance , rapidite , intelligence ) : self . nom = nom ... def __eq__ ( self , other ) : return ( self . force == other . force ) and ( self . endurance == other . endurance ) and ( self . rapidite == other . rapidite ) and ( self . intelligence == other . intelligence ) ... On a alors l'utilisation : >>> firstPlayer == secondPlayer False >>> firstPlayer == Personnage ( 'Marty' , 18 , 25 , 12 , 30 ) True Fight ! Un combat de ce MMORPG se d\u00e9roule selon le sch\u00e9ma suivant : Chaque personnage tire son initiative en ajoutant un nombre al\u00e9atoire entre 1 et 20 \u00e0 sa valeur de rapidite. Le joueur ayant l'initiative la plus \u00e9lev\u00e9e effectue son attaque en premier, et le second se d\u00e9fend. En cas d'\u00e9galit\u00e9 d'initiative, le joeur d'attaque sera celui qui poss\u00e8de la rapidit\u00e9 la plus \u00e9lev\u00e9e. En cas d'\u00e9galit\u00e9 de rapidit\u00e9, le premier joueur sera d\u00e9termin\u00e9 al\u00e9atoirement. Si le deuxi\u00e8me joueur est toujours vivant (ses points de vie sont sup\u00e9rieurs \u00e0 0), il effectue son attaque, et le premier se d\u00e9fend. Si les deux joueurs sont toujours vivants, on recommence un nouveau tour en reprenant en 1. Sinon on affiche le vainqueur. Le vainqueur r\u00e9colte un nombre de points d'exp\u00e9rience \u00e9gal \u00e0 : nombre d'attaque r\u00e9ussie * 2 + nombre de defense r\u00e9ussie Vous devrez impl\u00e9menter un programme simulant un combat entre Bob et Bill , dont la sortie console sera sous la forme suivante : Round 1 Bob a l 'initiative et attaque avec 28 Bill r\u00e9ussit sa d\u00e9fense Bill attaque avec 40 Bob rate sa d\u00e9fense et n 'a plus que 25 points de vie Round 2 ... Round n Le vainqueur est ... , il lui reste ... points de vie . Il gagne ... points d 'exp\u00e9riences. Pour r\u00e9aliser ce programme, vopus devrez : Compl\u00e9ter le fichier personnage.py contenant la classe Personnage de la mani\u00e8re suivante : La m\u00e9thode constructeur __init__() devra lever des exceptions de type TypeError explicites, si nom n'est pas de type str , ou bien si les 4 autres attributs de construction ne sont pas de type int . L'erreur devra interrompre l'ex\u00e9cution du programme qui la d\u00e9clenche ! La m\u00e9thode constructeur __init__() devra lever des exceptions de type ValueError explicites si les valeurs fournies pour les 4 attributs num\u00e9riques ne sont pas entre 1 et 40. L'erreur devra interrompre l'ex\u00e9cution du programme qui la d\u00e9clenche ! La m\u00e9thode constructeur __init__() devra lever des exceptions de type ValueError explicites si la cha\u00eene de caract\u00e8re nom est vide. L'erreur devra interrompre l'ex\u00e9cution du programme qui la d\u00e9clenche ! Vous devrez pour r\u00e9ussir construire une m\u00e9thode suppl\u00e9mentaire pour la classe Personnage : la m\u00e9thode initiative(self) qui renvoie un entier repr\u00e9sentant le score d'initiative du personnage. Le programme permettant le combat devra \u00eatre dans un fichier combat.py s\u00e9par\u00e9 de celui contenant la classe Personnage (la classe Personnage \u00e9tant import\u00e9e depuis le module personnage.py par la commande suivante : from personnage import Personnage Un fichier compress\u00e9 .zip ou .7z contenant les deux fichiers (celui du programme et le module contenant la classe Personnage ) sera rendu via le cahier de texte de pronote, dans la partie Travail \u00e0 rendre .","title":"M\u00e9thodes sp\u00e9cifiques"},{"location":"NSI/Terminale/C01/Modularite/","text":"Modules, Interfaces et Encapsulation Retour sur les modules Un module python est un fichier python contenant des fonctions, des constantes (et des constructeurs d' objets , mais nous verrons \u00e7a un peu plus tard), regroup\u00e9es dans ce fichier car elles traitent de la m\u00eame structure de donn\u00e9es . Un exemple Par exemple, dans un jeu vid\u00e9o tel que Space Invaders , on aura : un module qui traitera du vaisseau du joueur ; un module pour construire et g\u00e9rer les vaisseaux ennemis ; un ou des modules pour construire et actualiser l'interface graphique ; un module contenant des constantes (points de vie de d\u00e9part du joueur, nombre d'ennemis, etc) ; et le programme principal qui importera les modules pr\u00e9c\u00e9dents et g\u00e9rera les \u00e9v\u00e9nements liant tous les objets du jeu. On dira que ce programme d\u00e9pend des autres modules. Importer un module Il existe plusieurs possibilit\u00e9s pour importer un module. Dans la suite des exemples, le module toto , contenant les fonctions bidule() et truc() est situ\u00e9 : soit dans le m\u00eame dossier que le fichier qui l'importe ; soit dans un dossier accessible par le syst\u00e8me ( dossier faisant partie de la variable PATH de windows par exemple). Import complet Import complet avec alias Import partiel dans le namespace courant Import complet dans le namespace courant import toto toto . bidule () toto . truc () Toutes les fonctions du module toto sont import\u00e9es, et elles le sont dans un namespace (= espace de nommage\") sp\u00e9cifique. Les fonctions sont alors appel\u00e9es en les pr\u00e9fixant** par le nom du module ( toto. ). import toto as to to . bidule () to . truc () Comme pour l'import complet, toutes les fonctions du module toto sont import\u00e9es, et elles le sont dans un namespace (= espace de nommage\") sp\u00e9cifique. Les fonctions sont alors appel\u00e9es en les pr\u00e9fixant par l'alias** du module ( to1. ). from toto import bidule bidule () Ici, seul la fonction bidule() est import\u00e9e, mais elle l'est directement dans le namespace principal (= main ) du fichier effectuant l'import. La fonction truc() n'est pas appelable (elle n'existe pas pour l'interpr\u00e9teur). from toto import * bidule () truc () Toutes les fonctions sont appel\u00e9es directement dans l'espace de nom principal (= namespace de main ) du fichier effectuant l'import. \u26a0\ufe0f C'est une pratique p\u00e9rilleuse ! Si une fonction du module porte le m\u00eame nom qu'une fonction du fichier appelant, celle import\u00e9e \u00e9crasera celle du fichiert courant, et \u00e7a peut-\u00eatre facheux... Voir l'exemple ci-dessous... Fichier principal Fichier mon_module.py Sortie attendue Sortie r\u00e9elle from mon_module import * print ( \"Pain \" ) def print ( truc ) : print ( truc * 3 + \"Tarte Tatin\" * 2 ) Probablement, ce qui est attendu par la sortie du fichier principal est juste la cha\u00eene de caract\u00e8res \"Pain \" . Mais la fonction built-in print() a \u00e9t\u00e9 \u00e9cras\u00e9e par celle du module mon_module.py . \"Pain Pain Pain Tarte Tatin Tarte Tatin\u00a8 La v\u00e9ritable fonction appel\u00e9e est celle du module mon_module.py . (Pour ceux qui ont en t\u00eate la marche imp\u00e9riale, c'est normal...) Remarque Il est toutefois possible d'importer un fichier pr\u00e9sent dans un autre dossier : soit en utilisant une adresse absolue import 'C:\\Mes_Programmes\\Python\\toto.py' ; soit en utilisant une adresse relatice import '..\\toto.py' ( si toto.py est situ\u00e9 dans le dossier parent du fichier qui importe). Interfaces Conception logicielle Dans la conception de logiciels \u00e0 grande \u00e9chelle, ou \u00e0 plusieurs programmeur\u00b7euse\u00b7s (et \u00e0 l'heure actuelle il est fr\u00e9quent d'avoir plusieurs milliers de programmeur\u00b7euse\u00b7s concevant un logiciel), il est important de pouvoir s\u00e9parer les diff\u00e9rents \u00e9l\u00e9ments du programme en sous-ensembles coh\u00e9rents et ayant le minimum d'interactions entre eux . En particuliers ils se doivent d'\u00eatre le plus \u00e9tanches possibles quant \u00e0 leur fonctionnement. On retrouve ici que la notion d' interface est essentielle. Pour chaque module, on peut donc distinguer : une interface , c'est-\u00e0-dire la description des diff\u00e9rentes fonctions du module et de leurs arguments (obligatoires ou facultatifs). Il s'agit donc d'une documentation la plus claire possible sur la mani\u00e8re d' utiliser le module. une impl\u00e9mentation , c'est-\u00e0-dire la mani\u00e8re dont sont cod\u00e9es ces fonctions (choix de structures, nom des variables interm\u00e9diaires, etc...). Un exemple d'interface Un module utilisable pour la fonction factoris\u00e9e contient_doublon(t) aura pour interface : fonction Description cree() cr\u00e9e et renvoie un ensemble de date vide contient(data,s) renvoie True si la structure s contient la donn\u00e9e data ajoute(data,s) ajoute la donn\u00e9e data \u00e0 la structure s Vous constaterez que dans cette description, il n'est nul part fait mention de la nature de la structure . Il pourrait s'agir aussi bien de liste, de tableau de bits, de tables de hachage... Exercice : r\u00e9alisation de modules Dans chacun des cas suivant, construire un module r\u00e9alisant l'interface ci-dessus, et le tester en l'important dans le fichier rechercheDates.py o\u00f9 vous aurez modifier la fonction contient_doublon(t) par la version factoris\u00e9e de celle-ci. un module dateTab , dont la structure est impl\u00e9ment\u00e9e sous la forme d'un tableau. un module dateBool , dont la structure est impl\u00e9ment\u00e9e sous la forme d'un tableau de bool\u00e9en. un module dateHash , dont la structure est impl\u00e9ment\u00e9e sous la forme d'une table de hachage. \ud83e\udde9 Il est bien entendu essentiel de s'inspirer des exemples donn\u00e9 dans la page d'introduction . Notions d'encapsulation Notion d'encapsulation Le contrat qu'une interface \u00e9tablit entre l'utilisateur\u00b7trice et l'auteur\u00b7trice d'un module ne porte pas sur les moyens, mais sur les r\u00e9sultats : l'auteur\u00b7trice s'engage \u00e0 ce que les r\u00e9sultats produits par l'utilisation de ses fonctions soient bien ceux d\u00e9crits dans l'interface, mais il ou elle est libre de s'y prendre comme il ou elle le souhaite. En particulier il ou elle est libre d'introduire des fonctions, variables, constantes, ..., qui ne sont pas incluses dans l'interface . On parle alors de fonctions, variables, constantes encapsul\u00e9es dans le module. Le contrat explicite est que l'utilisateur\u00b7trice ne doit en aucun cas utiliser ces donn\u00e9es encapsul\u00e9es. Dans le cas contraire, si l'auteur\u00b7trice du module change son approche et modifie ces donn\u00e9es internes, le programme du ou de la client\u00b7e risque de devenir non fonctionnel. Norme en Python En Python, l'auteur\u00b7trice d'un module peut indiquer que certains \u00e9l\u00e9ments sont priv\u00e9s (c'est-\u00e0-dire encapsul\u00e9s) en faisant commencer leur nom par un caract\u00e8re underscore _ . Exemple Imaginons un module secondDegre.py dont l'interface est d\u00e9finie ainsi : fonction Description polynome(t) V\u00e9rifie que le tuple t sous la forme (a,b,c) repr\u00e9sente bien un polyn\u00f4me de degr\u00e9 2, et renvoie t dans ce cas, et None sinon valeursRacines(p) Renvoie les valeurs des racines, et None si il n'existe pas de racines r\u00e9elles convexite(p) Renvoie la convexit\u00e9 de la courbe repr\u00e9sentative du polyn\u00f4me sous la forme d'une cha\u00eene de caract\u00e8re en minuscule tangente(p,x0) Renvoie l'\u00e9quation de la tangente \u00e0 la courbe du polyn\u00f4me p en x0 Dans l'interface de ce module, on consid\u00e8re que le calcul du discriminant est une op\u00e9ration priv\u00e9e. On aurait alors comme possibilit\u00e9 d'impl\u00e9mentation (non compl\u00e8te): from math import sqrt def polynome ( t ) : a , b , c = t if a == 0 : return None return t def _discriminant ( p ) : a , b , c = polynome ( p ) return b ** 2 - 4 * a * c def _nombreRacines ( p ) : ... def valeursracines ( p ) : ... def convexite ( p ) : ... def _calcule ( p , x ) : ... def _nombreDerive ( p , x0 ) : ... def tangente ( p , x0 ) : ... Dans ce module, les fonctions pr\u00e9fix\u00e9es par _ sont consid\u00e9r\u00e9es comme priv\u00e9es, et ne faisant pas partie de l'interface. Exercice Cr\u00e9er un module secondDegre.py contenant a minima la totalit\u00e9 des fonctions pr\u00e9c\u00e9dentes, et impl\u00e9menter toutes ces fonctions. Une solution possible ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder from math import sqrtbksl-nl bksl-nldef polynome(t) :bksl-nl a,b,c = tbksl-nl if a == 0 :bksl-nl return Nonebksl-nl return tbksl-nl bksl-nldef py-unddiscriminant(p) :bksl-nl a,b,c = polynome(p)bksl-nl return bpy-strpy-str2 - 4py-strapy-strcbksl-nl bksl-nldef py-undnombreRacines(p) :bksl-nl delta = py-unddiscriminant(p)bksl-nl if delta<0 :bksl-nl return 0bksl-nl elif delta == 0 :bksl-nl return 1bksl-nl else :bksl-nl return 2bksl-nl bksl-nldef valeursracines(p) :bksl-nl a,b,c = polynome(p)bksl-nl n = py-undnombreRacines(p)bksl-nl if n == 0 :bksl-nl return Nonebksl-nl elif n == 1 :bksl-nl return -b/(2py-stra)bksl-nl else :bksl-nl delta = py-unddiscriminant(p)bksl-nl return ((-b-sqrt(delta)/(2py-stra)), (-b+sqrt(delta)/(2py-stra)))bksl-nlbksl-nl bksl-nldef convexite(p) :bksl-nl a,b,c = polynome(p)bksl-nl if a >0 :bksl-nl return 'convexe'bksl-nl return 'concave'bksl-nl bksl-nldef py-undcalcule(p,x) :bksl-nl a,b,c = polynome(p)bksl-nl return apy-strxpy-strpy-str2 + bpy-strx + cbksl-nlbksl-nldef py-undnombreDerive(p, x0) :bksl-nl a,b,c = polynome(p)bksl-nl return 2py-strapy-strx0+bbksl-nl bksl-nldef tangente(p, x0) :bksl-nl a,b,c = polynome(p)bksl-nl return f'y = {py-undnombreDerive(p,x0)}(x - {x0}) + {py-undcalcule(p, x0)}'bksl-nlbksl-nl Encapsulation dans d'autres langages Il faut noter que la notion de fonction ou variable priv\u00e9e en Python n'est qu'une convention. Rien n'emp\u00eache r\u00e9ellement l'utilisateur\u00b7trice du module d'utiliser ces fonctions priv\u00e9es . C'est loin d'\u00eatre le cas dans d'autres langages (comme C++ ou Java ), qui introduisent un contr\u00f4le strict de l'encapsulation en rendant l'acc\u00e8s aux \u00e9l\u00e9ments priv\u00e9s impossible.","title":"Modules, interfaces, encapsulation"},{"location":"NSI/Terminale/C01/Modularite/#modules-interfaces-et-encapsulation","text":"","title":"Modules, Interfaces et Encapsulation"},{"location":"NSI/Terminale/C01/Modularite/#retour-sur-les-modules","text":"Un module python est un fichier python contenant des fonctions, des constantes (et des constructeurs d' objets , mais nous verrons \u00e7a un peu plus tard), regroup\u00e9es dans ce fichier car elles traitent de la m\u00eame structure de donn\u00e9es . Un exemple Par exemple, dans un jeu vid\u00e9o tel que Space Invaders , on aura : un module qui traitera du vaisseau du joueur ; un module pour construire et g\u00e9rer les vaisseaux ennemis ; un ou des modules pour construire et actualiser l'interface graphique ; un module contenant des constantes (points de vie de d\u00e9part du joueur, nombre d'ennemis, etc) ; et le programme principal qui importera les modules pr\u00e9c\u00e9dents et g\u00e9rera les \u00e9v\u00e9nements liant tous les objets du jeu. On dira que ce programme d\u00e9pend des autres modules. Importer un module Il existe plusieurs possibilit\u00e9s pour importer un module. Dans la suite des exemples, le module toto , contenant les fonctions bidule() et truc() est situ\u00e9 : soit dans le m\u00eame dossier que le fichier qui l'importe ; soit dans un dossier accessible par le syst\u00e8me ( dossier faisant partie de la variable PATH de windows par exemple). Import complet Import complet avec alias Import partiel dans le namespace courant Import complet dans le namespace courant import toto toto . bidule () toto . truc () Toutes les fonctions du module toto sont import\u00e9es, et elles le sont dans un namespace (= espace de nommage\") sp\u00e9cifique. Les fonctions sont alors appel\u00e9es en les pr\u00e9fixant** par le nom du module ( toto. ). import toto as to to . bidule () to . truc () Comme pour l'import complet, toutes les fonctions du module toto sont import\u00e9es, et elles le sont dans un namespace (= espace de nommage\") sp\u00e9cifique. Les fonctions sont alors appel\u00e9es en les pr\u00e9fixant par l'alias** du module ( to1. ). from toto import bidule bidule () Ici, seul la fonction bidule() est import\u00e9e, mais elle l'est directement dans le namespace principal (= main ) du fichier effectuant l'import. La fonction truc() n'est pas appelable (elle n'existe pas pour l'interpr\u00e9teur). from toto import * bidule () truc () Toutes les fonctions sont appel\u00e9es directement dans l'espace de nom principal (= namespace de main ) du fichier effectuant l'import. \u26a0\ufe0f C'est une pratique p\u00e9rilleuse ! Si une fonction du module porte le m\u00eame nom qu'une fonction du fichier appelant, celle import\u00e9e \u00e9crasera celle du fichiert courant, et \u00e7a peut-\u00eatre facheux... Voir l'exemple ci-dessous... Fichier principal Fichier mon_module.py Sortie attendue Sortie r\u00e9elle from mon_module import * print ( \"Pain \" ) def print ( truc ) : print ( truc * 3 + \"Tarte Tatin\" * 2 ) Probablement, ce qui est attendu par la sortie du fichier principal est juste la cha\u00eene de caract\u00e8res \"Pain \" . Mais la fonction built-in print() a \u00e9t\u00e9 \u00e9cras\u00e9e par celle du module mon_module.py . \"Pain Pain Pain Tarte Tatin Tarte Tatin\u00a8 La v\u00e9ritable fonction appel\u00e9e est celle du module mon_module.py . (Pour ceux qui ont en t\u00eate la marche imp\u00e9riale, c'est normal...) Remarque Il est toutefois possible d'importer un fichier pr\u00e9sent dans un autre dossier : soit en utilisant une adresse absolue import 'C:\\Mes_Programmes\\Python\\toto.py' ; soit en utilisant une adresse relatice import '..\\toto.py' ( si toto.py est situ\u00e9 dans le dossier parent du fichier qui importe).","title":"Retour sur les modules"},{"location":"NSI/Terminale/C01/Modularite/#interfaces","text":"Conception logicielle Dans la conception de logiciels \u00e0 grande \u00e9chelle, ou \u00e0 plusieurs programmeur\u00b7euse\u00b7s (et \u00e0 l'heure actuelle il est fr\u00e9quent d'avoir plusieurs milliers de programmeur\u00b7euse\u00b7s concevant un logiciel), il est important de pouvoir s\u00e9parer les diff\u00e9rents \u00e9l\u00e9ments du programme en sous-ensembles coh\u00e9rents et ayant le minimum d'interactions entre eux . En particuliers ils se doivent d'\u00eatre le plus \u00e9tanches possibles quant \u00e0 leur fonctionnement. On retrouve ici que la notion d' interface est essentielle. Pour chaque module, on peut donc distinguer : une interface , c'est-\u00e0-dire la description des diff\u00e9rentes fonctions du module et de leurs arguments (obligatoires ou facultatifs). Il s'agit donc d'une documentation la plus claire possible sur la mani\u00e8re d' utiliser le module. une impl\u00e9mentation , c'est-\u00e0-dire la mani\u00e8re dont sont cod\u00e9es ces fonctions (choix de structures, nom des variables interm\u00e9diaires, etc...). Un exemple d'interface Un module utilisable pour la fonction factoris\u00e9e contient_doublon(t) aura pour interface : fonction Description cree() cr\u00e9e et renvoie un ensemble de date vide contient(data,s) renvoie True si la structure s contient la donn\u00e9e data ajoute(data,s) ajoute la donn\u00e9e data \u00e0 la structure s Vous constaterez que dans cette description, il n'est nul part fait mention de la nature de la structure . Il pourrait s'agir aussi bien de liste, de tableau de bits, de tables de hachage... Exercice : r\u00e9alisation de modules Dans chacun des cas suivant, construire un module r\u00e9alisant l'interface ci-dessus, et le tester en l'important dans le fichier rechercheDates.py o\u00f9 vous aurez modifier la fonction contient_doublon(t) par la version factoris\u00e9e de celle-ci. un module dateTab , dont la structure est impl\u00e9ment\u00e9e sous la forme d'un tableau. un module dateBool , dont la structure est impl\u00e9ment\u00e9e sous la forme d'un tableau de bool\u00e9en. un module dateHash , dont la structure est impl\u00e9ment\u00e9e sous la forme d'une table de hachage. \ud83e\udde9 Il est bien entendu essentiel de s'inspirer des exemples donn\u00e9 dans la page d'introduction .","title":"Interfaces"},{"location":"NSI/Terminale/C01/Modularite/#notions-dencapsulation","text":"Notion d'encapsulation Le contrat qu'une interface \u00e9tablit entre l'utilisateur\u00b7trice et l'auteur\u00b7trice d'un module ne porte pas sur les moyens, mais sur les r\u00e9sultats : l'auteur\u00b7trice s'engage \u00e0 ce que les r\u00e9sultats produits par l'utilisation de ses fonctions soient bien ceux d\u00e9crits dans l'interface, mais il ou elle est libre de s'y prendre comme il ou elle le souhaite. En particulier il ou elle est libre d'introduire des fonctions, variables, constantes, ..., qui ne sont pas incluses dans l'interface . On parle alors de fonctions, variables, constantes encapsul\u00e9es dans le module. Le contrat explicite est que l'utilisateur\u00b7trice ne doit en aucun cas utiliser ces donn\u00e9es encapsul\u00e9es. Dans le cas contraire, si l'auteur\u00b7trice du module change son approche et modifie ces donn\u00e9es internes, le programme du ou de la client\u00b7e risque de devenir non fonctionnel. Norme en Python En Python, l'auteur\u00b7trice d'un module peut indiquer que certains \u00e9l\u00e9ments sont priv\u00e9s (c'est-\u00e0-dire encapsul\u00e9s) en faisant commencer leur nom par un caract\u00e8re underscore _ . Exemple Imaginons un module secondDegre.py dont l'interface est d\u00e9finie ainsi : fonction Description polynome(t) V\u00e9rifie que le tuple t sous la forme (a,b,c) repr\u00e9sente bien un polyn\u00f4me de degr\u00e9 2, et renvoie t dans ce cas, et None sinon valeursRacines(p) Renvoie les valeurs des racines, et None si il n'existe pas de racines r\u00e9elles convexite(p) Renvoie la convexit\u00e9 de la courbe repr\u00e9sentative du polyn\u00f4me sous la forme d'une cha\u00eene de caract\u00e8re en minuscule tangente(p,x0) Renvoie l'\u00e9quation de la tangente \u00e0 la courbe du polyn\u00f4me p en x0 Dans l'interface de ce module, on consid\u00e8re que le calcul du discriminant est une op\u00e9ration priv\u00e9e. On aurait alors comme possibilit\u00e9 d'impl\u00e9mentation (non compl\u00e8te): from math import sqrt def polynome ( t ) : a , b , c = t if a == 0 : return None return t def _discriminant ( p ) : a , b , c = polynome ( p ) return b ** 2 - 4 * a * c def _nombreRacines ( p ) : ... def valeursracines ( p ) : ... def convexite ( p ) : ... def _calcule ( p , x ) : ... def _nombreDerive ( p , x0 ) : ... def tangente ( p , x0 ) : ... Dans ce module, les fonctions pr\u00e9fix\u00e9es par _ sont consid\u00e9r\u00e9es comme priv\u00e9es, et ne faisant pas partie de l'interface. Exercice Cr\u00e9er un module secondDegre.py contenant a minima la totalit\u00e9 des fonctions pr\u00e9c\u00e9dentes, et impl\u00e9menter toutes ces fonctions. Une solution possible ### Lancer T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder from math import sqrtbksl-nl bksl-nldef polynome(t) :bksl-nl a,b,c = tbksl-nl if a == 0 :bksl-nl return Nonebksl-nl return tbksl-nl bksl-nldef py-unddiscriminant(p) :bksl-nl a,b,c = polynome(p)bksl-nl return bpy-strpy-str2 - 4py-strapy-strcbksl-nl bksl-nldef py-undnombreRacines(p) :bksl-nl delta = py-unddiscriminant(p)bksl-nl if delta<0 :bksl-nl return 0bksl-nl elif delta == 0 :bksl-nl return 1bksl-nl else :bksl-nl return 2bksl-nl bksl-nldef valeursracines(p) :bksl-nl a,b,c = polynome(p)bksl-nl n = py-undnombreRacines(p)bksl-nl if n == 0 :bksl-nl return Nonebksl-nl elif n == 1 :bksl-nl return -b/(2py-stra)bksl-nl else :bksl-nl delta = py-unddiscriminant(p)bksl-nl return ((-b-sqrt(delta)/(2py-stra)), (-b+sqrt(delta)/(2py-stra)))bksl-nlbksl-nl bksl-nldef convexite(p) :bksl-nl a,b,c = polynome(p)bksl-nl if a >0 :bksl-nl return 'convexe'bksl-nl return 'concave'bksl-nl bksl-nldef py-undcalcule(p,x) :bksl-nl a,b,c = polynome(p)bksl-nl return apy-strxpy-strpy-str2 + bpy-strx + cbksl-nlbksl-nldef py-undnombreDerive(p, x0) :bksl-nl a,b,c = polynome(p)bksl-nl return 2py-strapy-strx0+bbksl-nl bksl-nldef tangente(p, x0) :bksl-nl a,b,c = polynome(p)bksl-nl return f'y = {py-undnombreDerive(p,x0)}(x - {x0}) + {py-undcalcule(p, x0)}'bksl-nlbksl-nl Encapsulation dans d'autres langages Il faut noter que la notion de fonction ou variable priv\u00e9e en Python n'est qu'une convention. Rien n'emp\u00eache r\u00e9ellement l'utilisateur\u00b7trice du module d'utiliser ces fonctions priv\u00e9es . C'est loin d'\u00eatre le cas dans d'autres langages (comme C++ ou Java ), qui introduisent un contr\u00f4le strict de l'encapsulation en rendant l'acc\u00e8s aux \u00e9l\u00e9ments priv\u00e9s impossible.","title":"Notions d'encapsulation"},{"location":"NSI/Terminale/C02/Recursivite/","text":"Notion de fonctions r\u00e9cursive Activit\u00e9 d'introduction : de l'it\u00e9ratif au r\u00e9cursif Un peu de maths : les suites arithm\u00e9tiques On rappelle qu'une suite \\((u_n)\\) , de premier terme \\(u_0\\) est dite arithm\u00e9tique si et seulement si \\[ u_{n+1} = u_n +r \\] o\u00f9 \\(r \\in \\mathbb{R}\\) . La d\u00e9finition donn\u00e9e ci-dessus est une d\u00e9finition dite par r\u00e9currence , c'est-\u00e0-dire qu'on d\u00e9finit le terme de rang \\(n+1\\) \u00e0 partir du terme de rang \\(n\\) . Cette suite peut-\u00eatre d\u00e9finie par une formule explicite : \\[ u_n = u_0 + n \\times r \\] Exercice Enonc\u00e9 Une solution Construire une fonction maSuiteArithmetique(n) qui calcule le \\(n\\) -i\u00e8me terme de la suite arithm\u00e9tique de premier terme 3 et de raison 7 . Quelle formule avez-vous utilis\u00e9e ? Au vu de l'\u00e9nonc\u00e9, je prends le pari que la majorit\u00e9 d'entre vous avez utilis\u00e9 la formule explicite avec un code de la forme suivante : def maSuiteArithmetique ( n ) : return 3 + n * 7 C'est \u00e9videmment la solution la plus simple. Dans ce cas, tout comme pour les suites g\u00e9om\u00e9trique , il est inutile de compliquer le code, nous obtenons directement la solution par un simple calcul alg\u00e9brique. Encore des maths : les suites arithm\u00e9tico-g\u00e9om\u00e9triques Une suite \\((u_n)\\) , de premier terme \\(u_0\\) est dite arithm\u00e9tico-g\u00e9om\u00e9trique si et seulement si \\[ u_{n+1} = a\\times u_n +b \\] o\u00f9 \\(a,b \\in \\mathbb{R}\\) . Encore une fois, la d\u00e9finition donn\u00e9e ci-dessus est une d\u00e9finition dite par r\u00e9currence , c'est-\u00e0-dire qu'on d\u00e9finit le terme de rang \\(n+1\\) \u00e0 partir du terme de rang \\(n\\) . Exercice Enonc\u00e9 Une solution probable Construire une fonction maSuiteAG(n) qui calcule le \\(n\\) -i\u00e8me terme de la suite arithm\u00e9tico-g\u00e9om\u00e9triqueq de premier terme 7 et d\u00e9finie par : \\[ u_{n+1} = -2\\times u_n +5 \\] Quelle formule avez-vous utilis\u00e9e ? Ici nous n'avons qu'une formule - sauf pour les petits malins qui seront all\u00e9 voir sur wikipedia - donc on doit utiliser un processus de r\u00e9p\u00e9tition des op\u00e9rations \u00e0 partir de 7 . On peut bien s\u00fbr appliquer une boucle pour dans notre fonction : def maSuiteAG ( n ) : u = 7 for i in range ( 1 , n + 1 ) : # j'utilise ce range plut\u00f4t que range(n) car le i utilis\u00e9 correspond au terme du rang calcul\u00e9. u = - 2 * u + 5 return u Deux remarques : dans ce code, je ne v\u00e9rifie pas que \\(n \\in \\mathbb{N}\\) , et il faudrait... ; dans le cas o\u00f9 \\(n=0\\) , la boucle for n'est pas effectu\u00e9e. Une version plus correcte serait donc celle-ci : def maSuiteAG ( n ) : if not ( isinstance ( n , int )) or n < 0 : raise ValueError ( \"n must be a non negativ integer\" ) u = 7 for i in range ( 1 , n + 1 ) : # j'utilise ce range plut\u00f4t que range(n) car le i utilis\u00e9 correspond au terme du rang calcul\u00e9. u = - 2 * u + 5 return u Une telle fonction est dite it\u00e9rative , car elle utilise une boucle de r\u00e9p\u00e9titions pour parvenir au r\u00e9sultat souhait\u00e9. C'est vraiment dommage, dans le premier exercice, on utilise simplement la formule explicite , alors que dans le deuxi\u00e8me cas, on est oblig\u00e9 de r\u00e9fl\u00e9chir \u00e0 l'algorithme. Ce serait si simple de pouvoir utiliser directement la formule r\u00e9cursive , comme dans le code ci-dessous : def maSuiteAGR ( n ) : return - 2 * maSuiteAGR ( n - 1 ) + 5 Ca vaudrait peut-\u00eatre le coup de tester, en prenant \\(n=3\\) par exemple... K\u00e9sako ? Quand on teste la fonction maSuiteAGR(3) , python ... calcule... puis nous renvoie une erreur : RecursionError: maximum recursion depth exceeded Le mot important dans la phrase pr\u00e9c\u00e9dente, c'est que python CALCULE ! Donc il doit a minima comprendre la fonction maSuiteAGR ! Principe de r\u00e9cursivit\u00e9 Fonction r\u00e9cursive Une fonction est dite r\u00e9cursive quand elle s'appelle elle-m\u00eame, une ou plusieurs fois. Des probl\u00e8mes D\u00e9composons l'instruction l'appel \u00e0 maSuiteAGR(3) : maSuiteAGR(3) doit calculer -2*maSuiteAGR(2) +5 , et donc doit calculer : maSuiteAGR(2) , qui doit calculer -2*maSuiteAGR(1) +5 , et donc doit calculer : maSuiteAGR(1) , qui doit calculer -2*maSuiteAGR(0) +5 , et donc doit calculer : maSuiteAGR(0) , qui doit calculer -2*maSuiteAGR(-1) +5 , et donc doit calculer : maSuiteAGR(-1) , qui doit calculer -2*maSuiteAGR(-2) +5 , et donc doit calculer : ... \"HELP ! Mais \u00e7a s'arr\u00eate quand !\" me direz-vous ! Et bien jamais, en th\u00e9orie. Mais en r\u00e9alit\u00e9 cette instruction s'arr\u00eatera quand python aura lev\u00e9 une erreur de type RecursionError , qui signifie qu'une limite aura \u00e9t\u00e9 atteinte (nous en parlerons plus tard pour lever toute ambiguit\u00e9). Supprimer le probl\u00e8me : le cas d'arr\u00eat Pour supprimer le probl\u00e8me pr\u00e9c\u00e9dent, revenons aux maths : dans une d\u00e9finition par r\u00e9currence de suite, on signale toujours la valeur du premier terme (qui peut \u00eatre \\(u_0\\) , ou \\(u_1\\) , ou m\u00eame \\(u_{42}\\) selon le probl\u00e8me et la d\u00e9finition de l'indice). Or dans notre fonction maSuiteAGR , jamais nous ne pr\u00e9cisons ce cas, c'est-\u00e0-dire que quand \\(n=0\\) , alors la suite vaut \\(7\\) . Rajoutons-donc cette condition dans la fonction : def maSuiteAGR ( n ) : if n == 0 : return 7 else : return - 2 * maSuiteAGR ( n - 1 ) + 5 Et testons de nouveau maSuiteAGR(3) : maSuiteAGR(3) doit calculer -2*maSuiteAGR(2) +5 , et donc doit calculer : maSuiteAGR(2) , qui doit calculer -2*maSuiteAGR(1) +5 , et donc doit calculer : maSuiteAGR(1) , qui doit calculer -2*maSuiteAGR(0) +5 , et donc doit calculer : maSuiteAGR(0) , qui maintenant renvoie 7 ! donc maSuiteAGR(1) renvoie -2*7+5 soit -9 ; donc maSuiteAGR(2) renvoie -2*(-9)+5 soit 23 ; donc maSuiteAGR(3) renvoie -2*23+5 soit -41 . Non seulement la fonction s'arr\u00eate, mais en plus elle renvoie la bonne valeur, c'est-\u00e0-dire \\(u_3 = -41\\) . R\u00e9capitulons Pour utiliser une fonction r\u00e9cursive correctement, il faudra distinguer : le ou les cas d'arr\u00eats (ou cas de base ), c'est-\u00e0-dire des cas particuliers pour lesquels la valeur (ou l'objet) renvoy\u00e9 par la fonction est connu ; le cas r\u00e9cursif , pour lequel la fonction s'appelle elle-m\u00eame, une ou plusieurs fois. Exemple comment\u00e9 La somme des \\(n\\) premiers entiers est la somme : \\[ 0+1+2+3+...+n \\] Comment faire pour construire une fonction r\u00e9cursive sommeR(n) qui effectue la somme des \\(n\\) premiers entiers, avec \\(n\\) pass\u00e9 en argument. Quel est le cas r\u00e9cursif ? On a \\(0+1+2+3+...+n = (0+1+2+3+ ...+ (n-1) ) + n\\) , donc le cas r\u00e9cursif est sommeR(n) = sommeR(n-1) + n Quel est le cas de base ? Il y a plusieurs possibilit\u00e9s, soit en partant de l'indice 0 car sommeR(0)=0 , soit en partant de l'indice 1, car sommeR(1) = 1 . Une impl\u00e9mentation r\u00e9cursive possible est alors : def sommeR ( n ) : if n == 0 : return 0 else : return sommeR ( n - 1 ) + n Applications directes Exercice : factorielle Enonc\u00e9 Solution It\u00e9rative Solution r\u00e9cursive On rappelle que la factorielle d'un entier naturel \\(n\\) est donn\u00e9 par : \\[ \\left\\lbrace \\begin{array}{rcl} n! &=& n \\times (n-1) \\times ... \\times 3 \\times 2 \\times 1\\\\ 1! &=& 1\\\\ 0! &=& 1 \\end{array}\\right. \\] Ecrire une fonction it\u00e9rative factorielle(n) qui renvoie la factorielle d'un entier naturel \\(n\\) donn\u00e9, et l\u00e8ve une ValueError si \\(n\\) n'est pas entier ou est n\u00e9gatif. Ecrire une fonction r\u00e9cursive factorielleR(n) qui renvoie la factorielle d'un entier naturel \\(n\\) donn\u00e9, et l\u00e8ve une ValueError si \\(n\\) n'est pas entier ou est n\u00e9gatif. 1 2 3 4 5 6 7 def factorielle ( n ) : if not ( isinstance ( n , int )) or n < 0 : raise valueError ( \"n must be a positiv integer\" ) produit = 1 for i in range ( 1 , n + 1 ) : # On peut effectivemment partir de 2, et gagner un tour de boucle. produit = produit * i return produit 1 2 3 4 5 6 7 def factorielleR ( n ) : if not ( isinstance ( n , int )) or n < 0 : raise valueError ( \"n must be a positiv integer\" ) if n == 0 or n == 1 : return 1 else : return factorielleR ( n - 1 ) * n Exercice : \u00e9toiles Enonc\u00e9 Solution It\u00e9rative Solution r\u00e9cursive Impl\u00e9menter une fonction it\u00e9rative etoile(n) qui \u00e9crit dans le Shell Python un triangle form\u00e9 de caract\u00e8res * tels que dans l'exemple suivant : >>> etoileR ( 5 ) * ** *** **** ***** 2. Impl\u00e9menter une fonction r\u00e9cursive etoileR(n) qui effectue le m\u00eame travail. 1 2 3 4 5 def etoile ( n ) : if not ( isinstance ( n , int )) or n <= 0 : raise valueError ( \"n must be a positiv integer\" ) for i in range ( 1 , n + 1 ) : print ( \"*\" * i ) 1 2 3 4 5 6 7 8 def etoileR ( n ) : if not ( isinstance ( n , int )) or n <= 0 : raise valueError ( \"n must be a non null positiv integer\" ) if n == 1 : print ( \"*\" ) else : etoileR ( n - 1 ) print ( \"*\" * n ) Coefficients binomiaux et triangle de Pascal Soient \\(a\\) et \\(b\\) deux r\u00e9els quelconques. D\u00e9veloppez les expressions suivantes : \\(A = (a+b)^0\\) \\(B = (a+b)^1\\) \\(C = (a+b)^2\\) \\(D = (a+b)^3\\) \\(E = (a+b)^4\\) Solution A venir Compl\u00e9tez deux lignes suppl\u00e9mentaires du tableau suivant, nomm\u00e9 Triangle de Pascal : \\[ \\begin{array}{|l|c|c|c|c|c|c|} \\hline p=>&0&1&2&3&4&5\\\\\\hline n=0&1&&&&&\\\\\\hline n=1&1&1&&&&\\\\\\hline n=2&1&2&1&&&\\\\\\hline n=3&1&3&3&1&&\\\\\\hline n=4&1&4&6&4&1&\\\\\\hline n=5&1&5&10&10&5&1\\\\\\hline \\end{array} \\] Solution Pour construire un nombre, il suffit d'utiliser la ligne pr\u00e9c\u00e9dente, en ajoutant le nombre situ\u00e9 juste au dessus de lui et celui situ\u00e9 \u00e0 la gauche de ce dernier. \\[ \\begin{array}{|l|c|c|c|c|c|c|c|c|} \\hline p=>&0&1&2&3&4&5&6&7\\\\\\hline n=0&1&&&&&&&\\\\\\hline n=1&1&1&&&&&&\\\\\\hline n=2&1&2&1&&&&&\\\\\\hline n=3&1&3&3&1&&&&\\\\\\hline n=4&1&4&6&4&1&&&\\\\\\hline n=5&1&5&10&10&5&1&&\\\\\\hline n=6&1&6&15&20&15&6&1&\\\\\\hline n=7&1&7&21&35&35&21&7&1\\\\\\hline \\end{array} \\] On appelle coefficient binomial de rang \\(p\\) et de degr\u00e9 \\(n\\) le nombre du Triangle de Pascal correspondant \u00e0 la \\(n\\) -i\u00e8me ligne et \u00e0 la \\(p\\) _i\u00e8me colonne. Ce nombre est not\u00e9 \\(\\left(\\begin{array}{c} n\\\\ p\\\\ \\end{array}\\right)\\) . Comment exprimer r\u00e9cursivemment ce coefficient ? Solution A venir Impl\u00e9menter une fonction binomeR(n, p) qui renvoie la valeur du coefficient binomial \\(\\left(\\begin{array}{c} n\\\\ p\\\\ \\end{array}\\right)\\) du triangle de Pascal. Solution A venir Facultatif : Impl\u00e9menter une fonction developpe(n) qui renvoie la cha\u00eene de caract\u00e8res correspondant au d\u00e9veloppement de \\((a+b)^n\\) . Solution A venir","title":"Notion de r\u00e9cursivit\u00e9"},{"location":"NSI/Terminale/C02/Recursivite/#notion-de-fonctions-recursive","text":"","title":"Notion de fonctions r\u00e9cursive"},{"location":"NSI/Terminale/C02/Recursivite/#activite-dintroduction-de-literatif-au-recursif","text":"Un peu de maths : les suites arithm\u00e9tiques On rappelle qu'une suite \\((u_n)\\) , de premier terme \\(u_0\\) est dite arithm\u00e9tique si et seulement si \\[ u_{n+1} = u_n +r \\] o\u00f9 \\(r \\in \\mathbb{R}\\) . La d\u00e9finition donn\u00e9e ci-dessus est une d\u00e9finition dite par r\u00e9currence , c'est-\u00e0-dire qu'on d\u00e9finit le terme de rang \\(n+1\\) \u00e0 partir du terme de rang \\(n\\) . Cette suite peut-\u00eatre d\u00e9finie par une formule explicite : \\[ u_n = u_0 + n \\times r \\] Exercice Enonc\u00e9 Une solution Construire une fonction maSuiteArithmetique(n) qui calcule le \\(n\\) -i\u00e8me terme de la suite arithm\u00e9tique de premier terme 3 et de raison 7 . Quelle formule avez-vous utilis\u00e9e ? Au vu de l'\u00e9nonc\u00e9, je prends le pari que la majorit\u00e9 d'entre vous avez utilis\u00e9 la formule explicite avec un code de la forme suivante : def maSuiteArithmetique ( n ) : return 3 + n * 7 C'est \u00e9videmment la solution la plus simple. Dans ce cas, tout comme pour les suites g\u00e9om\u00e9trique , il est inutile de compliquer le code, nous obtenons directement la solution par un simple calcul alg\u00e9brique. Encore des maths : les suites arithm\u00e9tico-g\u00e9om\u00e9triques Une suite \\((u_n)\\) , de premier terme \\(u_0\\) est dite arithm\u00e9tico-g\u00e9om\u00e9trique si et seulement si \\[ u_{n+1} = a\\times u_n +b \\] o\u00f9 \\(a,b \\in \\mathbb{R}\\) . Encore une fois, la d\u00e9finition donn\u00e9e ci-dessus est une d\u00e9finition dite par r\u00e9currence , c'est-\u00e0-dire qu'on d\u00e9finit le terme de rang \\(n+1\\) \u00e0 partir du terme de rang \\(n\\) . Exercice Enonc\u00e9 Une solution probable Construire une fonction maSuiteAG(n) qui calcule le \\(n\\) -i\u00e8me terme de la suite arithm\u00e9tico-g\u00e9om\u00e9triqueq de premier terme 7 et d\u00e9finie par : \\[ u_{n+1} = -2\\times u_n +5 \\] Quelle formule avez-vous utilis\u00e9e ? Ici nous n'avons qu'une formule - sauf pour les petits malins qui seront all\u00e9 voir sur wikipedia - donc on doit utiliser un processus de r\u00e9p\u00e9tition des op\u00e9rations \u00e0 partir de 7 . On peut bien s\u00fbr appliquer une boucle pour dans notre fonction : def maSuiteAG ( n ) : u = 7 for i in range ( 1 , n + 1 ) : # j'utilise ce range plut\u00f4t que range(n) car le i utilis\u00e9 correspond au terme du rang calcul\u00e9. u = - 2 * u + 5 return u Deux remarques : dans ce code, je ne v\u00e9rifie pas que \\(n \\in \\mathbb{N}\\) , et il faudrait... ; dans le cas o\u00f9 \\(n=0\\) , la boucle for n'est pas effectu\u00e9e. Une version plus correcte serait donc celle-ci : def maSuiteAG ( n ) : if not ( isinstance ( n , int )) or n < 0 : raise ValueError ( \"n must be a non negativ integer\" ) u = 7 for i in range ( 1 , n + 1 ) : # j'utilise ce range plut\u00f4t que range(n) car le i utilis\u00e9 correspond au terme du rang calcul\u00e9. u = - 2 * u + 5 return u Une telle fonction est dite it\u00e9rative , car elle utilise une boucle de r\u00e9p\u00e9titions pour parvenir au r\u00e9sultat souhait\u00e9. C'est vraiment dommage, dans le premier exercice, on utilise simplement la formule explicite , alors que dans le deuxi\u00e8me cas, on est oblig\u00e9 de r\u00e9fl\u00e9chir \u00e0 l'algorithme. Ce serait si simple de pouvoir utiliser directement la formule r\u00e9cursive , comme dans le code ci-dessous : def maSuiteAGR ( n ) : return - 2 * maSuiteAGR ( n - 1 ) + 5 Ca vaudrait peut-\u00eatre le coup de tester, en prenant \\(n=3\\) par exemple... K\u00e9sako ? Quand on teste la fonction maSuiteAGR(3) , python ... calcule... puis nous renvoie une erreur : RecursionError: maximum recursion depth exceeded Le mot important dans la phrase pr\u00e9c\u00e9dente, c'est que python CALCULE ! Donc il doit a minima comprendre la fonction maSuiteAGR !","title":"Activit\u00e9 d'introduction : de l'it\u00e9ratif au r\u00e9cursif"},{"location":"NSI/Terminale/C02/Recursivite/#principe-de-recursivite","text":"Fonction r\u00e9cursive Une fonction est dite r\u00e9cursive quand elle s'appelle elle-m\u00eame, une ou plusieurs fois. Des probl\u00e8mes D\u00e9composons l'instruction l'appel \u00e0 maSuiteAGR(3) : maSuiteAGR(3) doit calculer -2*maSuiteAGR(2) +5 , et donc doit calculer : maSuiteAGR(2) , qui doit calculer -2*maSuiteAGR(1) +5 , et donc doit calculer : maSuiteAGR(1) , qui doit calculer -2*maSuiteAGR(0) +5 , et donc doit calculer : maSuiteAGR(0) , qui doit calculer -2*maSuiteAGR(-1) +5 , et donc doit calculer : maSuiteAGR(-1) , qui doit calculer -2*maSuiteAGR(-2) +5 , et donc doit calculer : ... \"HELP ! Mais \u00e7a s'arr\u00eate quand !\" me direz-vous ! Et bien jamais, en th\u00e9orie. Mais en r\u00e9alit\u00e9 cette instruction s'arr\u00eatera quand python aura lev\u00e9 une erreur de type RecursionError , qui signifie qu'une limite aura \u00e9t\u00e9 atteinte (nous en parlerons plus tard pour lever toute ambiguit\u00e9). Supprimer le probl\u00e8me : le cas d'arr\u00eat Pour supprimer le probl\u00e8me pr\u00e9c\u00e9dent, revenons aux maths : dans une d\u00e9finition par r\u00e9currence de suite, on signale toujours la valeur du premier terme (qui peut \u00eatre \\(u_0\\) , ou \\(u_1\\) , ou m\u00eame \\(u_{42}\\) selon le probl\u00e8me et la d\u00e9finition de l'indice). Or dans notre fonction maSuiteAGR , jamais nous ne pr\u00e9cisons ce cas, c'est-\u00e0-dire que quand \\(n=0\\) , alors la suite vaut \\(7\\) . Rajoutons-donc cette condition dans la fonction : def maSuiteAGR ( n ) : if n == 0 : return 7 else : return - 2 * maSuiteAGR ( n - 1 ) + 5 Et testons de nouveau maSuiteAGR(3) : maSuiteAGR(3) doit calculer -2*maSuiteAGR(2) +5 , et donc doit calculer : maSuiteAGR(2) , qui doit calculer -2*maSuiteAGR(1) +5 , et donc doit calculer : maSuiteAGR(1) , qui doit calculer -2*maSuiteAGR(0) +5 , et donc doit calculer : maSuiteAGR(0) , qui maintenant renvoie 7 ! donc maSuiteAGR(1) renvoie -2*7+5 soit -9 ; donc maSuiteAGR(2) renvoie -2*(-9)+5 soit 23 ; donc maSuiteAGR(3) renvoie -2*23+5 soit -41 . Non seulement la fonction s'arr\u00eate, mais en plus elle renvoie la bonne valeur, c'est-\u00e0-dire \\(u_3 = -41\\) . R\u00e9capitulons Pour utiliser une fonction r\u00e9cursive correctement, il faudra distinguer : le ou les cas d'arr\u00eats (ou cas de base ), c'est-\u00e0-dire des cas particuliers pour lesquels la valeur (ou l'objet) renvoy\u00e9 par la fonction est connu ; le cas r\u00e9cursif , pour lequel la fonction s'appelle elle-m\u00eame, une ou plusieurs fois. Exemple comment\u00e9 La somme des \\(n\\) premiers entiers est la somme : \\[ 0+1+2+3+...+n \\] Comment faire pour construire une fonction r\u00e9cursive sommeR(n) qui effectue la somme des \\(n\\) premiers entiers, avec \\(n\\) pass\u00e9 en argument. Quel est le cas r\u00e9cursif ? On a \\(0+1+2+3+...+n = (0+1+2+3+ ...+ (n-1) ) + n\\) , donc le cas r\u00e9cursif est sommeR(n) = sommeR(n-1) + n Quel est le cas de base ? Il y a plusieurs possibilit\u00e9s, soit en partant de l'indice 0 car sommeR(0)=0 , soit en partant de l'indice 1, car sommeR(1) = 1 . Une impl\u00e9mentation r\u00e9cursive possible est alors : def sommeR ( n ) : if n == 0 : return 0 else : return sommeR ( n - 1 ) + n","title":"Principe de r\u00e9cursivit\u00e9"},{"location":"NSI/Terminale/C02/Recursivite/#applications-directes","text":"Exercice : factorielle Enonc\u00e9 Solution It\u00e9rative Solution r\u00e9cursive On rappelle que la factorielle d'un entier naturel \\(n\\) est donn\u00e9 par : \\[ \\left\\lbrace \\begin{array}{rcl} n! &=& n \\times (n-1) \\times ... \\times 3 \\times 2 \\times 1\\\\ 1! &=& 1\\\\ 0! &=& 1 \\end{array}\\right. \\] Ecrire une fonction it\u00e9rative factorielle(n) qui renvoie la factorielle d'un entier naturel \\(n\\) donn\u00e9, et l\u00e8ve une ValueError si \\(n\\) n'est pas entier ou est n\u00e9gatif. Ecrire une fonction r\u00e9cursive factorielleR(n) qui renvoie la factorielle d'un entier naturel \\(n\\) donn\u00e9, et l\u00e8ve une ValueError si \\(n\\) n'est pas entier ou est n\u00e9gatif. 1 2 3 4 5 6 7 def factorielle ( n ) : if not ( isinstance ( n , int )) or n < 0 : raise valueError ( \"n must be a positiv integer\" ) produit = 1 for i in range ( 1 , n + 1 ) : # On peut effectivemment partir de 2, et gagner un tour de boucle. produit = produit * i return produit 1 2 3 4 5 6 7 def factorielleR ( n ) : if not ( isinstance ( n , int )) or n < 0 : raise valueError ( \"n must be a positiv integer\" ) if n == 0 or n == 1 : return 1 else : return factorielleR ( n - 1 ) * n Exercice : \u00e9toiles Enonc\u00e9 Solution It\u00e9rative Solution r\u00e9cursive Impl\u00e9menter une fonction it\u00e9rative etoile(n) qui \u00e9crit dans le Shell Python un triangle form\u00e9 de caract\u00e8res * tels que dans l'exemple suivant : >>> etoileR ( 5 ) * ** *** **** ***** 2. Impl\u00e9menter une fonction r\u00e9cursive etoileR(n) qui effectue le m\u00eame travail. 1 2 3 4 5 def etoile ( n ) : if not ( isinstance ( n , int )) or n <= 0 : raise valueError ( \"n must be a positiv integer\" ) for i in range ( 1 , n + 1 ) : print ( \"*\" * i ) 1 2 3 4 5 6 7 8 def etoileR ( n ) : if not ( isinstance ( n , int )) or n <= 0 : raise valueError ( \"n must be a non null positiv integer\" ) if n == 1 : print ( \"*\" ) else : etoileR ( n - 1 ) print ( \"*\" * n ) Coefficients binomiaux et triangle de Pascal Soient \\(a\\) et \\(b\\) deux r\u00e9els quelconques. D\u00e9veloppez les expressions suivantes : \\(A = (a+b)^0\\) \\(B = (a+b)^1\\) \\(C = (a+b)^2\\) \\(D = (a+b)^3\\) \\(E = (a+b)^4\\) Solution A venir Compl\u00e9tez deux lignes suppl\u00e9mentaires du tableau suivant, nomm\u00e9 Triangle de Pascal : \\[ \\begin{array}{|l|c|c|c|c|c|c|} \\hline p=>&0&1&2&3&4&5\\\\\\hline n=0&1&&&&&\\\\\\hline n=1&1&1&&&&\\\\\\hline n=2&1&2&1&&&\\\\\\hline n=3&1&3&3&1&&\\\\\\hline n=4&1&4&6&4&1&\\\\\\hline n=5&1&5&10&10&5&1\\\\\\hline \\end{array} \\] Solution Pour construire un nombre, il suffit d'utiliser la ligne pr\u00e9c\u00e9dente, en ajoutant le nombre situ\u00e9 juste au dessus de lui et celui situ\u00e9 \u00e0 la gauche de ce dernier. \\[ \\begin{array}{|l|c|c|c|c|c|c|c|c|} \\hline p=>&0&1&2&3&4&5&6&7\\\\\\hline n=0&1&&&&&&&\\\\\\hline n=1&1&1&&&&&&\\\\\\hline n=2&1&2&1&&&&&\\\\\\hline n=3&1&3&3&1&&&&\\\\\\hline n=4&1&4&6&4&1&&&\\\\\\hline n=5&1&5&10&10&5&1&&\\\\\\hline n=6&1&6&15&20&15&6&1&\\\\\\hline n=7&1&7&21&35&35&21&7&1\\\\\\hline \\end{array} \\] On appelle coefficient binomial de rang \\(p\\) et de degr\u00e9 \\(n\\) le nombre du Triangle de Pascal correspondant \u00e0 la \\(n\\) -i\u00e8me ligne et \u00e0 la \\(p\\) _i\u00e8me colonne. Ce nombre est not\u00e9 \\(\\left(\\begin{array}{c} n\\\\ p\\\\ \\end{array}\\right)\\) . Comment exprimer r\u00e9cursivemment ce coefficient ? Solution A venir Impl\u00e9menter une fonction binomeR(n, p) qui renvoie la valeur du coefficient binomial \\(\\left(\\begin{array}{c} n\\\\ p\\\\ \\end{array}\\right)\\) du triangle de Pascal. Solution A venir Facultatif : Impl\u00e9menter une fonction developpe(n) qui renvoie la cha\u00eene de caract\u00e8res correspondant au d\u00e9veloppement de \\((a+b)^n\\) . Solution A venir","title":"Applications directes"},{"location":"NSI/Terminale/C02/RecursiviteFractales/","text":"Applications de la r\u00e9cursivit\u00e9 : Dessiner des fractales avec turtle Commen\u00e7ons par cr\u00e9er un fichier fractales.py qui nous servira pour la totalit\u00e9 des exercices. Pr\u00e9sentation de turtle Le module turtle Le module turtle est un module faisant partie de toute distribution python . Son int\u00e9r\u00eat repose sur la simplicit\u00e9 (relative) des commandes utilis\u00e9es pour dessiner. Un objet de classe Turtle se comporte comme un crayon de table tra\u00e7ante sur une feuille de papier munie d'un rep\u00e8re orthonorm\u00e9. Exemple : premi\u00e8re fen\u00eatre et premi\u00e8re tortue Consid\u00e9rons le code suivant , ainsi que le r\u00e9sultat de son ex\u00e9cution : 1 2 3 4 5 6 7 8 9 10 11 import turtle def testTurtle () : screen = turtle . Screen () screen . bgcolor ( 'lightgray' ) donatello = turtle . Turtle () if __name__ == \"__main__\" : testTurtle () en ligne 1 on importe le module turtle compl\u00e8tement ; en ligne 4, on cr\u00e9e un objet Screen() sur lequel la tortue dessinera, cet objet \u00e9tant affect\u00e9 au nom screen ; en ligne 5, on fait appel \u00e0 la m\u00e9thode bgcolor des objets Screen afin de basculer la couleur de fond sur lightgray ; en ligne 6, on cr\u00e9e un objet Turtle affect\u00e9 au nom donatello . Vous observerez que la tortue est repr\u00e9sent\u00e9e par une pointe de fl\u00e8che , pointant vers la droite. Par d\u00e9faut, la tortue appara\u00eet au centre du rep\u00e8re, c'est-\u00e0-dire au centre de la fen\u00eatre de dessin, donc aux coordonn\u00e9es \\((0; 0)\\) . Nous allons maintenant rajouter au code les instructions suivantes en lignes 7 \u00e0 11, puis ex\u00e9cuter le code : 7 8 9 10 11 donatello . forward ( 100 ) donatello . left ( 90 ) donatello . forward ( 50 ) donatello . right ( 45 ) donatello . backward ( 80 ) Avec ces lignes : la tortue avance de 100 pixels dans la direction o\u00f9 elle pointe ; elle tourne vers sa gauche de 90\u00b0 ; elle avance de 50 pixels dans la nouvelle direction ; elle tourne vers sa droite de 45\u00b0 ; et enfin elle recule de 80 pixels. M\u00e9thodes de la classe Turtle Comme toujours, la doc python est tr\u00e8s claire sur le module turtle , mais voici quelques m\u00e9thodes des objets de classe Turle : forward(d) : d\u00e9place l'objet Turtle de \\(d\\) pixels dans la direction o\u00f9 pointe la t\u00eate de la tortue. A mettre en parall\u00e8le avec la m\u00e9thode backward(d) . left(a) : tourne la t\u00eate de la tortue vers sa gauche de \\(a\\) \u00b0. A mettre en parall\u00e8le avec la m\u00e9thode right(a) . goto(x,y) ou setx(v) ou sety(v) : d\u00e9place la tortue vers une position donn\u00e9e dans le rep\u00e8re. setheading(a) : tourne la t\u00eate de la tortue \u00e0 un angle de \\(a\\) \u00b0 par rapport \u00e0 l'horizontale, dans le sens trigonom\u00e9trique. circle(r) : trace \u00e0 partir de la position courante un cercle de rayon \\(r\\) , le centre \u00e9tant situ\u00e9 sur la gauche de la t\u00eate de la tortue. speed(v) : change la vitesse de d\u00e9placement de la tortue. L'argument est un entier de 0 \u00e0 10 tel que : \u00ab le plus rapide \u00bb : 0 \u00ab rapide \u00bb : 10 \u00ab vitesse normale \u00bb : 6 \u00ab lent \u00bb : 3 \u00ab le plus lent \u00bb : 1 pendown() et penup() : respectivement baisse ou l\u00e8ve le crayon. Si le crayon est lev\u00e9, rien n'est trac\u00e9 \u00e0 l'\u00e9cran. pensize(t) : r\u00e8gle l'\u00e9paisseur de trac\u00e9 \u00e0 \\(t\\) pixels. pencolor(*args) : r\u00e8gle la couleur du stylo. L'argument peut-\u00eatre : une cha\u00eene de caract\u00e8res : red , gray , ou #33cc8c , etc... un triplet RGB : (255, 100, 50) ,... fillcolor(*args) : d\u00e9finit la couleur de remplissage. begin_fill() et end_fill() : d\u00e9but et fin de la d\u00e9finition d'une zone de remplissage. Je ne d\u00e9taillerai pas ici les m\u00e9thodes des objets Screen . Prise en main de turtle \u00c9nonc\u00e9 En partant d'un fichier sandbox_turtle.py contenant les lignes suivantes : ```` python import turtle def triangleEquilateral\u00a9 : ... def pentagramme(c, color=\"red\") : ... def hexagone(c, diag = False) : ... if name == \" main \" : screen = turtle.Screen() screen.bgcolor('lightgray') donatello = turtle.Turtle() ```` 1. Cr\u00e9er une fonction `triangleEquilateral(c)` qui trace un triangle \u00e9quilat\u00e9ral de longueur $c$ \u00e0 partir de la position courante. 2. Cr\u00e9er une fonction `pentagramme(c, color=\"red\")` qui trace un pentagramme (une \u00e9toile \u00e0 5 branches) et le remplit avec la couleur pass\u00e9e en argument. 3. Cr\u00e9er une fonction `hexagone(c, diag = False)` qui trace un hexagone de c\u00f4t\u00e9 $c$ et qui trace en outre ses diagonales si le param\u00e8tre optionnel `diag` est pass\u00e9 \u00e0 `True`. === \"Solutions\" Toutes les solutions suivantes supposent qu'un \u00e9cran et qu'une tortue nomm\u00e9e `t` existent dans l'espace de nom g\u00e9n\u00e9ral. === \"`triangleEquilateral(c)`\" ``` python def triangleEquilateral(c) : for _ in range(3): t.forward(c) t.left(120) ``` === \"`pentagramme(c, color=\"red\")`\" ``` python def pentagramme(t, c, color=\"red\") : t.fillcolor(color) t.begin_fill() for _ in range(5): t.forward(c) t.right(144) t.end_fill() ``` === \"`hexagone(c, diag = False)`\" ``` python def hexagone(t, c, diag = False) : for _ in range(6): t.forward(c) t.right(60) if diag : for _ in range(3) : t.right(60) t.forward(2*c) t.right(120) t.forward(c) t.right(60) ``` Flocon de Von Koch Le Flocon de Von Koch Le flocon de Von Koch, invent\u00e9e en 1904 par le math\u00e9maticien su\u00e9dois Helge von Koch, est une des premi\u00e8res courbes fractales d\u00e9crites, avant m\u00eame l'invention du terme fractale par Benoit Mandelbrot en 1967. Cette courbe est obtenue par la d\u00e9composition r\u00e9cursive d'un segment en une ligne bris\u00e9e : Construction du flocon Avant de passer \u00e0 une d\u00e9finition r\u00e9cursive de la construction, essayons de faire une \u00e9tape de cette construction. \u00c9nonc\u00e9 Solution a. Cr\u00e9er une fonction segment(long) qui trace une it\u00e9ration de la construction du segment de Von Koch (c'est-\u00e0-dire tra\u00e7ant l'\u00e9tape 3 de l'image ci-dessus.). b. Tester cette fonction en pla\u00e7ant la tortue dans diff\u00e9rentes positions de d\u00e9part. def segment ( long ) : t . forward ( long // 3 ) t . left ( 60 ) t . forward ( long // 3 ) t . right ( 120 ) t . forward ( long // 3 ) t . left ( 60 ) t . forward ( long // 3 ) Passons \u00e0 la construction r\u00e9cursive d'un segment : \u00c9nonc\u00e9 Solution En se basant sur la fonction pr\u00e9c\u00e9dente, impl\u00e9menter une fonction segmentR(long, n) qui tracera le r\u00e9sultat de \\(n\\) it\u00e9rations de la m\u00e9thode sur un segment de longueur long . Pour \\(n=0\\) , on obtiendra Pour \\(n=1\\) , on obtiendra Pour \\(n=2\\) , on obtiendra def segmentR ( long , n ) : if n == 0 : t . forward ( long ) else : segmentR ( long / 3 , n - 1 ) t . left ( 60 ) segmentR ( long / 3 , n - 1 ) t . right ( 120 ) segmentR ( long / 3 , n - 1 ) t . left ( 60 ) segmentR ( long / 3 , n - 1 ) Terminer la construction en tra\u00e7ant le flocon sur une base de triangle \u00e9quilat\u00e9ral. Solution Avec changement de couleurs : def floconVK ( long , n ) : t . pencolor ( random . choice ( couleurs )) t . begin_fill () for _ in range ( 3 ) : segmentR ( long , n ) t . right ( 120 ) t . end_fill () o\u00f9 couleurs = [ \"black\" , \"white\" , \"grey\" , \"red\" , \"orange\" , \"green\" , \"blue\" , \"navy\" , \"yellow\" , \"gold\" , \"tan\" , \"brown\" , \"sienna\" , \"wheat\" , \"cyan\" , \"pink\" , \"salmon\" , \"violet\" , \"purple\" ] Le triangle de Sierpinski Triangle de Sierpinski Le Triangle (ou napperon) de Sierpinski , aussi connu sous le nom de joint de culasse (nom donn\u00e9 par Mandelbrot), est une autre figure fractale d\u00e9crite au d\u00e9but du XX\u00e8me si\u00e8cle. Il peut s'obtenir \u00e0 partir d'un triangle \u00ab plein \u00bb, par une infinit\u00e9 de r\u00e9p\u00e9titions consistant \u00e0 diviser par deux la taille du triangle puis \u00e0 les accoler en trois exemplaires par leurs sommets pour former un nouveau triangle. \u00c0 chaque r\u00e9p\u00e9tition le triangle est donc de m\u00eame taille, mais \u00ab de moins en moins plein \u00bb. A coder En partant du principe de l'exercice sur le flocon de Von Koch, impl\u00e9menter une fonction Sierpinski(long, n) qui trace le r\u00e9sultat de \\(n\\) it\u00e9rations sur un triangle de c\u00f4t\u00e9 \\(n\\) . Solution A venir ! Remarque Le triangle de Sierpinski correspond \u00e0 une propri\u00e9t\u00e9 particuli\u00e8re du triangle de Pascal. En effet, le triangle de Sierpinski appara\u00eet dans le triangle de Pascal lorsque'on supprime tous les coefficients pairs. Vous pouvez en voir plus ici","title":"Applications : Fractales"},{"location":"NSI/Terminale/C02/RecursiviteFractales/#applications-de-la-recursivite-dessiner-des-fractales-avec-turtle","text":"Commen\u00e7ons par cr\u00e9er un fichier fractales.py qui nous servira pour la totalit\u00e9 des exercices.","title":"Applications de la r\u00e9cursivit\u00e9 :  Dessiner des fractales avec turtle"},{"location":"NSI/Terminale/C02/RecursiviteFractales/#presentation-de-turtle","text":"Le module turtle Le module turtle est un module faisant partie de toute distribution python . Son int\u00e9r\u00eat repose sur la simplicit\u00e9 (relative) des commandes utilis\u00e9es pour dessiner. Un objet de classe Turtle se comporte comme un crayon de table tra\u00e7ante sur une feuille de papier munie d'un rep\u00e8re orthonorm\u00e9. Exemple : premi\u00e8re fen\u00eatre et premi\u00e8re tortue Consid\u00e9rons le code suivant , ainsi que le r\u00e9sultat de son ex\u00e9cution : 1 2 3 4 5 6 7 8 9 10 11 import turtle def testTurtle () : screen = turtle . Screen () screen . bgcolor ( 'lightgray' ) donatello = turtle . Turtle () if __name__ == \"__main__\" : testTurtle () en ligne 1 on importe le module turtle compl\u00e8tement ; en ligne 4, on cr\u00e9e un objet Screen() sur lequel la tortue dessinera, cet objet \u00e9tant affect\u00e9 au nom screen ; en ligne 5, on fait appel \u00e0 la m\u00e9thode bgcolor des objets Screen afin de basculer la couleur de fond sur lightgray ; en ligne 6, on cr\u00e9e un objet Turtle affect\u00e9 au nom donatello . Vous observerez que la tortue est repr\u00e9sent\u00e9e par une pointe de fl\u00e8che , pointant vers la droite. Par d\u00e9faut, la tortue appara\u00eet au centre du rep\u00e8re, c'est-\u00e0-dire au centre de la fen\u00eatre de dessin, donc aux coordonn\u00e9es \\((0; 0)\\) . Nous allons maintenant rajouter au code les instructions suivantes en lignes 7 \u00e0 11, puis ex\u00e9cuter le code : 7 8 9 10 11 donatello . forward ( 100 ) donatello . left ( 90 ) donatello . forward ( 50 ) donatello . right ( 45 ) donatello . backward ( 80 ) Avec ces lignes : la tortue avance de 100 pixels dans la direction o\u00f9 elle pointe ; elle tourne vers sa gauche de 90\u00b0 ; elle avance de 50 pixels dans la nouvelle direction ; elle tourne vers sa droite de 45\u00b0 ; et enfin elle recule de 80 pixels. M\u00e9thodes de la classe Turtle Comme toujours, la doc python est tr\u00e8s claire sur le module turtle , mais voici quelques m\u00e9thodes des objets de classe Turle : forward(d) : d\u00e9place l'objet Turtle de \\(d\\) pixels dans la direction o\u00f9 pointe la t\u00eate de la tortue. A mettre en parall\u00e8le avec la m\u00e9thode backward(d) . left(a) : tourne la t\u00eate de la tortue vers sa gauche de \\(a\\) \u00b0. A mettre en parall\u00e8le avec la m\u00e9thode right(a) . goto(x,y) ou setx(v) ou sety(v) : d\u00e9place la tortue vers une position donn\u00e9e dans le rep\u00e8re. setheading(a) : tourne la t\u00eate de la tortue \u00e0 un angle de \\(a\\) \u00b0 par rapport \u00e0 l'horizontale, dans le sens trigonom\u00e9trique. circle(r) : trace \u00e0 partir de la position courante un cercle de rayon \\(r\\) , le centre \u00e9tant situ\u00e9 sur la gauche de la t\u00eate de la tortue. speed(v) : change la vitesse de d\u00e9placement de la tortue. L'argument est un entier de 0 \u00e0 10 tel que : \u00ab le plus rapide \u00bb : 0 \u00ab rapide \u00bb : 10 \u00ab vitesse normale \u00bb : 6 \u00ab lent \u00bb : 3 \u00ab le plus lent \u00bb : 1 pendown() et penup() : respectivement baisse ou l\u00e8ve le crayon. Si le crayon est lev\u00e9, rien n'est trac\u00e9 \u00e0 l'\u00e9cran. pensize(t) : r\u00e8gle l'\u00e9paisseur de trac\u00e9 \u00e0 \\(t\\) pixels. pencolor(*args) : r\u00e8gle la couleur du stylo. L'argument peut-\u00eatre : une cha\u00eene de caract\u00e8res : red , gray , ou #33cc8c , etc... un triplet RGB : (255, 100, 50) ,... fillcolor(*args) : d\u00e9finit la couleur de remplissage. begin_fill() et end_fill() : d\u00e9but et fin de la d\u00e9finition d'une zone de remplissage. Je ne d\u00e9taillerai pas ici les m\u00e9thodes des objets Screen . Prise en main de turtle \u00c9nonc\u00e9 En partant d'un fichier sandbox_turtle.py contenant les lignes suivantes : ```` python import turtle def triangleEquilateral\u00a9 : ... def pentagramme(c, color=\"red\") : ... def hexagone(c, diag = False) : ... if name == \" main \" : screen = turtle.Screen() screen.bgcolor('lightgray') donatello = turtle.Turtle() ```` 1. Cr\u00e9er une fonction `triangleEquilateral(c)` qui trace un triangle \u00e9quilat\u00e9ral de longueur $c$ \u00e0 partir de la position courante. 2. Cr\u00e9er une fonction `pentagramme(c, color=\"red\")` qui trace un pentagramme (une \u00e9toile \u00e0 5 branches) et le remplit avec la couleur pass\u00e9e en argument. 3. Cr\u00e9er une fonction `hexagone(c, diag = False)` qui trace un hexagone de c\u00f4t\u00e9 $c$ et qui trace en outre ses diagonales si le param\u00e8tre optionnel `diag` est pass\u00e9 \u00e0 `True`. === \"Solutions\" Toutes les solutions suivantes supposent qu'un \u00e9cran et qu'une tortue nomm\u00e9e `t` existent dans l'espace de nom g\u00e9n\u00e9ral. === \"`triangleEquilateral(c)`\" ``` python def triangleEquilateral(c) : for _ in range(3): t.forward(c) t.left(120) ``` === \"`pentagramme(c, color=\"red\")`\" ``` python def pentagramme(t, c, color=\"red\") : t.fillcolor(color) t.begin_fill() for _ in range(5): t.forward(c) t.right(144) t.end_fill() ``` === \"`hexagone(c, diag = False)`\" ``` python def hexagone(t, c, diag = False) : for _ in range(6): t.forward(c) t.right(60) if diag : for _ in range(3) : t.right(60) t.forward(2*c) t.right(120) t.forward(c) t.right(60) ```","title":"Pr\u00e9sentation de turtle"},{"location":"NSI/Terminale/C02/RecursiviteFractales/#flocon-de-von-koch","text":"Le Flocon de Von Koch Le flocon de Von Koch, invent\u00e9e en 1904 par le math\u00e9maticien su\u00e9dois Helge von Koch, est une des premi\u00e8res courbes fractales d\u00e9crites, avant m\u00eame l'invention du terme fractale par Benoit Mandelbrot en 1967. Cette courbe est obtenue par la d\u00e9composition r\u00e9cursive d'un segment en une ligne bris\u00e9e : Construction du flocon Avant de passer \u00e0 une d\u00e9finition r\u00e9cursive de la construction, essayons de faire une \u00e9tape de cette construction. \u00c9nonc\u00e9 Solution a. Cr\u00e9er une fonction segment(long) qui trace une it\u00e9ration de la construction du segment de Von Koch (c'est-\u00e0-dire tra\u00e7ant l'\u00e9tape 3 de l'image ci-dessus.). b. Tester cette fonction en pla\u00e7ant la tortue dans diff\u00e9rentes positions de d\u00e9part. def segment ( long ) : t . forward ( long // 3 ) t . left ( 60 ) t . forward ( long // 3 ) t . right ( 120 ) t . forward ( long // 3 ) t . left ( 60 ) t . forward ( long // 3 ) Passons \u00e0 la construction r\u00e9cursive d'un segment : \u00c9nonc\u00e9 Solution En se basant sur la fonction pr\u00e9c\u00e9dente, impl\u00e9menter une fonction segmentR(long, n) qui tracera le r\u00e9sultat de \\(n\\) it\u00e9rations de la m\u00e9thode sur un segment de longueur long . Pour \\(n=0\\) , on obtiendra Pour \\(n=1\\) , on obtiendra Pour \\(n=2\\) , on obtiendra def segmentR ( long , n ) : if n == 0 : t . forward ( long ) else : segmentR ( long / 3 , n - 1 ) t . left ( 60 ) segmentR ( long / 3 , n - 1 ) t . right ( 120 ) segmentR ( long / 3 , n - 1 ) t . left ( 60 ) segmentR ( long / 3 , n - 1 ) Terminer la construction en tra\u00e7ant le flocon sur une base de triangle \u00e9quilat\u00e9ral. Solution Avec changement de couleurs : def floconVK ( long , n ) : t . pencolor ( random . choice ( couleurs )) t . begin_fill () for _ in range ( 3 ) : segmentR ( long , n ) t . right ( 120 ) t . end_fill () o\u00f9 couleurs = [ \"black\" , \"white\" , \"grey\" , \"red\" , \"orange\" , \"green\" , \"blue\" , \"navy\" , \"yellow\" , \"gold\" , \"tan\" , \"brown\" , \"sienna\" , \"wheat\" , \"cyan\" , \"pink\" , \"salmon\" , \"violet\" , \"purple\" ]","title":"Flocon de Von Koch"},{"location":"NSI/Terminale/C02/RecursiviteFractales/#le-triangle-de-sierpinski","text":"Triangle de Sierpinski Le Triangle (ou napperon) de Sierpinski , aussi connu sous le nom de joint de culasse (nom donn\u00e9 par Mandelbrot), est une autre figure fractale d\u00e9crite au d\u00e9but du XX\u00e8me si\u00e8cle. Il peut s'obtenir \u00e0 partir d'un triangle \u00ab plein \u00bb, par une infinit\u00e9 de r\u00e9p\u00e9titions consistant \u00e0 diviser par deux la taille du triangle puis \u00e0 les accoler en trois exemplaires par leurs sommets pour former un nouveau triangle. \u00c0 chaque r\u00e9p\u00e9tition le triangle est donc de m\u00eame taille, mais \u00ab de moins en moins plein \u00bb. A coder En partant du principe de l'exercice sur le flocon de Von Koch, impl\u00e9menter une fonction Sierpinski(long, n) qui trace le r\u00e9sultat de \\(n\\) it\u00e9rations sur un triangle de c\u00f4t\u00e9 \\(n\\) . Solution A venir ! Remarque Le triangle de Sierpinski correspond \u00e0 une propri\u00e9t\u00e9 particuli\u00e8re du triangle de Pascal. En effet, le triangle de Sierpinski appara\u00eet dans le triangle de Pascal lorsque'on supprime tous les coefficients pairs. Vous pouvez en voir plus ici","title":"Le triangle de Sierpinski"},{"location":"NSI/Terminale/C02/RecursiviteTris/","text":"Applications de la r\u00e9cursivit\u00e9 : Tris de tableaux Rappels sur les algorithmes de tris vus en classe de premi\u00e8re Principe du tri par insertion Le principe du tri par insertion est le suivant : au moment o\u00f9 on consid\u00e8re un \u00e9l\u00e9ment du tableau \u00e0 trier, les \u00e9l\u00e9ments qui le pr\u00e9c\u00e8dent sont d\u00e9j\u00e0 tri\u00e9s, tandis que les \u00e9l\u00e9ments qui le suivent ne sont pas encore tri\u00e9s. On peut voir sur l'animation suivante extraite de wikipedia : La complexit\u00e9 du tri par insertion est \\(\\mathbb{O}(n^2)\\) dans le pire cas et en moyenne, et lin\u00e9aire dans le meilleur cas (tableau presque tri\u00e9). C'est donc un tri dont la vitesse d'ex\u00e9cution d\u00e9pendra fortement de la situation initiale. Le code en Python 1 2 3 4 5 6 7 8 9 def tri_insertion ( L ): N = len ( L ) for n in range ( 1 , N ): cle = L [ n ] j = n - 1 while j >= 0 and L [ j ] > cle : L [ j + 1 ] = L [ j ] # decalage j = j - 1 L [ j + 1 ] = cle Principe du tri par s\u00e9lection Sur un tableau de n \u00e9l\u00e9ments, le principe du tri par s\u00e9lection est le suivant : rechercher le plus petit \u00e9l\u00e9ment du tableau, et l'\u00e9changer avec l'\u00e9l\u00e9ment d'indice 0 ; rechercher le second plus petit \u00e9l\u00e9ment du tableau, et l'\u00e9changer avec l'\u00e9l\u00e9ment d'indice 1 ; continuer de cette fa\u00e7on jusqu'\u00e0 ce que le tableau soit enti\u00e8rement tri\u00e9. On peut voir sur l'animation suivante extraite de wikipedia : Cet algorithme de tri, simple \u00e0 comprendre, est consid\u00e9r\u00e9 comme mauvais car sa complexit\u00e9 en temps est en \\(\\mathbb{O}(n^2)\\) , que ce soit dans le pire des cas ou bien le meilleur des cas (m\u00eame pour un tableau d\u00e9j\u00e0 tri\u00e9 il faudra faire toutes les comparaisons). Le code en Python def tri_selection ( tab ): for i in range ( len ( tab )): # Trouver le min min = i for j in range ( i + 1 , len ( tab )): if tab [ min ] > tab [ j ]: min = j tmp = tab [ i ] tab [ i ] = tab [ min ] tab [ min ] = tmp return tab Le tri fusion Principe du Tri Fusion (Merge Sort) Le principe du tri fusion , est de s\u00e9parer un tableau \u00e0 trier en deux sous-tableaux qu'on triera r\u00e9cursivemment (ou it\u00e9rativemment mais ce ne sera pas le cas dans ce cours) de nouveau par tri fusion. Une fois les sous-tableaux tri\u00e9s, il faudra fusionner ces deux sous-tableaux en une seule identit\u00e9. Cet algorithme est du type diviser pour r\u00e9gner ( Divide and Conquer ) : on s\u00e9pare la t\u00e2che \u00e0 priori difficile en deux t\u00e2ches plus simples (ici, il s'agit de diminuer la taille des tableaux). Il a \u00e9t\u00e9 invent\u00e9 par John Von Neumann en 1945 . Fonction de fusion Exercice Solution La principale difficult\u00e9 dans cet algorithme est de cr\u00e9er une fonction fusionnant les deux tableaux tri\u00e9s. Avant commencer, regardez la vid\u00e9o suivante : De combien de variables compteurs avons nous besoins ? Quel type de boucle allons nous utiliser ? Que se passe-t-il dans la vid\u00e9o quand \\(j\\) atteint la valeur \\(3\\) ? R\u00e9diger en langage naturel l'algorithme fusionnant deux tableaux tri\u00e9s. Impl\u00e9menter une fonction fusion(t1, t2) qui prend en argument deux tableaux suppos\u00e9s tri\u00e9s (on ne v\u00e9rifiera pas), et qui renvoie le tableau tri\u00e9 contenant tous les \u00e9l\u00e9ments des deux tableaux t1 et t2 . On pourra utiliser les tests suivants pour v\u00e9rifier que la fonction est correcte : Les tests >>> fusion ([ 12 , 35 , 45 ],[ 4 , 42 , 63 ]) [ 4 , 12 , 35 , 42 , 45 , 63 ] >>> fusion ([ 12 , 35 ], [ 57 ]) [ 12 , 35 , 57 ] >>> fusion ([ 12 , 35 ], [ 42 , 57 ]) [ 12 , 35 , 42 , 57 ] >>> fusion ([ 12 , 35 ], []) [ 12 , 35 ] >>> fusion ([], [ 12 , 35 ]) [ 12 , 35 ] >>> fusion ([ 42 , 57 , 67 , 75 ], [ 12 , 35 ]) [ 12 , 35 , 42 , 57 , 67 , 75 ] >>> fusion ([], []) [] C'est beau, c'est fait avec manim . En r\u00e9alit\u00e9 il n'y a que deux compteurs : \\(i\\) et \\(j\\) . En effet \\(k\\) est en permanence \u00e9gal \u00e0 \\(i+j\\) . On peut utiliser une boucle Pour , vu que le nombre d'it\u00e9rations est connu au d\u00e9part : il s'agit de la somme des longueurs des deux tableaux. Mais il est aussi tout \u00e0 fait possible d'utiliser une boucle Tant que , puisque l'algorithme se poursuit tant qu'un des deux compteurs n'a pas atteint sa position finale. Quand \\(j\\) atteint la position 3 (soit la longueur du deuxi\u00e8me tableau), il ne reste plus qu'\u00e0 compl\u00e9ter avec les valeurs restantes du premier tableau. Diff\u00e9rentes versions : Version Pour sans initialisation du tableau final fonction fusion(t1, t2) tf <- tableau vide i <- 0 j <- 0 n1 <- longueur de t1 n2 <- longueur de t2 Pour k allant de 0 \u00e0 n1+n2-1 Si i<n1 et j<n2 Tri Fusion R\u00e9cursif Exercice Solution Une fois la fonction fusion cod\u00e9e, l'algorithme de tri par fusion est simple : Regardez la vid\u00e9o suivante : Quel est le cas de base ? Quel est le cas r\u00e9cursif ? Impl\u00e9menter une fonction triFusion(t) qui prend en argument un tableau et renvoie une copie tri\u00e9e de ce tableau. A venir ! Complexi\u00e9 en temps Exercice Solution Copiez-collez le code ci-dessous permettant d'utiliser le d\u00e9corateur @timeit : import time def timeit ( method ): def timed ( * args , ** kw ): ts = time . time () result = method ( * args , ** kw ) te = time . time () print ( f \" { method . __name__ } ( { args } , { kw } ) { te - ts } \" ) return result return timed D\u00e9corateur @timeit pour utiliser le d\u00e9corateur, on le place dans la ligne pr\u00e9c\u00e9dant la d\u00e9finition de la fonction qu'on veut d\u00e9corer. Par exemple : @timeit def tri_insertion ( tab ) : ... Chaque fois que la fonction tri_insertion sera appel\u00e9e, le d\u00e9corateur sera appliqu\u00e9 et ex\u00e9cuterala fonction timed , qui calcule le temps d'ex\u00e9cution de la fonction d\u00e9cor\u00e9e. Il faudra \u00eatre attentif \u00e0 son utilisation dans le cas des fonctions r\u00e9cursives ! (Je vous laisse constater par vous m\u00eame le probl\u00e8me rencontr\u00e9.) Cr\u00e9er une fonction genereTab(n) qui cr\u00e9e un tableau de taille \\(n\\) d'entiers al\u00e9atoires compris entre \\(0\\) et \\(n^2\\) . Cr\u00e9er \u00e0 l'aide de toutes les fonctions pr\u00e9c\u00e9dentes une fonction testeTemps(n) qui compare les temps d'ex\u00e9cution des diff\u00e9rents tris pour \\(n\\) valant \\(100\\) , \\(1~000\\) , \\(10~000\\) . Attention , il faudra effectuer \u00e0 chaque fois les tests sur le m\u00eame tableau, et donc cr\u00e9er des copies du tableau original avant de le trier (on peut utiliser la fonction deepcopy du module copy ) Que peut-on en conclure quand \u00e0 la complexit\u00e9 en temps du tri fusion ? A venir ! Complexit\u00e9s du tri fusion La version la plus simple du tri fusion sur les tableaux a une efficacit\u00e9 comparable au tri rapide, mais elle n'op\u00e8re pas en place : une zone temporaire de donn\u00e9es suppl\u00e9mentaire de taille \u00e9gale \u00e0 celle de l'entr\u00e9e est n\u00e9cessaire (des versions plus complexes peuvent \u00eatre effectu\u00e9es sur place mais sont moins rapides). La complexit\u00e9 en temps est en \\(\\mathbb{O}(n log(n))\\) dans tous les cas, et la complexit\u00e9 en espace est en g\u00e9n\u00e9ral en \\(\\mathbb{O}(n)\\) . Plus vite ! QuickSort ! (Hors programme) Principe du QuickSort","title":"Applications : Tris"},{"location":"NSI/Terminale/C02/RecursiviteTris/#applications-de-la-recursivite-tris-de-tableaux","text":"","title":"Applications de la r\u00e9cursivit\u00e9 :  Tris de tableaux"},{"location":"NSI/Terminale/C02/RecursiviteTris/#rappels-sur-les-algorithmes-de-tris-vus-en-classe-de-premiere","text":"Principe du tri par insertion Le principe du tri par insertion est le suivant : au moment o\u00f9 on consid\u00e8re un \u00e9l\u00e9ment du tableau \u00e0 trier, les \u00e9l\u00e9ments qui le pr\u00e9c\u00e8dent sont d\u00e9j\u00e0 tri\u00e9s, tandis que les \u00e9l\u00e9ments qui le suivent ne sont pas encore tri\u00e9s. On peut voir sur l'animation suivante extraite de wikipedia : La complexit\u00e9 du tri par insertion est \\(\\mathbb{O}(n^2)\\) dans le pire cas et en moyenne, et lin\u00e9aire dans le meilleur cas (tableau presque tri\u00e9). C'est donc un tri dont la vitesse d'ex\u00e9cution d\u00e9pendra fortement de la situation initiale. Le code en Python 1 2 3 4 5 6 7 8 9 def tri_insertion ( L ): N = len ( L ) for n in range ( 1 , N ): cle = L [ n ] j = n - 1 while j >= 0 and L [ j ] > cle : L [ j + 1 ] = L [ j ] # decalage j = j - 1 L [ j + 1 ] = cle Principe du tri par s\u00e9lection Sur un tableau de n \u00e9l\u00e9ments, le principe du tri par s\u00e9lection est le suivant : rechercher le plus petit \u00e9l\u00e9ment du tableau, et l'\u00e9changer avec l'\u00e9l\u00e9ment d'indice 0 ; rechercher le second plus petit \u00e9l\u00e9ment du tableau, et l'\u00e9changer avec l'\u00e9l\u00e9ment d'indice 1 ; continuer de cette fa\u00e7on jusqu'\u00e0 ce que le tableau soit enti\u00e8rement tri\u00e9. On peut voir sur l'animation suivante extraite de wikipedia : Cet algorithme de tri, simple \u00e0 comprendre, est consid\u00e9r\u00e9 comme mauvais car sa complexit\u00e9 en temps est en \\(\\mathbb{O}(n^2)\\) , que ce soit dans le pire des cas ou bien le meilleur des cas (m\u00eame pour un tableau d\u00e9j\u00e0 tri\u00e9 il faudra faire toutes les comparaisons). Le code en Python def tri_selection ( tab ): for i in range ( len ( tab )): # Trouver le min min = i for j in range ( i + 1 , len ( tab )): if tab [ min ] > tab [ j ]: min = j tmp = tab [ i ] tab [ i ] = tab [ min ] tab [ min ] = tmp return tab","title":"Rappels sur les algorithmes de tris vus en classe de premi\u00e8re"},{"location":"NSI/Terminale/C02/RecursiviteTris/#le-tri-fusion","text":"Principe du Tri Fusion (Merge Sort) Le principe du tri fusion , est de s\u00e9parer un tableau \u00e0 trier en deux sous-tableaux qu'on triera r\u00e9cursivemment (ou it\u00e9rativemment mais ce ne sera pas le cas dans ce cours) de nouveau par tri fusion. Une fois les sous-tableaux tri\u00e9s, il faudra fusionner ces deux sous-tableaux en une seule identit\u00e9. Cet algorithme est du type diviser pour r\u00e9gner ( Divide and Conquer ) : on s\u00e9pare la t\u00e2che \u00e0 priori difficile en deux t\u00e2ches plus simples (ici, il s'agit de diminuer la taille des tableaux). Il a \u00e9t\u00e9 invent\u00e9 par John Von Neumann en 1945 . Fonction de fusion Exercice Solution La principale difficult\u00e9 dans cet algorithme est de cr\u00e9er une fonction fusionnant les deux tableaux tri\u00e9s. Avant commencer, regardez la vid\u00e9o suivante : De combien de variables compteurs avons nous besoins ? Quel type de boucle allons nous utiliser ? Que se passe-t-il dans la vid\u00e9o quand \\(j\\) atteint la valeur \\(3\\) ? R\u00e9diger en langage naturel l'algorithme fusionnant deux tableaux tri\u00e9s. Impl\u00e9menter une fonction fusion(t1, t2) qui prend en argument deux tableaux suppos\u00e9s tri\u00e9s (on ne v\u00e9rifiera pas), et qui renvoie le tableau tri\u00e9 contenant tous les \u00e9l\u00e9ments des deux tableaux t1 et t2 . On pourra utiliser les tests suivants pour v\u00e9rifier que la fonction est correcte : Les tests >>> fusion ([ 12 , 35 , 45 ],[ 4 , 42 , 63 ]) [ 4 , 12 , 35 , 42 , 45 , 63 ] >>> fusion ([ 12 , 35 ], [ 57 ]) [ 12 , 35 , 57 ] >>> fusion ([ 12 , 35 ], [ 42 , 57 ]) [ 12 , 35 , 42 , 57 ] >>> fusion ([ 12 , 35 ], []) [ 12 , 35 ] >>> fusion ([], [ 12 , 35 ]) [ 12 , 35 ] >>> fusion ([ 42 , 57 , 67 , 75 ], [ 12 , 35 ]) [ 12 , 35 , 42 , 57 , 67 , 75 ] >>> fusion ([], []) [] C'est beau, c'est fait avec manim . En r\u00e9alit\u00e9 il n'y a que deux compteurs : \\(i\\) et \\(j\\) . En effet \\(k\\) est en permanence \u00e9gal \u00e0 \\(i+j\\) . On peut utiliser une boucle Pour , vu que le nombre d'it\u00e9rations est connu au d\u00e9part : il s'agit de la somme des longueurs des deux tableaux. Mais il est aussi tout \u00e0 fait possible d'utiliser une boucle Tant que , puisque l'algorithme se poursuit tant qu'un des deux compteurs n'a pas atteint sa position finale. Quand \\(j\\) atteint la position 3 (soit la longueur du deuxi\u00e8me tableau), il ne reste plus qu'\u00e0 compl\u00e9ter avec les valeurs restantes du premier tableau. Diff\u00e9rentes versions : Version Pour sans initialisation du tableau final fonction fusion(t1, t2) tf <- tableau vide i <- 0 j <- 0 n1 <- longueur de t1 n2 <- longueur de t2 Pour k allant de 0 \u00e0 n1+n2-1 Si i<n1 et j<n2 Tri Fusion R\u00e9cursif Exercice Solution Une fois la fonction fusion cod\u00e9e, l'algorithme de tri par fusion est simple : Regardez la vid\u00e9o suivante : Quel est le cas de base ? Quel est le cas r\u00e9cursif ? Impl\u00e9menter une fonction triFusion(t) qui prend en argument un tableau et renvoie une copie tri\u00e9e de ce tableau. A venir ! Complexi\u00e9 en temps Exercice Solution Copiez-collez le code ci-dessous permettant d'utiliser le d\u00e9corateur @timeit : import time def timeit ( method ): def timed ( * args , ** kw ): ts = time . time () result = method ( * args , ** kw ) te = time . time () print ( f \" { method . __name__ } ( { args } , { kw } ) { te - ts } \" ) return result return timed D\u00e9corateur @timeit pour utiliser le d\u00e9corateur, on le place dans la ligne pr\u00e9c\u00e9dant la d\u00e9finition de la fonction qu'on veut d\u00e9corer. Par exemple : @timeit def tri_insertion ( tab ) : ... Chaque fois que la fonction tri_insertion sera appel\u00e9e, le d\u00e9corateur sera appliqu\u00e9 et ex\u00e9cuterala fonction timed , qui calcule le temps d'ex\u00e9cution de la fonction d\u00e9cor\u00e9e. Il faudra \u00eatre attentif \u00e0 son utilisation dans le cas des fonctions r\u00e9cursives ! (Je vous laisse constater par vous m\u00eame le probl\u00e8me rencontr\u00e9.) Cr\u00e9er une fonction genereTab(n) qui cr\u00e9e un tableau de taille \\(n\\) d'entiers al\u00e9atoires compris entre \\(0\\) et \\(n^2\\) . Cr\u00e9er \u00e0 l'aide de toutes les fonctions pr\u00e9c\u00e9dentes une fonction testeTemps(n) qui compare les temps d'ex\u00e9cution des diff\u00e9rents tris pour \\(n\\) valant \\(100\\) , \\(1~000\\) , \\(10~000\\) . Attention , il faudra effectuer \u00e0 chaque fois les tests sur le m\u00eame tableau, et donc cr\u00e9er des copies du tableau original avant de le trier (on peut utiliser la fonction deepcopy du module copy ) Que peut-on en conclure quand \u00e0 la complexit\u00e9 en temps du tri fusion ? A venir ! Complexit\u00e9s du tri fusion La version la plus simple du tri fusion sur les tableaux a une efficacit\u00e9 comparable au tri rapide, mais elle n'op\u00e8re pas en place : une zone temporaire de donn\u00e9es suppl\u00e9mentaire de taille \u00e9gale \u00e0 celle de l'entr\u00e9e est n\u00e9cessaire (des versions plus complexes peuvent \u00eatre effectu\u00e9es sur place mais sont moins rapides). La complexit\u00e9 en temps est en \\(\\mathbb{O}(n log(n))\\) dans tous les cas, et la complexit\u00e9 en espace est en g\u00e9n\u00e9ral en \\(\\mathbb{O}(n)\\) .","title":"Le tri fusion"},{"location":"NSI/Terminale/C02/RecursiviteTris/#plus-vite-quicksort-hors-programme","text":"Principe du QuickSort","title":"Plus vite ! QuickSort ! (Hors programme)"},{"location":"NSI/Terminale/C03/ListesChainees/","text":"Listes Cha\u00een\u00e9es Le probl\u00e8me de la structure tableau La structure de type tableau permet de stocker des s\u00e9quences d'\u00e9l\u00e9ments dans des zones contig\u00fces de la m\u00e9moire, mais n'est pas forc\u00e9ment adapt\u00e9e \u00e0 toutes les op\u00e9rations possibles sur ces s\u00e9quences. Par exemple, la structure de tableau de Python permet gr\u00e2ce aux m\u00e9thodes append et pop d'ajouter et de supprimer relativement efficacement un \u00e9l\u00e9ment en derni\u00e8re position dans un tableau d\u00e9j\u00e0 existant (ce n'est pas le cas dans d'autres langages, o\u00f9 de telles m\u00e9thodes n'existent pas forc\u00e9ment ). Lorsqu'on veut ins\u00e9rer un \u00e9l\u00e9ment \u00e0 une autre position on peut, toujours en Python, utiliser la m\u00e9thode insert qui ins\u00e8re un \u00e9l\u00e9ment \u00e0 une position donn\u00e9e. Mais cette m\u00e9thode cache un certain nombre de probl\u00e8mes , dont le co\u00fbt en temps . Que fait insert lorsqu'on veut ajouter un \u00e9l\u00e9ment en position 0 Imaginons que nous avons un tableau tab , pour lequel nous voulons ins\u00e9rer la valeur \\(8\\) en premi\u00e8re position : Au total, nous avons r\u00e9alis\u00e9 un nombre d'op\u00e9rations qui est proportionnel \u00e0 la taille du tableau ! Sur un petit, tel que celui-ci, il n'y a pas trop de probl\u00e8mes, mais sur un tableau contenant plusieurs millions d'entr\u00e9es, le nombre d'op\u00e9rations devient bien trop important. Heureusement, il existe d'autres mani\u00e8res de stocker des informations, qui permettent une modification bien plus rapide des diff\u00e9rents \u00e9l\u00e9ments. La face cach\u00e9e de Python Lorsqu'un objet de type list est cr\u00e9e en Python, l'interpr\u00e9teur r\u00e9serve une taille en m\u00e9moire proportionnelle \u00e0 une puissances de 2 n\u00e9cessaire pour stocker le tableau. Cela signifie qu'un tableau de taille 3 occuper une taille m\u00e9moire \u00e9gale \u00e0 celle d'un tableau de taille 4, mais dont la derni\u00e8re cellule n'est pas utilis\u00e9e. De m\u00eame un tableau de taille 5 est en fait stock\u00e9 comme un tableau de taille 8 dont les trois derni\u00e8res cellules ne sont pas utilis\u00e9es. Un tableau de taille 16 sera stock\u00e9 dans une structure dont toutes les cases sont occup\u00e9es. La m\u00e9thode append va donc fonctionner de deux mani\u00e8res diff\u00e9rentes selon la situation envisag\u00e9e : il reste des cases de libres dans la r\u00e9servation m\u00e9moire, alors la valeur ajout\u00e9e par append sera simplement stock\u00e9e dans la premi\u00e8re case libre : si la r\u00e9servation m\u00e9moire est pleine , il faudra alors cr\u00e9er une nouvelle r\u00e9servation m\u00e9moire d'une taille 2 fois sup\u00e9rieure \u00e0 la pr\u00e9c\u00e9dente , copier chaque \u00e9l\u00e9ment de l'ancienne liste dans la nouvelle, puis enfin la valeur ajout\u00e9e par append sera simplement stock\u00e9e dans la premi\u00e8re case libre : On constate une utilisation m\u00e9moire tr\u00e8s important pour juste un \u00e9l\u00e9ment suppl\u00e9mentaire ajout\u00e9... Les listes cha\u00een\u00e9es Construction d'une liste cha\u00een\u00e9es Liste cha\u00een\u00e9e Une liste cha\u00een\u00e9e est une structure permettant d'impl\u00e9menter une liste, c'est-\u00e0-dire une s\u00e9quence finie de valeurs (de m\u00eame type ou non). Les \u00e9l\u00e9ments sont dits cha\u00een\u00e9s car \u00e0 chaque \u00e9l\u00e9ment est associ\u00e9 l'adresse m\u00e9moire de l'\u00e9l\u00e9ment suivant de la liste. Exemple On a repr\u00e9sent\u00e9 ici une liste cha\u00een\u00e9e de trois \u00e9l\u00e9ments : Le premier est \\(21\\) , et il pointe vers l'adresse m\u00e9moire du second ; Le deuxi\u00e8me \u00e9l\u00e9ment est \\(15\\) et il pointe vers l'adresse m\u00e9moire du troisi\u00e8me ; Le troisi\u00e8me \u00e9l\u00e9ment est \\(45\\) . Il ne pointe vers rien (l'adresse du suivant est None ). On a atteint la fin de la liste. Impl\u00e9mentation d'une liste cha\u00een\u00e9e en Python La m\u00e9thode classique pour impl\u00e9menter une liste cha\u00een\u00e9e est de construire une classe d'objets poss\u00e9dant deux attributs : un pour la valeur et un pour l' adresse du chainon suivant : 1 2 3 4 5 class Chainon : \"\"\"Chainon d'une liste chain\u00e9e\"\"\" def __init__ ( self , valeur , suivant ) : self . valeur = valeur self . suivant = suivant Une fois cette classe d\u00e9finie, la construction de la liste s'effectue de la mani\u00e8re suivante : pour une liste cha\u00een\u00e9e contenant un unique chainon : chaine = Chainon ( 35 , None ) pour une liste cha\u00een\u00e9e contenant plusieurs chainons : chaine = Chainon ( 21 , Chainon ( 15 , Chainon ( 45 , None ))) Ici, on a cr\u00e9\u00e9 une liste nomm\u00e9e chaine \u00e0 partir de trois objets de classe Chainon qu'on peut visualiser ainsi : Remarque Cette construction est une construction r\u00e9cursive bas\u00e9e sur des objets. Il aurait \u00e9t\u00e9 possioble d'utiliser des tuples ou des listes python, mais l'utilisation serait moins pratique : ( 21 ,( 15 , ( 45 , ( None )))) Affichage d'un objet Chainon Afin de repr\u00e9senter \u00e0 l'\u00e9cran notre objet Chainon , on impl\u00e9mente la m\u00e9thode __str__ ainsi : 1 2 3 4 5 6 7 8 9 10 11 class Chainon : \"\"\"Chainon d'une liste chain\u00e9e\"\"\" def __init__ ( self , valeur , suivant ) : self . valeur = valeur self . suivant = suivant def __str__ ( self ): if self . suivant == None : return f \" { self . valeur } -> None\" else : return f \" { self . valeur } -> { str ( self . suivant ) } \" Ainsi l'instruction print(chaine) affichera 21 -> 15 -> 45 -> None . Op\u00e9rations sur les listes cha\u00een\u00e9es. Longueur d'une liste cha\u00een\u00e9e Nous allons cr\u00e9er maintenant une fonction longueur qui calcule la longueur d'une liste cha\u00een\u00e9e telle que nous l'avons impl\u00e9ment\u00e9e. Cette fonction devra : renvoyer 0 si la liste est vide ; renvoyer le nombre d'\u00e9l\u00e9ments de la cha\u00eene sinon. Le plus simple est d'utiliser la r\u00e9cursivit\u00e9 : def longueur ( chaine ) : if chaine == None : return 0 else : return 1 + longueur ( chaine . suivant ) La complexit\u00e9 de cette fonction est directement proportionnelle \u00e0 la longueur de la liste : pour une liste de \\(1~000\\) \u00e9l\u00e9ments, la fonction effectuera : \\(1~000\\) comparaisons ; \\(1~000\\) additions ; \\(1~000\\) appels r\u00e9cursifs. On en conclut que la complexit\u00e9 en temps de cette fonction est en \\(\\mathbb{O}(n)\\) . Et en it\u00e9ratif ? def longueur ( chaine ) : n = 0 chainon = chaine while chainon is not None : n += 1 chainon = chainon . suivant return n Exercice 1 : n-i\u00e8me \u00e9l\u00e9ment Enonc\u00e9 Solution r\u00e9cursive Solution It\u00e9rative Cr\u00e9er une fonction n_ieme_element(chaine, n) qui renvoie la valeur du \\(n\\) -i\u00e8me \u00e9l\u00e9ment de la liste cha\u00een\u00e9e pass\u00e9e en argument. def n_ieme_element ( chaine , n ) : if chaine == None : raise IndexError ( \"Invalid index\" ) if n == 0 : return chaine . valeur else : return n_ieme_element ( chaine . suivant , n - 1 ) La question de la complexit\u00e9 est un peu plus subtile : dans un cas correct (l'indice n fourni corresond bien \u00e0 un \u00e9l\u00e9ment de la liste), le nombre d'op\u00e9rations est bien proportionnel \u00e0 n ; dans le cas o\u00f9 n est sup\u00e9rieur \u00e0 la longueur de la liste, par contre, on va parcourir la totalit\u00e9 de la liste avant de pouvoir signaler une erreur. Ce serait cependant une tr\u00e8s mauvaise id\u00e9e de calculer la longueur de la liste pour le comparer \u00e0 \\(n\\) , car le calcul de la longueur parcoure d\u00e9j\u00e0 toute la liste. Faire ce calcul en appel r\u00e9cursif g\u00e9n\u00e9rerait donc une complexit\u00e9 quadratique . On pourrait cependant encapsuler la fonction r\u00e9cursive dans une fonction dont l'objectif serait de v\u00e9rifier la valeur de l'indice avant d'effectuer les appels r\u00e9cursifs. Pire, dans le cas o\u00f9 l'indice pass\u00e9 est n\u00e9gatif, la liste cha\u00een\u00e9e sera elle aussi parcourue int\u00e9gralement avant de renvoyer une erreur d'indice. On peut cependant corriger cel\u00e0 par la ligne : if chaine == None or i < 0 : ... def n_ieme_elementI ( chaine , n ) : if n < 0 : raise IndexError ( \"Invalid index\" ) ni = 0 chainon = chaine while chainon != None and ni != n : ni += 1 chainon = chainon . suivant if chainon != None : return chainon . valeur else : raise IndexError ( \"Invalid index\" ) On retrouve en terme de complexit\u00e9 les m\u00eames \u00e9l\u00e9ments que pour la fonction r\u00e9cursive. Cependant les erreurs ainsi que les conditions de sorties sont plus complexes \u00e0 prendre en compte. Exercice 2 : Concat\u00e9nation de deux listes Enonc\u00e9 Solution r\u00e9cursive Solution It\u00e9rative Cr\u00e9er une fonction concatener(c1, c2) qui renvoie une liste cha\u00een\u00e9e obtenue par concat\u00e9nation de c1 et c2 . def concatener ( c1 , c2 ) : if c1 == None : return c2 else : return Chainon ( c1 . valeur , concatener ( c1 . suivant , c2 )) La complexit\u00e9 d\u00e9pend fortement de la longueur de la liste c1 . par contre elle ne d\u00e9pend pas de celle de c2 . Dans cette version, les chaines c1 et c2 ne sont pas modifi\u00e9e ! concatener renvoie une nouvelle liste cha\u00een\u00e9e qui a copi\u00e9 les valeurs de c1 avant de les lier \u00e0 celles de c2 . def concatenerI ( c1 , c2 ) : chainon = c1 while chainon . suivant != None : chainon = chainon . suivant chainon . suivant = c2 return c1 Attention ! Dans cette solution, c1 est modifi\u00e9e ! ET C'EST UNE TRES MAUVAISE IDEE Imaginons qu'on ex\u00e9cute deux fois la concat\u00e9nation concatenerI(c1, c2) , puis qu'on demande un affichage de c1 . La premi\u00e8re concat\u00e9nation va donner le sch\u00e9ma ci-dessus, la ch\u00e2ine c1 ayant pour dernier cha\u00eenon le dernier cha\u00eenon de c2 . A l'ex\u00e9cution de la deuxi\u00e8me concat\u00e9nation, il n'y aura pas de cr\u00e9ation de nouvelle cha\u00eene, mais simplement la modification du dernier cha\u00eenon de l'actuel c1 vers le premier \u00e9l\u00e9ment de c2 , soit... une boucle menant du dernier \u00e9l\u00e9ment de c2 vers le premier de c2 : La cha\u00eene obtenue ne poss\u00e8de plus de fin (jamais elle ne pointe vers None ). La m\u00e9thode __str__ effectuant un appel r\u00e9cursif dont le cas de base correspond au fait de pointer vers None , on aura alors une erreur de type RecursionError: maximum recursion depth exceeded , puisqu'il est devenu impossible de passer par le cas de base. Un cas limite : renverser la liste Comment faire pour renverser une liste cha\u00een\u00e9e ? Sachant que nous avons vu des proc\u00e9d\u00e9s r\u00e9cursif pour les questions pr\u00e9c\u00e9dentes, nous sommes tenter d'en utiliser un aussi pour ce cas, par exemple en s\u00e9lectionnant le premier cha\u00eenon et en le concat\u00e9nant \u00e0 la liste renvers\u00e9e de la suite de la cha\u00eene, Le cas de base \u00e9tant celui d'une liste vide, auquel cas on renvoie cette liste : def renverser ( chaine ) : if chaine == None : return None else : return concatener ( renverser ( chaine . suivant ), Chainon ( chaine . valeur , None )) Cependant cette solution n'est pas efficace ! En effet, \u00e0 chaque appel de renverser , on fait aussi appel \u00e0 la fonction concatener qui parcoure la totalit\u00e9 de la chaine, \u00e0 part un \u00e9l\u00e9ment. La complexit\u00e9 devient alors quadratique ! La r\u00e9cursivit\u00e9 n'est pas toujours la meilleure solution ! (mais parfois elle l'est quand m\u00eame !) On va don passer en it\u00e9ratif, surtourt qu'il est facile d'attacher un chainon en t\u00eate d'une chaine d\u00e9j\u00e0 consrtitu\u00e9e : def renverser ( chaine ) : reverse = None c = chaine while c != None : reverse = Chainon ( c . valeur , reverse ) c = c . suivant return reverse La complexit\u00e9 est celle du parcours d'une cha\u00eene compl\u00e8te, donc en \\(\\mathbb{O}(n)\\) . Modification de listes cha\u00een\u00e9es Pourquoi se casser la t\u00eate ? Eliminons tout de suite une possibilit\u00e9 : bien entendu, en Python , il est possible de modifier directement un attribut, donc la modification d'une valeur d'une liste cha\u00een\u00e9e est assez \u00e9vidente. Par exemple, les lignes suivantes : chaine = Chainon ( 21 , Chainon ( 15 , Chainon ( 45 , None ))) chaine . suivant . valeur = 33 modifient la valeur du deuxi\u00e8me \u00e9l\u00e9ment de la chaine, qui devient 21 -> 33 -> 45 -> None . Cependant, cette possibilit\u00e9 n'est pas toujours possible dans tous les langages , et de toutes fa\u00e7ons cette mani\u00e8re de modifier ne correspond pas \u00e0 la logique de construction d'une liste cha\u00een\u00e9e. On va donc pr\u00e9f\u00e9rer passer \u00e0 des modifications directe des cha\u00eenons. Exercice 3 : Insertion d'un chainon Enonc\u00e9 Solution Cr\u00e9er une fonction inserer(v, n, chaine) qui renvoie la liste chain\u00e9e dans laquelle on a ins\u00e9r\u00e9 ins\u00e8re l'\u00e9l\u00e9ment v \u00e0 la position n dans la liste chaine pass\u00e9e en argument. Le sch\u00e9ma suivant doit pouvoir vous aider \u00e7\u00e0 construire l'algorithme de cette fonction : def inserer ( v , n , chaine ) : if n < 0 : raise IndexError ( \"Invalid index\" ) if n == 0 or chaine == None : return Chainon ( v , chaine ) else : return Chainon ( chaine . valeur , inserer ( v , n - 1 , chaine . suivant )) Exercice 4 : Suppression d'un chainon Enonc\u00e9 Solution Cr\u00e9er une fonction supprime(n, chaine) qui supprime l'\u00e9l\u00e9ment \u00e0 la position n dans la liste pass\u00e9e en argument. Le sch\u00e9ma suivant doit pouvoir vous aider \u00e7\u00e0 construire l'algorithme de cette fonction : def supprimer ( n , chaine ) : if chaine == None or n < 0 : raise IndexError ( \"Invalid index\" ) if n == 0 : return chaine . suivant else : return Chainon ( chaine . valeur , supprimer ( n - 1 , chaine . suivant )) Quelques exercices suppl\u00e9mentaires Nous voici avec une structure correcte, permettant de travailler correctement sur des listes chain\u00e9es. Nous allons maintenant augmenter notre potentiel d'action avec les listes cha\u00een\u00e9es : Exercice 5 : Cr\u00e9ation \u00e0 partir d'une liste Python Enonc\u00e9 Solutions Cr\u00e9er une fonction creer_depuis_tab(tab) qui cr\u00e9e une liste cha\u00een\u00e9e depuis un tableau donn\u00e9 en argument. Par exemple : creer_depuis_tab([12, 15, 17]) cr\u00e9e la liste cha\u00een\u00e9e 12 -> 15 -> 17 -> None ; creer_depuis_tab([]) cr\u00e9e un objet None ; creer_depuis_tab([42]) cr\u00e9e une liste cha\u00een\u00e9e 42 -> None . Il existe de nombreuses possibilit\u00e9s, et toutes ne sont pas \u00e9quivalentes en terme de complexit\u00e9 (la V4 ci-dessous est beaucoup moins efficace). It\u00e9rative Pythonesque avec reversed It\u00e9rative avec indices R\u00e9cursive avec slices def creer_depuis_tab ( tab ) : \"\"\"Version pythonesque avec reversed\"\"\" LC = None for e in reversed ( tab ) : LC = Chainon ( e , LC ) return LC def creer_depuis_tab ( tab ) : \"\"\"Version avec calcul de l'indice\"\"\" LC = None l = len ( tab ) for i in range ( len ( tab )): LC = Chainon ( tab [ l - 1 - i ], LC ) return LC def creer_depuis_tab ( tab ) : \"\"\"Version r\u00e9cursive\"\"\" if tab == [] : return None else : return Chainon ( tab [ 0 ], creer_depuis_tabV3 ( tab [ 1 :])) Exercice 6 : Chercher le nombre d'occurences Enonc\u00e9 Solution Cr\u00e9er une fonction occurences(valeur, chaine) qui renvoie le nombre d'occurence de valeur dans la liste cha\u00een\u00e9e chaine . Par exemple : occurences(12, chaine) devra renvoyer 3 si la cha\u00eene est 12 -> 35 -> 12 ->42 -> 12 ->35 -> None ; occurences(27,chaine) devra renvoyer 0 si la cha\u00eene est 12 -> 35 -> 12 ->42 -> 12 ->35 -> None ; occurences(42,chaine) devra renvoyer 1 si la cha\u00eene est 12 -> 35 -> 12 ->42 -> 12 ->35 -> None . A venir ! Exercice 7 : Trouver la premi\u00e8re occurence Enonc\u00e9 Solution Cr\u00e9er une fonction premiere_occurence(valeur, chaine) qui renvoie l'indice de la premi\u00e8re occurence de valeur dans la liste cha\u00een\u00e9e chaine . Si valeur n'est pas dans chaine , la fonction devra renvoyer -1 . Par exemple : premiere_occurences(12, chaine) devra renvoyer 0 si la cha\u00eene est 12 -> 35 -> 12 ->42 -> 12 ->35 -> None ; premiere_occurences(27,chaine) devra renvoyer -1 si la cha\u00eene est 12 -> 35 -> 12 ->42 -> 12 ->35 -> None ; premiere_occurences(42,chaine) devra renvoyer 3 si la cha\u00eene est 12 -> 35 -> 12 ->42 -> 12 ->35 -> None . A venir ! Exercice 8 : cha\u00eenes identiques Enonc\u00e9 Solution Cr\u00e9er une fonction identique(c1, c2) qui renvoie True si les deux cha\u00eenes contiennent les m\u00eames valeurs dans le m\u00eame ordre, et False sinon. A venir ! Encapsulation On va d\u00e9sormais encapsuler l'impl\u00e9mentation pr\u00e9c\u00e9dente dans une autre classe, nomm\u00e9e ListeC dont l'interface est la suivante : la construction d'un objet ListeC vide correspondre \u00e0 un objet None ; une m\u00e9thode is_empty doit renvoyer un bool\u00e9en correspondnat au statut vide ou non vide de la liste ; une m\u00e9thode push permet d'ajouter une valeur en t\u00eate de la liste ; la m\u00e9thode __str__ doit renvoyer une cha\u00eene correcte (telle que celle de la classe Chainon ) ; l'appel \u00e0 la fonction len doit renvoyer la longueur de la liste ; on doit pouvoir atteindre le i-\u00e8me \u00e9l\u00e9ment d'un objet lc par l'interm\u00e9diaire de lc[i] ; l'op\u00e9rateur + utilis\u00e9 entre deux objets de type ListeC doit renvoyer un nouvel objet cr\u00e9e par concat\u00e9nation. Ainsi, un utilisateur du module cr\u00e9e n'aura pas \u00e0 se pr\u00e9occuper des diff\u00e9rences d'impl\u00e9menations pr\u00e9sent\u00e9es dans la partie pr\u00e9c\u00e9dente : M\u00e9thode constructeur __init__ : Analyse Code Un objet ListeC ne contient qu'un seul attribut : la t\u00eate de la liste. Soit c'est un objet de type Chainon , soit c'est l'objet None . La m\u00e9thode __init__ ne doit donc qu'initialiser un attribut head \u00e0 la valeur None . 1 2 3 4 5 class ListeC : \"\"\"Classe permettant de repr\u00e9senter une liste chain\u00e9e, ou chaque chainon est un objet de classe Chainon\"\"\" def __init__ ( self ) : self . head = None M\u00e9thode is_empty : Analyse Code si la t\u00eate est de type None , on renvoie True , sinon False 1 2 3 4 5 6 7 8 class ListeC : \"\"\"Classe permettant de repr\u00e9senter une liste chain\u00e9e, ou chaque chainon est un objet de classe Chainon\"\"\" def __init__ ( self ) : self . head = None def is_empty ( self ) : return self . head == None M\u00e9thode push : Analyse Code Comme on l'a vu plusieurs fois, une liste chain\u00e9e se construit par ajouts successifs d'\u00e9l\u00e9ments en t\u00eate de la liste. 1 2 3 4 5 6 7 8 9 10 11 class ListeC : \"\"\"Classe permettant de repr\u00e9senter une liste chain\u00e9e, ou chaque chainon est un objet de classe Chainon\"\"\" def __init__ ( self ) : self . head = None def is_empty ( self ) : return self . head == None def push ( self , v ) : self . head = Chainon ( v , self . head ) M\u00e9thode __str__ : Analyse Code Rien de particulier, il suffit de renvoyer la cha\u00eene de caract\u00e8res correspondant \u00e0 la t\u00eate. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 class ListeC : \"\"\"Classe permettant de repr\u00e9senter une liste chain\u00e9e, ou chaque chainon est un objet de classe Chainon\"\"\" def __init__ ( self ) : self . head = None def is_empty ( self ) : return self . head == None def push ( self , v ) : self . head = Chainon ( v , self . head ) def __str__ ( self ) : return str ( self . head ) M\u00e9thode __len__ : Analyse Code La fonction built-in len fait appel \u00e0 la m\u00e9thode __len__ de l'objet pass\u00e9 en argument. Il suffit donc de cr\u00e9er une telle m\u00e9thode, en r\u00e9utilisant la fonction longueur d\u00e9j\u00e0 cr\u00e9e. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 class ListeC : \"\"\"Classe permettant de repr\u00e9senter une liste chain\u00e9e, ou chaque chainon est un objet de classe Chainon\"\"\" def __init__ ( self ) : self . head = None def is_empty ( self ) : return self . head == None def push ( self , v ) : self . head = Chainon ( v , self . head ) def __str__ ( self ) : return str ( self . head ) def __len__ ( self ) : if self . head == None : return 0 else : return longueur ( self . head ) Acc\u00e8s direct au i-\u00e8me \u00e9l\u00e9ment : Analyse Code Lorsqu'on veut faire appel aux op\u00e9rateurs [i] pour acc\u00e9der au i-\u00e8me \u00e9l\u00e9ment d'un objet d\u00e9j\u00e0 construit, python regarde si une m\u00e9thode __getitem__ a \u00e9t\u00e9 d\u00e9finie pour ce type d'objet. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 class ListeC : \"\"\"Classe permettant de repr\u00e9senter une liste chain\u00e9e, ou chaque chainon est un objet de classe Chainon\"\"\" def __init__ ( self ) : self . head = None def is_empty ( self ) : return self . head == None def push ( self , v ) : self . head = Chainon ( v , self . head ) def __str__ ( self ) : return str ( self . head ) def __len__ ( self ) : if self . head == None : return 0 else : return longueur ( self . head ) def __getitem__ ( self , i ) : return n_ieme_element ( self . head , i ) Utilisation de + Analyse Code Pour utiliser l'op\u00e9rateur + , il faut impl\u00e9menter une m\u00e9thode __add__ . Cette m\u00e9thode doit renvoyer un nouvel objet, donc son impl\u00e9mentation est un peu plus complexe. Par ailleurs, il faut lever une erreur dans le cas o\u00f9 l'objet pass\u00e9 en argument n'est pas de type ListeC . 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 class ListeC : \"\"\"Classe permettant de repr\u00e9senter une liste chain\u00e9e, ou chaque chainon est un objet de classe Chainon\"\"\" def __init__ ( self ) : self . head = None def is_empty ( self ) : return self . head == None def push ( self , v ) : self . head = Chainon ( v , self . head ) def __str__ ( self ) : return str ( self . head ) def __len__ ( self ) : if self . head == None : return 0 else : return longueur ( self . head ) def __getitem__ ( self , i ) : return n_ieme_element ( self . head , i ) def __add__ ( self , other ) : if not isinstance ( other , ListeC ) : raise TypeError ( f \"Unable to add ListeC object with { type ( other ) } object\" ) result = ListeC () result . head = concatener ( self . head , other . head ) return result Une fois cette classe impl\u00e9ment\u00e9e, on peut l'utiliser aussi simplement qu'un objet de type list de python : >>> l1 = ListeC () >>> l1 < __main__ . ListeC object at 0x033A8690 > >>> l1 . push ( 12 ) >>> l1 . push ( 15 ) >>> l1 . push ( 42 ) >>> print ( l1 ) 42 -> 15 -> 12 -> None >>> len ( l1 ) 3 >>> l1 . is_empty () False >>> l2 = ListeC () >>> l2 . push ( 43 ) >>> l2 . push ( 27 ) >>> l2 . push ( - 5 ) >>> print ( l1 + l2 ) 42 -> 15 -> 12 ->- 5 -> 27 -> 43 -> None >>> print ( l2 + l1 ) - 5 -> 27 -> 43 -> 42 -> 15 -> 12 -> None >>> l1 [ 2 ] 12 >>> l2 [ 0 ] - 5 Prolonger le travail Enonc\u00e9 Solution Ajouter \u00e0 la classe ListeC les m\u00e9thodes suivantes pop : qui supprime soit la t\u00eate de la liste si aucun argument n'est pass\u00e9 ( l1.pop() , soit l'\u00e9l\u00e9ment d'indice donn\u00e9 si un indice est pass\u00e9 en argument ( l1.pop(2) ) ; insert(v,i) qui ins\u00e8re dans la liste la valeur v \u00e0 la position i . A venir !","title":"Listes chain\u00e9es"},{"location":"NSI/Terminale/C03/ListesChainees/#listes-chainees","text":"","title":"Listes Cha\u00een\u00e9es"},{"location":"NSI/Terminale/C03/ListesChainees/#le-probleme-de-la-structure-tableau","text":"La structure de type tableau permet de stocker des s\u00e9quences d'\u00e9l\u00e9ments dans des zones contig\u00fces de la m\u00e9moire, mais n'est pas forc\u00e9ment adapt\u00e9e \u00e0 toutes les op\u00e9rations possibles sur ces s\u00e9quences. Par exemple, la structure de tableau de Python permet gr\u00e2ce aux m\u00e9thodes append et pop d'ajouter et de supprimer relativement efficacement un \u00e9l\u00e9ment en derni\u00e8re position dans un tableau d\u00e9j\u00e0 existant (ce n'est pas le cas dans d'autres langages, o\u00f9 de telles m\u00e9thodes n'existent pas forc\u00e9ment ). Lorsqu'on veut ins\u00e9rer un \u00e9l\u00e9ment \u00e0 une autre position on peut, toujours en Python, utiliser la m\u00e9thode insert qui ins\u00e8re un \u00e9l\u00e9ment \u00e0 une position donn\u00e9e. Mais cette m\u00e9thode cache un certain nombre de probl\u00e8mes , dont le co\u00fbt en temps . Que fait insert lorsqu'on veut ajouter un \u00e9l\u00e9ment en position 0 Imaginons que nous avons un tableau tab , pour lequel nous voulons ins\u00e9rer la valeur \\(8\\) en premi\u00e8re position : Au total, nous avons r\u00e9alis\u00e9 un nombre d'op\u00e9rations qui est proportionnel \u00e0 la taille du tableau ! Sur un petit, tel que celui-ci, il n'y a pas trop de probl\u00e8mes, mais sur un tableau contenant plusieurs millions d'entr\u00e9es, le nombre d'op\u00e9rations devient bien trop important. Heureusement, il existe d'autres mani\u00e8res de stocker des informations, qui permettent une modification bien plus rapide des diff\u00e9rents \u00e9l\u00e9ments. La face cach\u00e9e de Python Lorsqu'un objet de type list est cr\u00e9e en Python, l'interpr\u00e9teur r\u00e9serve une taille en m\u00e9moire proportionnelle \u00e0 une puissances de 2 n\u00e9cessaire pour stocker le tableau. Cela signifie qu'un tableau de taille 3 occuper une taille m\u00e9moire \u00e9gale \u00e0 celle d'un tableau de taille 4, mais dont la derni\u00e8re cellule n'est pas utilis\u00e9e. De m\u00eame un tableau de taille 5 est en fait stock\u00e9 comme un tableau de taille 8 dont les trois derni\u00e8res cellules ne sont pas utilis\u00e9es. Un tableau de taille 16 sera stock\u00e9 dans une structure dont toutes les cases sont occup\u00e9es. La m\u00e9thode append va donc fonctionner de deux mani\u00e8res diff\u00e9rentes selon la situation envisag\u00e9e : il reste des cases de libres dans la r\u00e9servation m\u00e9moire, alors la valeur ajout\u00e9e par append sera simplement stock\u00e9e dans la premi\u00e8re case libre : si la r\u00e9servation m\u00e9moire est pleine , il faudra alors cr\u00e9er une nouvelle r\u00e9servation m\u00e9moire d'une taille 2 fois sup\u00e9rieure \u00e0 la pr\u00e9c\u00e9dente , copier chaque \u00e9l\u00e9ment de l'ancienne liste dans la nouvelle, puis enfin la valeur ajout\u00e9e par append sera simplement stock\u00e9e dans la premi\u00e8re case libre : On constate une utilisation m\u00e9moire tr\u00e8s important pour juste un \u00e9l\u00e9ment suppl\u00e9mentaire ajout\u00e9...","title":"Le probl\u00e8me de la structure tableau"},{"location":"NSI/Terminale/C03/ListesChainees/#les-listes-chainees","text":"","title":"Les listes cha\u00een\u00e9es"},{"location":"NSI/Terminale/C03/ListesChainees/#construction-dune-liste-chainees","text":"Liste cha\u00een\u00e9e Une liste cha\u00een\u00e9e est une structure permettant d'impl\u00e9menter une liste, c'est-\u00e0-dire une s\u00e9quence finie de valeurs (de m\u00eame type ou non). Les \u00e9l\u00e9ments sont dits cha\u00een\u00e9s car \u00e0 chaque \u00e9l\u00e9ment est associ\u00e9 l'adresse m\u00e9moire de l'\u00e9l\u00e9ment suivant de la liste. Exemple On a repr\u00e9sent\u00e9 ici une liste cha\u00een\u00e9e de trois \u00e9l\u00e9ments : Le premier est \\(21\\) , et il pointe vers l'adresse m\u00e9moire du second ; Le deuxi\u00e8me \u00e9l\u00e9ment est \\(15\\) et il pointe vers l'adresse m\u00e9moire du troisi\u00e8me ; Le troisi\u00e8me \u00e9l\u00e9ment est \\(45\\) . Il ne pointe vers rien (l'adresse du suivant est None ). On a atteint la fin de la liste. Impl\u00e9mentation d'une liste cha\u00een\u00e9e en Python La m\u00e9thode classique pour impl\u00e9menter une liste cha\u00een\u00e9e est de construire une classe d'objets poss\u00e9dant deux attributs : un pour la valeur et un pour l' adresse du chainon suivant : 1 2 3 4 5 class Chainon : \"\"\"Chainon d'une liste chain\u00e9e\"\"\" def __init__ ( self , valeur , suivant ) : self . valeur = valeur self . suivant = suivant Une fois cette classe d\u00e9finie, la construction de la liste s'effectue de la mani\u00e8re suivante : pour une liste cha\u00een\u00e9e contenant un unique chainon : chaine = Chainon ( 35 , None ) pour une liste cha\u00een\u00e9e contenant plusieurs chainons : chaine = Chainon ( 21 , Chainon ( 15 , Chainon ( 45 , None ))) Ici, on a cr\u00e9\u00e9 une liste nomm\u00e9e chaine \u00e0 partir de trois objets de classe Chainon qu'on peut visualiser ainsi : Remarque Cette construction est une construction r\u00e9cursive bas\u00e9e sur des objets. Il aurait \u00e9t\u00e9 possioble d'utiliser des tuples ou des listes python, mais l'utilisation serait moins pratique : ( 21 ,( 15 , ( 45 , ( None )))) Affichage d'un objet Chainon Afin de repr\u00e9senter \u00e0 l'\u00e9cran notre objet Chainon , on impl\u00e9mente la m\u00e9thode __str__ ainsi : 1 2 3 4 5 6 7 8 9 10 11 class Chainon : \"\"\"Chainon d'une liste chain\u00e9e\"\"\" def __init__ ( self , valeur , suivant ) : self . valeur = valeur self . suivant = suivant def __str__ ( self ): if self . suivant == None : return f \" { self . valeur } -> None\" else : return f \" { self . valeur } -> { str ( self . suivant ) } \" Ainsi l'instruction print(chaine) affichera 21 -> 15 -> 45 -> None .","title":"Construction d'une liste cha\u00een\u00e9es"},{"location":"NSI/Terminale/C03/ListesChainees/#operations-sur-les-listes-chainees","text":"Longueur d'une liste cha\u00een\u00e9e Nous allons cr\u00e9er maintenant une fonction longueur qui calcule la longueur d'une liste cha\u00een\u00e9e telle que nous l'avons impl\u00e9ment\u00e9e. Cette fonction devra : renvoyer 0 si la liste est vide ; renvoyer le nombre d'\u00e9l\u00e9ments de la cha\u00eene sinon. Le plus simple est d'utiliser la r\u00e9cursivit\u00e9 : def longueur ( chaine ) : if chaine == None : return 0 else : return 1 + longueur ( chaine . suivant ) La complexit\u00e9 de cette fonction est directement proportionnelle \u00e0 la longueur de la liste : pour une liste de \\(1~000\\) \u00e9l\u00e9ments, la fonction effectuera : \\(1~000\\) comparaisons ; \\(1~000\\) additions ; \\(1~000\\) appels r\u00e9cursifs. On en conclut que la complexit\u00e9 en temps de cette fonction est en \\(\\mathbb{O}(n)\\) . Et en it\u00e9ratif ? def longueur ( chaine ) : n = 0 chainon = chaine while chainon is not None : n += 1 chainon = chainon . suivant return n Exercice 1 : n-i\u00e8me \u00e9l\u00e9ment Enonc\u00e9 Solution r\u00e9cursive Solution It\u00e9rative Cr\u00e9er une fonction n_ieme_element(chaine, n) qui renvoie la valeur du \\(n\\) -i\u00e8me \u00e9l\u00e9ment de la liste cha\u00een\u00e9e pass\u00e9e en argument. def n_ieme_element ( chaine , n ) : if chaine == None : raise IndexError ( \"Invalid index\" ) if n == 0 : return chaine . valeur else : return n_ieme_element ( chaine . suivant , n - 1 ) La question de la complexit\u00e9 est un peu plus subtile : dans un cas correct (l'indice n fourni corresond bien \u00e0 un \u00e9l\u00e9ment de la liste), le nombre d'op\u00e9rations est bien proportionnel \u00e0 n ; dans le cas o\u00f9 n est sup\u00e9rieur \u00e0 la longueur de la liste, par contre, on va parcourir la totalit\u00e9 de la liste avant de pouvoir signaler une erreur. Ce serait cependant une tr\u00e8s mauvaise id\u00e9e de calculer la longueur de la liste pour le comparer \u00e0 \\(n\\) , car le calcul de la longueur parcoure d\u00e9j\u00e0 toute la liste. Faire ce calcul en appel r\u00e9cursif g\u00e9n\u00e9rerait donc une complexit\u00e9 quadratique . On pourrait cependant encapsuler la fonction r\u00e9cursive dans une fonction dont l'objectif serait de v\u00e9rifier la valeur de l'indice avant d'effectuer les appels r\u00e9cursifs. Pire, dans le cas o\u00f9 l'indice pass\u00e9 est n\u00e9gatif, la liste cha\u00een\u00e9e sera elle aussi parcourue int\u00e9gralement avant de renvoyer une erreur d'indice. On peut cependant corriger cel\u00e0 par la ligne : if chaine == None or i < 0 : ... def n_ieme_elementI ( chaine , n ) : if n < 0 : raise IndexError ( \"Invalid index\" ) ni = 0 chainon = chaine while chainon != None and ni != n : ni += 1 chainon = chainon . suivant if chainon != None : return chainon . valeur else : raise IndexError ( \"Invalid index\" ) On retrouve en terme de complexit\u00e9 les m\u00eames \u00e9l\u00e9ments que pour la fonction r\u00e9cursive. Cependant les erreurs ainsi que les conditions de sorties sont plus complexes \u00e0 prendre en compte. Exercice 2 : Concat\u00e9nation de deux listes Enonc\u00e9 Solution r\u00e9cursive Solution It\u00e9rative Cr\u00e9er une fonction concatener(c1, c2) qui renvoie une liste cha\u00een\u00e9e obtenue par concat\u00e9nation de c1 et c2 . def concatener ( c1 , c2 ) : if c1 == None : return c2 else : return Chainon ( c1 . valeur , concatener ( c1 . suivant , c2 )) La complexit\u00e9 d\u00e9pend fortement de la longueur de la liste c1 . par contre elle ne d\u00e9pend pas de celle de c2 . Dans cette version, les chaines c1 et c2 ne sont pas modifi\u00e9e ! concatener renvoie une nouvelle liste cha\u00een\u00e9e qui a copi\u00e9 les valeurs de c1 avant de les lier \u00e0 celles de c2 . def concatenerI ( c1 , c2 ) : chainon = c1 while chainon . suivant != None : chainon = chainon . suivant chainon . suivant = c2 return c1 Attention ! Dans cette solution, c1 est modifi\u00e9e ! ET C'EST UNE TRES MAUVAISE IDEE Imaginons qu'on ex\u00e9cute deux fois la concat\u00e9nation concatenerI(c1, c2) , puis qu'on demande un affichage de c1 . La premi\u00e8re concat\u00e9nation va donner le sch\u00e9ma ci-dessus, la ch\u00e2ine c1 ayant pour dernier cha\u00eenon le dernier cha\u00eenon de c2 . A l'ex\u00e9cution de la deuxi\u00e8me concat\u00e9nation, il n'y aura pas de cr\u00e9ation de nouvelle cha\u00eene, mais simplement la modification du dernier cha\u00eenon de l'actuel c1 vers le premier \u00e9l\u00e9ment de c2 , soit... une boucle menant du dernier \u00e9l\u00e9ment de c2 vers le premier de c2 : La cha\u00eene obtenue ne poss\u00e8de plus de fin (jamais elle ne pointe vers None ). La m\u00e9thode __str__ effectuant un appel r\u00e9cursif dont le cas de base correspond au fait de pointer vers None , on aura alors une erreur de type RecursionError: maximum recursion depth exceeded , puisqu'il est devenu impossible de passer par le cas de base. Un cas limite : renverser la liste Comment faire pour renverser une liste cha\u00een\u00e9e ? Sachant que nous avons vu des proc\u00e9d\u00e9s r\u00e9cursif pour les questions pr\u00e9c\u00e9dentes, nous sommes tenter d'en utiliser un aussi pour ce cas, par exemple en s\u00e9lectionnant le premier cha\u00eenon et en le concat\u00e9nant \u00e0 la liste renvers\u00e9e de la suite de la cha\u00eene, Le cas de base \u00e9tant celui d'une liste vide, auquel cas on renvoie cette liste : def renverser ( chaine ) : if chaine == None : return None else : return concatener ( renverser ( chaine . suivant ), Chainon ( chaine . valeur , None )) Cependant cette solution n'est pas efficace ! En effet, \u00e0 chaque appel de renverser , on fait aussi appel \u00e0 la fonction concatener qui parcoure la totalit\u00e9 de la chaine, \u00e0 part un \u00e9l\u00e9ment. La complexit\u00e9 devient alors quadratique ! La r\u00e9cursivit\u00e9 n'est pas toujours la meilleure solution ! (mais parfois elle l'est quand m\u00eame !) On va don passer en it\u00e9ratif, surtourt qu'il est facile d'attacher un chainon en t\u00eate d'une chaine d\u00e9j\u00e0 consrtitu\u00e9e : def renverser ( chaine ) : reverse = None c = chaine while c != None : reverse = Chainon ( c . valeur , reverse ) c = c . suivant return reverse La complexit\u00e9 est celle du parcours d'une cha\u00eene compl\u00e8te, donc en \\(\\mathbb{O}(n)\\) .","title":"Op\u00e9rations sur les listes cha\u00een\u00e9es."},{"location":"NSI/Terminale/C03/ListesChainees/#modification-de-listes-chainees","text":"Pourquoi se casser la t\u00eate ? Eliminons tout de suite une possibilit\u00e9 : bien entendu, en Python , il est possible de modifier directement un attribut, donc la modification d'une valeur d'une liste cha\u00een\u00e9e est assez \u00e9vidente. Par exemple, les lignes suivantes : chaine = Chainon ( 21 , Chainon ( 15 , Chainon ( 45 , None ))) chaine . suivant . valeur = 33 modifient la valeur du deuxi\u00e8me \u00e9l\u00e9ment de la chaine, qui devient 21 -> 33 -> 45 -> None . Cependant, cette possibilit\u00e9 n'est pas toujours possible dans tous les langages , et de toutes fa\u00e7ons cette mani\u00e8re de modifier ne correspond pas \u00e0 la logique de construction d'une liste cha\u00een\u00e9e. On va donc pr\u00e9f\u00e9rer passer \u00e0 des modifications directe des cha\u00eenons. Exercice 3 : Insertion d'un chainon Enonc\u00e9 Solution Cr\u00e9er une fonction inserer(v, n, chaine) qui renvoie la liste chain\u00e9e dans laquelle on a ins\u00e9r\u00e9 ins\u00e8re l'\u00e9l\u00e9ment v \u00e0 la position n dans la liste chaine pass\u00e9e en argument. Le sch\u00e9ma suivant doit pouvoir vous aider \u00e7\u00e0 construire l'algorithme de cette fonction : def inserer ( v , n , chaine ) : if n < 0 : raise IndexError ( \"Invalid index\" ) if n == 0 or chaine == None : return Chainon ( v , chaine ) else : return Chainon ( chaine . valeur , inserer ( v , n - 1 , chaine . suivant )) Exercice 4 : Suppression d'un chainon Enonc\u00e9 Solution Cr\u00e9er une fonction supprime(n, chaine) qui supprime l'\u00e9l\u00e9ment \u00e0 la position n dans la liste pass\u00e9e en argument. Le sch\u00e9ma suivant doit pouvoir vous aider \u00e7\u00e0 construire l'algorithme de cette fonction : def supprimer ( n , chaine ) : if chaine == None or n < 0 : raise IndexError ( \"Invalid index\" ) if n == 0 : return chaine . suivant else : return Chainon ( chaine . valeur , supprimer ( n - 1 , chaine . suivant ))","title":"Modification de listes cha\u00een\u00e9es"},{"location":"NSI/Terminale/C03/ListesChainees/#quelques-exercices-supplementaires","text":"Nous voici avec une structure correcte, permettant de travailler correctement sur des listes chain\u00e9es. Nous allons maintenant augmenter notre potentiel d'action avec les listes cha\u00een\u00e9es : Exercice 5 : Cr\u00e9ation \u00e0 partir d'une liste Python Enonc\u00e9 Solutions Cr\u00e9er une fonction creer_depuis_tab(tab) qui cr\u00e9e une liste cha\u00een\u00e9e depuis un tableau donn\u00e9 en argument. Par exemple : creer_depuis_tab([12, 15, 17]) cr\u00e9e la liste cha\u00een\u00e9e 12 -> 15 -> 17 -> None ; creer_depuis_tab([]) cr\u00e9e un objet None ; creer_depuis_tab([42]) cr\u00e9e une liste cha\u00een\u00e9e 42 -> None . Il existe de nombreuses possibilit\u00e9s, et toutes ne sont pas \u00e9quivalentes en terme de complexit\u00e9 (la V4 ci-dessous est beaucoup moins efficace). It\u00e9rative Pythonesque avec reversed It\u00e9rative avec indices R\u00e9cursive avec slices def creer_depuis_tab ( tab ) : \"\"\"Version pythonesque avec reversed\"\"\" LC = None for e in reversed ( tab ) : LC = Chainon ( e , LC ) return LC def creer_depuis_tab ( tab ) : \"\"\"Version avec calcul de l'indice\"\"\" LC = None l = len ( tab ) for i in range ( len ( tab )): LC = Chainon ( tab [ l - 1 - i ], LC ) return LC def creer_depuis_tab ( tab ) : \"\"\"Version r\u00e9cursive\"\"\" if tab == [] : return None else : return Chainon ( tab [ 0 ], creer_depuis_tabV3 ( tab [ 1 :])) Exercice 6 : Chercher le nombre d'occurences Enonc\u00e9 Solution Cr\u00e9er une fonction occurences(valeur, chaine) qui renvoie le nombre d'occurence de valeur dans la liste cha\u00een\u00e9e chaine . Par exemple : occurences(12, chaine) devra renvoyer 3 si la cha\u00eene est 12 -> 35 -> 12 ->42 -> 12 ->35 -> None ; occurences(27,chaine) devra renvoyer 0 si la cha\u00eene est 12 -> 35 -> 12 ->42 -> 12 ->35 -> None ; occurences(42,chaine) devra renvoyer 1 si la cha\u00eene est 12 -> 35 -> 12 ->42 -> 12 ->35 -> None . A venir ! Exercice 7 : Trouver la premi\u00e8re occurence Enonc\u00e9 Solution Cr\u00e9er une fonction premiere_occurence(valeur, chaine) qui renvoie l'indice de la premi\u00e8re occurence de valeur dans la liste cha\u00een\u00e9e chaine . Si valeur n'est pas dans chaine , la fonction devra renvoyer -1 . Par exemple : premiere_occurences(12, chaine) devra renvoyer 0 si la cha\u00eene est 12 -> 35 -> 12 ->42 -> 12 ->35 -> None ; premiere_occurences(27,chaine) devra renvoyer -1 si la cha\u00eene est 12 -> 35 -> 12 ->42 -> 12 ->35 -> None ; premiere_occurences(42,chaine) devra renvoyer 3 si la cha\u00eene est 12 -> 35 -> 12 ->42 -> 12 ->35 -> None . A venir ! Exercice 8 : cha\u00eenes identiques Enonc\u00e9 Solution Cr\u00e9er une fonction identique(c1, c2) qui renvoie True si les deux cha\u00eenes contiennent les m\u00eames valeurs dans le m\u00eame ordre, et False sinon. A venir !","title":"Quelques exercices suppl\u00e9mentaires"},{"location":"NSI/Terminale/C03/ListesChainees/#encapsulation","text":"On va d\u00e9sormais encapsuler l'impl\u00e9mentation pr\u00e9c\u00e9dente dans une autre classe, nomm\u00e9e ListeC dont l'interface est la suivante : la construction d'un objet ListeC vide correspondre \u00e0 un objet None ; une m\u00e9thode is_empty doit renvoyer un bool\u00e9en correspondnat au statut vide ou non vide de la liste ; une m\u00e9thode push permet d'ajouter une valeur en t\u00eate de la liste ; la m\u00e9thode __str__ doit renvoyer une cha\u00eene correcte (telle que celle de la classe Chainon ) ; l'appel \u00e0 la fonction len doit renvoyer la longueur de la liste ; on doit pouvoir atteindre le i-\u00e8me \u00e9l\u00e9ment d'un objet lc par l'interm\u00e9diaire de lc[i] ; l'op\u00e9rateur + utilis\u00e9 entre deux objets de type ListeC doit renvoyer un nouvel objet cr\u00e9e par concat\u00e9nation. Ainsi, un utilisateur du module cr\u00e9e n'aura pas \u00e0 se pr\u00e9occuper des diff\u00e9rences d'impl\u00e9menations pr\u00e9sent\u00e9es dans la partie pr\u00e9c\u00e9dente : M\u00e9thode constructeur __init__ : Analyse Code Un objet ListeC ne contient qu'un seul attribut : la t\u00eate de la liste. Soit c'est un objet de type Chainon , soit c'est l'objet None . La m\u00e9thode __init__ ne doit donc qu'initialiser un attribut head \u00e0 la valeur None . 1 2 3 4 5 class ListeC : \"\"\"Classe permettant de repr\u00e9senter une liste chain\u00e9e, ou chaque chainon est un objet de classe Chainon\"\"\" def __init__ ( self ) : self . head = None M\u00e9thode is_empty : Analyse Code si la t\u00eate est de type None , on renvoie True , sinon False 1 2 3 4 5 6 7 8 class ListeC : \"\"\"Classe permettant de repr\u00e9senter une liste chain\u00e9e, ou chaque chainon est un objet de classe Chainon\"\"\" def __init__ ( self ) : self . head = None def is_empty ( self ) : return self . head == None M\u00e9thode push : Analyse Code Comme on l'a vu plusieurs fois, une liste chain\u00e9e se construit par ajouts successifs d'\u00e9l\u00e9ments en t\u00eate de la liste. 1 2 3 4 5 6 7 8 9 10 11 class ListeC : \"\"\"Classe permettant de repr\u00e9senter une liste chain\u00e9e, ou chaque chainon est un objet de classe Chainon\"\"\" def __init__ ( self ) : self . head = None def is_empty ( self ) : return self . head == None def push ( self , v ) : self . head = Chainon ( v , self . head ) M\u00e9thode __str__ : Analyse Code Rien de particulier, il suffit de renvoyer la cha\u00eene de caract\u00e8res correspondant \u00e0 la t\u00eate. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 class ListeC : \"\"\"Classe permettant de repr\u00e9senter une liste chain\u00e9e, ou chaque chainon est un objet de classe Chainon\"\"\" def __init__ ( self ) : self . head = None def is_empty ( self ) : return self . head == None def push ( self , v ) : self . head = Chainon ( v , self . head ) def __str__ ( self ) : return str ( self . head ) M\u00e9thode __len__ : Analyse Code La fonction built-in len fait appel \u00e0 la m\u00e9thode __len__ de l'objet pass\u00e9 en argument. Il suffit donc de cr\u00e9er une telle m\u00e9thode, en r\u00e9utilisant la fonction longueur d\u00e9j\u00e0 cr\u00e9e. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 class ListeC : \"\"\"Classe permettant de repr\u00e9senter une liste chain\u00e9e, ou chaque chainon est un objet de classe Chainon\"\"\" def __init__ ( self ) : self . head = None def is_empty ( self ) : return self . head == None def push ( self , v ) : self . head = Chainon ( v , self . head ) def __str__ ( self ) : return str ( self . head ) def __len__ ( self ) : if self . head == None : return 0 else : return longueur ( self . head ) Acc\u00e8s direct au i-\u00e8me \u00e9l\u00e9ment : Analyse Code Lorsqu'on veut faire appel aux op\u00e9rateurs [i] pour acc\u00e9der au i-\u00e8me \u00e9l\u00e9ment d'un objet d\u00e9j\u00e0 construit, python regarde si une m\u00e9thode __getitem__ a \u00e9t\u00e9 d\u00e9finie pour ce type d'objet. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 class ListeC : \"\"\"Classe permettant de repr\u00e9senter une liste chain\u00e9e, ou chaque chainon est un objet de classe Chainon\"\"\" def __init__ ( self ) : self . head = None def is_empty ( self ) : return self . head == None def push ( self , v ) : self . head = Chainon ( v , self . head ) def __str__ ( self ) : return str ( self . head ) def __len__ ( self ) : if self . head == None : return 0 else : return longueur ( self . head ) def __getitem__ ( self , i ) : return n_ieme_element ( self . head , i ) Utilisation de + Analyse Code Pour utiliser l'op\u00e9rateur + , il faut impl\u00e9menter une m\u00e9thode __add__ . Cette m\u00e9thode doit renvoyer un nouvel objet, donc son impl\u00e9mentation est un peu plus complexe. Par ailleurs, il faut lever une erreur dans le cas o\u00f9 l'objet pass\u00e9 en argument n'est pas de type ListeC . 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 class ListeC : \"\"\"Classe permettant de repr\u00e9senter une liste chain\u00e9e, ou chaque chainon est un objet de classe Chainon\"\"\" def __init__ ( self ) : self . head = None def is_empty ( self ) : return self . head == None def push ( self , v ) : self . head = Chainon ( v , self . head ) def __str__ ( self ) : return str ( self . head ) def __len__ ( self ) : if self . head == None : return 0 else : return longueur ( self . head ) def __getitem__ ( self , i ) : return n_ieme_element ( self . head , i ) def __add__ ( self , other ) : if not isinstance ( other , ListeC ) : raise TypeError ( f \"Unable to add ListeC object with { type ( other ) } object\" ) result = ListeC () result . head = concatener ( self . head , other . head ) return result Une fois cette classe impl\u00e9ment\u00e9e, on peut l'utiliser aussi simplement qu'un objet de type list de python : >>> l1 = ListeC () >>> l1 < __main__ . ListeC object at 0x033A8690 > >>> l1 . push ( 12 ) >>> l1 . push ( 15 ) >>> l1 . push ( 42 ) >>> print ( l1 ) 42 -> 15 -> 12 -> None >>> len ( l1 ) 3 >>> l1 . is_empty () False >>> l2 = ListeC () >>> l2 . push ( 43 ) >>> l2 . push ( 27 ) >>> l2 . push ( - 5 ) >>> print ( l1 + l2 ) 42 -> 15 -> 12 ->- 5 -> 27 -> 43 -> None >>> print ( l2 + l1 ) - 5 -> 27 -> 43 -> 42 -> 15 -> 12 -> None >>> l1 [ 2 ] 12 >>> l2 [ 0 ] - 5 Prolonger le travail Enonc\u00e9 Solution Ajouter \u00e0 la classe ListeC les m\u00e9thodes suivantes pop : qui supprime soit la t\u00eate de la liste si aucun argument n'est pass\u00e9 ( l1.pop() , soit l'\u00e9l\u00e9ment d'indice donn\u00e9 si un indice est pass\u00e9 en argument ( l1.pop(2) ) ; insert(v,i) qui ins\u00e8re dans la liste la valeur v \u00e0 la position i . A venir !","title":"Encapsulation"},{"location":"NSI/Terminale/C03/Piles_et_files/","text":"Piles et files D\u00e9finitions et exemples Piles D\u00e9finition Une pile ( stack en anglais) est une structure de donn\u00e9e permettant de stocker un ensemble d'objets tout en respectant certaines r\u00e8gles d'insertion et de d\u00e9l\u00e9tion : un objet est ajout\u00e9 toujours en haut de la pile ( empiler ); quand on supprime un objet, il s'agit toujours du dernier objet ajout\u00e9 ( d\u00e9piler ). On associe \u00e0 cette structure l'image d'une pile d'assiettes : Un tel type de structure est souvent appel\u00e9 : Dernier entr\u00e9, premier sorti ( DEPS ) en fran\u00e7ais ; Last in, first out ( LIFO ) en anglais. Interface Pour d\u00e9finir l'interface d'un objet de type pile , nous supposerons d'abord que les \u00e9l\u00e9ments de la pile sont tous du m\u00eame type (la pile est homog\u00e8ne ). Pour parler d'une pile d'\u00e9l\u00e9ments de type T , on utilisera la notation Pile[T] . L'interface sera simple puisque seulement 4 fonctions sont n\u00e9cessaires : cr\u00e9ation d'une pile vide, empiler ( push en anglais), d\u00e9piler ( pop en anglais), et tester la vacuit\u00e9 d'une pile. fonction description creer_pile() -> Pile[T] cr\u00e9e une pile vide est_vide(p : Pile[T]) -> bool renvoie True si l'objet p de type Pile[T] est vide, False sinon. empiler(e : T, p : Pile[T]) -> None ajoute l'\u00e9l\u00e9ment e de type T au sommet de la pile p . d\u00e9piler(p : Pile[T]) -> e : T retire et renvoie l'\u00e9l\u00e9ment e de type T situ\u00e9 au sommet de la pile p . Situations utilisant des piles Bouton retour dans un navigateur Pile d'appels d'une fonction r\u00e9cursive Fonction \u00ab Annuler la frappe \u00bb d'un traitement de texte Lors d'une navigation web, on utilise une pile pour stocker les diff\u00e9rentes pages visit\u00e9es les unes apr\u00e8s les autres. Le bouton de retour a pour fonction de d\u00e9piler la pile ainsi constitu\u00e9e. Par exemple : Une pile est cr\u00e9e lors des diff\u00e9rents appels r\u00e9cursifs d'une fonction, et cette pile est d\u00e9pil\u00e9e \u00e0 chaque retour de fonction. Par exemple, avec la fonction factorielle : De la m\u00eame mani\u00e8re que pour le bouton retour d'une page web, les modifications apport\u00e9es dans un traitement de texte sont stock\u00e9es dans une pile. L'appui sur Ctrl + Z a pour effet de d\u00e9piler, et donc de r\u00e9tablir le texte \u00e0 la situation pr\u00e9c\u00e9dente sauvegard\u00e9e dans la pile. Files D\u00e9finition Une file ( queue en anglais) est une structure de donn\u00e9e permettant de stocker un ensemble d'objets tout en respectant certaines r\u00e8gles d'insertion et de d\u00e9l\u00e9tion : un objet est ajout\u00e9 toujours au d\u00e9but de la file ( enfiler ); quand on supprime un objet, il s'agit toujours du dernier objet de la file ( d\u00e9filer ). On associe \u00e0 cette structure l'image d'une file de personnes faisant la queue : Une filer est particuli\u00e8rement adapt\u00e9e aux traitements s\u00e9quentiels . Un tel type de structure est souvent appel\u00e9 : Premier entr\u00e9, premier sorti ( PEPS ) en fran\u00e7ais ; First in, first out ( FIFO ) en anglais. Interface Pour d\u00e9finir l'interface d'un objet de type file , nous supposerons d'abord que les \u00e9l\u00e9ments de la file sont tous du m\u00eame type (la file est homog\u00e8ne ). Pour parler d'une file d'\u00e9l\u00e9ments de type T , on utilisera la notation File[T] . L'interface sera simple puisque seulement 4 fonctions sont n\u00e9cessaires : cr\u00e9ation d'une file vide, enfiler ( enqueue en anglais), d\u00e9filer ( dequeue nen aglais), et tester la vacuit\u00e9 d'une file. fonction description creer_file() -> File[T] cr\u00e9e une pile vide est_vide(f : File[T]) -> bool renvoie True si l'objet f de type File[T] est vide, False sinon. enfiler(e : T, f : File[T]) -> None ajoute l'\u00e9l\u00e9ment e de type T \u00e0 la fin de la file f . defiler(f : File[T]) -> e : T retire et renvoie l'\u00e9l\u00e9ment e de type T situ\u00e9 au d\u00e9but de la file f . Situations utilisants une file Jeu de Bataille Serveurs d'impressions M\u00e9moire tampon ( buffers ) Dans un jeu de bataille, chaque joueur poss\u00e8de une file de carte. On d\u00e9file chaque paquet, compare les cartes, et le vainqueur enfile les cartes r\u00e9colt\u00e9es dans son paquet, jusqu'\u00e0 ce qu'un des joueurs ait une file vide. Les serveurs d'impression traitent les requ\u00eates dans l'ordre dans lequel elles arrivent, et les ins\u00e8rent dans une file d'attente (dite aussi queue ou spool), lorsque d'autres travaux sont en ex\u00e9cution. Une m\u00e9moire tampon , ou buffer , est une zone de m\u00e9moire vive qui va \u00eatre utilis\u00e9e pour stocker des donn\u00e9es circulant entre deux p\u00e9riph\u00e9riques ne fonctionnant p\u00e2s \u00e0 la m\u00eame vitesse, par exemple entre la connexion internet et le flux vid\u00e9o : si la vitesse de connexion est sup\u00e9rieure au d\u00e9bit vid\u00e9o, le buffer va se remplir des donn\u00e9es vid\u00e9o, et le lecteur vid\u00e9o les lira dans leur ordre d'arriv\u00e9e (PEPS) ; si le lecteur vid\u00e9o constate une chute du d\u00e9bit - il n'a plus de donn\u00e9es \u00e0 lire, il va attendre que la file du buffer atteigne une certaine taille afin de relancer une lecture vid\u00e9o plus fluide - c'est le buffering . Impl\u00e9mentations d'une Pile A partir d'une liste python Impl\u00e9mentation \u00e0 partir du type list Enonc\u00e9 Une solution Compl\u00e9ter le code suivant afin qu'il corresponde \u00e0 l'interface d\u00e9finie pour les piles, en utilisant le type list de python: class Pile : def __init__ ( self ) : ... def est_vide ( self ) : ... def empiler ( self , v ) : ... def depiler ( self ) : ... class Pile : def __init__ ( self ) : self . p = [] def est_vide ( self ) : return self . p == [] def empiler ( self , v ) : self . p . append ( v ) def depiler ( self ) : return self . p . pop () Un code simple et efficace ? Certes le codage effectu\u00e9 est simple, et ne pr\u00e9sente aucune difficult\u00e9. Cependant certains m\u00e9canismes du type list en python sont cach\u00e9s, comme par exemple l' allocation dynamique de m\u00e9moire . Cette allocation se fait \u00e0 la cr\u00e9ation, puis quand la lite d\u00e9passe certaines valeurs (d\u00e9finies sp\u00e9cifiquement dans la doc : 0, 4, 8, 16, 25, 35, 46, 58, 72, 88... voir ici ), la r\u00e9servation m\u00e9moire pour la liste est augment\u00e9e puis la liste originelle est copi\u00e9e dans le nouvel emplacement. Cela g\u00e9n\u00e8re bien entendu une complexit\u00e9 en temps comme en m\u00e9moire inutile dans la plupart des cas. A partir d'une liste cha\u00een\u00e9e Une des possibilit\u00e9s les plus simple pour impl\u00e9menter une pile est d'utiliser les liste cha\u00een\u00e9e. En effet, dans une liste cha\u00een\u00e9e nous pouvons ins\u00e9rer et supprimer facilement la t\u00eate de la liste, ce qui correspondra au sommet de la pile, et nous n'aurons plus le probl\u00e8me d'agrandissement g\u00e9n\u00e9r\u00e9 par le type list de python. Impl\u00e9mentation par les listes cha\u00een\u00e9es Enonc\u00e9 Une solution Compl\u00e9ter le code suivant afin qu'il corresponde \u00e0 l'interface d\u00e9finie pour les piles : class Chainon : def __init__ ( self , valeur , suivant ) : self . valeur = valeur self . suivant = suivant class Pile : \"\"\"interface de pile\"\"\" def __init__ ( self ) : ... def est_vide ( self ) : ... def empiler ( self , v ) : ... def depiler ( self ) : ... A venir ! Impl\u00e9mentations d'une File Impl\u00e9mentation par une liste cha\u00een\u00e9e mutable Impl\u00e9mentation par liste cha\u00een\u00e9e mutable Bien que nous ayons vu qu'utiliser des listes mutables puisse \u00eatre parfois une mauvaise id\u00e9e , il est cependant possible de les utiliser, du moins dans une version adapt\u00e9e, afin de construire un objet correspondant \u00e0 l'interface d\u00e9finie pour les files. Pour cela il faudra utiliser deux attributs tete et queue , qui repr\u00e9senteront respectivement le chainon de d\u00e9but et le chainon de fin de la file. D\u00e9filer consistera \u00e0 changer la t\u00eate en sortant la valeur : Enfiler consistera \u00e0 changer la queue : Enonc\u00e9 Solution Compl\u00e9ter le code suivant pour qu'il respecte l'interface d\u00e9finie pour une file : class Chainon def __init__ ( self , valeur , suivant ) : self . valeur = valeur self . suivant = suivant class File : \"\"\"interface de file\"\"\" def __init__ ( self ) : self . tete = None self . queue = None def est_vide ( self ) : ... def enfiler ( self , v ) : ... def defiler ( self ) : ... A venir ! Impl\u00e9mentation par deux piles Une autre impl\u00e9mentation : Utiliser deux piles Une impl\u00e9mentation totalement diff\u00e9rente de la premi\u00e8re est d'utiliser deux piles, une pile d'entr\u00e9es et une pile de sorties. Le principe est celui d'un jeu de carte dans lequel il y a une d\u00e9fausse : Le paquet de carte principal est le paquet de sortie : c'est la pile de sortie . On tire une carte \u00e0 partir de cette pile. La d\u00e9fausse est compos\u00e9e de cartes jou\u00e9es face ouverte, pos\u00e9es sur le sommet du paquet de d\u00e9fausse. C'est la pile d'entr\u00e9es. Quand le paquet principal est vide, on prend la d\u00e9fausse et sans la m\u00e9langer on la retourne et elle prend la place du paquet principal. Enonc\u00e9 Solution Compl\u00e9ter le code suivant pour qu'il corresponde \u00e0 l'interface d'une file telle que nous l'avons d\u00e9fini plus haut : class File : def __init__ ( self ) : self . entrees = Pile () self . sorties = Pile () def est_vide ( self ) : ... def enfiler ( self , v ) : ... def defiler ( self ) : ... A venir ! Exercices Ajouter des m\u00e9thodes Enonc\u00e9 Solutions Compl\u00e9ter le code de la classe Pile construite \u00e0 partir d'une liste cha\u00een\u00e9e avec les m\u00e9thodes suivantes : Une m\u00e9thode consulter permettant de conna\u00eetre l'\u00e9l\u00e9ment au sommet de la pile sans le d\u00e9piler . Une m\u00e9thode vider permettant de vider la pile de ses \u00e9l\u00e9ments Une m\u00e9thode taille renvoyant la taille de la pile. Quelle est la complexit\u00e9 utilis\u00e9e ? A venir ! Am\u00e9liorer le calcul de la taille Enonc\u00e9 Solution Pour \u00e9viter le probl\u00e8me rencontr\u00e9 dans l'exercice pr\u00e9c\u00e9dent, nous allons modifier la structure de la classe Pile . Nous allons ajouter un attribut _taille \u00e0 la classe, qui contiendra en permanence la taille de la pile courante. Quelles m\u00e9thodes modifier ? Quelle est alors la complexit\u00e9 ? A venir Calculatrice \u00e0 notation polonaise invers\u00e9e La notation polonaie invers\u00e9e (NPI ou RPN en anglais) permet d'\u00e9crire de fa\u00e7on non ambigu\u00eb les formules arithm\u00e9tiques sans utiliser de parenth\u00e8ses . Par exemple, le calcul \\(((1 + 2) \\times 4) + 3\\) est not\u00e9 en NPI : \\[ 1~2~+~4~\\times~3~+ \\] Le calcul \\(((1 + 2) \\times 4) + 3\\) peut se lire intuitivement : je mets 1, ( \\(1\\) ) ; j'ajoute 2, ( \\(2 +\\) ) ; je multiplie par 4, ( \\(4 \\times\\) ) ; j'ajoute 3. ( \\(3 +\\) ). Ce qui donne la notation pr\u00e9c\u00e9dente. On peut tester ce calcul et cette notation sur le simulateur omega de la calculatrice Numworks . La NPI est dites invers\u00e9e car elle d\u00e9rive de la notation polonaise pr\u00e9sent\u00e9e en 1924 par le math\u00e9maticien polonais Jan \u0141ukasiewicz, et elle s\u2019en diff\u00e9rencie par l\u2019ordre des termes, les op\u00e9randes y \u00e9tant pr\u00e9sent\u00e9s avant les op\u00e9rateurs. La structure de calcul en NPI est utilise une pile de la mani\u00e8re suivante : quand on rencontre un nombre, on l'enpile ; quand on rencontre un op\u00e9rateur ( \\(+,~\\times~,-~,...\\) ) on d\u00e9pile les deux nombres au sommet de la pile et on effectue l'op\u00e9ration, le r\u00e9sultat \u00e9tant de nouveau empil\u00e9. Si le calcul est correctement \u00e9crit, il y a toujours au moins deux nombres dans la pile quand on rencontre un op\u00e9rateur, et il reste un seul et unique nombre dans cette pile quand l'expresion a \u00e9t\u00e9 enti\u00e8rement lue. Enonc\u00e9 Solution Cr\u00e9er une fonction NPI prenant en argument un calcul en NPI repr\u00e9sent\u00e9 sous la forme d'une cha\u00eene de caract\u00e8res dont les \u00e9lements (op\u00e9randes et op\u00e9rateurs) sont s\u00e9par\u00e9s d'un espace, et qui renvoie le r\u00e9sultat du calcul. A venir !","title":"Piles et files"},{"location":"NSI/Terminale/C03/Piles_et_files/#piles-et-files","text":"","title":"Piles et files"},{"location":"NSI/Terminale/C03/Piles_et_files/#definitions-et-exemples","text":"","title":"D\u00e9finitions et exemples"},{"location":"NSI/Terminale/C03/Piles_et_files/#piles","text":"D\u00e9finition Une pile ( stack en anglais) est une structure de donn\u00e9e permettant de stocker un ensemble d'objets tout en respectant certaines r\u00e8gles d'insertion et de d\u00e9l\u00e9tion : un objet est ajout\u00e9 toujours en haut de la pile ( empiler ); quand on supprime un objet, il s'agit toujours du dernier objet ajout\u00e9 ( d\u00e9piler ). On associe \u00e0 cette structure l'image d'une pile d'assiettes : Un tel type de structure est souvent appel\u00e9 : Dernier entr\u00e9, premier sorti ( DEPS ) en fran\u00e7ais ; Last in, first out ( LIFO ) en anglais. Interface Pour d\u00e9finir l'interface d'un objet de type pile , nous supposerons d'abord que les \u00e9l\u00e9ments de la pile sont tous du m\u00eame type (la pile est homog\u00e8ne ). Pour parler d'une pile d'\u00e9l\u00e9ments de type T , on utilisera la notation Pile[T] . L'interface sera simple puisque seulement 4 fonctions sont n\u00e9cessaires : cr\u00e9ation d'une pile vide, empiler ( push en anglais), d\u00e9piler ( pop en anglais), et tester la vacuit\u00e9 d'une pile. fonction description creer_pile() -> Pile[T] cr\u00e9e une pile vide est_vide(p : Pile[T]) -> bool renvoie True si l'objet p de type Pile[T] est vide, False sinon. empiler(e : T, p : Pile[T]) -> None ajoute l'\u00e9l\u00e9ment e de type T au sommet de la pile p . d\u00e9piler(p : Pile[T]) -> e : T retire et renvoie l'\u00e9l\u00e9ment e de type T situ\u00e9 au sommet de la pile p . Situations utilisant des piles Bouton retour dans un navigateur Pile d'appels d'une fonction r\u00e9cursive Fonction \u00ab Annuler la frappe \u00bb d'un traitement de texte Lors d'une navigation web, on utilise une pile pour stocker les diff\u00e9rentes pages visit\u00e9es les unes apr\u00e8s les autres. Le bouton de retour a pour fonction de d\u00e9piler la pile ainsi constitu\u00e9e. Par exemple : Une pile est cr\u00e9e lors des diff\u00e9rents appels r\u00e9cursifs d'une fonction, et cette pile est d\u00e9pil\u00e9e \u00e0 chaque retour de fonction. Par exemple, avec la fonction factorielle : De la m\u00eame mani\u00e8re que pour le bouton retour d'une page web, les modifications apport\u00e9es dans un traitement de texte sont stock\u00e9es dans une pile. L'appui sur Ctrl + Z a pour effet de d\u00e9piler, et donc de r\u00e9tablir le texte \u00e0 la situation pr\u00e9c\u00e9dente sauvegard\u00e9e dans la pile.","title":"Piles"},{"location":"NSI/Terminale/C03/Piles_et_files/#files","text":"D\u00e9finition Une file ( queue en anglais) est une structure de donn\u00e9e permettant de stocker un ensemble d'objets tout en respectant certaines r\u00e8gles d'insertion et de d\u00e9l\u00e9tion : un objet est ajout\u00e9 toujours au d\u00e9but de la file ( enfiler ); quand on supprime un objet, il s'agit toujours du dernier objet de la file ( d\u00e9filer ). On associe \u00e0 cette structure l'image d'une file de personnes faisant la queue : Une filer est particuli\u00e8rement adapt\u00e9e aux traitements s\u00e9quentiels . Un tel type de structure est souvent appel\u00e9 : Premier entr\u00e9, premier sorti ( PEPS ) en fran\u00e7ais ; First in, first out ( FIFO ) en anglais. Interface Pour d\u00e9finir l'interface d'un objet de type file , nous supposerons d'abord que les \u00e9l\u00e9ments de la file sont tous du m\u00eame type (la file est homog\u00e8ne ). Pour parler d'une file d'\u00e9l\u00e9ments de type T , on utilisera la notation File[T] . L'interface sera simple puisque seulement 4 fonctions sont n\u00e9cessaires : cr\u00e9ation d'une file vide, enfiler ( enqueue en anglais), d\u00e9filer ( dequeue nen aglais), et tester la vacuit\u00e9 d'une file. fonction description creer_file() -> File[T] cr\u00e9e une pile vide est_vide(f : File[T]) -> bool renvoie True si l'objet f de type File[T] est vide, False sinon. enfiler(e : T, f : File[T]) -> None ajoute l'\u00e9l\u00e9ment e de type T \u00e0 la fin de la file f . defiler(f : File[T]) -> e : T retire et renvoie l'\u00e9l\u00e9ment e de type T situ\u00e9 au d\u00e9but de la file f . Situations utilisants une file Jeu de Bataille Serveurs d'impressions M\u00e9moire tampon ( buffers ) Dans un jeu de bataille, chaque joueur poss\u00e8de une file de carte. On d\u00e9file chaque paquet, compare les cartes, et le vainqueur enfile les cartes r\u00e9colt\u00e9es dans son paquet, jusqu'\u00e0 ce qu'un des joueurs ait une file vide. Les serveurs d'impression traitent les requ\u00eates dans l'ordre dans lequel elles arrivent, et les ins\u00e8rent dans une file d'attente (dite aussi queue ou spool), lorsque d'autres travaux sont en ex\u00e9cution. Une m\u00e9moire tampon , ou buffer , est une zone de m\u00e9moire vive qui va \u00eatre utilis\u00e9e pour stocker des donn\u00e9es circulant entre deux p\u00e9riph\u00e9riques ne fonctionnant p\u00e2s \u00e0 la m\u00eame vitesse, par exemple entre la connexion internet et le flux vid\u00e9o : si la vitesse de connexion est sup\u00e9rieure au d\u00e9bit vid\u00e9o, le buffer va se remplir des donn\u00e9es vid\u00e9o, et le lecteur vid\u00e9o les lira dans leur ordre d'arriv\u00e9e (PEPS) ; si le lecteur vid\u00e9o constate une chute du d\u00e9bit - il n'a plus de donn\u00e9es \u00e0 lire, il va attendre que la file du buffer atteigne une certaine taille afin de relancer une lecture vid\u00e9o plus fluide - c'est le buffering .","title":"Files"},{"location":"NSI/Terminale/C03/Piles_et_files/#implementations-dune-pile","text":"","title":"Impl\u00e9mentations d'une Pile"},{"location":"NSI/Terminale/C03/Piles_et_files/#a-partir-dune-liste-python","text":"Impl\u00e9mentation \u00e0 partir du type list Enonc\u00e9 Une solution Compl\u00e9ter le code suivant afin qu'il corresponde \u00e0 l'interface d\u00e9finie pour les piles, en utilisant le type list de python: class Pile : def __init__ ( self ) : ... def est_vide ( self ) : ... def empiler ( self , v ) : ... def depiler ( self ) : ... class Pile : def __init__ ( self ) : self . p = [] def est_vide ( self ) : return self . p == [] def empiler ( self , v ) : self . p . append ( v ) def depiler ( self ) : return self . p . pop () Un code simple et efficace ? Certes le codage effectu\u00e9 est simple, et ne pr\u00e9sente aucune difficult\u00e9. Cependant certains m\u00e9canismes du type list en python sont cach\u00e9s, comme par exemple l' allocation dynamique de m\u00e9moire . Cette allocation se fait \u00e0 la cr\u00e9ation, puis quand la lite d\u00e9passe certaines valeurs (d\u00e9finies sp\u00e9cifiquement dans la doc : 0, 4, 8, 16, 25, 35, 46, 58, 72, 88... voir ici ), la r\u00e9servation m\u00e9moire pour la liste est augment\u00e9e puis la liste originelle est copi\u00e9e dans le nouvel emplacement. Cela g\u00e9n\u00e8re bien entendu une complexit\u00e9 en temps comme en m\u00e9moire inutile dans la plupart des cas.","title":"A partir d'une liste python"},{"location":"NSI/Terminale/C03/Piles_et_files/#a-partir-dune-liste-chainee","text":"Une des possibilit\u00e9s les plus simple pour impl\u00e9menter une pile est d'utiliser les liste cha\u00een\u00e9e. En effet, dans une liste cha\u00een\u00e9e nous pouvons ins\u00e9rer et supprimer facilement la t\u00eate de la liste, ce qui correspondra au sommet de la pile, et nous n'aurons plus le probl\u00e8me d'agrandissement g\u00e9n\u00e9r\u00e9 par le type list de python. Impl\u00e9mentation par les listes cha\u00een\u00e9es Enonc\u00e9 Une solution Compl\u00e9ter le code suivant afin qu'il corresponde \u00e0 l'interface d\u00e9finie pour les piles : class Chainon : def __init__ ( self , valeur , suivant ) : self . valeur = valeur self . suivant = suivant class Pile : \"\"\"interface de pile\"\"\" def __init__ ( self ) : ... def est_vide ( self ) : ... def empiler ( self , v ) : ... def depiler ( self ) : ... A venir !","title":"A partir d'une liste cha\u00een\u00e9e"},{"location":"NSI/Terminale/C03/Piles_et_files/#implementations-dune-file","text":"","title":"Impl\u00e9mentations d'une File"},{"location":"NSI/Terminale/C03/Piles_et_files/#implementation-par-une-liste-chainee-mutable","text":"Impl\u00e9mentation par liste cha\u00een\u00e9e mutable Bien que nous ayons vu qu'utiliser des listes mutables puisse \u00eatre parfois une mauvaise id\u00e9e , il est cependant possible de les utiliser, du moins dans une version adapt\u00e9e, afin de construire un objet correspondant \u00e0 l'interface d\u00e9finie pour les files. Pour cela il faudra utiliser deux attributs tete et queue , qui repr\u00e9senteront respectivement le chainon de d\u00e9but et le chainon de fin de la file. D\u00e9filer consistera \u00e0 changer la t\u00eate en sortant la valeur : Enfiler consistera \u00e0 changer la queue : Enonc\u00e9 Solution Compl\u00e9ter le code suivant pour qu'il respecte l'interface d\u00e9finie pour une file : class Chainon def __init__ ( self , valeur , suivant ) : self . valeur = valeur self . suivant = suivant class File : \"\"\"interface de file\"\"\" def __init__ ( self ) : self . tete = None self . queue = None def est_vide ( self ) : ... def enfiler ( self , v ) : ... def defiler ( self ) : ... A venir !","title":"Impl\u00e9mentation par une liste cha\u00een\u00e9e mutable"},{"location":"NSI/Terminale/C03/Piles_et_files/#implementation-par-deux-piles","text":"Une autre impl\u00e9mentation : Utiliser deux piles Une impl\u00e9mentation totalement diff\u00e9rente de la premi\u00e8re est d'utiliser deux piles, une pile d'entr\u00e9es et une pile de sorties. Le principe est celui d'un jeu de carte dans lequel il y a une d\u00e9fausse : Le paquet de carte principal est le paquet de sortie : c'est la pile de sortie . On tire une carte \u00e0 partir de cette pile. La d\u00e9fausse est compos\u00e9e de cartes jou\u00e9es face ouverte, pos\u00e9es sur le sommet du paquet de d\u00e9fausse. C'est la pile d'entr\u00e9es. Quand le paquet principal est vide, on prend la d\u00e9fausse et sans la m\u00e9langer on la retourne et elle prend la place du paquet principal. Enonc\u00e9 Solution Compl\u00e9ter le code suivant pour qu'il corresponde \u00e0 l'interface d'une file telle que nous l'avons d\u00e9fini plus haut : class File : def __init__ ( self ) : self . entrees = Pile () self . sorties = Pile () def est_vide ( self ) : ... def enfiler ( self , v ) : ... def defiler ( self ) : ... A venir !","title":"Impl\u00e9mentation par deux piles"},{"location":"NSI/Terminale/C03/Piles_et_files/#exercices","text":"Ajouter des m\u00e9thodes Enonc\u00e9 Solutions Compl\u00e9ter le code de la classe Pile construite \u00e0 partir d'une liste cha\u00een\u00e9e avec les m\u00e9thodes suivantes : Une m\u00e9thode consulter permettant de conna\u00eetre l'\u00e9l\u00e9ment au sommet de la pile sans le d\u00e9piler . Une m\u00e9thode vider permettant de vider la pile de ses \u00e9l\u00e9ments Une m\u00e9thode taille renvoyant la taille de la pile. Quelle est la complexit\u00e9 utilis\u00e9e ? A venir ! Am\u00e9liorer le calcul de la taille Enonc\u00e9 Solution Pour \u00e9viter le probl\u00e8me rencontr\u00e9 dans l'exercice pr\u00e9c\u00e9dent, nous allons modifier la structure de la classe Pile . Nous allons ajouter un attribut _taille \u00e0 la classe, qui contiendra en permanence la taille de la pile courante. Quelles m\u00e9thodes modifier ? Quelle est alors la complexit\u00e9 ? A venir Calculatrice \u00e0 notation polonaise invers\u00e9e La notation polonaie invers\u00e9e (NPI ou RPN en anglais) permet d'\u00e9crire de fa\u00e7on non ambigu\u00eb les formules arithm\u00e9tiques sans utiliser de parenth\u00e8ses . Par exemple, le calcul \\(((1 + 2) \\times 4) + 3\\) est not\u00e9 en NPI : \\[ 1~2~+~4~\\times~3~+ \\] Le calcul \\(((1 + 2) \\times 4) + 3\\) peut se lire intuitivement : je mets 1, ( \\(1\\) ) ; j'ajoute 2, ( \\(2 +\\) ) ; je multiplie par 4, ( \\(4 \\times\\) ) ; j'ajoute 3. ( \\(3 +\\) ). Ce qui donne la notation pr\u00e9c\u00e9dente. On peut tester ce calcul et cette notation sur le simulateur omega de la calculatrice Numworks . La NPI est dites invers\u00e9e car elle d\u00e9rive de la notation polonaise pr\u00e9sent\u00e9e en 1924 par le math\u00e9maticien polonais Jan \u0141ukasiewicz, et elle s\u2019en diff\u00e9rencie par l\u2019ordre des termes, les op\u00e9randes y \u00e9tant pr\u00e9sent\u00e9s avant les op\u00e9rateurs. La structure de calcul en NPI est utilise une pile de la mani\u00e8re suivante : quand on rencontre un nombre, on l'enpile ; quand on rencontre un op\u00e9rateur ( \\(+,~\\times~,-~,...\\) ) on d\u00e9pile les deux nombres au sommet de la pile et on effectue l'op\u00e9ration, le r\u00e9sultat \u00e9tant de nouveau empil\u00e9. Si le calcul est correctement \u00e9crit, il y a toujours au moins deux nombres dans la pile quand on rencontre un op\u00e9rateur, et il reste un seul et unique nombre dans cette pile quand l'expresion a \u00e9t\u00e9 enti\u00e8rement lue. Enonc\u00e9 Solution Cr\u00e9er une fonction NPI prenant en argument un calcul en NPI repr\u00e9sent\u00e9 sous la forme d'une cha\u00eene de caract\u00e8res dont les \u00e9lements (op\u00e9randes et op\u00e9rateurs) sont s\u00e9par\u00e9s d'un espace, et qui renvoie le r\u00e9sultat du calcul. A venir !","title":"Exercices"},{"location":"NSI/Terminale/C03/ToursHanoi/","text":"","title":"TP : Tours de Hano\u00ef"},{"location":"NSI/Terminale/C04/BasesSQL1/","text":"Commandes de base en SQL : cr\u00e9ations de tables et types de donn\u00e9es Une utilisation efficace des bases de donn\u00e9es relationnelles n'est r\u00e9alisable qu'avec un SGBDR (Syst\u00e8me de Gestion de Bases d Donn\u00e9es Relationnelles), c'esst-\u00e0-dire un logiciel offrant : la d\u00e9finition des donn\u00e9es sous forme de relations ; la manipulation des donn\u00e9es par un langage d\u00e9claratif ; l\u2019administration des donn\u00e9es. Dans ce chapitre, nous nous contenterons d'utiliser de mani\u00e8re sommaire des fonctionnalit\u00e9s de SGBDR offertes : soit par les notebooks Capytale ; soit par le logiciel portable DB Browser for SQLite ; soit par l'interm\u00e9diaire de modules python. Nous verrons dans un chapitre post-\u00e9preuve les SGBDR un peu plus en d\u00e9tail. Pour l'instant nous nous contenterons des fonctionnalit\u00e9s de base du langage SQL Du mod\u00e8le relationnel \u00e0 la base de donn\u00e9e : une premi\u00e8re approche SQL ( Structured Query Language ) est directement inspir\u00e9 du mod\u00e8le relationnel d\u00e9fini dans la partie pr\u00e9c\u00e9dente . Ce langage est standardis\u00e9 par la norme ISO/IEC 9075 , dont la derni\u00e8re version date de 2016 . La syntaxe du SQL est volontairement verbeuse et proche de l'anglais standard. Nous allons montrer dans les exemples suivants la cr\u00e9ation d'une table, l'insertion d'\u00e9l\u00e9ments, et quelques requ\u00eates simples sur cette base de donn\u00e9e. Une premi\u00e8re approche du SQL Rendez-vous dans le bac-\u00e0-sable SQL (Code 4df6-948322 ) sur Capytale. Ex\u00e9cutez les 4 premi\u00e8res cellules. Ex\u00e9cutez la cinqui\u00e8me. Quel est le r\u00e9sultat fournit par cette requ\u00eate ? Ex\u00e9cutez la sixi\u00e8me. Quel est le r\u00e9sultat fournit par cette requ\u00eate ? Ajoutez \u00e0 la base de donn\u00e9es l'entit\u00e9 suivante : ('Brochen', 'Charles', 'charles.brochen@pontrieux.fr', '22260', '13 Rue de Pen Fantan, Pontrieux', '2021-10-11', '012345678910113') Que se passe-t-il ? Pourquoi ? Ajoutez \u00e0 la base de donn\u00e9es l'entit\u00e9 suivante : ('Pavie', 'Auguste', 'auguste.pavie@ggp.fr', '22200', '13 rue Anatole Le Braz, Guingamp', '2021-11-09', '012345678910110') Que se passe-t-il ? Pourquoi ? Ex\u00e9cutez maintenant une requ\u00eate afin de r\u00e9cup\u00e9rer une table contenant les emails et code postaux des usagers dont la date d'inscription est le 10 Novembre 2021. Exemple : Cr\u00e9ation de la table usager Les lignes de code SQL suivantes permettent la cr\u00e9ation d'une table usager , qui correspond globalement \u00e0 la relation Usager telle que d\u00e9finie par le sch\u00e9ma : Usager(nom String , pr\u00e9nom String , email String , cp String , adresse String , inscription Date , code_barre String )NAVCAM CREATE TABLE usager ( nom VARCHAR ( 90 ), prenom VARCHAR ( 90 ), email VARCHAR ( 60 ), cp VARCHAR ( 5 ), adresse VARCHAR ( 90 ), inscription DATE , code_barre CHAR ( 15 ) PRIMARY KEY ); On envoie ici au SGBD un ordre SQL de cr\u00e9ation de table, par l'interm\u00e9diare de la commande CREATE TABLE . Le nom de la table sera usager . Cette table contiendra des colonnes (ou champs ) qui correspondent aux attributs de la relation. La premi\u00e8re colonne nom est d\u00e9finie comme \u00e9tant du type VARCHAR , c'est-\u00e0-dire cha\u00eene de caract\u00e8re, avec une contrainte de longueur maximale de 90 caract\u00e8res. Il en est de m\u00eame pour les 5 premi\u00e8res colonnes, avec diff\u00e9rentes contraintes de longueur. La colonne inscription est d\u00e9finie comme \u00e9tant du type DATE . La derni\u00e8re colonne code_barre est d\u00e9finie comme \u00e9tant du type VARCHAR de longueur maximale 15, auquel on adjoint la contrainte PRIMARY KEY , qui indique simplement qu'il s'agit bien de la cl\u00e9 primaire de la relation. On remarque que l'ordre se termine par un ; . SQL et case des caract\u00e8res SQL est insensible \u00e0 la casse . Il aurait \u00e9t\u00e9 tout aussi efficace d'\u00e9crire create table ou CrEaTE tABlE . De fait certaines r\u00e8gles de bonnes pratiques sont \u00e0 suivre : les mots r\u00e9serv\u00e9s de SQL sont \u00e9crits en majuscules ; les attributs sont \u00e9crits en minuscules , ainsi que les noms de tables 1 ; les noms d'attributs et de tables ne pouvant contenir d'espaces, ceux-ci sont remplac\u00e9s par le caract\u00e8re _ ( underscore ). les noms de table sont \u00e9crits au singulier. Exemple : insertions de lignes Les lignes SQL suivantes permettent l'insertion de trois lignes dans la table usager , qui correspondent \u00e0 trois entit\u00e9s de la relation Usager . INSERT INTO usager VALUES ( 'Pavie' , 'Auguste' , 'auguste.pavie@ggp.fr' , '22200' , '13 rue Anatole Le Braz, Guingamp' , '2021-11-09' , '012345678910111' ), ( 'Prevert' , 'Jacques' , 'jacques.prevert@ggp.fr' , '22200' , '58 Rue de la Trinit\u00e9, Guingamp' , '2021-11-10' , '012345678910112' ), ( 'Camus' , 'Albert' , 'albert.camus@grace' , '22205' , '2 Rue de Kerpaour, Gr\u00e2ces' , '2021-10-09' , '012345678910113' ) ; Chacune des lignes est un tuple, chaque composante correspondant \u00e0 la colonne d\u00e9finie dans l'ordre de cr\u00e9ation de table, dans l'ordre de d\u00e9finition (NB : il existe un moyen d'\u00eatre plus explicite et de s'affranchir de l'ordre , que nous verrons plus tard). Vous pouvez constater que dans la troisi\u00e8me ligne, l'email n'est pas correctement \u00e9crit. Nous n'avons pour l'instant pas mis de contraintes suppl\u00e9mentaires sur le champ email , donc le SGBD acceptera cette entr\u00e9e comme correcte. Exemple : Premi\u00e8re requ\u00eate Nous allons maintenant interroger cette table par l'interm\u00e9diaire d'une requ\u00eate ( query en anglais) : SELECT nom , prenom FROM usager ; Cette requ\u00eate renvoie le r\u00e9sultat suivant : nom prenom Pavie Auguste Prevert Jacques Camus Albert c'est-\u00e0-dire une table avec les attributs nom et prenom . Diff\u00e9rences entre mod\u00e8le relationnel et SQL Formellement, SQL n'est pas aussi strict que le mod\u00e8le relationnel. En effet une table ne doit pas obligatoirement poss\u00e9der une cl\u00e9 primaire . La cons\u00e9quence directe de ce choix est une violation de la contrainte de relation , et il est tout \u00e0 fait possible d'avoir des doublons dans une table, ce qui sera tol\u00e9r\u00e9 par SQL. Mais c'est une mauvaise pratique ! Types de donn\u00e9es en SQL Selon le SGBD utilis\u00e9, certaines libert\u00e9s sont prises par rapport aux standards \u00e9dict\u00e9s par l'ISO. On peut n\u00e9anmoins d\u00e9gager des constantes dans les diff\u00e9rents types utilis\u00e9s Types num\u00e9riques Types num\u00e9riques De mani\u00e8re g\u00e9n\u00e9rale, le standard SQL d\u00e9finit des types num\u00e9riques repr\u00e9sentants de mani\u00e8re exacte ou approch\u00e9e . nom du type exact/approch\u00e9 description SMALLINT exact Entiers sign\u00e9s sur 16 bits ( \\(-32~768\\) \u00e0 \\(32~768\\) ) INT ou INTEGER exact Entiers sign\u00e9s sur 32 bits ( \\(-2~147~483~647\\) \u00e0 \\(2~147~483~647\\) ) BIGINT exact Entiers sign\u00e9s sur 64 bits ( \\(\\simeq -9\\times 10^{18}\\) \u00e0 \\(\\simeq 9\\times 10^{18}\\) ) DECIMAL(t,f) exact D\u00e9cimal sign\u00e9 de \\(t\\) chiffres dont \\(f\\) apr\u00e8s la virgule REAL approch\u00e9 Flottant sur 32 bits ( \\(-3,40\\times 10^{38}\\) \u00e0 \\(3,40\\times 10^{38}\\) ) DOUBLE PRECISION approch\u00e9 Flottant sur 64 bits ( \\(-1,79\\times 10^{308}\\) \u00e0 \\(1,79\\times 10^{308}\\) ) On peut noter le cas particulier du type DECIMAL(t,f) , qui permet du calcul en valeur exacte, par exemple sur des sommes d'argent. Par exemple, l'utilisation du type DECIMAL(5,2 permettra de travailler avec des sommes de \\(-999,99\\) \u20ac \u00e0 \\(999,99\\) \u20ac. Types textes Types textes En SQL, les cha\u00eenes de caract\u00e8res sont d\u00e9limit\u00e9es par des guillemets simples ' . Il est possible d' \u00e9chapper un guillemet simple en le doublant, comme par exemple dans 'n''oubliez pas d''\u00e9chapper' . Il est possible d'ins\u00e9rer un caract\u00e8re retour chariot dans une cha\u00eene pour avoir des cha\u00eenes multilignes. nom du type description CHAR(n) Cha\u00eene d'exactement \\(n\\) caract\u00e8res VARCHAR(n) Cha\u00eene d'au plus \\(n\\) caract\u00e8res TEXT Cha\u00eene de taille quelconque La taille maximale d\u00e9pend du SGBD, mais tous supportent au moins \\(8~000\\) caract\u00e8res. La valeur minimale pour \\(n\\) est 1. Pour le type CHAR(n) , si la cha\u00eene stock\u00e9e est de longueur inf\u00e9rieure \u00e0 \\(n\\) , on compl\u00e8te la cha\u00eene \u00e0 droite par le nombre d'espaces n\u00e9cesaires. Le type TEXT est en fait un type VARCHAR de la dimension maximale support\u00e9e par le SGBD. Types bool\u00e9ens Type Bool\u00e9en Selon les SGBD, le type bool\u00e9en est in\u00e9galement support\u00e9. Dans notre cas cette ann\u00e9e, on supposera qu'il l'est correctement (mais il existe de nombreuses possibilit\u00e9s pour le simuler, par exemple avec un type SMALLINT o\u00f9 \\(0\\) repr\u00e9sente False et le reste True ). Types temporels Types temporels Comme d\u00e9j\u00e0 \u00e9voqu\u00e9 dans la partie pr\u00e9c\u00e9dente, les types temporels repr\u00e9sentent parfois un cauchemar pour les programmeur\u00d7s... Nous nous contenterons ici d'aborder de mani\u00e8re tr\u00e8s superficielle ces types : nom du type description DATE Une date au format 'AAAA-MM-JJ' TIME Une heure au format 'hh:mm:ss' TIMESTAMP Un instant au format 'AAAA-MM-JJ hh:mm:ss' Une propri\u00e9t\u00e9 int\u00e9ressante du type DATE est qu'il supporte l'addition correctement. si d est du type DATE , d+7 produira une date correspondante \u00e0 7 jours apr\u00e8s d , en changeant jours, mois et ann\u00e9es correctement. Type NULL Une valeur NULL existe en SQL, et correspond \u00e0 l'absence de donn\u00e9e. Elle s'utilise comme la valeur None en Python. Elle est juste interdite pour les cl\u00e9s primaires . Il est possible de tester si une valeur est nulle ou non gr\u00e2ce aux commandes IS NULL ou IS NOT NULL . Cr\u00e9ations et suppressions de tables Cr\u00e9ation de tables Cr\u00e9ation de tables La cr\u00e9ation d'une table se fait par l'interm\u00e9diaire de la commande suivante : CREATE TABLE nom_table ( attribut_1 domaine_1 contrainte_1_1 contrainte_1_2 ..., attribut_2 domaine_2 contrainte_2_1 contrainte_2_2 ..., ..., attribut_n domaine_n contrainte_n_1 ..., contrainte_globale_1 , ..., contrainte_globale_n ); Une d\u00e9finition d'attributs consiste en : la donn\u00e9e d'un nom d'attribut (obligatoire) ; la donn\u00e9e d'un domaine (obligatoire) ; la donn\u00e9e de contraintes sur cet attribut (optionnel). Une contrainte qui porterait sur plusieurs attributs (par exemple une d\u00e9finition de cl\u00e9 primaire sur plusieurs attributs) est report\u00e9e en fin de d\u00e9finition , avant la parenth\u00e8se fermante. Exemple avec cl\u00e9 primaire simple La relation Livre suivante peut \u00eatre cr\u00e9e en SQL par la commande suivante : CREATE TABLE Livre ( titre VARCHAR ( 200 ), editeur VARCHAR ( 50 ), annee SMALLINT , ISBN CHAR ( 14 ) PRIMARY KEY ); On remarque l'utilisation de 14 caract\u00e8res exactement pour l'ISBN. Ex\u00e9cution de code Dans le bac \u00e0 sable SQL, cr\u00e9er la table Livre . Exemple avec cl\u00e9 primaire et cl\u00e9s \u00e9trang\u00e8res Maintenant que nous avons cr\u00e9e les tables Usager et Livre , nous pouvons cr\u00e9er la table Emprunt telle que d\u00e9finie dans le sch\u00e9ma CREATE TABLE Emprunt ( code_barre CHAR ( 15 ) REFERENCES usager ( code_barre ), ISBN CHAR ( 14 ) PRIMARY KEY REFERENCES Livre ( ISBN ), retour DATE ); Cr\u00e9ation de code Cr\u00e9er le code SQL n\u00e9cessaire pour obtenir la table Auteur correspondant \u00e0 la relation Exemple de cr\u00e9ation de cl\u00e9 primaire avec de multiples attributs Pour la table Auteur_de d\u00e9finie par , on peut utiliser le code suivant : CREATE TABLE Auteur_de ( idA INT REFERENCES Auteur ( idA ), ISBN REFERENCES Livre ( ISBN ), PRIMARY KEY ( ida , ISBN )); Suppressions de tables Suppression de tables Pour supprimer une table, il suffit d'utiliser : DROP TABLE nom_de_la_table ; Attention toutefois, il n'est pas possible de supprimer une table si elle sert de r\u00e9f\u00e9rence pour une cl\u00e9 \u00e9trang\u00e8re ! Cela violerait une contrainte de r\u00e9f\u00e9rence . Nouvelles Contraintes d'int\u00e9grit\u00e9s Nous avons vu l'utilisation de PRIMARY KEY et REFERENCES , qui permettent de d\u00e9finir les contraintes de relation et de r\u00e9f\u00e9rences. Il est possible de rajouter en SQL d'autres types de contraintes. Contraintes d'unicit\u00e9 et de non-nullit\u00e9 Entre autres : il est possible de pr\u00e9ciser qu'un attribut (une colonne en langage SQL) ne peut \u00eatre vide, en ajoutant la contrainte NOT NULL ; de m\u00eame il est possible de pr\u00e9ciser qu'un attribut ne peut exister en doublon, en ajoutant la contrainte UNIQUE . Ainsi, la table Usager peut \u00eatre red\u00e9finie par : CREATE TABLE usager ( nom VARCHAR ( 90 ) NOT NULL , prenom VARCHAR ( 90 ) NOT NULL , email VARCHAR ( 60 ) NOT NULL UNIQUE , cp VARCHAR ( 5 ) NOT NULL , adresse VARCHAR ( 90 ), inscription DATE NOT NULL , code_barre CHAR ( 15 ) PRIMARY KEY ); Ainsi red\u00e9finie, tous les attributs sauf l'adresse doivent \u00eatre renseign\u00e9s (la cl\u00e9 primaire ne devant pas \u00eatre vide par nature). De plus l'email ne peut \u00eatre qu'unique (ce qui risque de poser des probl\u00e8mes pour certains couples ou pour des inscriptions d'enfants avec le email de leur parent). Cl\u00e9 primaire et auto-incr\u00e9mentation Pour les cl\u00e9 primaires num\u00e9riques et correspondantes au type INTEGER 2 , il est possible de ne pas avoir \u00e0 saisir \u00e0 la main cette valeur. Ainsi, \u00e0 chaque ajout d'une ligne (donc d'une entit\u00e9 ) dans la table, une nouvelle valeur de cl\u00e9 parmi celles disponibles sera automatiquement fournie. Par exemple pour la table Auteur : CREATE TABLE Auteur ( nom VARCHAR ( 90 ) NOT NULL , prenom VARCHAR ( 90 ) NOT NULL , idA INTEGER PRIMARY KEY ); Dans ce cas, l'insertion sera faites avec une structure d'entit\u00e9 plus sp\u00e9cifique : INSERT INTO Auteur ( nom , prenom ) VALUES ( 'Tolkien' , 'JRR' ), ( 'Dick' , 'Philip K.' ), ( 'Adams' , 'Douglas' ); On constate alors par la requ\u00eate suivante la bonne insertion du champ idA : SELECT * FROM Auteur ; Par d\u00e9faut l'incr\u00e9mentation commence \u00e0 1. Auto-incr\u00e9ment -> Vieille version non viable en SQLite Pour les cl\u00e9 primaires num\u00e9riques , il est possible d'ajouter la contrainte d' auto-incr\u00e9mentation de cet identifiant. Ainsi, \u00e0 chaque ajout d'une ligne (donc d'une entit\u00e9 ) dans la table, une nouvelle valeur de cl\u00e9 sera automatiquement fournie. Par exemple pour la table Auteur : CREATE TABLE Auteur ( nom VARCHAR ( 90 ) NOT NULL , prenom VARCHAR ( 90 ) NOT NULL , idA INTEGER PRIMARY KEY AUTO_INCREMENT ); Par d\u00e9faut l'incr\u00e9mentation commence \u00e0 1. Contraintes sp\u00e9cifiques Il est aussi possible de placer certaines contraintes sp\u00e9cifiques lors de la cr\u00e9ation d'une table, gr\u00e2ce au mot cl\u00e9 CHECK suivi d'une formule bool\u00e9enne. Par exemple, si on souhaite introduire les ann\u00e9es de naissance et de d\u00e9c\u00e8s des auteurs, il est possible d'utiliser l'instruction suivante : CREATE TABLE Auteur ( nom VARCHAR ( 90 ) NOT NULL , prenom VARCHAR ( 90 ) NOT NULL , idA INTEGER PRIMARY KEY , naissance SMALLINT , deces SMALLINT , CHECK ( naissance IS NULL OR deces IS NULL OR naissance < deces ) ); Ainsi, on v\u00e9rifie qu'il n'y a pas d'erreurs sur une date de naissance post\u00e9rieure \u00e0 une date de d\u00e9c\u00e8s. On notera que cette contrainte s'\u00e9crit directement apr\u00e8s la derni\u00e8re d\u00e9finition d'attributs et que l'expression bool\u00e9enne est entre parenth\u00e8ses. Mise \u00e0 jour des tables Dans le bac \u00e0 sable, mettre \u00e0 jour les tables afin qu'elles correspondent aux derni\u00e8res instructions donn\u00e9es. Insertions de donn\u00e9es dans une table existante. Insertion de donn\u00e9es Pour ins\u00e9rer des donn\u00e9es dans une table existante, on utilise l'instruction \u00ccNSERT INTO . Il existe deux possibilit\u00e9s pour ins\u00e9rer des donn\u00e9es : En ins\u00e9rant les valeurs sans pr\u00e9ciser le nom des colonnes : INSERT INTO nom_table VALUES ( valeur1 , valeur2 , ..., valeurn ); les valeurs seront ins\u00e9r\u00e9es dans l'ordre d\u00e9fini lors de la cr\u00e9ation de la table. En ins\u00e9rant les valeurs en pr\u00e9cisant les colonnes concern\u00e9es : INSERT INTO nom_table ( attribut1 , attribut3 ) VALUES ( valeur1 , valeur3 ); Ici les valeurs ne seront ins\u00e9r\u00e9es que dans les colonnes qui correspondent au nom donn\u00e9. Exemple d'insertions Insertion compl\u00e8te : INSERT INTO Livre VALUES ( \"Dune\" , \"Pocket\" , 2021 , \"978-2266320542\" ); Les informations fournies seront ins\u00e9r\u00e9es dans l'ordre titre , \u00e9diteur , ann\u00e9e et \u00ccSBN . Insertion selon les colonnes : INSERT INTO Livre ( ISBN , titre ) VALUES ( \"978-2070319015\" , \"H2G2, tome 1 : Le Guide du voyageur galactique \" ); Seules les colonnes ISBN et titre sont renseign\u00e9es. les autres seront mises \u00e0 une valeur NULL . Warning Il est \u00e0 noter que les contraintes d'int\u00e9grit\u00e9s sont v\u00e9rifi\u00e9es lors de l'insertion. Une instruction du type : INSERT INTO Auteur ( nom , prenom , naissance , deces ) VALUES ( \"ADAMS\" , \"Douglas\" , 2001 , 1952 ); donnera une erreur par violation d'int\u00e9grit\u00e9 3 , la date de naissance \u00e9tant sup\u00e9rieure \u00e0 la date de d\u00e9c\u00e8s. Exercices Exercice 1 Enonc\u00e9 Solution Reprendre l'\u00e9noonc\u00e9 de l'exercice 1 de la fiche mod\u00e8le relationnel et donner l'instruction SQL permettant de cr\u00e9er la table correspondante. A venir ! Exercice 2 Enonc\u00e9 Solution Reprendre l'\u00e9noonc\u00e9 de l'exercice 2 de la fiche mod\u00e8le relationnel et donner l'instruction SQL permettant de cr\u00e9er les tables correspondantes. A venir ! Exercice 2 Enonc\u00e9 Solution Reprendre l'\u00e9noonc\u00e9 de l'exercice 3 de la fiche mod\u00e8le relationnel et donner l'instruction SQL permettant de cr\u00e9er les tables correspondantes. A venir ! tout le monde n'est pas forc\u00e9ment d'accord sur ce point. Certains mettent une majuscule \u00e0 la premi\u00e8re lettre du nom de la table... \u21a9 du moins sur les versions SQLite , seul le type INTEGER permet une auto-incr\u00e9mentation d'une cl\u00e9 primaire. Le type INT ne semble pas support\u00e9 (voir ici et l\u00e0 ). \u21a9 Pauvre Marvin ... \u21a9","title":"Bases de SQL 1"},{"location":"NSI/Terminale/C04/BasesSQL1/#commandes-de-base-en-sql-creations-de-tables-et-types-de-donnees","text":"Une utilisation efficace des bases de donn\u00e9es relationnelles n'est r\u00e9alisable qu'avec un SGBDR (Syst\u00e8me de Gestion de Bases d Donn\u00e9es Relationnelles), c'esst-\u00e0-dire un logiciel offrant : la d\u00e9finition des donn\u00e9es sous forme de relations ; la manipulation des donn\u00e9es par un langage d\u00e9claratif ; l\u2019administration des donn\u00e9es. Dans ce chapitre, nous nous contenterons d'utiliser de mani\u00e8re sommaire des fonctionnalit\u00e9s de SGBDR offertes : soit par les notebooks Capytale ; soit par le logiciel portable DB Browser for SQLite ; soit par l'interm\u00e9diaire de modules python. Nous verrons dans un chapitre post-\u00e9preuve les SGBDR un peu plus en d\u00e9tail. Pour l'instant nous nous contenterons des fonctionnalit\u00e9s de base du langage SQL","title":"Commandes de base en SQL : cr\u00e9ations de tables et types de donn\u00e9es"},{"location":"NSI/Terminale/C04/BasesSQL1/#du-modele-relationnel-a-la-base-de-donnee-une-premiere-approche","text":"SQL ( Structured Query Language ) est directement inspir\u00e9 du mod\u00e8le relationnel d\u00e9fini dans la partie pr\u00e9c\u00e9dente . Ce langage est standardis\u00e9 par la norme ISO/IEC 9075 , dont la derni\u00e8re version date de 2016 . La syntaxe du SQL est volontairement verbeuse et proche de l'anglais standard. Nous allons montrer dans les exemples suivants la cr\u00e9ation d'une table, l'insertion d'\u00e9l\u00e9ments, et quelques requ\u00eates simples sur cette base de donn\u00e9e. Une premi\u00e8re approche du SQL Rendez-vous dans le bac-\u00e0-sable SQL (Code 4df6-948322 ) sur Capytale. Ex\u00e9cutez les 4 premi\u00e8res cellules. Ex\u00e9cutez la cinqui\u00e8me. Quel est le r\u00e9sultat fournit par cette requ\u00eate ? Ex\u00e9cutez la sixi\u00e8me. Quel est le r\u00e9sultat fournit par cette requ\u00eate ? Ajoutez \u00e0 la base de donn\u00e9es l'entit\u00e9 suivante : ('Brochen', 'Charles', 'charles.brochen@pontrieux.fr', '22260', '13 Rue de Pen Fantan, Pontrieux', '2021-10-11', '012345678910113') Que se passe-t-il ? Pourquoi ? Ajoutez \u00e0 la base de donn\u00e9es l'entit\u00e9 suivante : ('Pavie', 'Auguste', 'auguste.pavie@ggp.fr', '22200', '13 rue Anatole Le Braz, Guingamp', '2021-11-09', '012345678910110') Que se passe-t-il ? Pourquoi ? Ex\u00e9cutez maintenant une requ\u00eate afin de r\u00e9cup\u00e9rer une table contenant les emails et code postaux des usagers dont la date d'inscription est le 10 Novembre 2021. Exemple : Cr\u00e9ation de la table usager Les lignes de code SQL suivantes permettent la cr\u00e9ation d'une table usager , qui correspond globalement \u00e0 la relation Usager telle que d\u00e9finie par le sch\u00e9ma : Usager(nom String , pr\u00e9nom String , email String , cp String , adresse String , inscription Date , code_barre String )NAVCAM CREATE TABLE usager ( nom VARCHAR ( 90 ), prenom VARCHAR ( 90 ), email VARCHAR ( 60 ), cp VARCHAR ( 5 ), adresse VARCHAR ( 90 ), inscription DATE , code_barre CHAR ( 15 ) PRIMARY KEY ); On envoie ici au SGBD un ordre SQL de cr\u00e9ation de table, par l'interm\u00e9diare de la commande CREATE TABLE . Le nom de la table sera usager . Cette table contiendra des colonnes (ou champs ) qui correspondent aux attributs de la relation. La premi\u00e8re colonne nom est d\u00e9finie comme \u00e9tant du type VARCHAR , c'est-\u00e0-dire cha\u00eene de caract\u00e8re, avec une contrainte de longueur maximale de 90 caract\u00e8res. Il en est de m\u00eame pour les 5 premi\u00e8res colonnes, avec diff\u00e9rentes contraintes de longueur. La colonne inscription est d\u00e9finie comme \u00e9tant du type DATE . La derni\u00e8re colonne code_barre est d\u00e9finie comme \u00e9tant du type VARCHAR de longueur maximale 15, auquel on adjoint la contrainte PRIMARY KEY , qui indique simplement qu'il s'agit bien de la cl\u00e9 primaire de la relation. On remarque que l'ordre se termine par un ; . SQL et case des caract\u00e8res SQL est insensible \u00e0 la casse . Il aurait \u00e9t\u00e9 tout aussi efficace d'\u00e9crire create table ou CrEaTE tABlE . De fait certaines r\u00e8gles de bonnes pratiques sont \u00e0 suivre : les mots r\u00e9serv\u00e9s de SQL sont \u00e9crits en majuscules ; les attributs sont \u00e9crits en minuscules , ainsi que les noms de tables 1 ; les noms d'attributs et de tables ne pouvant contenir d'espaces, ceux-ci sont remplac\u00e9s par le caract\u00e8re _ ( underscore ). les noms de table sont \u00e9crits au singulier. Exemple : insertions de lignes Les lignes SQL suivantes permettent l'insertion de trois lignes dans la table usager , qui correspondent \u00e0 trois entit\u00e9s de la relation Usager . INSERT INTO usager VALUES ( 'Pavie' , 'Auguste' , 'auguste.pavie@ggp.fr' , '22200' , '13 rue Anatole Le Braz, Guingamp' , '2021-11-09' , '012345678910111' ), ( 'Prevert' , 'Jacques' , 'jacques.prevert@ggp.fr' , '22200' , '58 Rue de la Trinit\u00e9, Guingamp' , '2021-11-10' , '012345678910112' ), ( 'Camus' , 'Albert' , 'albert.camus@grace' , '22205' , '2 Rue de Kerpaour, Gr\u00e2ces' , '2021-10-09' , '012345678910113' ) ; Chacune des lignes est un tuple, chaque composante correspondant \u00e0 la colonne d\u00e9finie dans l'ordre de cr\u00e9ation de table, dans l'ordre de d\u00e9finition (NB : il existe un moyen d'\u00eatre plus explicite et de s'affranchir de l'ordre , que nous verrons plus tard). Vous pouvez constater que dans la troisi\u00e8me ligne, l'email n'est pas correctement \u00e9crit. Nous n'avons pour l'instant pas mis de contraintes suppl\u00e9mentaires sur le champ email , donc le SGBD acceptera cette entr\u00e9e comme correcte. Exemple : Premi\u00e8re requ\u00eate Nous allons maintenant interroger cette table par l'interm\u00e9diaire d'une requ\u00eate ( query en anglais) : SELECT nom , prenom FROM usager ; Cette requ\u00eate renvoie le r\u00e9sultat suivant : nom prenom Pavie Auguste Prevert Jacques Camus Albert c'est-\u00e0-dire une table avec les attributs nom et prenom . Diff\u00e9rences entre mod\u00e8le relationnel et SQL Formellement, SQL n'est pas aussi strict que le mod\u00e8le relationnel. En effet une table ne doit pas obligatoirement poss\u00e9der une cl\u00e9 primaire . La cons\u00e9quence directe de ce choix est une violation de la contrainte de relation , et il est tout \u00e0 fait possible d'avoir des doublons dans une table, ce qui sera tol\u00e9r\u00e9 par SQL. Mais c'est une mauvaise pratique !","title":"Du mod\u00e8le relationnel \u00e0 la base de donn\u00e9e : une premi\u00e8re approche"},{"location":"NSI/Terminale/C04/BasesSQL1/#types-de-donnees-en-sql","text":"Selon le SGBD utilis\u00e9, certaines libert\u00e9s sont prises par rapport aux standards \u00e9dict\u00e9s par l'ISO. On peut n\u00e9anmoins d\u00e9gager des constantes dans les diff\u00e9rents types utilis\u00e9s","title":"Types de donn\u00e9es en SQL"},{"location":"NSI/Terminale/C04/BasesSQL1/#types-numeriques","text":"Types num\u00e9riques De mani\u00e8re g\u00e9n\u00e9rale, le standard SQL d\u00e9finit des types num\u00e9riques repr\u00e9sentants de mani\u00e8re exacte ou approch\u00e9e . nom du type exact/approch\u00e9 description SMALLINT exact Entiers sign\u00e9s sur 16 bits ( \\(-32~768\\) \u00e0 \\(32~768\\) ) INT ou INTEGER exact Entiers sign\u00e9s sur 32 bits ( \\(-2~147~483~647\\) \u00e0 \\(2~147~483~647\\) ) BIGINT exact Entiers sign\u00e9s sur 64 bits ( \\(\\simeq -9\\times 10^{18}\\) \u00e0 \\(\\simeq 9\\times 10^{18}\\) ) DECIMAL(t,f) exact D\u00e9cimal sign\u00e9 de \\(t\\) chiffres dont \\(f\\) apr\u00e8s la virgule REAL approch\u00e9 Flottant sur 32 bits ( \\(-3,40\\times 10^{38}\\) \u00e0 \\(3,40\\times 10^{38}\\) ) DOUBLE PRECISION approch\u00e9 Flottant sur 64 bits ( \\(-1,79\\times 10^{308}\\) \u00e0 \\(1,79\\times 10^{308}\\) ) On peut noter le cas particulier du type DECIMAL(t,f) , qui permet du calcul en valeur exacte, par exemple sur des sommes d'argent. Par exemple, l'utilisation du type DECIMAL(5,2 permettra de travailler avec des sommes de \\(-999,99\\) \u20ac \u00e0 \\(999,99\\) \u20ac.","title":"Types num\u00e9riques"},{"location":"NSI/Terminale/C04/BasesSQL1/#types-textes","text":"Types textes En SQL, les cha\u00eenes de caract\u00e8res sont d\u00e9limit\u00e9es par des guillemets simples ' . Il est possible d' \u00e9chapper un guillemet simple en le doublant, comme par exemple dans 'n''oubliez pas d''\u00e9chapper' . Il est possible d'ins\u00e9rer un caract\u00e8re retour chariot dans une cha\u00eene pour avoir des cha\u00eenes multilignes. nom du type description CHAR(n) Cha\u00eene d'exactement \\(n\\) caract\u00e8res VARCHAR(n) Cha\u00eene d'au plus \\(n\\) caract\u00e8res TEXT Cha\u00eene de taille quelconque La taille maximale d\u00e9pend du SGBD, mais tous supportent au moins \\(8~000\\) caract\u00e8res. La valeur minimale pour \\(n\\) est 1. Pour le type CHAR(n) , si la cha\u00eene stock\u00e9e est de longueur inf\u00e9rieure \u00e0 \\(n\\) , on compl\u00e8te la cha\u00eene \u00e0 droite par le nombre d'espaces n\u00e9cesaires. Le type TEXT est en fait un type VARCHAR de la dimension maximale support\u00e9e par le SGBD.","title":"Types textes"},{"location":"NSI/Terminale/C04/BasesSQL1/#types-booleens","text":"Type Bool\u00e9en Selon les SGBD, le type bool\u00e9en est in\u00e9galement support\u00e9. Dans notre cas cette ann\u00e9e, on supposera qu'il l'est correctement (mais il existe de nombreuses possibilit\u00e9s pour le simuler, par exemple avec un type SMALLINT o\u00f9 \\(0\\) repr\u00e9sente False et le reste True ).","title":"Types bool\u00e9ens"},{"location":"NSI/Terminale/C04/BasesSQL1/#types-temporels","text":"Types temporels Comme d\u00e9j\u00e0 \u00e9voqu\u00e9 dans la partie pr\u00e9c\u00e9dente, les types temporels repr\u00e9sentent parfois un cauchemar pour les programmeur\u00d7s... Nous nous contenterons ici d'aborder de mani\u00e8re tr\u00e8s superficielle ces types : nom du type description DATE Une date au format 'AAAA-MM-JJ' TIME Une heure au format 'hh:mm:ss' TIMESTAMP Un instant au format 'AAAA-MM-JJ hh:mm:ss' Une propri\u00e9t\u00e9 int\u00e9ressante du type DATE est qu'il supporte l'addition correctement. si d est du type DATE , d+7 produira une date correspondante \u00e0 7 jours apr\u00e8s d , en changeant jours, mois et ann\u00e9es correctement.","title":"Types temporels"},{"location":"NSI/Terminale/C04/BasesSQL1/#type-null","text":"Une valeur NULL existe en SQL, et correspond \u00e0 l'absence de donn\u00e9e. Elle s'utilise comme la valeur None en Python. Elle est juste interdite pour les cl\u00e9s primaires . Il est possible de tester si une valeur est nulle ou non gr\u00e2ce aux commandes IS NULL ou IS NOT NULL .","title":"Type NULL"},{"location":"NSI/Terminale/C04/BasesSQL1/#creations-et-suppressions-de-tables","text":"","title":"Cr\u00e9ations et suppressions de tables"},{"location":"NSI/Terminale/C04/BasesSQL1/#creation-de-tables","text":"Cr\u00e9ation de tables La cr\u00e9ation d'une table se fait par l'interm\u00e9diaire de la commande suivante : CREATE TABLE nom_table ( attribut_1 domaine_1 contrainte_1_1 contrainte_1_2 ..., attribut_2 domaine_2 contrainte_2_1 contrainte_2_2 ..., ..., attribut_n domaine_n contrainte_n_1 ..., contrainte_globale_1 , ..., contrainte_globale_n ); Une d\u00e9finition d'attributs consiste en : la donn\u00e9e d'un nom d'attribut (obligatoire) ; la donn\u00e9e d'un domaine (obligatoire) ; la donn\u00e9e de contraintes sur cet attribut (optionnel). Une contrainte qui porterait sur plusieurs attributs (par exemple une d\u00e9finition de cl\u00e9 primaire sur plusieurs attributs) est report\u00e9e en fin de d\u00e9finition , avant la parenth\u00e8se fermante. Exemple avec cl\u00e9 primaire simple La relation Livre suivante peut \u00eatre cr\u00e9e en SQL par la commande suivante : CREATE TABLE Livre ( titre VARCHAR ( 200 ), editeur VARCHAR ( 50 ), annee SMALLINT , ISBN CHAR ( 14 ) PRIMARY KEY ); On remarque l'utilisation de 14 caract\u00e8res exactement pour l'ISBN. Ex\u00e9cution de code Dans le bac \u00e0 sable SQL, cr\u00e9er la table Livre . Exemple avec cl\u00e9 primaire et cl\u00e9s \u00e9trang\u00e8res Maintenant que nous avons cr\u00e9e les tables Usager et Livre , nous pouvons cr\u00e9er la table Emprunt telle que d\u00e9finie dans le sch\u00e9ma CREATE TABLE Emprunt ( code_barre CHAR ( 15 ) REFERENCES usager ( code_barre ), ISBN CHAR ( 14 ) PRIMARY KEY REFERENCES Livre ( ISBN ), retour DATE ); Cr\u00e9ation de code Cr\u00e9er le code SQL n\u00e9cessaire pour obtenir la table Auteur correspondant \u00e0 la relation Exemple de cr\u00e9ation de cl\u00e9 primaire avec de multiples attributs Pour la table Auteur_de d\u00e9finie par , on peut utiliser le code suivant : CREATE TABLE Auteur_de ( idA INT REFERENCES Auteur ( idA ), ISBN REFERENCES Livre ( ISBN ), PRIMARY KEY ( ida , ISBN ));","title":"Cr\u00e9ation de tables"},{"location":"NSI/Terminale/C04/BasesSQL1/#suppressions-de-tables","text":"Suppression de tables Pour supprimer une table, il suffit d'utiliser : DROP TABLE nom_de_la_table ; Attention toutefois, il n'est pas possible de supprimer une table si elle sert de r\u00e9f\u00e9rence pour une cl\u00e9 \u00e9trang\u00e8re ! Cela violerait une contrainte de r\u00e9f\u00e9rence .","title":"Suppressions de tables"},{"location":"NSI/Terminale/C04/BasesSQL1/#nouvelles-contraintes-dintegrites","text":"Nous avons vu l'utilisation de PRIMARY KEY et REFERENCES , qui permettent de d\u00e9finir les contraintes de relation et de r\u00e9f\u00e9rences. Il est possible de rajouter en SQL d'autres types de contraintes.","title":"Nouvelles Contraintes d'int\u00e9grit\u00e9s"},{"location":"NSI/Terminale/C04/BasesSQL1/#contraintes-dunicite-et-de-non-nullite","text":"Entre autres : il est possible de pr\u00e9ciser qu'un attribut (une colonne en langage SQL) ne peut \u00eatre vide, en ajoutant la contrainte NOT NULL ; de m\u00eame il est possible de pr\u00e9ciser qu'un attribut ne peut exister en doublon, en ajoutant la contrainte UNIQUE . Ainsi, la table Usager peut \u00eatre red\u00e9finie par : CREATE TABLE usager ( nom VARCHAR ( 90 ) NOT NULL , prenom VARCHAR ( 90 ) NOT NULL , email VARCHAR ( 60 ) NOT NULL UNIQUE , cp VARCHAR ( 5 ) NOT NULL , adresse VARCHAR ( 90 ), inscription DATE NOT NULL , code_barre CHAR ( 15 ) PRIMARY KEY ); Ainsi red\u00e9finie, tous les attributs sauf l'adresse doivent \u00eatre renseign\u00e9s (la cl\u00e9 primaire ne devant pas \u00eatre vide par nature). De plus l'email ne peut \u00eatre qu'unique (ce qui risque de poser des probl\u00e8mes pour certains couples ou pour des inscriptions d'enfants avec le email de leur parent).","title":"Contraintes d'unicit\u00e9 et de non-nullit\u00e9"},{"location":"NSI/Terminale/C04/BasesSQL1/#cle-primaire-et-auto-incrementation","text":"Pour les cl\u00e9 primaires num\u00e9riques et correspondantes au type INTEGER 2 , il est possible de ne pas avoir \u00e0 saisir \u00e0 la main cette valeur. Ainsi, \u00e0 chaque ajout d'une ligne (donc d'une entit\u00e9 ) dans la table, une nouvelle valeur de cl\u00e9 parmi celles disponibles sera automatiquement fournie. Par exemple pour la table Auteur : CREATE TABLE Auteur ( nom VARCHAR ( 90 ) NOT NULL , prenom VARCHAR ( 90 ) NOT NULL , idA INTEGER PRIMARY KEY ); Dans ce cas, l'insertion sera faites avec une structure d'entit\u00e9 plus sp\u00e9cifique : INSERT INTO Auteur ( nom , prenom ) VALUES ( 'Tolkien' , 'JRR' ), ( 'Dick' , 'Philip K.' ), ( 'Adams' , 'Douglas' ); On constate alors par la requ\u00eate suivante la bonne insertion du champ idA : SELECT * FROM Auteur ; Par d\u00e9faut l'incr\u00e9mentation commence \u00e0 1. Auto-incr\u00e9ment -> Vieille version non viable en SQLite Pour les cl\u00e9 primaires num\u00e9riques , il est possible d'ajouter la contrainte d' auto-incr\u00e9mentation de cet identifiant. Ainsi, \u00e0 chaque ajout d'une ligne (donc d'une entit\u00e9 ) dans la table, une nouvelle valeur de cl\u00e9 sera automatiquement fournie. Par exemple pour la table Auteur : CREATE TABLE Auteur ( nom VARCHAR ( 90 ) NOT NULL , prenom VARCHAR ( 90 ) NOT NULL , idA INTEGER PRIMARY KEY AUTO_INCREMENT ); Par d\u00e9faut l'incr\u00e9mentation commence \u00e0 1.","title":"Cl\u00e9 primaire et auto-incr\u00e9mentation"},{"location":"NSI/Terminale/C04/BasesSQL1/#contraintes-specifiques","text":"Il est aussi possible de placer certaines contraintes sp\u00e9cifiques lors de la cr\u00e9ation d'une table, gr\u00e2ce au mot cl\u00e9 CHECK suivi d'une formule bool\u00e9enne. Par exemple, si on souhaite introduire les ann\u00e9es de naissance et de d\u00e9c\u00e8s des auteurs, il est possible d'utiliser l'instruction suivante : CREATE TABLE Auteur ( nom VARCHAR ( 90 ) NOT NULL , prenom VARCHAR ( 90 ) NOT NULL , idA INTEGER PRIMARY KEY , naissance SMALLINT , deces SMALLINT , CHECK ( naissance IS NULL OR deces IS NULL OR naissance < deces ) ); Ainsi, on v\u00e9rifie qu'il n'y a pas d'erreurs sur une date de naissance post\u00e9rieure \u00e0 une date de d\u00e9c\u00e8s. On notera que cette contrainte s'\u00e9crit directement apr\u00e8s la derni\u00e8re d\u00e9finition d'attributs et que l'expression bool\u00e9enne est entre parenth\u00e8ses. Mise \u00e0 jour des tables Dans le bac \u00e0 sable, mettre \u00e0 jour les tables afin qu'elles correspondent aux derni\u00e8res instructions donn\u00e9es.","title":"Contraintes sp\u00e9cifiques"},{"location":"NSI/Terminale/C04/BasesSQL1/#insertions-de-donnees-dans-une-table-existante","text":"Insertion de donn\u00e9es Pour ins\u00e9rer des donn\u00e9es dans une table existante, on utilise l'instruction \u00ccNSERT INTO . Il existe deux possibilit\u00e9s pour ins\u00e9rer des donn\u00e9es : En ins\u00e9rant les valeurs sans pr\u00e9ciser le nom des colonnes : INSERT INTO nom_table VALUES ( valeur1 , valeur2 , ..., valeurn ); les valeurs seront ins\u00e9r\u00e9es dans l'ordre d\u00e9fini lors de la cr\u00e9ation de la table. En ins\u00e9rant les valeurs en pr\u00e9cisant les colonnes concern\u00e9es : INSERT INTO nom_table ( attribut1 , attribut3 ) VALUES ( valeur1 , valeur3 ); Ici les valeurs ne seront ins\u00e9r\u00e9es que dans les colonnes qui correspondent au nom donn\u00e9. Exemple d'insertions Insertion compl\u00e8te : INSERT INTO Livre VALUES ( \"Dune\" , \"Pocket\" , 2021 , \"978-2266320542\" ); Les informations fournies seront ins\u00e9r\u00e9es dans l'ordre titre , \u00e9diteur , ann\u00e9e et \u00ccSBN . Insertion selon les colonnes : INSERT INTO Livre ( ISBN , titre ) VALUES ( \"978-2070319015\" , \"H2G2, tome 1 : Le Guide du voyageur galactique \" ); Seules les colonnes ISBN et titre sont renseign\u00e9es. les autres seront mises \u00e0 une valeur NULL . Warning Il est \u00e0 noter que les contraintes d'int\u00e9grit\u00e9s sont v\u00e9rifi\u00e9es lors de l'insertion. Une instruction du type : INSERT INTO Auteur ( nom , prenom , naissance , deces ) VALUES ( \"ADAMS\" , \"Douglas\" , 2001 , 1952 ); donnera une erreur par violation d'int\u00e9grit\u00e9 3 , la date de naissance \u00e9tant sup\u00e9rieure \u00e0 la date de d\u00e9c\u00e8s.","title":"Insertions de donn\u00e9es dans une table existante."},{"location":"NSI/Terminale/C04/BasesSQL1/#exercices","text":"Exercice 1 Enonc\u00e9 Solution Reprendre l'\u00e9noonc\u00e9 de l'exercice 1 de la fiche mod\u00e8le relationnel et donner l'instruction SQL permettant de cr\u00e9er la table correspondante. A venir ! Exercice 2 Enonc\u00e9 Solution Reprendre l'\u00e9noonc\u00e9 de l'exercice 2 de la fiche mod\u00e8le relationnel et donner l'instruction SQL permettant de cr\u00e9er les tables correspondantes. A venir ! Exercice 2 Enonc\u00e9 Solution Reprendre l'\u00e9noonc\u00e9 de l'exercice 3 de la fiche mod\u00e8le relationnel et donner l'instruction SQL permettant de cr\u00e9er les tables correspondantes. A venir ! tout le monde n'est pas forc\u00e9ment d'accord sur ce point. Certains mettent une majuscule \u00e0 la premi\u00e8re lettre du nom de la table... \u21a9 du moins sur les versions SQLite , seul le type INTEGER permet une auto-incr\u00e9mentation d'une cl\u00e9 primaire. Le type INT ne semble pas support\u00e9 (voir ici et l\u00e0 ). \u21a9 Pauvre Marvin ... \u21a9","title":"Exercices"},{"location":"NSI/Terminale/C04/BasesSQL2/","text":"Requ\u00eates SQL Les exemples et exercices donn\u00e9s ci-dessous sont, sauf mention contraire, disponibles directement dans un notebook Capytale (Code c156-162763 ). Projections Projection L'op\u00e9ration de projection consiste \u00e0 ne r\u00e9cup\u00e9rer que certains champs (c'est-\u00e0-dire les colonnes ) d'une table donn\u00e9e. En SQL, on l'obtient par l'instruction : SELECT colonne1 , colonne2 ,... FROM nom_table ; Exemple 1 : Projection Pour r\u00e9cup\u00e9rer les colonnes titre et isbn de la table livre : SELECT titre , isbn FROM livre ; Pour r\u00e9cup\u00e9rer l'int\u00e9gralit\u00e9 des colonnes, on peut utiliser l'op\u00e9rateur joker * : SELECT * FROM auteur ; Renommer les colonnes Il est possible dans une op\u00e9ration de projection de renommer les colonnes obtenues, gr\u00e2ce \u00e0 l'op\u00e9rateur AS : SELECT titre , isbn , annee AS annee_publication FROM livre ; S\u00e9lections S\u00e9lection (ou restriction) L'op\u00e9ration de s\u00e9lection consiste \u00e0 interroger une base de donn\u00e9es pour ne r\u00e9cup\u00e9rer que les lignes d'une table correspondant \u00e0 une ou des conditions sp\u00e9cifi\u00e9es (exprim\u00e9es sous la forme d'expressions bool\u00e9ennes). En SQL, on rajoute la clause WHERE suivie des conditions exprim\u00e9es sous la forme d'une expression bool\u00e9enne , utilisant les mots cl\u00e9s AND et OR par exemple : SELECT colonne1 , colonne2 ,... FROM nom_table WHERE conditions ; Exemple 2 : S\u00e9lection S\u00e9lection avec condition unique : SELECT titre FROM livre WHERE annee >= 2020 ; S\u00e9lection avec conditions multiples : SELECT titre FROM livre WHERE annee >= 1970 AND annee <= 2000 AND editeur = 'Dargaud' ; Requ\u00eate sur les cha\u00eenes de caract\u00e8res Si on veut chercher tous les livres dont le titre contient la cha\u00eene Ast\u00e9rix , il faudra utiliser une clause comme la suivante : SELECT titre FROM livre WHERE titre LIKE '%Ast\u00e9rix%' ; La cha\u00eene de caract\u00e8res '%Ast\u00e9rix%' s'appelle un motif . L'op\u00e9ration s LIKE m renverra True si la cha\u00eene de caract\u00e8res s correspond au motif m . Le caract\u00e8re % est un joker qui peut-\u00eatre substitu\u00e9 par n'importe quelle cha\u00eene . Il existe aussi l'op\u00e9rateur _ (underscore) qui lui repr\u00e9sente n'importe quel caract\u00e8re . Ainsi, pour chercher tous les auteurs dont le nom commence par F, se termine par R et fait 6 caract\u00e8res de long : SELECT nom , prenom FROM auteur WHERE nom LIKE 'F____R' ; Fonctions d'aggr\u00e9gations Il existe un certain nombre de fonctions permettant d'effectuer des op\u00e9rations sur des colonnes. Ces fonctions s'appellent fonctions d'aggr\u00e9gations , et renvoie un r\u00e9sultat sous la forme d'une table d'une ligne et d'une colonne. Voici les plus utiles : Fonction COUNT Compter des lignes La fonction SQL COUNT permet de compter le nombre de lignes que poss\u00e8de une table, \u00e9ventuellement apr\u00e8s s\u00e9lection. Sa syntaxe est : SELECT COUNT ( colonne ) FROM table WHERE conditions ; Exemples COmpter le nombre de lignes dans la table auteur : SELECT COUNT ( * ) FROM auteur ; Compter le nombre de titres contenant le cha\u00eene Ast\u00e9rix SELECT count ( titre ) FROM livre WHERE titre LIKE '%Ast\u00e9rix%' ; Un pi\u00e8ge L'ordre SQL suivant SELECT count ( titre ), isbn FROM livre WHERE titre LIKE '%Ast\u00e9rix%' ; renvoie une table avec une ligne et deux colonnes : L'isbn renvoy\u00e9 ne correspond qu'au premier titre trouv\u00e9 contenant la cha\u00eene Ast\u00e9rix : SELECT titre , isbn FROM livre WHERE isbn = '978-2864972662' ; Alias de colonne Avec la fonction COUNT , les titres des colonnes renvoy\u00e9s ne sont pas forc\u00e9m\u00f9ent parlant. Il est possible de les changer en leur fournisdsant un alias par l'interm\u00e9diaire de AS : SELECT count ( titre ) AS nombre_asterix FROM livre WHERE titre LIKE '%Ast\u00e9rix%' ; Fonctions num\u00e9riques Les fonctions suivantes ne peuvent s'appliquer que sur des colonnes dont le type est num\u00e9rique : SUM : effectue la somme de toutes les valeurs de la colonne s\u00e9lectionn\u00e9e correspondant au conditions donn\u00e9es AVG ( average ) : effectue la moyenne de toutes les valeurs de la colonne s\u00e9lectionn\u00e9e correspondant au conditions donn\u00e9es. SELECT SUM ( annee ) as somme FROM livre ; SELECT AVG ( annee ) as moyenne FROM livre ; Fonctions MIN et MAX Ces deux fonctions s'appliquent sur n'importe quel type, l'ordre sur les cha\u00eenes de caract\u00e8res \u00e9tant l'ordre lexicographique. : SELECT MIN ( nom ) FROM auteur ; SELECT MAX ( nom ) FROM auteur ; SELECT MIN ( annee ) FROM livre ; SELECT MAX ( annee ) FROM livre ; Tri et suppression des doublons Tri des colonnes Les r\u00e9sultats d'une requ\u00eate SQL sont en g\u00e9n\u00e9ral fournis dans l'ordre dans lequel ils sont trouv\u00e9s. Il est cependant possible d' ordonner les colonnes gr\u00e2ce \u00e0 la clause ORDER BY et les mots cl\u00e9s ASC ( ascending ) et DESC ( descending ): par ordre croissant : SELECT titre FROM livre WHERE annee >= 1990 ORDER BY titre ASC ; par ordre d\u00e9croissant : SELECT nom FROM auteur ORDER BY nom DESC ; Elimination des doublons Effectuons la requ\u00eate suivante : SELECT prenom FROM auteur WHERE prenom LIKE 'M%' ; Le r\u00e9sultat est la table suivante : Nous constatons la pr\u00e9sence de 3 pr\u00e9noms Michel dans la table r\u00e9sultat. Il est possible d'\u00e9liminer de tels doublons dans une table en utilisant la clause DISTINCT : SELECT DISTINCT prenom FROM auteur WHERE prenom LIKE 'M%' ; On r\u00e9cup\u00e8re alors en r\u00e9sultat la table suivante : Attention Attention toutefois ! Une requ\u00eate telle que la suivante n'\u00e9limineras pas les doublons de pr\u00e9nom : SELECT DISTINCT prenom , nom FROM auteur WHERE prenom LIKE 'M%' ; En effet la clause DISTINCT \u00e9limine les lignes exactement identiques. Ici les couples (prenom, nom) sont bien tous diff\u00e9rents. Application Exercice Effectuer la premi\u00e8re partie ainsi que les requ\u00eates sans jointures du notebokk jeux olympiques (Code 917a-165474 ) (merci M. Leleu).","title":"Bases de SQL 2"},{"location":"NSI/Terminale/C04/BasesSQL2/#requetes-sql","text":"Les exemples et exercices donn\u00e9s ci-dessous sont, sauf mention contraire, disponibles directement dans un notebook Capytale (Code c156-162763 ).","title":"Requ\u00eates SQL"},{"location":"NSI/Terminale/C04/BasesSQL2/#projections","text":"Projection L'op\u00e9ration de projection consiste \u00e0 ne r\u00e9cup\u00e9rer que certains champs (c'est-\u00e0-dire les colonnes ) d'une table donn\u00e9e. En SQL, on l'obtient par l'instruction : SELECT colonne1 , colonne2 ,... FROM nom_table ; Exemple 1 : Projection Pour r\u00e9cup\u00e9rer les colonnes titre et isbn de la table livre : SELECT titre , isbn FROM livre ; Pour r\u00e9cup\u00e9rer l'int\u00e9gralit\u00e9 des colonnes, on peut utiliser l'op\u00e9rateur joker * : SELECT * FROM auteur ; Renommer les colonnes Il est possible dans une op\u00e9ration de projection de renommer les colonnes obtenues, gr\u00e2ce \u00e0 l'op\u00e9rateur AS : SELECT titre , isbn , annee AS annee_publication FROM livre ;","title":"Projections"},{"location":"NSI/Terminale/C04/BasesSQL2/#selections","text":"S\u00e9lection (ou restriction) L'op\u00e9ration de s\u00e9lection consiste \u00e0 interroger une base de donn\u00e9es pour ne r\u00e9cup\u00e9rer que les lignes d'une table correspondant \u00e0 une ou des conditions sp\u00e9cifi\u00e9es (exprim\u00e9es sous la forme d'expressions bool\u00e9ennes). En SQL, on rajoute la clause WHERE suivie des conditions exprim\u00e9es sous la forme d'une expression bool\u00e9enne , utilisant les mots cl\u00e9s AND et OR par exemple : SELECT colonne1 , colonne2 ,... FROM nom_table WHERE conditions ; Exemple 2 : S\u00e9lection S\u00e9lection avec condition unique : SELECT titre FROM livre WHERE annee >= 2020 ; S\u00e9lection avec conditions multiples : SELECT titre FROM livre WHERE annee >= 1970 AND annee <= 2000 AND editeur = 'Dargaud' ; Requ\u00eate sur les cha\u00eenes de caract\u00e8res Si on veut chercher tous les livres dont le titre contient la cha\u00eene Ast\u00e9rix , il faudra utiliser une clause comme la suivante : SELECT titre FROM livre WHERE titre LIKE '%Ast\u00e9rix%' ; La cha\u00eene de caract\u00e8res '%Ast\u00e9rix%' s'appelle un motif . L'op\u00e9ration s LIKE m renverra True si la cha\u00eene de caract\u00e8res s correspond au motif m . Le caract\u00e8re % est un joker qui peut-\u00eatre substitu\u00e9 par n'importe quelle cha\u00eene . Il existe aussi l'op\u00e9rateur _ (underscore) qui lui repr\u00e9sente n'importe quel caract\u00e8re . Ainsi, pour chercher tous les auteurs dont le nom commence par F, se termine par R et fait 6 caract\u00e8res de long : SELECT nom , prenom FROM auteur WHERE nom LIKE 'F____R' ;","title":"S\u00e9lections"},{"location":"NSI/Terminale/C04/BasesSQL2/#fonctions-daggregations","text":"Il existe un certain nombre de fonctions permettant d'effectuer des op\u00e9rations sur des colonnes. Ces fonctions s'appellent fonctions d'aggr\u00e9gations , et renvoie un r\u00e9sultat sous la forme d'une table d'une ligne et d'une colonne. Voici les plus utiles :","title":"Fonctions d'aggr\u00e9gations"},{"location":"NSI/Terminale/C04/BasesSQL2/#fonction-count","text":"Compter des lignes La fonction SQL COUNT permet de compter le nombre de lignes que poss\u00e8de une table, \u00e9ventuellement apr\u00e8s s\u00e9lection. Sa syntaxe est : SELECT COUNT ( colonne ) FROM table WHERE conditions ; Exemples COmpter le nombre de lignes dans la table auteur : SELECT COUNT ( * ) FROM auteur ; Compter le nombre de titres contenant le cha\u00eene Ast\u00e9rix SELECT count ( titre ) FROM livre WHERE titre LIKE '%Ast\u00e9rix%' ; Un pi\u00e8ge L'ordre SQL suivant SELECT count ( titre ), isbn FROM livre WHERE titre LIKE '%Ast\u00e9rix%' ; renvoie une table avec une ligne et deux colonnes : L'isbn renvoy\u00e9 ne correspond qu'au premier titre trouv\u00e9 contenant la cha\u00eene Ast\u00e9rix : SELECT titre , isbn FROM livre WHERE isbn = '978-2864972662' ; Alias de colonne Avec la fonction COUNT , les titres des colonnes renvoy\u00e9s ne sont pas forc\u00e9m\u00f9ent parlant. Il est possible de les changer en leur fournisdsant un alias par l'interm\u00e9diaire de AS : SELECT count ( titre ) AS nombre_asterix FROM livre WHERE titre LIKE '%Ast\u00e9rix%' ;","title":"Fonction COUNT"},{"location":"NSI/Terminale/C04/BasesSQL2/#fonctions-numeriques","text":"Les fonctions suivantes ne peuvent s'appliquer que sur des colonnes dont le type est num\u00e9rique : SUM : effectue la somme de toutes les valeurs de la colonne s\u00e9lectionn\u00e9e correspondant au conditions donn\u00e9es AVG ( average ) : effectue la moyenne de toutes les valeurs de la colonne s\u00e9lectionn\u00e9e correspondant au conditions donn\u00e9es. SELECT SUM ( annee ) as somme FROM livre ; SELECT AVG ( annee ) as moyenne FROM livre ;","title":"Fonctions num\u00e9riques"},{"location":"NSI/Terminale/C04/BasesSQL2/#fonctions-min-et-max","text":"Ces deux fonctions s'appliquent sur n'importe quel type, l'ordre sur les cha\u00eenes de caract\u00e8res \u00e9tant l'ordre lexicographique. : SELECT MIN ( nom ) FROM auteur ; SELECT MAX ( nom ) FROM auteur ; SELECT MIN ( annee ) FROM livre ; SELECT MAX ( annee ) FROM livre ;","title":"Fonctions MIN et MAX"},{"location":"NSI/Terminale/C04/BasesSQL2/#tri-et-suppression-des-doublons","text":"","title":"Tri et suppression des doublons"},{"location":"NSI/Terminale/C04/BasesSQL2/#tri-des-colonnes","text":"Les r\u00e9sultats d'une requ\u00eate SQL sont en g\u00e9n\u00e9ral fournis dans l'ordre dans lequel ils sont trouv\u00e9s. Il est cependant possible d' ordonner les colonnes gr\u00e2ce \u00e0 la clause ORDER BY et les mots cl\u00e9s ASC ( ascending ) et DESC ( descending ): par ordre croissant : SELECT titre FROM livre WHERE annee >= 1990 ORDER BY titre ASC ; par ordre d\u00e9croissant : SELECT nom FROM auteur ORDER BY nom DESC ;","title":"Tri des colonnes"},{"location":"NSI/Terminale/C04/BasesSQL2/#elimination-des-doublons","text":"Effectuons la requ\u00eate suivante : SELECT prenom FROM auteur WHERE prenom LIKE 'M%' ; Le r\u00e9sultat est la table suivante : Nous constatons la pr\u00e9sence de 3 pr\u00e9noms Michel dans la table r\u00e9sultat. Il est possible d'\u00e9liminer de tels doublons dans une table en utilisant la clause DISTINCT : SELECT DISTINCT prenom FROM auteur WHERE prenom LIKE 'M%' ; On r\u00e9cup\u00e8re alors en r\u00e9sultat la table suivante : Attention Attention toutefois ! Une requ\u00eate telle que la suivante n'\u00e9limineras pas les doublons de pr\u00e9nom : SELECT DISTINCT prenom , nom FROM auteur WHERE prenom LIKE 'M%' ; En effet la clause DISTINCT \u00e9limine les lignes exactement identiques. Ici les couples (prenom, nom) sont bien tous diff\u00e9rents.","title":"Elimination des doublons"},{"location":"NSI/Terminale/C04/BasesSQL2/#application","text":"Exercice Effectuer la premi\u00e8re partie ainsi que les requ\u00eates sans jointures du notebokk jeux olympiques (Code 917a-165474 ) (merci M. Leleu).","title":"Application"},{"location":"NSI/Terminale/C04/BasesSQL3/","text":"Modification des bases de donn\u00e9es et requ\u00eates complexes Les exemples et exercices donn\u00e9s ci-dessous sont, sauf mention contraire, disponibles directement dans un notebook Capytale (Code C156-162763 ). Modification des bases de donn\u00e9es Suppression de lignes Pour supprimer des lignes selon une condition donn\u00e9e, on utilise l'ordre : DELETE FROM table WHERE conditions ; Exemple La requ\u00eate suivante : SELECT * FROM emprunt WHERE code_barre = '934701281931582' ; donne la table suivante en r\u00e9ponse : code_barre isbn retour 934701281931582 978-2260019183 2020-01-01 934701281931582 978-2371240087 2020-01-01 Pour supprimer la ligne r\u00e9f\u00e9ren\u00e7ant l'isbn 978-2260019183 : DELETE FROM emprunt WHERE code_barre = '934701281931582' AND isbn = '978-2260019183' ; On v\u00e9rifie ensuite : SELECT * FROM emprunt WHERE code_barre = '934701281931582' ; code_barre isbn retour 934701281931582 978-2371240087 2020-01-01 Quelques points de remarques L' oubli de la clause WHERE supprime toutes les donn\u00e9es de la table ! Cependant la table existe encore et il est possible d'ins\u00e9rer de nouvelles donn\u00e9es. Pour supprimer compl\u00e8tement une table, il faut utiliser l'instruction : DROP TABLE nom_table ; Il est impossible de supprimer une ligne dont l'absence violerait la contrainte de r\u00e9f\u00e9rences (cl\u00e9 \u00e9trang\u00e8re). Par exemple l'ordre suivant ne fonctionnera pas, car l'isbn donn\u00e9 est pr\u00e9sent dans la table emprunt : DELETE FROM livre WHERE isbn = '934701281931582' ; Tout ou rien Si un ordre pass\u00e9 devant supprimer plusieurs lignes rencontre \u00e0 un moment une erreur, alors toutes les suppressions effectu\u00e9es par cet ordre sont annul\u00e9es ! On parle d'\u00e9xecution de type \u00ab tout ou rien \u00bb. Mise \u00e0 jour de lignes Pour mettre \u00e0 jour des lignes, on utiise un ordre SQL de type : UPDATE nom_table SET attribut1 = nouvelle_valeur1 , attribut2 = nouvelle_valeur2 , ... WHERE conditions ; Exemple La requ\u00eate suivante : SELECT * FROM usager WHERE prenom = 'ALAIN' ; donne comme table r\u00e9sultat : nom prenom adresse cp ville email code_barre MOREAU ALAIN 48, Rue du Ch\u00e2teau 75005 Paris amoreau1@abc.de 421921003090881 Pour changer l'email de cet utilisateur, on peut utiliser l'ordre suivant : UPDATE usager SET email = 'alain.moreau@truc.com' WHERE code_barre = '421921003090881' ; et une nouvelle requ\u00eate de recherche renvoie bien comme table : nom prenom adresse cp ville email code_barre MOREAU ALAIN 48, Rue du Ch\u00e2teau 75005 Paris alain.moreau@truc.com 421921003090881 Requ\u00eates complexes Jointures Jusqu'\u00e0 pr\u00e9sent, les requ\u00eates que nous avons \u00e9crites ne n\u00e9cessitent que l'utilisation d'une seule et unique table. mais bien souvent, nous avons a effectuer de requ\u00eates r\u00e9cup\u00e9rant des donn\u00e9es de plusieurs tables simultan\u00e9ment. Pour effectuer une telle requ\u00eate il faudra utiliser une ou des jointures de tables . Jointure sur deux tables Jointure naturelle de deux tables Prenons l'exemple de deux tables, l'une nomm\u00e9e Personne contient les noms, pr\u00e9noms et \u00e2ge de membres de l'ordre Jedi, et la seconde nomm\u00e9e Rang les rangs Jedi ainsi que l'\u00e2ge minimum requis pour l'atteindre. Nous pouvons effectuer une jointure sur le crit\u00e8re de l'age, en cr\u00e9ant une table contenant toutes les lignes des rangs ayant pu \u00eatre atteints par une personne, sur le crit\u00e8re Personne.Age>Rang.age : On notera que pour \u00e9viter toute confusion, les deux colonnes Age originelles ont vu leurs noms pr\u00e9fix\u00e9s par leur table d'origine, avec la notation table.colonne . Une table de jointure telle que celle-ci sera construite gr\u00e2ce \u00e0 la clause suivante : Personne JOIN Rang ON Personne . Age > Rang . Age Il sera ensuite possible d'utiliser cette table au sein d'une clause SELECT . Exemples Pour conna\u00eetre la liste des livres emprunt\u00e9s, on utilisera l'ordre SQL suivant : SELECT * FROM emprunt JOIN livre ON emprunt . isbn = livre . isbn ; Il est bien s\u00fbr possible de projeter le r\u00e9sultat de la requ\u00eate et d'effectuer une s\u00e9lection. Par exemple pour conna\u00eetre la liste des personnes devant rendre au moins un livre avant le 01 f\u00e9vrier 2020 : SELECT DISTINCT usager . nom , usager . prenom , emprunt . retour FROM usager JOIN emprunt ON usager . code_barre = emprunt . code_barre WHERE emprunt . retour < '2020-02-01' ; Jointures sur plusieurs tables Exemple On souhaite conna\u00eetre les titre et les auteurs correspondant aux livres actuellement emprunt\u00e9s. Il faut donc faire une jointure sur les 4 tables livre , auteur , auteur_de et emprunt . La requ\u00eate a \u00e9crire va donc \u00eatre plus longue que celles vues jusqu'alors : SELECT livre . titre , auteur . nom , auteur . prenom FROM emprunt JOIN livre ON emprunt . isbn = livre . isbn JOIN auteur_de ON livre . isbn = auteur_de . isbn JOIN auteur ON auteur_de . a_id = auteur . a_id ; Alias des tables Certaines requ\u00eates deviennent rapidement p\u00e9nibles \u00e0 \u00e9crire. Pour simplifier un peu cette \u00e9criture, il est possible d'utiliser un alias pour les tables \u00e0 l'aide du mot-cl\u00e9 AS . Ainsi l'ordre pr\u00e9c\u00e9dent peut-\u00eatre \u00e9crit : SELECT l . titre , a . nom , a . prenom FROM emprunt AS e JOIN livre AS l ON e . isbn = l . isbn JOIN auteur_de AS ad ON l . isbn = ad . isbn JOIN auteur AS a ON ad . a_id = a . a_id ; Requ\u00eates imbriqu\u00e9es Il est tout \u00e0 fait possible d'imbriquer des r\u00e9qu\u00eates les unes dans les autres, puisque le r\u00e9sultat d'une requ\u00eate est lui-m\u00eame une table temporaire : SELECT * FROM ( SELECT * FROM livre WHERE annee >= 1990 ) AS tmp WHERE tmp . annee <= 2000 ; Ici on cr\u00e9e une table temporaire alias\u00e9e par tmp , dans laquelle on stocke toute les lignes dont l'ann\u00e9e de publication est sup\u00e9rieure ou \u00e9gale \u00e0 1990, puis on effectue une nouvelle s\u00e9lection sur cette table temporaire en ne gardant que les lignes dont l'ann\u00e9e de publication est inf\u00e9rieure ou \u00e9gale \u00e0 2000. Analyse par un SGBD UN SGBD analysera cette requ\u00eate exactement de la m\u00eame mani\u00e8re qu'il analysera la suivante : SELECT * FROM livre WHERE annee >= 1990 AND annee <= 2000 ; Il n'y aura aucune diff\u00e9rence entre les deux en terme de vitesse de traitement. Il est aussi possible d'imbriquer des requ\u00eates dans la clause WHERE , en respectant certaines conditions. Par exemple pour conna\u00eetre la liste des livres dont l'ann\u00e9e est la plus ancienne dans la base, on va utiliser : SELECT titre , annee FROM livre WHERE annee = ( SELECT MIN ( annee ) FROM livre ); Ecrire une requ\u00eate imbriqu\u00e9e Enonc\u00e9 Solution Ecrire une requ\u00eate SQL donnant la liste des livres publi\u00e9s la m\u00eame ann\u00e9e que le livre dont le titre contient la cha\u00eene de caract\u00e8re 'Jack Barron' . SELECT titre FROM livre WHERE annee = ( SELECT annee FROM livre WHERE titre LIKE '%Jack Barron%' ); Exercices Effectuer les requ\u00eates avec jointures du notebokk jeux olympiques (Code 917a-165474 ) (merci M. Leleu).","title":"Bases de SQL 3"},{"location":"NSI/Terminale/C04/BasesSQL3/#modification-des-bases-de-donnees-et-requetes-complexes","text":"Les exemples et exercices donn\u00e9s ci-dessous sont, sauf mention contraire, disponibles directement dans un notebook Capytale (Code C156-162763 ).","title":"Modification des bases de donn\u00e9es et requ\u00eates complexes"},{"location":"NSI/Terminale/C04/BasesSQL3/#modification-des-bases-de-donnees","text":"","title":"Modification des bases de donn\u00e9es"},{"location":"NSI/Terminale/C04/BasesSQL3/#suppression-de-lignes","text":"Pour supprimer des lignes selon une condition donn\u00e9e, on utilise l'ordre : DELETE FROM table WHERE conditions ; Exemple La requ\u00eate suivante : SELECT * FROM emprunt WHERE code_barre = '934701281931582' ; donne la table suivante en r\u00e9ponse : code_barre isbn retour 934701281931582 978-2260019183 2020-01-01 934701281931582 978-2371240087 2020-01-01 Pour supprimer la ligne r\u00e9f\u00e9ren\u00e7ant l'isbn 978-2260019183 : DELETE FROM emprunt WHERE code_barre = '934701281931582' AND isbn = '978-2260019183' ; On v\u00e9rifie ensuite : SELECT * FROM emprunt WHERE code_barre = '934701281931582' ; code_barre isbn retour 934701281931582 978-2371240087 2020-01-01 Quelques points de remarques L' oubli de la clause WHERE supprime toutes les donn\u00e9es de la table ! Cependant la table existe encore et il est possible d'ins\u00e9rer de nouvelles donn\u00e9es. Pour supprimer compl\u00e8tement une table, il faut utiliser l'instruction : DROP TABLE nom_table ; Il est impossible de supprimer une ligne dont l'absence violerait la contrainte de r\u00e9f\u00e9rences (cl\u00e9 \u00e9trang\u00e8re). Par exemple l'ordre suivant ne fonctionnera pas, car l'isbn donn\u00e9 est pr\u00e9sent dans la table emprunt : DELETE FROM livre WHERE isbn = '934701281931582' ; Tout ou rien Si un ordre pass\u00e9 devant supprimer plusieurs lignes rencontre \u00e0 un moment une erreur, alors toutes les suppressions effectu\u00e9es par cet ordre sont annul\u00e9es ! On parle d'\u00e9xecution de type \u00ab tout ou rien \u00bb.","title":"Suppression de lignes"},{"location":"NSI/Terminale/C04/BasesSQL3/#mise-a-jour-de-lignes","text":"Pour mettre \u00e0 jour des lignes, on utiise un ordre SQL de type : UPDATE nom_table SET attribut1 = nouvelle_valeur1 , attribut2 = nouvelle_valeur2 , ... WHERE conditions ; Exemple La requ\u00eate suivante : SELECT * FROM usager WHERE prenom = 'ALAIN' ; donne comme table r\u00e9sultat : nom prenom adresse cp ville email code_barre MOREAU ALAIN 48, Rue du Ch\u00e2teau 75005 Paris amoreau1@abc.de 421921003090881 Pour changer l'email de cet utilisateur, on peut utiliser l'ordre suivant : UPDATE usager SET email = 'alain.moreau@truc.com' WHERE code_barre = '421921003090881' ; et une nouvelle requ\u00eate de recherche renvoie bien comme table : nom prenom adresse cp ville email code_barre MOREAU ALAIN 48, Rue du Ch\u00e2teau 75005 Paris alain.moreau@truc.com 421921003090881","title":"Mise \u00e0 jour de lignes"},{"location":"NSI/Terminale/C04/BasesSQL3/#requetes-complexes","text":"","title":"Requ\u00eates complexes"},{"location":"NSI/Terminale/C04/BasesSQL3/#jointures","text":"Jusqu'\u00e0 pr\u00e9sent, les requ\u00eates que nous avons \u00e9crites ne n\u00e9cessitent que l'utilisation d'une seule et unique table. mais bien souvent, nous avons a effectuer de requ\u00eates r\u00e9cup\u00e9rant des donn\u00e9es de plusieurs tables simultan\u00e9ment. Pour effectuer une telle requ\u00eate il faudra utiliser une ou des jointures de tables .","title":"Jointures"},{"location":"NSI/Terminale/C04/BasesSQL3/#jointure-sur-deux-tables","text":"Jointure naturelle de deux tables Prenons l'exemple de deux tables, l'une nomm\u00e9e Personne contient les noms, pr\u00e9noms et \u00e2ge de membres de l'ordre Jedi, et la seconde nomm\u00e9e Rang les rangs Jedi ainsi que l'\u00e2ge minimum requis pour l'atteindre. Nous pouvons effectuer une jointure sur le crit\u00e8re de l'age, en cr\u00e9ant une table contenant toutes les lignes des rangs ayant pu \u00eatre atteints par une personne, sur le crit\u00e8re Personne.Age>Rang.age : On notera que pour \u00e9viter toute confusion, les deux colonnes Age originelles ont vu leurs noms pr\u00e9fix\u00e9s par leur table d'origine, avec la notation table.colonne . Une table de jointure telle que celle-ci sera construite gr\u00e2ce \u00e0 la clause suivante : Personne JOIN Rang ON Personne . Age > Rang . Age Il sera ensuite possible d'utiliser cette table au sein d'une clause SELECT . Exemples Pour conna\u00eetre la liste des livres emprunt\u00e9s, on utilisera l'ordre SQL suivant : SELECT * FROM emprunt JOIN livre ON emprunt . isbn = livre . isbn ; Il est bien s\u00fbr possible de projeter le r\u00e9sultat de la requ\u00eate et d'effectuer une s\u00e9lection. Par exemple pour conna\u00eetre la liste des personnes devant rendre au moins un livre avant le 01 f\u00e9vrier 2020 : SELECT DISTINCT usager . nom , usager . prenom , emprunt . retour FROM usager JOIN emprunt ON usager . code_barre = emprunt . code_barre WHERE emprunt . retour < '2020-02-01' ;","title":"Jointure sur deux tables"},{"location":"NSI/Terminale/C04/BasesSQL3/#jointures-sur-plusieurs-tables","text":"Exemple On souhaite conna\u00eetre les titre et les auteurs correspondant aux livres actuellement emprunt\u00e9s. Il faut donc faire une jointure sur les 4 tables livre , auteur , auteur_de et emprunt . La requ\u00eate a \u00e9crire va donc \u00eatre plus longue que celles vues jusqu'alors : SELECT livre . titre , auteur . nom , auteur . prenom FROM emprunt JOIN livre ON emprunt . isbn = livre . isbn JOIN auteur_de ON livre . isbn = auteur_de . isbn JOIN auteur ON auteur_de . a_id = auteur . a_id ; Alias des tables Certaines requ\u00eates deviennent rapidement p\u00e9nibles \u00e0 \u00e9crire. Pour simplifier un peu cette \u00e9criture, il est possible d'utiliser un alias pour les tables \u00e0 l'aide du mot-cl\u00e9 AS . Ainsi l'ordre pr\u00e9c\u00e9dent peut-\u00eatre \u00e9crit : SELECT l . titre , a . nom , a . prenom FROM emprunt AS e JOIN livre AS l ON e . isbn = l . isbn JOIN auteur_de AS ad ON l . isbn = ad . isbn JOIN auteur AS a ON ad . a_id = a . a_id ;","title":"Jointures sur plusieurs tables"},{"location":"NSI/Terminale/C04/BasesSQL3/#requetes-imbriquees","text":"Il est tout \u00e0 fait possible d'imbriquer des r\u00e9qu\u00eates les unes dans les autres, puisque le r\u00e9sultat d'une requ\u00eate est lui-m\u00eame une table temporaire : SELECT * FROM ( SELECT * FROM livre WHERE annee >= 1990 ) AS tmp WHERE tmp . annee <= 2000 ; Ici on cr\u00e9e une table temporaire alias\u00e9e par tmp , dans laquelle on stocke toute les lignes dont l'ann\u00e9e de publication est sup\u00e9rieure ou \u00e9gale \u00e0 1990, puis on effectue une nouvelle s\u00e9lection sur cette table temporaire en ne gardant que les lignes dont l'ann\u00e9e de publication est inf\u00e9rieure ou \u00e9gale \u00e0 2000. Analyse par un SGBD UN SGBD analysera cette requ\u00eate exactement de la m\u00eame mani\u00e8re qu'il analysera la suivante : SELECT * FROM livre WHERE annee >= 1990 AND annee <= 2000 ; Il n'y aura aucune diff\u00e9rence entre les deux en terme de vitesse de traitement. Il est aussi possible d'imbriquer des requ\u00eates dans la clause WHERE , en respectant certaines conditions. Par exemple pour conna\u00eetre la liste des livres dont l'ann\u00e9e est la plus ancienne dans la base, on va utiliser : SELECT titre , annee FROM livre WHERE annee = ( SELECT MIN ( annee ) FROM livre ); Ecrire une requ\u00eate imbriqu\u00e9e Enonc\u00e9 Solution Ecrire une requ\u00eate SQL donnant la liste des livres publi\u00e9s la m\u00eame ann\u00e9e que le livre dont le titre contient la cha\u00eene de caract\u00e8re 'Jack Barron' . SELECT titre FROM livre WHERE annee = ( SELECT annee FROM livre WHERE titre LIKE '%Jack Barron%' );","title":"Requ\u00eates imbriqu\u00e9es"},{"location":"NSI/Terminale/C04/BasesSQL3/#exercices","text":"Effectuer les requ\u00eates avec jointures du notebokk jeux olympiques (Code 917a-165474 ) (merci M. Leleu).","title":"Exercices"},{"location":"NSI/Terminale/C04/ModeleRelationnel/","text":"Bases de donn\u00e9es et mod\u00e8le relationnel L'ensemble du chapitre est fortement influenc\u00e9 par : Num\u00e9rique et Sciences Informatique Tle : 24 le\u00e7ons avec exercices corrig\u00e9s , Balabonski, Conchon, Filli\u00e2tre, Nguyen, \u00e9ditions Ellipses Bases de donn\u00e9es, de la mod\u00e9lisation au SQL , Laurent Audibert, \u00e9ditions Ellipses Introduction aux bases de donn\u00e9es, types de mod\u00e8les Les bases de donn\u00e9es Il est difficile de proposer une d\u00e9finition exacte des bases de donn\u00e9es. Laurent Audibert 2 propose : D\u00e9finition g\u00e9n\u00e9rale Un ensemble organis\u00e9 d'informations avec un objectif commun. La d\u00e9finition est vague, mais d\u00e8s lors que des informations sont rassembl\u00e9es et stock\u00e9es d'une mani\u00e8re organis\u00e9e , on peut parler de bases de donn\u00e9es , quel que soit le support utilis\u00e9 (tablettes d'argile, papiers, fichiers, etc...) Bien entendu l'informatique, c'est-\u00e0-dire la science du traitement automatique de l'information, permet le traitement de grandes quantit\u00e9s d'informations, et surtout leur exploitation (ajout, suppression, mise \u00e0 jour, recherches, ...). Dans le cadre informatique, Laurent Audibert 2 propose : Base de donn\u00e9es informatis\u00e9es Une base de donn\u00e9es ( BDD , en anglais DataBase soit DB ) informatis\u00e9e est un ensemble structur\u00e9 de donn\u00e9es enregistr\u00e9es sur des supports accessibles par l'ordinateur, repr\u00e9sentant des informations du monde r\u00e9el et pouvant \u00eatre interrog\u00e9es et mise \u00e0 jour par une communaut\u00e9 d'utilisateurs. Nous verrons que cette d\u00e9finition impose un certain nombre de contraintes \u00e0 la mise en place des BDD informatis\u00e9es. La premi\u00e8re est la question de la coh\u00e9rence des donn\u00e9es . Exemple : Bases de donn\u00e9es musicales 2 Prenons l'exemple d'une base de donn\u00e9es contenant des albums musicaux, et qui m\u00e9morise pour chaque album son genre, son titre, et le nom du groupe ainsi que le nom du chanteur principal. L'id\u00e9e de base est de pr\u00e9senter les donn\u00e9es sous la forme d'une table, comme dans l'extrait ci-dessous : Genre Titre Groupe Chanteur Stoner Era Vulgaris Queen Of The Stone Age Josh Homme Metal Master of Puppets Metallica Metal Them Crooked Vultures Them Crooked Vultures Josh Homme Metal L'Enfant sauvage GOJIRA Jo Duplantier Stoner Dying surfer meet his maker All Them Withches Charles Michael Parks Jr M\u00e9tal Fortitude Gojira Joseph Duplantier Stoner Rock Nothing as the ideal All Them Withches Charles Michael Parks Jr Metal Progressif Magma Gojira Joseph DUPLANTIER La condition sine qua none pour garantir la faisabilit\u00e9 et la pertinence d'une recherche de donn\u00e9es est la coh\u00e9rence de ces donn\u00e9es . Ici on constate plusieurs probl\u00e8mes de coh\u00e9rence : Le nom du groupe Gojira est orthographi\u00e9 de deux mani\u00e8res diff\u00e9rentes. Une recherche utilisant la cha\u00eene de caract\u00e8res Gojira ne donnera que deux r\u00e9sultats, alors que trois peuvent \u00eatre attendus. Le genre Metal est aussi orthographi\u00e9 de deux mani\u00e8res diff\u00e9rentes. On notera qu'une recherche stricte avec la cha\u00eene Metal , c'est-\u00e0-dire bas\u00e9e sur l'\u00e9galit\u00e9, ne donnera que deux r\u00e9sultats, alors qu'une recherche \u00e9tendue, c'est-\u00e0-dire bas\u00e9e sur l'appartenance de la sous-cha\u00eene Metal \u00e0 la cha\u00eene donnant le genre, renverra elle trois r\u00e9sultats. Le nom du chanteur de Gojira est \u00e9crit de trois mani\u00e8res diff\u00e9rentes. On peut aussi noter que le nom du chanteur de Metallica n'est pas renseign\u00e9, ce qui eput peut-\u00eatre poser un probl\u00e8me de coh\u00e9rence. Ces probl\u00e8mes de coh\u00e9rence sont li\u00e9s (en partie), \u00e0 un probl\u00e8me de redondance des donn\u00e9es : en effet dans la table telle qu'elle est pr\u00e9sent\u00e9e, on va devoir saisir plusieurs fois les cha\u00eenes telles que Metal et Gojira , alors qu'elles ne repr\u00e9sentent bien qu'une seule entit\u00e9 chacune. Pour r\u00e9gler la question de la coh\u00e9rence des donn\u00e9es , il faudra en premier lieu trouver un moyen d'\u00e9viter la redondance de certaines donn\u00e9es. Historique et probl\u00e9matiques des diff\u00e9rents mod\u00e8les Mod\u00e8les de donn\u00e9es et structures de donn\u00e9es Ces deux concepts se placent \u00e0 diff\u00e9rents niveaux d'abstraction. Les mod\u00e8les de donn\u00e9es indique quelles caract\u00e9ristiques d'une entit\u00e9 r\u00e9elle on souhaite manipuler dans un programme, ainsi que les relations qui lient ces entit\u00e9s entre elles. Par exemple un groupe de musique va produire plusieurs albums, et un chanteur peut chanter dans plusieurs groupes. Une structure de donn\u00e9e indique la mani\u00e8re dont on va organiser les donn\u00e9es en machine . Ainsi pour un m\u00eame mod\u00e8le il existe plusieurs structures pouvant repr\u00e9senter ce mod\u00e8le (tableau, listes cha\u00een\u00e9es, objets...) Le premier mod\u00e8le ayant souhait\u00e9 s'attaquer au probl\u00e8me de la redondance des donn\u00e9es est le mod\u00e8le hi\u00e9rarchique , d\u00e9velopp\u00e9 par IBM dans les ann\u00e9es 1960, dans le cadre du programme Apollo de la NASA. Ce mod\u00e8le, tr\u00e8s d\u00e9pendant de la mani\u00e8re dont fonctionnait les ordinateurs de cette \u00e9poque, enregistre les donn\u00e9es \u00e0 la mani\u00e8re de l'organisation d'un syst\u00e8me de fichier, sous la forme d'un arbre ( structure arborescente ), de fa\u00e7on \u00e0 ce qu'un enregistrement n'ait qu'un seul possesseur. On peut en donner un exemple ci-dessous : ce type de mod\u00e8le peut \u00eatre pratique, mais il ne r\u00e9pond pas \u00e0 toutes les probl\u00e9matiques . En effet, ici nous n'avons pas introduit dans la hi\u00e9rarchie les leads vocaux. Voici ce que donne le sch\u00e9ma lorsqu'on les introduits : On constate ici que le choix d'organisation de l'arbre ne permet pas de r\u00e9gler la redondance des donn\u00e9es, puisque non seulement un m\u00eame chanteur peut \u00eatre lead vocal sur plusieurs albums, mais il peut l'\u00eatre aussi sur plusieurs groupes (comme Josh Homme par exemple). La structure hi\u00e9rarchique n'est ici pas adapt\u00e9e. Une des solutions propos\u00e9e pour ce probl\u00e8me a \u00e9t\u00e9 le mod\u00e8le r\u00e9seau , propos\u00e9 par Charles William Bachman \u00e0 la fin des ann\u00e9es 1960 2 . C.W. Bachman re\u00e7u le Prix Turing en 1973 pour ses contributions sur les technologies des bases de donn\u00e9es. On lui doit aussi le mod\u00e8le OSI (voir le cours de premi\u00e8re...). Une repr\u00e9sentation de nos albums dans le mod\u00e8le r\u00e9seau est la suivante : Ainsi, la redondance des donn\u00e9es n'est plus un probl\u00e8me. Cependant, le mod\u00e8le r\u00e9seau n'est pas un mod\u00e8le toujours efficace, puisque pour retrouver une donn\u00e9e (un chanteur par exemple), il faut conna\u00eetre la structure de ce r\u00e9seau, c'est-\u00e0-dire les liaisons existantes, ce qui rend les programmeurs d\u00e9pendants de la structure de donn\u00e9e . Le mod\u00e8le relationnel Historique Chercheur au centre de recherche d'IBM, Edgar Frank Codd , insatisfait des mod\u00e8les existant, chercha un mod\u00e8le plus simple permettant de g\u00e9rer un grand nombre de donn\u00e9es. Math\u00e9maticien de formation, il se basa sur la th\u00e9orie des ensembles et la logique des pr\u00e9dicats ( logique de premier ordre ) pour publier en 1970 un article 3 o\u00f9 il proposait de stocker des donn\u00e9es h\u00e9t\u00e9rog\u00e8nes dans des tables , comme dans le sch\u00e9ma ci-dessous : Ce mod\u00e8le, qualifi\u00e9 de relationnel \u00e9tait \u00e0 l'\u00e9poque consid\u00e9r\u00e9 comme une curiosit\u00e9 intellectuelle, car les ordinateurs en ce temps n'\u00e9taient pas capables de g\u00e9rer de mani\u00e8re efficace des tables de donn\u00e9es, et il n'\u00e9tait pas \u00e9vident qu'ils le soient un jour. Ce scepticisme n'a pas emp\u00each\u00e9 Codd de poursuivre ses travaux, et de concevoir un premier prototype de Syt\u00e8me de Gestion de Bases de Donn\u00e9es Relationnelles ( SGBDR ). Depuis les ann\u00e9es 1980 cette technologie a m\u00fbri, pour \u00eatre finalement adopt\u00e9e par le monde de la recherche et des entreprises. En parall\u00e8le, Codd mis au point un langage de manipulation des donn\u00e9es non-proc\u00e9dural , o\u00f9 l'utilisateur d\u00e9finit le r\u00e9sultat qu'il attend plut\u00f4t que la mani\u00e8re de l'obtenir . Ce langage nomm\u00e9 dans un premier temps SEQUEL ( Structured English Query Language ), rebaptis\u00e9 par la suite SQL ( Structured Query Language ), fut adopt\u00e9 comme norme internationale par l'ISO en 1987. Principes, vocabulaires et d\u00e9finitons Imaginons la situation d'une m\u00e9diath\u00e8que municipale classique, pour lequel nous souhaitons mettre en place un syst\u00e8me d'information . Ce syst\u00e8me doit pouvoir g\u00e9rer l'emprunt et le retour de livres par un utilisateur inscrit. Ainsi, un utilisateur, Bob, va pouvoir s'inscrire \u00e0 la m\u00e9diath\u00e8que. On lui demandera : son nom ; son pr\u00e9nom ; son email ; son code postal (les tarifs d'abonnement sont diff\u00e9rents selon la commune de r\u00e9sidence); son adresse exacte. Le syst\u00e8me ne retiendra de lui que ces \u00e9l\u00e9ments, avec la date d'inscription. Sa taille, couleur des yeux ou cheveux, n'ont aucune importance dans le syst\u00e8me. Le syst\u00e8me ne retiens qu'une approximation de la r\u00e9alit\u00e9. Une fois inscrit, Bob se voit remettre une carte contenant un code-barre , c'est-\u00e0-dire un num\u00e9ro unique qui est attribu\u00e9 \u00e0 Bob. Bob peut alors emprunter le livre \u00ab Apprendre \u00e0 programmer avec Python 3: Avec 60 pages d'exercices corrig\u00e9s ! \u00bb de Gerard Swinnen, Eyrolles, 2012, ISBN 978-2212134346. Sur le livre est aussi plac\u00e9 un code-barre , qui identifie le livre de mani\u00e8re unique. En scannant ce code barre et sa carte de biblioth\u00e8que sur une des bornes disponible, le syst\u00e8me devra retenir que Bob a emprunt\u00e9 ce livre \u00e0 la date du jour. De la m\u00eame mani\u00e8re, lorqu'il reviens quelques semaines plus trad, il doit pouvoir rendre ce livre en scannant sa carte et le livre, et le syst\u00e8me doit retenir que le livre est \u00e0 nouveau disponible et que Bob a de nouveau le droit d'emprunter d'autres livres. Bien entendu, d'autres utilisateurs doivent pouvoir faire des emprunts et des restitutions au m\u00eame moment sur d'autres bornes de la m\u00e9diath\u00e8que, ce qui signifie que les donn\u00e9es doivent pouvoire \u00eatre accessibles depuis un r\u00e9seau a minima local . De plus les documentalistes doivent pouvoir ajouter de nouveaux ouvrages, en supprimer certains trop anciens ou abim\u00e9s, et mettre \u00e0 jour l'ensemble des utilisateurs. Ces derni\u00e8re op\u00e9rations ne devant pas \u00eatre accessibles aux usagers, il faudra mettre en place un syst\u00e8me de droits d'acc\u00e8s . Entit\u00e9s Dans le mod\u00e8le relationnel, un objet mod\u00e9lis\u00e9 est appel\u00e9 entit\u00e9 . Il est repr\u00e9sent\u00e9 par un n-uplet de valeurs. Exemple Le livre emprunt\u00e9 par Bob peut-\u00eatre repr\u00e9sent\u00e9 par le quintuplet : ('Apprendre \u00e0 programmer avec Python 3: Avec 60 pages d'exercices corrig\u00e9s !', 'Gerard Swinnen', 'Eyrolles', 2012, '978-2212134346') Dans ce quintuplet, 4 composantes sont des cha\u00eenes de caract\u00e8res, et une seule est sous la forme d'un entier. Relation Une collection d'entit\u00e9s est appel\u00e9e une relation . Exemple La relation Livre de la m\u00e9diath\u00e8que peut \u00eatre repr\u00e9sent\u00e9e par : Livre = { ('Apprendre \u00e0 programmer avec Python 3: Avec 60 pages d'exercices corrig\u00e9s !', 'Gerard Swinnen', 'Eyrolles', 2012, '978-2212134346'), ('Bases de donn\u00e9es, de la mod\u00e9lisation au SQL', 'Laurent Audibert', 'Ellipses' , 2009, '978-2729851200'), ... } Sch\u00e9ma relationnel, attributs Chaque relation se conforme \u00e0 un sch\u00e9ma . Ce dernier est une description, qui indique pour chaque composante des n-uplets de la relation leur nom et leur domaine , c'est-\u00e0-dire le type de valeurs que peuvent prendre les composantes. Chaque composante s'appelle un attribut . Exemple La relation Livre contient 5 attributs : titre : le titre du livre, qui est une cha\u00eene de caract\u00e8res ; auteur : le ou les auteurs du livre, sous la forme d'une cha\u00eene de caract\u00e8res ; \u00e9diteur : l'\u00e9diteur, sous la forme d'une cha\u00eene de caract\u00e8res ; ann\u00e9e : l'ann\u00e9e d'\u00e9dition, sous la forme d'un entier ; ISBN : l'identifiant du livre, sous la forme d'une cha\u00eene de caract\u00e8res. On peut aussi noter un sch\u00e9ma de relation de la mani\u00e8re suivante: Livre( titre String , auteur String , \u00e9diteur String , ann\u00e9e Int , ISBN String ) ou par un tableau : Base de donn\u00e9es Dans le mod\u00e8le relationnel, une base de donn\u00e9es est un ensemble de relations. Par extension, le sch\u00e9ma d'une base de donn\u00e9e est l'ensemble des sch\u00e9mas relationnels repr\u00e9sentant la base. Exemple Dans notre exemple de m\u00e9diath\u00e8que, on pourra consid\u00e9r\u00e9r la base de donn\u00e9es contenant les relations : Livre Usager Emprunt Nous d\u00e9taillerons dans la suite les attributs des relations Usager et Emprunt . Mod\u00e9lisation relationnelle des donn\u00e9es La th\u00e9orie et la pratique des bases de donn\u00e9es relationnelles est un domaine de recherche fortement actif et qui s'est largement complexifi\u00e9 depuis ses d\u00e9buts. Il ne s'agit pas dans ce cours d'\u00e9tudier cette th\u00e9orie, qui d\u00e9passe largement le niveau de terminale, aussi bien d'un point de vue math\u00e9matique que informatique, mais d'en comprendre quelques principes. principes g\u00e9n\u00e9raux La mod\u00e9lisation des donn\u00e9es se d\u00e9compose en plusieurs \u00e9tapes : d\u00e9terminer les entit\u00e9s qu'on souhaite manipuler ; mod\u00e9liser les collections d'entit\u00e9s en relations , en donnant leur sch\u00e9ma relationnel , et en veillant \u00e0 choisir le bon domaine pour les attributs . d\u00e9finir les contraintes de la base de donn\u00e9es, c'est-\u00e0-dire l'ensemble des propri\u00e9t\u00e9s logiques que les donn\u00e9es doivent v\u00e9rifier \u00e0 tout moment. En particulier on veillera aux contraintes d'int\u00e9grit\u00e9 d\u00e9crites ci-dessous qui garantissent la coh\u00e9rence des donn\u00e9es . Contraintes de domaines Essayons de pr\u00e9ciser davantage la relation Usager . Dans la description que nous en avons donn\u00e9, nous pouvons d\u00e9finir quelques attributs : nom : le nom de la personne, une cha\u00eene de caract\u00e8res ; pr\u00e9nom : le pr\u00e9nom de la personne, une cha\u00eene de caract\u00e8res ; email : l'email de la personne, une cha\u00eene de caract\u00e8res ; cp : le code postal de la commune de r\u00e9sidence, une chaine de caract\u00e8res . On peut s'\u00e9tonner de stocker le code postal sous la forme d'une cha\u00eene de caract\u00e8re, et pas d'un entier. Mais il faut prendre en compte certaines particularit\u00e9s : un code postal est un code de 5 chiffres. Celui de Guingamp est 22 200, et celui de Bourg-en-Bresse est 01 000. Or les z\u00e9ros pr\u00e9c\u00e9dants le nombres sont \u00e9limin\u00e9s si on stocke le nombre sous la forme d'un entier! On est alors oblig\u00e9 d'utiliser une cha\u00eene de caract\u00e8res de taille 5. Types de donn\u00e9es Nous verrons dans la partie SQL quelques types de donn\u00e9es sp\u00e9cifiques, mais nous pouvons donner quelques types g\u00e9n\u00e9riques souvent utilis\u00e9s dans les BDD : Type Utilisation String cha\u00eenes de caract\u00e8res Int les entiers sign\u00e9s (d'une taille arbitraire) Boolean les bool\u00e9ens True et False Float les flottants Date les dates (sous le format JJ/MM/AAAA ) 4 Time les instants heure : minutes : secondes Contraintes de domaines Les contraintes de domaines sont toutes les propri\u00e9t\u00e9s que le domaine d'un attribut va permettre de garantir. Elles sont souvent plus pr\u00e9cises que le simple choix d'un type de donn\u00e9es. Par exemple, une contrainte de domaine sur l'\u00e2ge d'une personne ne peut se contenter d'utiliser le type Int . Il faudra en plus \u00e9liminer les valeurs n\u00e9gatives ainsi que les valeurs sup\u00e9rieures \u00e0 120 (en \u00e9tant large...) On termine la mod\u00e9lisation de la relation Usager en ajoutant les attrtibuts : adresse : l'adresse de l'usager, de format String ; inscription : la date d'inscription, au format Date ; code_barre : le code-barre de la carte qui lui a \u00e9t\u00e9 attribu\u00e9e, au format String (pour les m\u00eame raisons que l'attribut cp ) On obtient alors le sch\u00e9ma relationnel suivant : Usager(nom String , pr\u00e9nom String , email String , cp String , adresse String , inscription Date , code_barre String ) ou bien le tableau : Contraintes de relations Imaginons que nous n'ayons utilis\u00e9 dans la relation Usager comme attributs que le nom et le pr\u00e9nom. Si deux personnes nomm\u00e9es Jean Dupont veulent s'inscrire \u00e0 la m\u00e9diath\u00e8que, il y aura dans la relation deux entit\u00e9s identiques, ce qui risque de causer des probl\u00e8mes. Ce serait une violation de la contrainte de relation . Contrainte de relation Lors de la mod\u00e9lisation d'une relation, il faut s'assurer que, pour chaque entit\u00e9 , un attribut ou un ensemble d'attributs permet d'identifier cette entit\u00e9 de mani\u00e8re unique . Un tel attribut ou ensemble d'attributs s'appelle une cl\u00e9 primaire de la relation, et est signal\u00e9 par un soulignement en traits pleins dans le sch\u00e9ma relationnel. Exemple Dans le cas de notre relation Usager : les attributs nom , pr\u00e9nom , cp , inscription , adresse , pris seuls, ne peuvebnt en aucun cas assurer le respect de la contrainte de relation. Ils ne peuvent donc pas \u00eatre choisis comme cl\u00e9 primaire; l'attribut email pourrait \u00eatre pertinent, mais ce choix emp\u00e8cherait un parent de fournir son email pour l'inscription de son enfant. reste l'attribut code_barre , qui a priori, si le syst\u00e8me est correctement configur\u00e9, est bien unique pour chaque usager. Il peut donc \u00eatre choisi comme cl\u00e9 primaire, ce qu_i donne le sch\u00e9ma relationnel suivant : Usager(nom String , pr\u00e9nom String , email String , cp String , adresse String , inscription Date , code_barre String ) ou bien : Relation Livre Quel choix raisonnable pouvons nous faire pour la cl\u00e9 primaire de la relation Livre ? Un choix Le choix de l'attribut ISBN comme cl\u00e9 primaire semble \u00eatre une bonne id\u00e9e, tant que la m\u00e9diath\u00e8que ne commande pas plusieurs ouvrages identiques. Dans ce cas, il faudra rajouter \u00e0 la relation un code-barre sp\u00e9cifique \u00e0 la m\u00e9diath\u00e8que. Mais nous consid\u00e9rerons que tel n'est pas le cas, et la relation sera donc : Livre( titre String , auteur String , \u00e9diteur String , ann\u00e9e Int , ISBN String ) ou bien : Contraintes de r\u00e9f\u00e9rences Prnons la relation Emprunt , que nous n'avons pas encore d\u00e9finie. Quel r\u00f4le doit-elle jouer ? Elle doit servir de lien entre une entit\u00e9 de la relation Usager , une entit\u00e9 de la relation Livre , et fournir une date de retour pr\u00e9vue pour le livre emprunt\u00e9. Une version na\u00efve serait d'utiliser pour une entit\u00e9 de la relation Emprunt un n-uplet de la forme : ('Dupont', 'Jean', 'Apprendre \u00e0 programmer avec Python 3', 20/12/2021 ) Cependant ce type de n-uplet ne permet pas d'identifier de mani\u00e8re unique l'usager, comme nous l'avons vu dans les contraintes de relations . Il pourrait-y-avoir plusieurs Jean Dupont, alors que la relation Emprunt doit permettre d'identifier de mani\u00e8re unique une entit\u00e9 d' Usager ainsi qu'une de Livre . Il serait ainsi largement pr\u00e9f\u00e9rable d'utiliser les cl\u00e9s primaires ddes relations Usager et Livre dans la relation Emprunt , de la mani\u00e8re suivante : Emprunt(code_barre String , ISBN String , retour Date ) code_barre \u00e9tant la cl\u00e9 primaire de la relation Usager , elle doit par contrainte de relations identifier de mani\u00e8re unique une entit\u00e9 de cette relation. Il en est de m\u00eame pour ISBN , qui est la cl\u00e9 primaire de Livre . Cl\u00e9 \u00e9trang\u00e8re On appelle cl\u00e9 \u00e9trang\u00e8re d'une relation un attribut faisant r\u00e9f\u00e9rence \u00e0 la cl\u00e9 primaire d'une autre relation. Une cl\u00e9 \u00e9trang\u00e8re est signal\u00e9e dans un sch\u00e9ma relationnel par un soulignement en traits pointill\u00e9s . Dans notre exemple de la relation Emprunt : Emprunt( code_barre String , ISBN String , retour Date ) Le fait d'utiliser des cl\u00e9s \u00e9trang\u00e8res nous permet de garantir ici un certain nombre de points : un emprunteur sera forc\u00e9ment un usager inscrit. Il ne sera pas possible de saisir une valeur fictive pour l'attribut code_barre ; de la m\u00eame mani\u00e8re, on a une contrainte de r\u00e9f\u00e9rence sur l'attribut ISBN , qui doit forc\u00e9ment \u00eatre la r\u00e9f\u00e9rence \u00e0 une entit\u00e9 de la relation Livre . de mani\u00e8re encore plus importante, l'utilisation d'une cl\u00e9 \u00e9trang\u00e8re interdira de supprimer une entit\u00e9 Usager si elle est r\u00e9f\u00e9renc\u00e9e dans la relation Emprunt . On aurait une violation de la contrainte de r\u00e9f\u00e9rence . Cependant notre travail n'est pas termin\u00e9 pour la mod\u00e9lisation de la relation Emprunt . En effet, nous n'avons pas d\u00e9fini de cl\u00e9 primaire de cette relation : il serait peu judicieux d'utiliser l'attribut code_barre comme cl\u00e9 primaire, puisque celle-ci devant \u00eatre unique, un usager ne pourrait emprunter qu'un unique livre ; plusiurs emprunts pouvant avoir la m\u00eame date de retour, il est impossible d'utiliser l'attribut retour ; il est par contre possible d'utiliser comme cl\u00e9 primaire l'attribut isbn , celui-ci ne pouvant \u00eatre qu'unique, il granati le fait qu'un livre ne puisse \u00eatre emprunt\u00e9 que par un usager \u00e0 la fois. On obtient ainsi le sch\u00e9ma relationnel suivant : Emprunt( code_barre String , ISBN String , retour Date ) ou bien : Une erreur de mod\u00e9lisation ? Dans la mod\u00e9lisation actuelle de la relation Livre , nous avons toujours un probl\u00e8me de coh\u00e9rence et de redondance des donn\u00e9es. En effet, nous avons \u00e9crit la liste des auteurs comme une cha\u00eene de caract\u00e8res. Si cette mod\u00e9lisation fonctionne, elle ne permet pas d'exprimer certaines contraintes sur les donn\u00e9es, par exemple qu'un m\u00eame auteur n'appara\u00eet pas deux fois dans le m\u00eame livre. On va donc simplifier la relation Livre de la mani\u00e8re suivante : Livre(titre : String, \u00e9diteur : String, ann\u00e9e : Int, ISBN : String ) Enonc\u00e9 Solution Cr\u00e9er une relation Auteur qui devra retenir les informations importantes sur un auteur. Cr\u00e9er une relation Auteur_de permettant de lier un auteur \u00e0 un livre. Pr\u00e9senter le sch\u00e9ma global de la base de donn\u00e9es Usager(nom String , pr\u00e9nom String , email String , cp String , adresse String , inscription Date , code_barre String ) Livre(titre String , \u00e9diteur String , ann\u00e9e Int , ISBN String ) Emprunt( code_barre String , ISBN String , retour Date ) Auteur( idA Int , nom String , prenom String ) Auteur_de( idA Int , ISBN String Ou le sch\u00e9ma complet : Vous remarquerez qu'on a choisi comme cl\u00e9 primaire pour la relation Auteur_de le 2-uplet (idA, ISBN) . En effet : on ne peut pas choisir simplement idA , car un auteur peut-\u00eatre l'auteur de plusieurs livres ; on ne peut pas choisir simplement ISBN , car un livre peut avoir plusieurs auteurs. Par contre le 2-uplet (idA, ISBN) garanti bien la pr\u00e9servation des diff\u00e9rentes contraintes. Exercices Exercice 1 Enonc\u00e9 Solution On souhaite mod\u00e9liser un annuaire t\u00e9l\u00e9phonique simple, dans lequel chaque personne (identifi\u00e9e par son nom et son pr\u00e9nom) est associ\u00e9e \u00e0 son num\u00e9ro de t\u00e9l\u00e9phone. Proposer une mod\u00e9lisation relationnelle de cet annuaire. A venir Exercice 2 Enonc\u00e9 Solution Donner la mod\u00e9lisation d'un bulletin scolaire. Cette derni\u00e8re doit permettre de mentionner : des \u00e9l\u00e8ves, chacun poss\u00e9dant un identifiant alphanum\u00e9rique unique ; un ensemble de mati\u00e8res fix\u00e9es, mais qui ne sont pas donn\u00e9es ; au plus une note sur 20 par mati\u00e8re et par \u00e9l\u00e8ve. A venir Exercice 3 Enonc\u00e9 Solution Proposer une mod\u00e9lisation pour le r\u00e9seau de m\u00e9tro et bus de la ville de Rennes (dont le plan est disponible ici ). Cette derni\u00e8re doit \u00eatre suffisamment riche pour permettre de g\u00e9n\u00e9rer, pour chaque arr\u00eat de bus, une fiche donnant les horaires de passage de toutes les lignes qui d\u00e9servent l'arr\u00eat. La mod\u00e9lisation de ce r\u00e9seau n\u00e9cessite une r\u00e9flexion au pr\u00e9alable sur la pertinence des informations \u00e0 mod\u00e9liser ! A venir Num\u00e9rique et Sciences Informatique Tle : 24 le\u00e7ons avec exercices corrig\u00e9s , Balabonski, Conchon, Filli\u00e2tre, Nguyen, \u00e9ditions Ellipses \u21a9 Bases de donn\u00e9es, de la mod\u00e9lisation au SQL , Laurent Audibert, \u00e9ditions Ellipses \u21a9 \u21a9 \u21a9 \u21a9 https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.86.9277 \u21a9 les formats choisis pour les dates dans les bases de donn\u00e9es sont des sujets \u00e9pineux. Pour nous fran\u00e7ais, il est \u00e9vident d'utiliser JJ/MM/AAAA ou JJ/MM/AA. Pour un Etats-Unien, ce sera MM/JJ/AAAA. Pour d'autres ce sera AAAA/MM/JJ... Un grand nombre de m\u00e8mes de la communaut\u00e9 des programmeurs jouent sur la probl\u00e9matique des formats de dates et d'heures... \u21a9","title":"Mod\u00e8le relationnel"},{"location":"NSI/Terminale/C04/ModeleRelationnel/#bases-de-donnees-et-modele-relationnel","text":"L'ensemble du chapitre est fortement influenc\u00e9 par : Num\u00e9rique et Sciences Informatique Tle : 24 le\u00e7ons avec exercices corrig\u00e9s , Balabonski, Conchon, Filli\u00e2tre, Nguyen, \u00e9ditions Ellipses Bases de donn\u00e9es, de la mod\u00e9lisation au SQL , Laurent Audibert, \u00e9ditions Ellipses","title":"Bases de donn\u00e9es et mod\u00e8le relationnel"},{"location":"NSI/Terminale/C04/ModeleRelationnel/#introduction-aux-bases-de-donnees-types-de-modeles","text":"","title":"Introduction aux bases de donn\u00e9es, types de mod\u00e8les"},{"location":"NSI/Terminale/C04/ModeleRelationnel/#les-bases-de-donnees","text":"Il est difficile de proposer une d\u00e9finition exacte des bases de donn\u00e9es. Laurent Audibert 2 propose : D\u00e9finition g\u00e9n\u00e9rale Un ensemble organis\u00e9 d'informations avec un objectif commun. La d\u00e9finition est vague, mais d\u00e8s lors que des informations sont rassembl\u00e9es et stock\u00e9es d'une mani\u00e8re organis\u00e9e , on peut parler de bases de donn\u00e9es , quel que soit le support utilis\u00e9 (tablettes d'argile, papiers, fichiers, etc...) Bien entendu l'informatique, c'est-\u00e0-dire la science du traitement automatique de l'information, permet le traitement de grandes quantit\u00e9s d'informations, et surtout leur exploitation (ajout, suppression, mise \u00e0 jour, recherches, ...). Dans le cadre informatique, Laurent Audibert 2 propose : Base de donn\u00e9es informatis\u00e9es Une base de donn\u00e9es ( BDD , en anglais DataBase soit DB ) informatis\u00e9e est un ensemble structur\u00e9 de donn\u00e9es enregistr\u00e9es sur des supports accessibles par l'ordinateur, repr\u00e9sentant des informations du monde r\u00e9el et pouvant \u00eatre interrog\u00e9es et mise \u00e0 jour par une communaut\u00e9 d'utilisateurs. Nous verrons que cette d\u00e9finition impose un certain nombre de contraintes \u00e0 la mise en place des BDD informatis\u00e9es. La premi\u00e8re est la question de la coh\u00e9rence des donn\u00e9es . Exemple : Bases de donn\u00e9es musicales 2 Prenons l'exemple d'une base de donn\u00e9es contenant des albums musicaux, et qui m\u00e9morise pour chaque album son genre, son titre, et le nom du groupe ainsi que le nom du chanteur principal. L'id\u00e9e de base est de pr\u00e9senter les donn\u00e9es sous la forme d'une table, comme dans l'extrait ci-dessous : Genre Titre Groupe Chanteur Stoner Era Vulgaris Queen Of The Stone Age Josh Homme Metal Master of Puppets Metallica Metal Them Crooked Vultures Them Crooked Vultures Josh Homme Metal L'Enfant sauvage GOJIRA Jo Duplantier Stoner Dying surfer meet his maker All Them Withches Charles Michael Parks Jr M\u00e9tal Fortitude Gojira Joseph Duplantier Stoner Rock Nothing as the ideal All Them Withches Charles Michael Parks Jr Metal Progressif Magma Gojira Joseph DUPLANTIER La condition sine qua none pour garantir la faisabilit\u00e9 et la pertinence d'une recherche de donn\u00e9es est la coh\u00e9rence de ces donn\u00e9es . Ici on constate plusieurs probl\u00e8mes de coh\u00e9rence : Le nom du groupe Gojira est orthographi\u00e9 de deux mani\u00e8res diff\u00e9rentes. Une recherche utilisant la cha\u00eene de caract\u00e8res Gojira ne donnera que deux r\u00e9sultats, alors que trois peuvent \u00eatre attendus. Le genre Metal est aussi orthographi\u00e9 de deux mani\u00e8res diff\u00e9rentes. On notera qu'une recherche stricte avec la cha\u00eene Metal , c'est-\u00e0-dire bas\u00e9e sur l'\u00e9galit\u00e9, ne donnera que deux r\u00e9sultats, alors qu'une recherche \u00e9tendue, c'est-\u00e0-dire bas\u00e9e sur l'appartenance de la sous-cha\u00eene Metal \u00e0 la cha\u00eene donnant le genre, renverra elle trois r\u00e9sultats. Le nom du chanteur de Gojira est \u00e9crit de trois mani\u00e8res diff\u00e9rentes. On peut aussi noter que le nom du chanteur de Metallica n'est pas renseign\u00e9, ce qui eput peut-\u00eatre poser un probl\u00e8me de coh\u00e9rence. Ces probl\u00e8mes de coh\u00e9rence sont li\u00e9s (en partie), \u00e0 un probl\u00e8me de redondance des donn\u00e9es : en effet dans la table telle qu'elle est pr\u00e9sent\u00e9e, on va devoir saisir plusieurs fois les cha\u00eenes telles que Metal et Gojira , alors qu'elles ne repr\u00e9sentent bien qu'une seule entit\u00e9 chacune. Pour r\u00e9gler la question de la coh\u00e9rence des donn\u00e9es , il faudra en premier lieu trouver un moyen d'\u00e9viter la redondance de certaines donn\u00e9es.","title":"Les bases de donn\u00e9es"},{"location":"NSI/Terminale/C04/ModeleRelationnel/#historique-et-problematiques-des-differents-modeles","text":"Mod\u00e8les de donn\u00e9es et structures de donn\u00e9es Ces deux concepts se placent \u00e0 diff\u00e9rents niveaux d'abstraction. Les mod\u00e8les de donn\u00e9es indique quelles caract\u00e9ristiques d'une entit\u00e9 r\u00e9elle on souhaite manipuler dans un programme, ainsi que les relations qui lient ces entit\u00e9s entre elles. Par exemple un groupe de musique va produire plusieurs albums, et un chanteur peut chanter dans plusieurs groupes. Une structure de donn\u00e9e indique la mani\u00e8re dont on va organiser les donn\u00e9es en machine . Ainsi pour un m\u00eame mod\u00e8le il existe plusieurs structures pouvant repr\u00e9senter ce mod\u00e8le (tableau, listes cha\u00een\u00e9es, objets...) Le premier mod\u00e8le ayant souhait\u00e9 s'attaquer au probl\u00e8me de la redondance des donn\u00e9es est le mod\u00e8le hi\u00e9rarchique , d\u00e9velopp\u00e9 par IBM dans les ann\u00e9es 1960, dans le cadre du programme Apollo de la NASA. Ce mod\u00e8le, tr\u00e8s d\u00e9pendant de la mani\u00e8re dont fonctionnait les ordinateurs de cette \u00e9poque, enregistre les donn\u00e9es \u00e0 la mani\u00e8re de l'organisation d'un syst\u00e8me de fichier, sous la forme d'un arbre ( structure arborescente ), de fa\u00e7on \u00e0 ce qu'un enregistrement n'ait qu'un seul possesseur. On peut en donner un exemple ci-dessous : ce type de mod\u00e8le peut \u00eatre pratique, mais il ne r\u00e9pond pas \u00e0 toutes les probl\u00e9matiques . En effet, ici nous n'avons pas introduit dans la hi\u00e9rarchie les leads vocaux. Voici ce que donne le sch\u00e9ma lorsqu'on les introduits : On constate ici que le choix d'organisation de l'arbre ne permet pas de r\u00e9gler la redondance des donn\u00e9es, puisque non seulement un m\u00eame chanteur peut \u00eatre lead vocal sur plusieurs albums, mais il peut l'\u00eatre aussi sur plusieurs groupes (comme Josh Homme par exemple). La structure hi\u00e9rarchique n'est ici pas adapt\u00e9e. Une des solutions propos\u00e9e pour ce probl\u00e8me a \u00e9t\u00e9 le mod\u00e8le r\u00e9seau , propos\u00e9 par Charles William Bachman \u00e0 la fin des ann\u00e9es 1960 2 . C.W. Bachman re\u00e7u le Prix Turing en 1973 pour ses contributions sur les technologies des bases de donn\u00e9es. On lui doit aussi le mod\u00e8le OSI (voir le cours de premi\u00e8re...). Une repr\u00e9sentation de nos albums dans le mod\u00e8le r\u00e9seau est la suivante : Ainsi, la redondance des donn\u00e9es n'est plus un probl\u00e8me. Cependant, le mod\u00e8le r\u00e9seau n'est pas un mod\u00e8le toujours efficace, puisque pour retrouver une donn\u00e9e (un chanteur par exemple), il faut conna\u00eetre la structure de ce r\u00e9seau, c'est-\u00e0-dire les liaisons existantes, ce qui rend les programmeurs d\u00e9pendants de la structure de donn\u00e9e .","title":"Historique et probl\u00e9matiques des diff\u00e9rents mod\u00e8les"},{"location":"NSI/Terminale/C04/ModeleRelationnel/#le-modele-relationnel","text":"","title":"Le mod\u00e8le relationnel"},{"location":"NSI/Terminale/C04/ModeleRelationnel/#historique","text":"Chercheur au centre de recherche d'IBM, Edgar Frank Codd , insatisfait des mod\u00e8les existant, chercha un mod\u00e8le plus simple permettant de g\u00e9rer un grand nombre de donn\u00e9es. Math\u00e9maticien de formation, il se basa sur la th\u00e9orie des ensembles et la logique des pr\u00e9dicats ( logique de premier ordre ) pour publier en 1970 un article 3 o\u00f9 il proposait de stocker des donn\u00e9es h\u00e9t\u00e9rog\u00e8nes dans des tables , comme dans le sch\u00e9ma ci-dessous : Ce mod\u00e8le, qualifi\u00e9 de relationnel \u00e9tait \u00e0 l'\u00e9poque consid\u00e9r\u00e9 comme une curiosit\u00e9 intellectuelle, car les ordinateurs en ce temps n'\u00e9taient pas capables de g\u00e9rer de mani\u00e8re efficace des tables de donn\u00e9es, et il n'\u00e9tait pas \u00e9vident qu'ils le soient un jour. Ce scepticisme n'a pas emp\u00each\u00e9 Codd de poursuivre ses travaux, et de concevoir un premier prototype de Syt\u00e8me de Gestion de Bases de Donn\u00e9es Relationnelles ( SGBDR ). Depuis les ann\u00e9es 1980 cette technologie a m\u00fbri, pour \u00eatre finalement adopt\u00e9e par le monde de la recherche et des entreprises. En parall\u00e8le, Codd mis au point un langage de manipulation des donn\u00e9es non-proc\u00e9dural , o\u00f9 l'utilisateur d\u00e9finit le r\u00e9sultat qu'il attend plut\u00f4t que la mani\u00e8re de l'obtenir . Ce langage nomm\u00e9 dans un premier temps SEQUEL ( Structured English Query Language ), rebaptis\u00e9 par la suite SQL ( Structured Query Language ), fut adopt\u00e9 comme norme internationale par l'ISO en 1987.","title":"Historique"},{"location":"NSI/Terminale/C04/ModeleRelationnel/#principes-vocabulaires-et-definitons","text":"Imaginons la situation d'une m\u00e9diath\u00e8que municipale classique, pour lequel nous souhaitons mettre en place un syst\u00e8me d'information . Ce syst\u00e8me doit pouvoir g\u00e9rer l'emprunt et le retour de livres par un utilisateur inscrit. Ainsi, un utilisateur, Bob, va pouvoir s'inscrire \u00e0 la m\u00e9diath\u00e8que. On lui demandera : son nom ; son pr\u00e9nom ; son email ; son code postal (les tarifs d'abonnement sont diff\u00e9rents selon la commune de r\u00e9sidence); son adresse exacte. Le syst\u00e8me ne retiendra de lui que ces \u00e9l\u00e9ments, avec la date d'inscription. Sa taille, couleur des yeux ou cheveux, n'ont aucune importance dans le syst\u00e8me. Le syst\u00e8me ne retiens qu'une approximation de la r\u00e9alit\u00e9. Une fois inscrit, Bob se voit remettre une carte contenant un code-barre , c'est-\u00e0-dire un num\u00e9ro unique qui est attribu\u00e9 \u00e0 Bob. Bob peut alors emprunter le livre \u00ab Apprendre \u00e0 programmer avec Python 3: Avec 60 pages d'exercices corrig\u00e9s ! \u00bb de Gerard Swinnen, Eyrolles, 2012, ISBN 978-2212134346. Sur le livre est aussi plac\u00e9 un code-barre , qui identifie le livre de mani\u00e8re unique. En scannant ce code barre et sa carte de biblioth\u00e8que sur une des bornes disponible, le syst\u00e8me devra retenir que Bob a emprunt\u00e9 ce livre \u00e0 la date du jour. De la m\u00eame mani\u00e8re, lorqu'il reviens quelques semaines plus trad, il doit pouvoir rendre ce livre en scannant sa carte et le livre, et le syst\u00e8me doit retenir que le livre est \u00e0 nouveau disponible et que Bob a de nouveau le droit d'emprunter d'autres livres. Bien entendu, d'autres utilisateurs doivent pouvoir faire des emprunts et des restitutions au m\u00eame moment sur d'autres bornes de la m\u00e9diath\u00e8que, ce qui signifie que les donn\u00e9es doivent pouvoire \u00eatre accessibles depuis un r\u00e9seau a minima local . De plus les documentalistes doivent pouvoir ajouter de nouveaux ouvrages, en supprimer certains trop anciens ou abim\u00e9s, et mettre \u00e0 jour l'ensemble des utilisateurs. Ces derni\u00e8re op\u00e9rations ne devant pas \u00eatre accessibles aux usagers, il faudra mettre en place un syst\u00e8me de droits d'acc\u00e8s . Entit\u00e9s Dans le mod\u00e8le relationnel, un objet mod\u00e9lis\u00e9 est appel\u00e9 entit\u00e9 . Il est repr\u00e9sent\u00e9 par un n-uplet de valeurs. Exemple Le livre emprunt\u00e9 par Bob peut-\u00eatre repr\u00e9sent\u00e9 par le quintuplet : ('Apprendre \u00e0 programmer avec Python 3: Avec 60 pages d'exercices corrig\u00e9s !', 'Gerard Swinnen', 'Eyrolles', 2012, '978-2212134346') Dans ce quintuplet, 4 composantes sont des cha\u00eenes de caract\u00e8res, et une seule est sous la forme d'un entier. Relation Une collection d'entit\u00e9s est appel\u00e9e une relation . Exemple La relation Livre de la m\u00e9diath\u00e8que peut \u00eatre repr\u00e9sent\u00e9e par : Livre = { ('Apprendre \u00e0 programmer avec Python 3: Avec 60 pages d'exercices corrig\u00e9s !', 'Gerard Swinnen', 'Eyrolles', 2012, '978-2212134346'), ('Bases de donn\u00e9es, de la mod\u00e9lisation au SQL', 'Laurent Audibert', 'Ellipses' , 2009, '978-2729851200'), ... } Sch\u00e9ma relationnel, attributs Chaque relation se conforme \u00e0 un sch\u00e9ma . Ce dernier est une description, qui indique pour chaque composante des n-uplets de la relation leur nom et leur domaine , c'est-\u00e0-dire le type de valeurs que peuvent prendre les composantes. Chaque composante s'appelle un attribut . Exemple La relation Livre contient 5 attributs : titre : le titre du livre, qui est une cha\u00eene de caract\u00e8res ; auteur : le ou les auteurs du livre, sous la forme d'une cha\u00eene de caract\u00e8res ; \u00e9diteur : l'\u00e9diteur, sous la forme d'une cha\u00eene de caract\u00e8res ; ann\u00e9e : l'ann\u00e9e d'\u00e9dition, sous la forme d'un entier ; ISBN : l'identifiant du livre, sous la forme d'une cha\u00eene de caract\u00e8res. On peut aussi noter un sch\u00e9ma de relation de la mani\u00e8re suivante: Livre( titre String , auteur String , \u00e9diteur String , ann\u00e9e Int , ISBN String ) ou par un tableau : Base de donn\u00e9es Dans le mod\u00e8le relationnel, une base de donn\u00e9es est un ensemble de relations. Par extension, le sch\u00e9ma d'une base de donn\u00e9e est l'ensemble des sch\u00e9mas relationnels repr\u00e9sentant la base. Exemple Dans notre exemple de m\u00e9diath\u00e8que, on pourra consid\u00e9r\u00e9r la base de donn\u00e9es contenant les relations : Livre Usager Emprunt Nous d\u00e9taillerons dans la suite les attributs des relations Usager et Emprunt .","title":"Principes, vocabulaires et d\u00e9finitons"},{"location":"NSI/Terminale/C04/ModeleRelationnel/#modelisation-relationnelle-des-donnees","text":"La th\u00e9orie et la pratique des bases de donn\u00e9es relationnelles est un domaine de recherche fortement actif et qui s'est largement complexifi\u00e9 depuis ses d\u00e9buts. Il ne s'agit pas dans ce cours d'\u00e9tudier cette th\u00e9orie, qui d\u00e9passe largement le niveau de terminale, aussi bien d'un point de vue math\u00e9matique que informatique, mais d'en comprendre quelques principes. principes g\u00e9n\u00e9raux La mod\u00e9lisation des donn\u00e9es se d\u00e9compose en plusieurs \u00e9tapes : d\u00e9terminer les entit\u00e9s qu'on souhaite manipuler ; mod\u00e9liser les collections d'entit\u00e9s en relations , en donnant leur sch\u00e9ma relationnel , et en veillant \u00e0 choisir le bon domaine pour les attributs . d\u00e9finir les contraintes de la base de donn\u00e9es, c'est-\u00e0-dire l'ensemble des propri\u00e9t\u00e9s logiques que les donn\u00e9es doivent v\u00e9rifier \u00e0 tout moment. En particulier on veillera aux contraintes d'int\u00e9grit\u00e9 d\u00e9crites ci-dessous qui garantissent la coh\u00e9rence des donn\u00e9es .","title":"Mod\u00e9lisation relationnelle des donn\u00e9es"},{"location":"NSI/Terminale/C04/ModeleRelationnel/#contraintes-de-domaines","text":"Essayons de pr\u00e9ciser davantage la relation Usager . Dans la description que nous en avons donn\u00e9, nous pouvons d\u00e9finir quelques attributs : nom : le nom de la personne, une cha\u00eene de caract\u00e8res ; pr\u00e9nom : le pr\u00e9nom de la personne, une cha\u00eene de caract\u00e8res ; email : l'email de la personne, une cha\u00eene de caract\u00e8res ; cp : le code postal de la commune de r\u00e9sidence, une chaine de caract\u00e8res . On peut s'\u00e9tonner de stocker le code postal sous la forme d'une cha\u00eene de caract\u00e8re, et pas d'un entier. Mais il faut prendre en compte certaines particularit\u00e9s : un code postal est un code de 5 chiffres. Celui de Guingamp est 22 200, et celui de Bourg-en-Bresse est 01 000. Or les z\u00e9ros pr\u00e9c\u00e9dants le nombres sont \u00e9limin\u00e9s si on stocke le nombre sous la forme d'un entier! On est alors oblig\u00e9 d'utiliser une cha\u00eene de caract\u00e8res de taille 5. Types de donn\u00e9es Nous verrons dans la partie SQL quelques types de donn\u00e9es sp\u00e9cifiques, mais nous pouvons donner quelques types g\u00e9n\u00e9riques souvent utilis\u00e9s dans les BDD : Type Utilisation String cha\u00eenes de caract\u00e8res Int les entiers sign\u00e9s (d'une taille arbitraire) Boolean les bool\u00e9ens True et False Float les flottants Date les dates (sous le format JJ/MM/AAAA ) 4 Time les instants heure : minutes : secondes Contraintes de domaines Les contraintes de domaines sont toutes les propri\u00e9t\u00e9s que le domaine d'un attribut va permettre de garantir. Elles sont souvent plus pr\u00e9cises que le simple choix d'un type de donn\u00e9es. Par exemple, une contrainte de domaine sur l'\u00e2ge d'une personne ne peut se contenter d'utiliser le type Int . Il faudra en plus \u00e9liminer les valeurs n\u00e9gatives ainsi que les valeurs sup\u00e9rieures \u00e0 120 (en \u00e9tant large...) On termine la mod\u00e9lisation de la relation Usager en ajoutant les attrtibuts : adresse : l'adresse de l'usager, de format String ; inscription : la date d'inscription, au format Date ; code_barre : le code-barre de la carte qui lui a \u00e9t\u00e9 attribu\u00e9e, au format String (pour les m\u00eame raisons que l'attribut cp ) On obtient alors le sch\u00e9ma relationnel suivant : Usager(nom String , pr\u00e9nom String , email String , cp String , adresse String , inscription Date , code_barre String ) ou bien le tableau :","title":"Contraintes de domaines"},{"location":"NSI/Terminale/C04/ModeleRelationnel/#contraintes-de-relations","text":"Imaginons que nous n'ayons utilis\u00e9 dans la relation Usager comme attributs que le nom et le pr\u00e9nom. Si deux personnes nomm\u00e9es Jean Dupont veulent s'inscrire \u00e0 la m\u00e9diath\u00e8que, il y aura dans la relation deux entit\u00e9s identiques, ce qui risque de causer des probl\u00e8mes. Ce serait une violation de la contrainte de relation . Contrainte de relation Lors de la mod\u00e9lisation d'une relation, il faut s'assurer que, pour chaque entit\u00e9 , un attribut ou un ensemble d'attributs permet d'identifier cette entit\u00e9 de mani\u00e8re unique . Un tel attribut ou ensemble d'attributs s'appelle une cl\u00e9 primaire de la relation, et est signal\u00e9 par un soulignement en traits pleins dans le sch\u00e9ma relationnel. Exemple Dans le cas de notre relation Usager : les attributs nom , pr\u00e9nom , cp , inscription , adresse , pris seuls, ne peuvebnt en aucun cas assurer le respect de la contrainte de relation. Ils ne peuvent donc pas \u00eatre choisis comme cl\u00e9 primaire; l'attribut email pourrait \u00eatre pertinent, mais ce choix emp\u00e8cherait un parent de fournir son email pour l'inscription de son enfant. reste l'attribut code_barre , qui a priori, si le syst\u00e8me est correctement configur\u00e9, est bien unique pour chaque usager. Il peut donc \u00eatre choisi comme cl\u00e9 primaire, ce qu_i donne le sch\u00e9ma relationnel suivant : Usager(nom String , pr\u00e9nom String , email String , cp String , adresse String , inscription Date , code_barre String ) ou bien : Relation Livre Quel choix raisonnable pouvons nous faire pour la cl\u00e9 primaire de la relation Livre ? Un choix Le choix de l'attribut ISBN comme cl\u00e9 primaire semble \u00eatre une bonne id\u00e9e, tant que la m\u00e9diath\u00e8que ne commande pas plusieurs ouvrages identiques. Dans ce cas, il faudra rajouter \u00e0 la relation un code-barre sp\u00e9cifique \u00e0 la m\u00e9diath\u00e8que. Mais nous consid\u00e9rerons que tel n'est pas le cas, et la relation sera donc : Livre( titre String , auteur String , \u00e9diteur String , ann\u00e9e Int , ISBN String ) ou bien :","title":"Contraintes de relations"},{"location":"NSI/Terminale/C04/ModeleRelationnel/#contraintes-de-references","text":"Prnons la relation Emprunt , que nous n'avons pas encore d\u00e9finie. Quel r\u00f4le doit-elle jouer ? Elle doit servir de lien entre une entit\u00e9 de la relation Usager , une entit\u00e9 de la relation Livre , et fournir une date de retour pr\u00e9vue pour le livre emprunt\u00e9. Une version na\u00efve serait d'utiliser pour une entit\u00e9 de la relation Emprunt un n-uplet de la forme : ('Dupont', 'Jean', 'Apprendre \u00e0 programmer avec Python 3', 20/12/2021 ) Cependant ce type de n-uplet ne permet pas d'identifier de mani\u00e8re unique l'usager, comme nous l'avons vu dans les contraintes de relations . Il pourrait-y-avoir plusieurs Jean Dupont, alors que la relation Emprunt doit permettre d'identifier de mani\u00e8re unique une entit\u00e9 d' Usager ainsi qu'une de Livre . Il serait ainsi largement pr\u00e9f\u00e9rable d'utiliser les cl\u00e9s primaires ddes relations Usager et Livre dans la relation Emprunt , de la mani\u00e8re suivante : Emprunt(code_barre String , ISBN String , retour Date ) code_barre \u00e9tant la cl\u00e9 primaire de la relation Usager , elle doit par contrainte de relations identifier de mani\u00e8re unique une entit\u00e9 de cette relation. Il en est de m\u00eame pour ISBN , qui est la cl\u00e9 primaire de Livre . Cl\u00e9 \u00e9trang\u00e8re On appelle cl\u00e9 \u00e9trang\u00e8re d'une relation un attribut faisant r\u00e9f\u00e9rence \u00e0 la cl\u00e9 primaire d'une autre relation. Une cl\u00e9 \u00e9trang\u00e8re est signal\u00e9e dans un sch\u00e9ma relationnel par un soulignement en traits pointill\u00e9s . Dans notre exemple de la relation Emprunt : Emprunt( code_barre String , ISBN String , retour Date ) Le fait d'utiliser des cl\u00e9s \u00e9trang\u00e8res nous permet de garantir ici un certain nombre de points : un emprunteur sera forc\u00e9ment un usager inscrit. Il ne sera pas possible de saisir une valeur fictive pour l'attribut code_barre ; de la m\u00eame mani\u00e8re, on a une contrainte de r\u00e9f\u00e9rence sur l'attribut ISBN , qui doit forc\u00e9ment \u00eatre la r\u00e9f\u00e9rence \u00e0 une entit\u00e9 de la relation Livre . de mani\u00e8re encore plus importante, l'utilisation d'une cl\u00e9 \u00e9trang\u00e8re interdira de supprimer une entit\u00e9 Usager si elle est r\u00e9f\u00e9renc\u00e9e dans la relation Emprunt . On aurait une violation de la contrainte de r\u00e9f\u00e9rence . Cependant notre travail n'est pas termin\u00e9 pour la mod\u00e9lisation de la relation Emprunt . En effet, nous n'avons pas d\u00e9fini de cl\u00e9 primaire de cette relation : il serait peu judicieux d'utiliser l'attribut code_barre comme cl\u00e9 primaire, puisque celle-ci devant \u00eatre unique, un usager ne pourrait emprunter qu'un unique livre ; plusiurs emprunts pouvant avoir la m\u00eame date de retour, il est impossible d'utiliser l'attribut retour ; il est par contre possible d'utiliser comme cl\u00e9 primaire l'attribut isbn , celui-ci ne pouvant \u00eatre qu'unique, il granati le fait qu'un livre ne puisse \u00eatre emprunt\u00e9 que par un usager \u00e0 la fois. On obtient ainsi le sch\u00e9ma relationnel suivant : Emprunt( code_barre String , ISBN String , retour Date ) ou bien : Une erreur de mod\u00e9lisation ? Dans la mod\u00e9lisation actuelle de la relation Livre , nous avons toujours un probl\u00e8me de coh\u00e9rence et de redondance des donn\u00e9es. En effet, nous avons \u00e9crit la liste des auteurs comme une cha\u00eene de caract\u00e8res. Si cette mod\u00e9lisation fonctionne, elle ne permet pas d'exprimer certaines contraintes sur les donn\u00e9es, par exemple qu'un m\u00eame auteur n'appara\u00eet pas deux fois dans le m\u00eame livre. On va donc simplifier la relation Livre de la mani\u00e8re suivante : Livre(titre : String, \u00e9diteur : String, ann\u00e9e : Int, ISBN : String ) Enonc\u00e9 Solution Cr\u00e9er une relation Auteur qui devra retenir les informations importantes sur un auteur. Cr\u00e9er une relation Auteur_de permettant de lier un auteur \u00e0 un livre. Pr\u00e9senter le sch\u00e9ma global de la base de donn\u00e9es Usager(nom String , pr\u00e9nom String , email String , cp String , adresse String , inscription Date , code_barre String ) Livre(titre String , \u00e9diteur String , ann\u00e9e Int , ISBN String ) Emprunt( code_barre String , ISBN String , retour Date ) Auteur( idA Int , nom String , prenom String ) Auteur_de( idA Int , ISBN String Ou le sch\u00e9ma complet : Vous remarquerez qu'on a choisi comme cl\u00e9 primaire pour la relation Auteur_de le 2-uplet (idA, ISBN) . En effet : on ne peut pas choisir simplement idA , car un auteur peut-\u00eatre l'auteur de plusieurs livres ; on ne peut pas choisir simplement ISBN , car un livre peut avoir plusieurs auteurs. Par contre le 2-uplet (idA, ISBN) garanti bien la pr\u00e9servation des diff\u00e9rentes contraintes.","title":"Contraintes de r\u00e9f\u00e9rences"},{"location":"NSI/Terminale/C04/ModeleRelationnel/#exercices","text":"Exercice 1 Enonc\u00e9 Solution On souhaite mod\u00e9liser un annuaire t\u00e9l\u00e9phonique simple, dans lequel chaque personne (identifi\u00e9e par son nom et son pr\u00e9nom) est associ\u00e9e \u00e0 son num\u00e9ro de t\u00e9l\u00e9phone. Proposer une mod\u00e9lisation relationnelle de cet annuaire. A venir Exercice 2 Enonc\u00e9 Solution Donner la mod\u00e9lisation d'un bulletin scolaire. Cette derni\u00e8re doit permettre de mentionner : des \u00e9l\u00e8ves, chacun poss\u00e9dant un identifiant alphanum\u00e9rique unique ; un ensemble de mati\u00e8res fix\u00e9es, mais qui ne sont pas donn\u00e9es ; au plus une note sur 20 par mati\u00e8re et par \u00e9l\u00e8ve. A venir Exercice 3 Enonc\u00e9 Solution Proposer une mod\u00e9lisation pour le r\u00e9seau de m\u00e9tro et bus de la ville de Rennes (dont le plan est disponible ici ). Cette derni\u00e8re doit \u00eatre suffisamment riche pour permettre de g\u00e9n\u00e9rer, pour chaque arr\u00eat de bus, une fiche donnant les horaires de passage de toutes les lignes qui d\u00e9servent l'arr\u00eat. La mod\u00e9lisation de ce r\u00e9seau n\u00e9cessite une r\u00e9flexion au pr\u00e9alable sur la pertinence des informations \u00e0 mod\u00e9liser ! A venir Num\u00e9rique et Sciences Informatique Tle : 24 le\u00e7ons avec exercices corrig\u00e9s , Balabonski, Conchon, Filli\u00e2tre, Nguyen, \u00e9ditions Ellipses \u21a9 Bases de donn\u00e9es, de la mod\u00e9lisation au SQL , Laurent Audibert, \u00e9ditions Ellipses \u21a9 \u21a9 \u21a9 \u21a9 https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.86.9277 \u21a9 les formats choisis pour les dates dans les bases de donn\u00e9es sont des sujets \u00e9pineux. Pour nous fran\u00e7ais, il est \u00e9vident d'utiliser JJ/MM/AAAA ou JJ/MM/AA. Pour un Etats-Unien, ce sera MM/JJ/AAAA. Pour d'autres ce sera AAAA/MM/JJ... Un grand nombre de m\u00e8mes de la communaut\u00e9 des programmeurs jouent sur la probl\u00e9matique des formats de dates et d'heures... \u21a9","title":"Exercices"},{"location":"NSI/Terminale/C04/Projet_Pokemon/","text":"Projet : Base de donn\u00e9e Web Pokemon. Ce qu'il faut faire : L'objectif est de r\u00e9aliser un site web HTML5 (HTML/CSS/javascript) permettant d'obtenir les informations importantes sur tous les Pokemons pr\u00e9sent dans le fichier csv disponible ici . Cette base de donn\u00e9e SQL sera interrog\u00e9e au moyen d'un serveur Python Flask et du module sqlite3 . Il faudra suivre le planning suivant : Extraire les lignes du fichier CSV de mani\u00e8re \u00e0 construire le fichier de base de donn\u00e9e (programme python ind\u00e9pendant). Cr\u00e9er un serveur minimal Flask permettant d'acc\u00e9der \u00e0 2 ou 3 templates diff\u00e9rents : page de recherche de Pokemons, page de r\u00e9sultats de recherche, et \u00e9ventuellement une page de comparaison entre Pokemons. Cr\u00e9er les templates HTML/Jinja2, en particulier la page de recherche dont le formulaire envoie par une m\u00e9thode POST les donn\u00e9es \u00e0 une route de traitement (voir point suivant). Cr\u00e9er une route sp\u00e9cifique permettant de traiter les donn\u00e9es du formulaire de la page de recherche, qui envoie ensuite les donn\u00e9es extraites par des ordres SQL soit \u00e0 la page d'affichage du Pokemon s\u00e9lectionn\u00e9, soit de nouveau \u00e0 une page interm\u00e9diaire permettant d'obtenir la liste des pokemons correspondant aux crit\u00e8res de recherches s\u00e9lectionn\u00e9 (g\u00e9n\u00e9ration, type, etc...) Habiller le tout avec du CSS (en dernier !) Les tutoriels \u00e0 suivre : le tutoriel sqlite3 trouvable ici . Le tutoriel Flask trouvable ici . Des ressources utiles Une base de donn\u00e9e en ligne d\u00e9j\u00e0 existante est pr\u00e9sente ici . En particulier les images fournies sont toutes de la forme : https://img.pokemondb.net/artwork/large/{nom du pokemon}.jpg","title":"Projet Pokemon"},{"location":"NSI/Terminale/C04/Projet_Pokemon/#projet-base-de-donnee-web-pokemon","text":"","title":"Projet : Base de donn\u00e9e Web Pokemon."},{"location":"NSI/Terminale/C04/Projet_Pokemon/#ce-quil-faut-faire","text":"L'objectif est de r\u00e9aliser un site web HTML5 (HTML/CSS/javascript) permettant d'obtenir les informations importantes sur tous les Pokemons pr\u00e9sent dans le fichier csv disponible ici . Cette base de donn\u00e9e SQL sera interrog\u00e9e au moyen d'un serveur Python Flask et du module sqlite3 . Il faudra suivre le planning suivant : Extraire les lignes du fichier CSV de mani\u00e8re \u00e0 construire le fichier de base de donn\u00e9e (programme python ind\u00e9pendant). Cr\u00e9er un serveur minimal Flask permettant d'acc\u00e9der \u00e0 2 ou 3 templates diff\u00e9rents : page de recherche de Pokemons, page de r\u00e9sultats de recherche, et \u00e9ventuellement une page de comparaison entre Pokemons. Cr\u00e9er les templates HTML/Jinja2, en particulier la page de recherche dont le formulaire envoie par une m\u00e9thode POST les donn\u00e9es \u00e0 une route de traitement (voir point suivant). Cr\u00e9er une route sp\u00e9cifique permettant de traiter les donn\u00e9es du formulaire de la page de recherche, qui envoie ensuite les donn\u00e9es extraites par des ordres SQL soit \u00e0 la page d'affichage du Pokemon s\u00e9lectionn\u00e9, soit de nouveau \u00e0 une page interm\u00e9diaire permettant d'obtenir la liste des pokemons correspondant aux crit\u00e8res de recherches s\u00e9lectionn\u00e9 (g\u00e9n\u00e9ration, type, etc...) Habiller le tout avec du CSS (en dernier !)","title":"Ce qu'il faut faire :"},{"location":"NSI/Terminale/C04/Projet_Pokemon/#les-tutoriels-a-suivre","text":"le tutoriel sqlite3 trouvable ici . Le tutoriel Flask trouvable ici .","title":"Les tutoriels \u00e0 suivre :"},{"location":"NSI/Terminale/C04/Projet_Pokemon/#des-ressources-utiles","text":"Une base de donn\u00e9e en ligne d\u00e9j\u00e0 existante est pr\u00e9sente ici . En particulier les images fournies sont toutes de la forme : https://img.pokemondb.net/artwork/large/{nom du pokemon}.jpg","title":"Des ressources utiles"},{"location":"NSI/Terminale/C05/ABR/","text":"Arbres Binaires de Recherche (ABR) Premier Exemple D'apr\u00e8s Num\u00e9rique et Sciences Informatiques, 24 le\u00e7ons avec exercices corrig\u00e9s , Balabonski, Conchon, Filli\u00e2tre, Nguyen, Editions Ellipses Imaginez une biblioth\u00e8que contenant un tr\u00e8s tr\u00e8s grand nombre de livres. Cette biblioth\u00e8que est organis\u00e9e de la mani\u00e8re suivante : Il y a 17 576 pi\u00e8ces diff\u00e9rentes. Chaque pi\u00e8ce est rep\u00e9r\u00e9e par une suite de trois lettres, et dans cette pi\u00e8ce sont rang\u00e9s tous les livres dont les titres commencent par ces trois lettres. Chaque pi\u00e8ce poss\u00e8de deux sorties, une \u00e0 droite et une \u00e0 gauche. La sortie de gauche m\u00e8ne toujours soit \u00e0 une salle dont les trois lettres sont situ\u00e9es avant dans l'ordre alphab\u00e9tique, soit nulle part. La sortie de droite m\u00e8ne toujours soit \u00e0 une salle dont les trois lettres sont situ\u00e9es apr\u00e8s dans l'ordre alphab\u00e9tique, soit nulle part. Une repr\u00e9sentation de cette biblioth\u00e8que peut \u00eatre donn\u00e9e sous la forme d'un rabre binaire tel que le suivant : Question Enonc\u00e9 R\u00e9ponses Dans cet arbre, pr\u00e9ciser o\u00f9 sont situ\u00e9s les livres dont le titre commence par : KNU UDP JET Pourquoi y-a-t-il 17 576 pi\u00e8ces diff\u00e9rentes ? A venir ! Cette r\u00e9partion, pour peu qu'elle soit correctement faite (c'est-\u00e0-dire que le choix des lettres soit pertinent), peut \u00eatre incroyablement efficace. Dans le meilleur des cas , il ne faudra traverser qu'au maximum 15 salles pour trouver n'importe quel livre (si la biblioth\u00e8que est correctement organis\u00e9e, quasiment chaque noeud aura 2 sorties, d'o\u00f9 une hauteur d'environ \\(log_2(17 576)\\) soit environ \\(15\\) ). Cette structure sera particuli\u00e8rement utile pour effectuer des recherches : on l'appelle ainsi un arbre binaire de recherche (ou BST , Binary Search Tree en anglais). Une mauvaise r\u00e9partition L'importance de l'organisation des salles est ici primordial, toutes les solutions ne se valant pas. Ci-dessous une r\u00e9partition qui est dans le pire des cas : les sous-arbres gauche sont toujours vide (on appelle un tel type d'arbre un peigne ). Dans cette situation, il faudra traverser les 17 576 pi\u00e8ces pour atteindre les livres dont le titre commence par ZZZ . Arbres Binaires de recherches et algorithmes D\u00e9finition Arbre Binaire de Recherche (ABR) Un ABR ou Arbre Binaire de Recerche est un arbre binaire v\u00e9rifiant les propri\u00e9t\u00e9s suivantes : les noeuds contiennent des valeurs appel\u00e9es cl\u00e9s pouvant \u00eatre compar\u00e9es entre elles (nombres, cha\u00eenes de caract\u00e8res, ...) ; toutes les cl\u00e9s situ\u00e9es dans le sous-arbre gauche (resp. droit) d'un noeud sont inf\u00e9rieures (resp. sup\u00e9rieures) \u00e0 la cl\u00e9 du noeud. Exemples Exemple 1 Exemple 2 Contre-exemple 1 Contre-exemple 2 Il s'agit bien d'un ABR. Il s'agit bien d'un ABR. On peut remarquer qu'il poss\u00e8de le m\u00eame ensemble de noeuds que le pr\u00e9c\u00e9dent, mais pas dans le m\u00eame ordre. Ce n'est pas un ABR, le noeud 5 \u00e9tant dans le sous-arbre gauche du noeud 4, alors que les sous-arbres gauches doivent poss\u00e9der des cl\u00e9s de valeurs inf\u00e9rieures. Ce n'est pas un ABR tout simplement parce qu'il n'est pas binaire. Exercice Enonc\u00e9 R\u00e9ponse Appliquer \u00e0 la main les parcours pr\u00e9fixe, infixe et suffixe pour chacun des exemples d'ABR pr\u00e9c\u00e9dents. Que remarque-t-on ? A venir ! Principe de l'impl\u00e9mentation en Python Il n'y a aucune diff\u00e9rence entre un ABR et un arbre binaire en terme d'impl\u00e9mentation, on pourra donc conserver : les objets Node , avec ou sans r\u00e9f\u00e9rence au noeud parent ; les fonctions hauteur , taille et est_vide ; les fonctions visitePrefixe , visiteInfixe et `visiteSuffixe , mais on utilisera surtout les parcours infixes au vu de la remarque de l'exercice pr\u00e9c\u00e9dent. Recherches dans un ABR Recherche d'une cl\u00e9 Un ABR est sp\u00e9cialement con\u00e7u pour la recherche, particuli\u00e8rement pour la recherche r\u00e9cursive. La m\u00e9thdoe est la suivante : Algorithme de recherche On compare la valeur cherch\u00e9e avec la cl\u00e9 de la racine : si elle est \u00e9gale, la valeur est trouv\u00e9e et on peut renvoyer Vrai ; si elle est inf\u00e9rieure, alors on recherche r\u00e9cursivement dans le sous-arbre gauche ; si elle est sup\u00e9rieure, alors on recherche r\u00e9cursivement dans le sous-arbre droit. Si on atteint une feuille dont la cl\u00e9 n'est pas la valeur recherch\u00e9e, on sait alors que la valeur recherch\u00e9e n'est la cl\u00e9 d'aucun n\u0153ud, elle ne figure donc pas dans l'arbre de recherche. Pratiquement d\u00e8s qu'on tombe sur un arbre vide, on peut affirmer que la cl\u00e9 n'est pas dans l'arbre, et on renvoie Faux . Impl\u00e9mentation en Python Si on suppose que tree est est ABR, la fonction de recherche de la cl\u00e9 x dans tree s'\u00e9crit : def appartient ( x , tree ) : if tree == None : return False elif tree . valeur == x : return True elif x < tree . valeur : return appartient ( x , tree . gauche ) else : return appartient ( x , tree . droit ) En terme de complexit\u00e9, dans le pire des cas (arbre peigne), la complexit\u00e9 d\u00e9pend de la taille de l'arbre. On est donc dans une complexit\u00e9 lin\u00e9aire (en \\(\\mathscr{O}(n)\\) ), ce qui n'est pas meilleur que la recherche dans une liste cha\u00een\u00e9e. Mais si l'arbre est \u00e9quilibr\u00e9 , la recherche devient en \\(\\mathscr{O}(log(n))\\) , ce qui est consid\u00e9rablement plus rapide. Recherches de cl\u00e9s particuli\u00e8res Exercice Enonc\u00e9 Soplutions O\u00f9 se trouve le plus petit \u00e9l\u00e9ment d'un ABR ? En d\u00e9duire l'impl\u00e9mentation en Python d'une fonction minimum(tree) renvoyant la cl\u00e9 minimale de l'ABR, et None si l'arbre est vide. Faire de m\u00eame une fonction maximum(tree) . Quelles sont les complexit\u00e9s de ces deux fonctions dans le pire des cas ? A venir ! Recherche du successeur d'une cl\u00e9 On appelle successeur d'une cl\u00e9 donn\u00e9e la valeur suivant cette cl\u00e9 lors du parcours infixe de cet arbre. Bien qu'il soit facile de d\u00e9terminer un successeur en parcourant l'arbre, il existe un algorithme beaucoup plus rapide n'utilisant pas la comparaison des cl\u00e9s : D\u00e9terminer le successeur d'un noeud Enonc\u00e9 On consid\u00e8re l'ABR suivant : Quel est le successeur de 15 ? de 17 ? de 13 ? de 20 ? Pour la structure d\u2019ABR de l\u2019arbre, que repr\u00e9sente chacun de ces successeurs vis-\u00e0-vis du noeud initial ? Compl\u00e9ter la phrase suivante : Quote En utilisant la structure d\u2019un ABR, on d\u00e9duit la m\u00e9thode suivante pour d\u00e9terminer le successeur d\u2019un noeud \\(A\\) : si le sous-arbre droit de \\(A\\) est non vide, alors le successeur de \\(A\\) est .......... de ce sous-arbre droit ; si le sous-arbre droit de est vide et que \\(A\\) poss\u00e8de un successeur (il n'est pas le maximum de l'arbre), alors ce successeur est le premier ........ de \\(A\\) dont le ........... est aussi anc\u00eatre de \\(A\\) . Une limite ? Il est \u00e0 noter que cette m\u00e9thode de recherche n\u00e9cessite d'avoir un arbre doublement cha\u00een\u00e9, c'est-\u00e0-dire o\u00f9 chaque noeud poss\u00e8de un lien vers son parent. Dans ce cas un algorithme exact de cette m\u00e9thode est : fonction successeur(x) : Si x.droit est non-vide Renvoyer minimum(x.droit) Sinon y = x.parent TantQue y est non-vide et x == y.droit Faire x = y y = x.parent Retourner (y) Recherche du pr\u00e9deceseur Enonc\u00e9 R\u00e9ponse Comment rechercher efficacement le pr\u00e9deceseur d'un noeud dans un ABR ? A venir ! Insertion dans un ABR Jusqu'\u00e0 maintenant, nous avons travaill\u00e9 en supposant que les arbres avec lesquels nous travaillons sont bien des ABR. Mais comment les cr\u00e9er ? Cette quaestion revient \u00e0 se demander comment ajouter un noeud \u00e0 un ABR d\u00e9j\u00e0 existant, \u00e9ventuellement vide. Cette opr\u00e9taion n'est pas \u00e9vidente, car il faut conserver apr\u00e8s l'ajout la structure d'ABR. Il existe plusieurs solutions, mais nous ne nous intereserons qu'\u00e0 une seule : l' insertion aux feuilles . Dans cette m\u00e9thode, les nouveaux noeuds sont ajout\u00e9s en tant que feuilles du nouvel arbre, l\u00e0 o\u00f9 elles devraient \u00eatre en conservant la structure d'ABR. Application manuelle Enonc\u00e9 Solution On consid\u00e8re l'ABR ci-dessus : Ins\u00e9rer les noeuds de valeurs suivantes : 23, 19, 1 10, 8 et 5. L'insertion aux feuilles d'un \u00e9l\u00e9ment dans un ABR se fait tout comme une recherche : on cherche la cl\u00e9 du n\u0153ud \u00e0 ins\u00e9rer ; lorsqu'on arrive \u00e0 une feuille, on ajoute le n\u0153ud comme fils de la feuille en comparant sa cl\u00e9 \u00e0 celle de la feuille : si elle est inf\u00e9rieure, le nouveau n\u0153ud sera \u00e0 gauche ; sinon il sera \u00e0 droite. Un algorithme possible est : fonction Insertion(tree, elem) Si tree est vide retourner Noeud(elem,None,none) Sinon Si elem < tree.valeur retourner Noeud(tree.valeur,Insertion(tree.gauche, elem),tree.droit) Sinon retourner Noeud(tree.valeur,tree.gauche,Insertion(tree.droit, elem)) Impl\u00e9mentation en Python Enonc\u00e9 Solution Impl\u00e9menter une fonction insertion(tree, elem) qui ins\u00e8re aux feuilles l'\u00e9lement elem dans l'ABR tree . A venir ! Exercice Enonc\u00e9 Solution On consid\u00e8re les listes l1 = [15,12,7,8,1,23,13] et l2 = [7,1,23,13,15,8,12] . Cr\u00e9er \u00e0 la main les ABR repr\u00e9sentants ces listes en utilisant la m\u00e9thode de l'insertion aux feuilles. Impl\u00e9menter ces ABR en Python, et calculer leurs tailles et leurs hauteur. Effecvtuer un parcours infixe sur chacun de ces ABR. Que remarque-t-on ? A venir Une autre forme de tri ? Enonc\u00e9 Solution En s'aidant de l'exercice pr\u00e9c\u00e9dent, cr\u00e9er une fonction triABR(liste) qui trie une liste qui lui est pas\u00e9e en argument en utilisant un ABR. A venir","title":"Arbres Binaires de Recherche"},{"location":"NSI/Terminale/C05/ABR/#arbres-binaires-de-recherche-abr","text":"","title":"Arbres Binaires de Recherche (ABR)"},{"location":"NSI/Terminale/C05/ABR/#premier-exemple","text":"D'apr\u00e8s Num\u00e9rique et Sciences Informatiques, 24 le\u00e7ons avec exercices corrig\u00e9s , Balabonski, Conchon, Filli\u00e2tre, Nguyen, Editions Ellipses Imaginez une biblioth\u00e8que contenant un tr\u00e8s tr\u00e8s grand nombre de livres. Cette biblioth\u00e8que est organis\u00e9e de la mani\u00e8re suivante : Il y a 17 576 pi\u00e8ces diff\u00e9rentes. Chaque pi\u00e8ce est rep\u00e9r\u00e9e par une suite de trois lettres, et dans cette pi\u00e8ce sont rang\u00e9s tous les livres dont les titres commencent par ces trois lettres. Chaque pi\u00e8ce poss\u00e8de deux sorties, une \u00e0 droite et une \u00e0 gauche. La sortie de gauche m\u00e8ne toujours soit \u00e0 une salle dont les trois lettres sont situ\u00e9es avant dans l'ordre alphab\u00e9tique, soit nulle part. La sortie de droite m\u00e8ne toujours soit \u00e0 une salle dont les trois lettres sont situ\u00e9es apr\u00e8s dans l'ordre alphab\u00e9tique, soit nulle part. Une repr\u00e9sentation de cette biblioth\u00e8que peut \u00eatre donn\u00e9e sous la forme d'un rabre binaire tel que le suivant : Question Enonc\u00e9 R\u00e9ponses Dans cet arbre, pr\u00e9ciser o\u00f9 sont situ\u00e9s les livres dont le titre commence par : KNU UDP JET Pourquoi y-a-t-il 17 576 pi\u00e8ces diff\u00e9rentes ? A venir ! Cette r\u00e9partion, pour peu qu'elle soit correctement faite (c'est-\u00e0-dire que le choix des lettres soit pertinent), peut \u00eatre incroyablement efficace. Dans le meilleur des cas , il ne faudra traverser qu'au maximum 15 salles pour trouver n'importe quel livre (si la biblioth\u00e8que est correctement organis\u00e9e, quasiment chaque noeud aura 2 sorties, d'o\u00f9 une hauteur d'environ \\(log_2(17 576)\\) soit environ \\(15\\) ). Cette structure sera particuli\u00e8rement utile pour effectuer des recherches : on l'appelle ainsi un arbre binaire de recherche (ou BST , Binary Search Tree en anglais). Une mauvaise r\u00e9partition L'importance de l'organisation des salles est ici primordial, toutes les solutions ne se valant pas. Ci-dessous une r\u00e9partition qui est dans le pire des cas : les sous-arbres gauche sont toujours vide (on appelle un tel type d'arbre un peigne ). Dans cette situation, il faudra traverser les 17 576 pi\u00e8ces pour atteindre les livres dont le titre commence par ZZZ .","title":"Premier Exemple"},{"location":"NSI/Terminale/C05/ABR/#arbres-binaires-de-recherches-et-algorithmes","text":"","title":"Arbres Binaires de recherches et algorithmes"},{"location":"NSI/Terminale/C05/ABR/#definition","text":"Arbre Binaire de Recherche (ABR) Un ABR ou Arbre Binaire de Recerche est un arbre binaire v\u00e9rifiant les propri\u00e9t\u00e9s suivantes : les noeuds contiennent des valeurs appel\u00e9es cl\u00e9s pouvant \u00eatre compar\u00e9es entre elles (nombres, cha\u00eenes de caract\u00e8res, ...) ; toutes les cl\u00e9s situ\u00e9es dans le sous-arbre gauche (resp. droit) d'un noeud sont inf\u00e9rieures (resp. sup\u00e9rieures) \u00e0 la cl\u00e9 du noeud. Exemples Exemple 1 Exemple 2 Contre-exemple 1 Contre-exemple 2 Il s'agit bien d'un ABR. Il s'agit bien d'un ABR. On peut remarquer qu'il poss\u00e8de le m\u00eame ensemble de noeuds que le pr\u00e9c\u00e9dent, mais pas dans le m\u00eame ordre. Ce n'est pas un ABR, le noeud 5 \u00e9tant dans le sous-arbre gauche du noeud 4, alors que les sous-arbres gauches doivent poss\u00e9der des cl\u00e9s de valeurs inf\u00e9rieures. Ce n'est pas un ABR tout simplement parce qu'il n'est pas binaire. Exercice Enonc\u00e9 R\u00e9ponse Appliquer \u00e0 la main les parcours pr\u00e9fixe, infixe et suffixe pour chacun des exemples d'ABR pr\u00e9c\u00e9dents. Que remarque-t-on ? A venir !","title":"D\u00e9finition"},{"location":"NSI/Terminale/C05/ABR/#principe-de-limplementation-en-python","text":"Il n'y a aucune diff\u00e9rence entre un ABR et un arbre binaire en terme d'impl\u00e9mentation, on pourra donc conserver : les objets Node , avec ou sans r\u00e9f\u00e9rence au noeud parent ; les fonctions hauteur , taille et est_vide ; les fonctions visitePrefixe , visiteInfixe et `visiteSuffixe , mais on utilisera surtout les parcours infixes au vu de la remarque de l'exercice pr\u00e9c\u00e9dent.","title":"Principe de l'impl\u00e9mentation en Python"},{"location":"NSI/Terminale/C05/ABR/#recherches-dans-un-abr","text":"","title":"Recherches dans un ABR"},{"location":"NSI/Terminale/C05/ABR/#recherche-dune-cle","text":"Un ABR est sp\u00e9cialement con\u00e7u pour la recherche, particuli\u00e8rement pour la recherche r\u00e9cursive. La m\u00e9thdoe est la suivante : Algorithme de recherche On compare la valeur cherch\u00e9e avec la cl\u00e9 de la racine : si elle est \u00e9gale, la valeur est trouv\u00e9e et on peut renvoyer Vrai ; si elle est inf\u00e9rieure, alors on recherche r\u00e9cursivement dans le sous-arbre gauche ; si elle est sup\u00e9rieure, alors on recherche r\u00e9cursivement dans le sous-arbre droit. Si on atteint une feuille dont la cl\u00e9 n'est pas la valeur recherch\u00e9e, on sait alors que la valeur recherch\u00e9e n'est la cl\u00e9 d'aucun n\u0153ud, elle ne figure donc pas dans l'arbre de recherche. Pratiquement d\u00e8s qu'on tombe sur un arbre vide, on peut affirmer que la cl\u00e9 n'est pas dans l'arbre, et on renvoie Faux . Impl\u00e9mentation en Python Si on suppose que tree est est ABR, la fonction de recherche de la cl\u00e9 x dans tree s'\u00e9crit : def appartient ( x , tree ) : if tree == None : return False elif tree . valeur == x : return True elif x < tree . valeur : return appartient ( x , tree . gauche ) else : return appartient ( x , tree . droit ) En terme de complexit\u00e9, dans le pire des cas (arbre peigne), la complexit\u00e9 d\u00e9pend de la taille de l'arbre. On est donc dans une complexit\u00e9 lin\u00e9aire (en \\(\\mathscr{O}(n)\\) ), ce qui n'est pas meilleur que la recherche dans une liste cha\u00een\u00e9e. Mais si l'arbre est \u00e9quilibr\u00e9 , la recherche devient en \\(\\mathscr{O}(log(n))\\) , ce qui est consid\u00e9rablement plus rapide.","title":"Recherche d'une cl\u00e9"},{"location":"NSI/Terminale/C05/ABR/#recherches-de-cles-particulieres","text":"Exercice Enonc\u00e9 Soplutions O\u00f9 se trouve le plus petit \u00e9l\u00e9ment d'un ABR ? En d\u00e9duire l'impl\u00e9mentation en Python d'une fonction minimum(tree) renvoyant la cl\u00e9 minimale de l'ABR, et None si l'arbre est vide. Faire de m\u00eame une fonction maximum(tree) . Quelles sont les complexit\u00e9s de ces deux fonctions dans le pire des cas ? A venir !","title":"Recherches de cl\u00e9s particuli\u00e8res"},{"location":"NSI/Terminale/C05/ABR/#recherche-du-successeur-dune-cle","text":"On appelle successeur d'une cl\u00e9 donn\u00e9e la valeur suivant cette cl\u00e9 lors du parcours infixe de cet arbre. Bien qu'il soit facile de d\u00e9terminer un successeur en parcourant l'arbre, il existe un algorithme beaucoup plus rapide n'utilisant pas la comparaison des cl\u00e9s : D\u00e9terminer le successeur d'un noeud Enonc\u00e9 On consid\u00e8re l'ABR suivant : Quel est le successeur de 15 ? de 17 ? de 13 ? de 20 ? Pour la structure d\u2019ABR de l\u2019arbre, que repr\u00e9sente chacun de ces successeurs vis-\u00e0-vis du noeud initial ? Compl\u00e9ter la phrase suivante : Quote En utilisant la structure d\u2019un ABR, on d\u00e9duit la m\u00e9thode suivante pour d\u00e9terminer le successeur d\u2019un noeud \\(A\\) : si le sous-arbre droit de \\(A\\) est non vide, alors le successeur de \\(A\\) est .......... de ce sous-arbre droit ; si le sous-arbre droit de est vide et que \\(A\\) poss\u00e8de un successeur (il n'est pas le maximum de l'arbre), alors ce successeur est le premier ........ de \\(A\\) dont le ........... est aussi anc\u00eatre de \\(A\\) . Une limite ? Il est \u00e0 noter que cette m\u00e9thode de recherche n\u00e9cessite d'avoir un arbre doublement cha\u00een\u00e9, c'est-\u00e0-dire o\u00f9 chaque noeud poss\u00e8de un lien vers son parent. Dans ce cas un algorithme exact de cette m\u00e9thode est : fonction successeur(x) : Si x.droit est non-vide Renvoyer minimum(x.droit) Sinon y = x.parent TantQue y est non-vide et x == y.droit Faire x = y y = x.parent Retourner (y) Recherche du pr\u00e9deceseur Enonc\u00e9 R\u00e9ponse Comment rechercher efficacement le pr\u00e9deceseur d'un noeud dans un ABR ? A venir !","title":"Recherche du successeur d'une cl\u00e9"},{"location":"NSI/Terminale/C05/ABR/#insertion-dans-un-abr","text":"Jusqu'\u00e0 maintenant, nous avons travaill\u00e9 en supposant que les arbres avec lesquels nous travaillons sont bien des ABR. Mais comment les cr\u00e9er ? Cette quaestion revient \u00e0 se demander comment ajouter un noeud \u00e0 un ABR d\u00e9j\u00e0 existant, \u00e9ventuellement vide. Cette opr\u00e9taion n'est pas \u00e9vidente, car il faut conserver apr\u00e8s l'ajout la structure d'ABR. Il existe plusieurs solutions, mais nous ne nous intereserons qu'\u00e0 une seule : l' insertion aux feuilles . Dans cette m\u00e9thode, les nouveaux noeuds sont ajout\u00e9s en tant que feuilles du nouvel arbre, l\u00e0 o\u00f9 elles devraient \u00eatre en conservant la structure d'ABR. Application manuelle Enonc\u00e9 Solution On consid\u00e8re l'ABR ci-dessus : Ins\u00e9rer les noeuds de valeurs suivantes : 23, 19, 1 10, 8 et 5. L'insertion aux feuilles d'un \u00e9l\u00e9ment dans un ABR se fait tout comme une recherche : on cherche la cl\u00e9 du n\u0153ud \u00e0 ins\u00e9rer ; lorsqu'on arrive \u00e0 une feuille, on ajoute le n\u0153ud comme fils de la feuille en comparant sa cl\u00e9 \u00e0 celle de la feuille : si elle est inf\u00e9rieure, le nouveau n\u0153ud sera \u00e0 gauche ; sinon il sera \u00e0 droite. Un algorithme possible est : fonction Insertion(tree, elem) Si tree est vide retourner Noeud(elem,None,none) Sinon Si elem < tree.valeur retourner Noeud(tree.valeur,Insertion(tree.gauche, elem),tree.droit) Sinon retourner Noeud(tree.valeur,tree.gauche,Insertion(tree.droit, elem)) Impl\u00e9mentation en Python Enonc\u00e9 Solution Impl\u00e9menter une fonction insertion(tree, elem) qui ins\u00e8re aux feuilles l'\u00e9lement elem dans l'ABR tree . A venir ! Exercice Enonc\u00e9 Solution On consid\u00e8re les listes l1 = [15,12,7,8,1,23,13] et l2 = [7,1,23,13,15,8,12] . Cr\u00e9er \u00e0 la main les ABR repr\u00e9sentants ces listes en utilisant la m\u00e9thode de l'insertion aux feuilles. Impl\u00e9menter ces ABR en Python, et calculer leurs tailles et leurs hauteur. Effecvtuer un parcours infixe sur chacun de ces ABR. Que remarque-t-on ? A venir Une autre forme de tri ? Enonc\u00e9 Solution En s'aidant de l'exercice pr\u00e9c\u00e9dent, cr\u00e9er une fonction triABR(liste) qui trie une liste qui lui est pas\u00e9e en argument en utilisant un ABR. A venir","title":"Insertion dans un ABR"},{"location":"NSI/Terminale/C05/ABR_Python/","text":"Encapsulation d'un ABR en Python Dans cette partie nous travaillerons dans un fichier ABR.py qui contiendra les classes, m\u00e9thodes et fonctions n\u00e9cessaires. Classes Node et ABR Comme un ABR est avant tout un arbre binaire, nous allons utiliser une construction similaire pour la classe Node \u00e0 celle d\u00e9j\u00e0 effectu\u00e9e pour les arbres binaires : class Node : def__init__ ( self , valeur , gauche = None , droit = None , parent = None ) : self . valeur = valeur self . gauche = gauche self . droit = droit self . parent = parent M\u00e9thode estFeuille Enonc\u00e9 Solution Ajouter une m\u00e9thode estFeuille renvoyant un bool\u00e9en permettant de savoir si le noeud en question est une feuille de l'arbre. A venir ! Une fois cette classe d\u00e9finie, nous allons d\u00e9finir une classe ABR qui encapsulera la totalit\u00e9 de l'arbre et des m\u00e9thodes qui lui sont associ\u00e9es (avec quelques exceptions toutefois pour ne pas surcharger la compr\u00e9hension des \u00e9lements suivants). class ABR : def __init__ ( self , racine = None ) : self . racine = racine M\u00e9thode estVide Enonc\u00e9 Solution Ajouter une m\u00e9thode estVide \u00e0 la classe ABR renvoyant un bool\u00e9en permettant de savoir si l'arbre est vide A venir ! M\u00e9thode hauteur Enonc\u00e9 Solution Copier-coller la fonction hauteur , d\u00e9j\u00e0 vue dans la partie sur les arbres binaires , en-dehors des classes ABR et Node . Cr\u00e9er une m\u00e9thode hauteur \u00e0 la classe ABR renvoyant la hauteur de l'arbre, et utilisant la fonction hauteur ci-dessus. Vous pouvez utiliser le code suivant permettant d'impl\u00e9menter l'ABR repr\u00e9sent\u00e9 ci-dessous pour tester vos diff\u00e9rentes m\u00e9thodes : Arbre Code if __name__ == \"__main__\" : n1 = Node ( 1 ) n2 = Node ( 3 ) n3 = Node ( 2 , n1 , n2 ) n1 . parent = n3 n2 . parent = n3 n4 = Node ( 10 ) n5 = Node ( 7 ) n6 = Node ( 9 , n5 , n4 ) n4 . parent = n6 n5 . parent = n6 n7 = Node ( 5 , n3 , n6 ) n3 . parent = n7 n6 . parent = n7 n8 = Node ( 4 ) n2 . droit = n8 n8 . parent = n2 tree = ABR ( n7 ) A venir ! Visualisation d'un ABR Sous forme de texte L'objectif est de repr\u00e9senter un ABR soius la forme d'une cha\u00eene de caract\u00e8res multilignes, telle que celle-ci : 5 2 1 3 X 4 9 7 10 Dans cette repr\u00e9sentation : chque niveau est indent\u00e9 de deux espaces suppl\u00e9mentaires par rapport au suivant ; les noeuds sont affich\u00e9s, puis leur sous-arbre gauche si il existe, puis leur sous-arbre droit si il existe ; si un sous-arbre n'existe pas, il est remplac\u00e9 par X , sauf dans le cas des feuilles o\u00f9 les sous-arbres ne sont pas affich\u00e9s. M\u00e9thode toString Enonc\u00e9 Solution Ajouter une m\u00e9thode toString \u00e0 la classe Node qui renvoie une cha\u00eene de caract\u00e8res correspondant \u00e0 l'affichage pr\u00e9c\u00e9dent. A titre d'aide, la m\u00e9thode toString prend, en plus de l'argument obligatoire self , un argument shift repr\u00e9sentant le d\u00e9calage de caract\u00e8re d\u00e9j\u00e0 effectu\u00e9. La repr\u00e9sentation d'un noeud sera alors donn\u00e9e par : representation = shift + str ( self . valeur ) + \" \\n \" auquel il faudra ajouter le cas \u00e9ch\u00e9ant la repr\u00e9sentation du sous-arbre gauche puis la repr\u00e9sentation du sous-arbre droit. L'appel n7.toString() doit renvoyer la bonne repr\u00e9sentation. A venir ! M\u00e9thode DUNDERS __str__ Enonc\u00e9 Solution Ajouter une m\u00e9thode DUNDERS __str__ \u00e0 la classe ABR qui renvoie la cha\u00eene de caract\u00e8res correspondant \u00e0 l'affichage de l'arbre. A venir ! Avec le module Graphviz Bon, ok, nous avons une repr\u00e9sentation, mais elle est loin d'\u00eatre lisible... Heureusement il existe un module python, le module graphviz , qui va nous permettre de convertir notre ABR en un fichier pdf plus lisible. L'objectif n'\u00e9tant pas de comprendre comment fonctionne graphviz, voici les codes n\u00e9cessaires : Commen\u00e7ons par t\u00e9l\u00e9charger et d\u00e9compacter le programme Graphviz dans le dossier Documents Installez le module graphviz dans Thonny . Dans le fichier Python contenant la classe ABR , ajoutez les lignes suivantes (Si le dossier bin contenant le programme dot.exe correspond bien au chemin donn\u00e9 : import os os . environ [ 'PATH' ] += os . pathsep + \"P: \\\\ Documents \\\\ Graphviz \\\\ Graphviz \\\\ bin\" 2. Importez la classe Digraph depuis ce module en ajoutant : from graphviz import Digraph 3. Ajoutez \u00e0 la classe Node la m\u00e9thode suivante : def toImage ( self , graphe , etiquette = None ) : noeud = str ( self . valeur ) graphe . node ( noeud ) if not ( self . parent is None ) : graphe . edge ( str ( self . parent . valeur ), noeud , label = etiquette ) if not ( self . gauche is None ) : self . gauche . toImage ( graphe , \"G\" ) if not ( self . droit is None ) : self . droit . toImage ( graphe , \"D\" ) 4. Ajoutez \u00e0 la classe ABR la m\u00e9thode suivante : def toImage ( self , title = \"arbre\" ) : if not ( isinstance ( title , str )) : title = 'arbre' graphe = Digraph () self . racine . toImage ( graphe ) graphe . render ( title , view = True ) 5. Testez la m\u00e9thode toImage sur l'objet tree . Elle doit vous donner un PDF nomm\u00e9 arbre.pdf (ou autre si vous avez renseign\u00e9 l'agument optionnel title ) contenant une repr\u00e9sentation de l'ABR. Attention Si vous relancez le programme, celui-ci risque de renvoyer une erreur si vous avez gard\u00e9 un PDF de m\u00eame nom ouvert ! M\u00e9thodes de la classe ABR M\u00e9thode search La fonction appartient(x, tree) que nous avons vu dans la partie pr\u00e9c\u00e9dente n'est pas directement utilisable en tant que m\u00e9thode, mais nous allons nous en inspirer : M\u00e9thodes search Enonc\u00e9 Solution Cr\u00e9er une m\u00e9thode search pour la classe Node permettant de savoir si une valeur x pass\u00e9e en argument appartient au sous-arbre ayant pour racine le noeud actuel. Cette m\u00e9thode renverra le noeud contenant la cl\u00e9, ou None si la cl\u00e9 n'est pas trouv\u00e9e. ( Indice : un noeud ne peut pas \u00eatre \u00e9gal \u00e0 None , ce qui fait la diff\u00e9rence par rapport \u00e0 la fonction appartient ) Cr\u00e9er une m\u00e9thode search pour la classe ABR permettant de savoir si une valeur x pass\u00e9e en argument appartient \u00e0 l'ABR. Cette m\u00e9thode renverra le noeud contenant la cl\u00e9, ou None si la cl\u00e9 n'est pas trouv\u00e9e. A venir ! M\u00e9thodes minimum et maximum M\u00e9thodes minimum et maximum Enonc\u00e9 Solution En s'inspirant de la fonction minimum d\u00e9j\u00e0 \u00e9tudi\u00e9e, cr\u00e9er une m\u00e9thode minimum pour la classe Node , qui renvoie le noeud de cl\u00e9 minimale (*Indice : il faudra arr\u00eater la recherche quand le sous-arbre gauche est vide), puis une pour la classe ABR . Faire de m\u00eame pour le maximum. A venir ! M\u00e9thodes successor et predecessor Les m\u00e9thodes de recherches de successeurs et de pr\u00e9decesseurs ne peuvent pas \u00eatre r\u00e9solues r\u00e9cursivement. Il faudra donc effectuer une boucle TantQue pour rechercher l'un ou l'autre, tel que nous l'avons vu dans cet algorithme Recherche du successeur On va impl\u00e9menter une m\u00e9thode successor pour la classe ABR , qui prend en argument la cl\u00e9 du noeud dont on cherche le succeseur. Etape 1 Etape 2 Etape 3 La premi\u00e8re \u00e9tape est de chercher le noeud contenant la cl\u00e9 pass\u00e9e en argument. Si bien s\u00fbr la cl\u00e9 n'est pas trouv\u00e9e, on renvoie None . def successor ( self , x ) : n = self . search ( x ) if n is None : return None Sinon, si le sous-arbre droit de ce noeud n'est pas vide, on renvoie le minimum de ce sous-arbre. def successor ( self , x ) : n = self . search ( x ) if n is None : return None else : if not ( n . droit is None ) : return n . droit . minimum () Dans les autres cas, il faudra remonter les anc\u00eatres jusqu'\u00e0 trouver le premier anc\u00eatre dont le fils gauche est aussi un anc\u00eatre du noeud de cl\u00e9 cherch\u00e9e. def successor ( self , x ) : n = self . search ( x ) if n is None : return None else : if not ( n . droit is None ) : return n . droit . minimum () else : ancetre = n . parent while not ( ancetre is None ) and ( n == ancetre . droit ) : n = ancetre ancetre = n . parent return ancetre M\u00e9thode predecessor Enonc\u00e9 Solution Sur le m\u00eame mod\u00e8le que pr\u00e9c\u00e9demment, impl\u00e9menter une m\u00e9thode predecessor pour la classe ABR qui donnera le pr\u00e9d\u00e9ceseur d'une cl\u00e9 x pass\u00e9e en argument. A venir ! M\u00e9thode insert M\u00e9thode insert Enonc\u00e9 Solution Sur le mod\u00e8le de l' algorithme , \u00e9crire une m\u00e9thode \u00ecnsert pour la classe Node permettant d'ins\u00e9rer la cl\u00e9 pass\u00e9e en argument tout en conservant la structure d'ABR, et en respectant les conditions suivantes : si une cl\u00e9 est d\u00e9j\u00e0 pr\u00e9sente, la nouvelle cl\u00e9 sera ins\u00e9ree dans le sous-arbre droit. il faudra penser \u00e0 mettre \u00e0 jour le p\u00e8re du nouveau noeud cr\u00e9\u00e9 ! ( Indice :le p\u00e8re du noeud cr\u00e9e est l'objet courant ! ) Cr\u00e9er une m\u00e9thode insert pour la classe ABR . A venir ! Ca-y-est, nous avons maintenant une classe ABR qui peut \u00eatre totalement utilis\u00e9e de mani\u00e8re ind\u00e9pendante ! Il est d\u00e9sormais possible de cr\u00e9er un ABR vide, d'y ins\u00e9rer des \u00e9l\u00e9ments, d'effectuer des recherches, etc... Ainsi le code suivant permet facilement d'it\u00e9rer sur une liste pour cr\u00e9er un ABR : tree = ABR () for elem in [ 15 , 12 , 7 , 8 , 1 , 23 , 13 ] : tree . insert ( elem ) tree . toImage () Suppression d'une cl\u00e9 d'un ABR (hors programme) Pour l'instant, nous avons vu comment ajouter un \u00e9l\u00e9ment \u00e0 un ABR, mais nous n'avons pas encore abord\u00e9 la question de la suppression d'un \u00e9l\u00e9ment. Il s'agit d'une question bien plus complexe, dont je vais vous pr\u00e9senter les grandes lignes ici, bien qu'elles soient hors-programme (et donc il n'est pas du tout n\u00e9cessaire de tout comprendre !) Lorsqu'on veut supprimer une cl\u00e9 d'un ABR, plusieurs situations peuvent se produire : La cl\u00e9 n'est pas pr\u00e9sente dans l'ABR, donc il n'y a rien \u00e0 faire. La cl\u00e9 est celle d'une feuille. Dans ce cas la suppression est simple : on passe \u00e0 None le fils correspondant du parent, ce qui a pour effet de supprimer le noeud. La cl\u00e9 est celle d'un noeud poss\u00e9dant un seul fils. Dans ce cas, on remplace le noeud supprim\u00e9 par son fils, ce qui conserve les propri\u00e9t\u00e9s de l'ABR. Si la cl\u00e9 poss\u00e8de deux fils, alors il y a deux possibilit\u00e9s : on remplace le noeud par le minimum du sous-arbre droit, qui est le succeseur du noeud supprim\u00e9 ; ou on remplace par le maximum du sous-arbre gauche, qui est le pr\u00e9decesseur du noeud supprim\u00e9. Pour r\u00e9aliser une telle impl\u00e9mentation, il faut donc faire un choix, et nous choisissons de remplacer le noeud supprim\u00e9 par le minium \u00e0 droite. Pour simplifier la lecture du code, on s\u00e9parera dans la classe Node en diff\u00e9rentes m\u00e9thodes : def supprimer ( self , valeur ): if valeur < self . valeur : self . gauche = self . gauche . supprimer ( valeur ) return self elif valeur > self . valeur : self . droit = self . droit . supprimer ( valeur ) return self else : return self . supprimerNoeudCourant () def supprimerNoeudCourant ( self ): if self . estFeuille (): return None elif self . gauche is None : return self . droit elif self . droit is None : return self . gauche else : ## on cherche le noeud minimum du sous-arbre droit noeudMin = self . droit . minimum () ## On met \u00e0 jour la valeur du noeud courant self . valeur = noeudMin . valeur ## On supprime le noeud minimal, qui ne poss\u00e8de pas de fils gauche (mais peut ## \u00e9ventuellement poss\u00e9der une descendance droite noeudMin . parent . droit = noeudMin . droit ## et on retourne le noeud courant return self Il ne reste plus qu'\u00e0 ajouter la m\u00e9thode suivante \u00e0 la classe ABR : def supprimer ( self , valeur ): if self . estVide (): return else : self . racine = self . racine . supprimer ( valeur )","title":"Impl\u00e9mentation des ABR"},{"location":"NSI/Terminale/C05/ABR_Python/#encapsulation-dun-abr-en-python","text":"Dans cette partie nous travaillerons dans un fichier ABR.py qui contiendra les classes, m\u00e9thodes et fonctions n\u00e9cessaires.","title":"Encapsulation d'un ABR en Python"},{"location":"NSI/Terminale/C05/ABR_Python/#classes-node-et-abr","text":"Comme un ABR est avant tout un arbre binaire, nous allons utiliser une construction similaire pour la classe Node \u00e0 celle d\u00e9j\u00e0 effectu\u00e9e pour les arbres binaires : class Node : def__init__ ( self , valeur , gauche = None , droit = None , parent = None ) : self . valeur = valeur self . gauche = gauche self . droit = droit self . parent = parent M\u00e9thode estFeuille Enonc\u00e9 Solution Ajouter une m\u00e9thode estFeuille renvoyant un bool\u00e9en permettant de savoir si le noeud en question est une feuille de l'arbre. A venir ! Une fois cette classe d\u00e9finie, nous allons d\u00e9finir une classe ABR qui encapsulera la totalit\u00e9 de l'arbre et des m\u00e9thodes qui lui sont associ\u00e9es (avec quelques exceptions toutefois pour ne pas surcharger la compr\u00e9hension des \u00e9lements suivants). class ABR : def __init__ ( self , racine = None ) : self . racine = racine M\u00e9thode estVide Enonc\u00e9 Solution Ajouter une m\u00e9thode estVide \u00e0 la classe ABR renvoyant un bool\u00e9en permettant de savoir si l'arbre est vide A venir ! M\u00e9thode hauteur Enonc\u00e9 Solution Copier-coller la fonction hauteur , d\u00e9j\u00e0 vue dans la partie sur les arbres binaires , en-dehors des classes ABR et Node . Cr\u00e9er une m\u00e9thode hauteur \u00e0 la classe ABR renvoyant la hauteur de l'arbre, et utilisant la fonction hauteur ci-dessus. Vous pouvez utiliser le code suivant permettant d'impl\u00e9menter l'ABR repr\u00e9sent\u00e9 ci-dessous pour tester vos diff\u00e9rentes m\u00e9thodes : Arbre Code if __name__ == \"__main__\" : n1 = Node ( 1 ) n2 = Node ( 3 ) n3 = Node ( 2 , n1 , n2 ) n1 . parent = n3 n2 . parent = n3 n4 = Node ( 10 ) n5 = Node ( 7 ) n6 = Node ( 9 , n5 , n4 ) n4 . parent = n6 n5 . parent = n6 n7 = Node ( 5 , n3 , n6 ) n3 . parent = n7 n6 . parent = n7 n8 = Node ( 4 ) n2 . droit = n8 n8 . parent = n2 tree = ABR ( n7 ) A venir !","title":"Classes Node et ABR"},{"location":"NSI/Terminale/C05/ABR_Python/#visualisation-dun-abr","text":"","title":"Visualisation d'un ABR"},{"location":"NSI/Terminale/C05/ABR_Python/#sous-forme-de-texte","text":"L'objectif est de repr\u00e9senter un ABR soius la forme d'une cha\u00eene de caract\u00e8res multilignes, telle que celle-ci : 5 2 1 3 X 4 9 7 10 Dans cette repr\u00e9sentation : chque niveau est indent\u00e9 de deux espaces suppl\u00e9mentaires par rapport au suivant ; les noeuds sont affich\u00e9s, puis leur sous-arbre gauche si il existe, puis leur sous-arbre droit si il existe ; si un sous-arbre n'existe pas, il est remplac\u00e9 par X , sauf dans le cas des feuilles o\u00f9 les sous-arbres ne sont pas affich\u00e9s. M\u00e9thode toString Enonc\u00e9 Solution Ajouter une m\u00e9thode toString \u00e0 la classe Node qui renvoie une cha\u00eene de caract\u00e8res correspondant \u00e0 l'affichage pr\u00e9c\u00e9dent. A titre d'aide, la m\u00e9thode toString prend, en plus de l'argument obligatoire self , un argument shift repr\u00e9sentant le d\u00e9calage de caract\u00e8re d\u00e9j\u00e0 effectu\u00e9. La repr\u00e9sentation d'un noeud sera alors donn\u00e9e par : representation = shift + str ( self . valeur ) + \" \\n \" auquel il faudra ajouter le cas \u00e9ch\u00e9ant la repr\u00e9sentation du sous-arbre gauche puis la repr\u00e9sentation du sous-arbre droit. L'appel n7.toString() doit renvoyer la bonne repr\u00e9sentation. A venir ! M\u00e9thode DUNDERS __str__ Enonc\u00e9 Solution Ajouter une m\u00e9thode DUNDERS __str__ \u00e0 la classe ABR qui renvoie la cha\u00eene de caract\u00e8res correspondant \u00e0 l'affichage de l'arbre. A venir !","title":"Sous forme de texte"},{"location":"NSI/Terminale/C05/ABR_Python/#avec-le-module-graphviz","text":"Bon, ok, nous avons une repr\u00e9sentation, mais elle est loin d'\u00eatre lisible... Heureusement il existe un module python, le module graphviz , qui va nous permettre de convertir notre ABR en un fichier pdf plus lisible. L'objectif n'\u00e9tant pas de comprendre comment fonctionne graphviz, voici les codes n\u00e9cessaires : Commen\u00e7ons par t\u00e9l\u00e9charger et d\u00e9compacter le programme Graphviz dans le dossier Documents Installez le module graphviz dans Thonny . Dans le fichier Python contenant la classe ABR , ajoutez les lignes suivantes (Si le dossier bin contenant le programme dot.exe correspond bien au chemin donn\u00e9 : import os os . environ [ 'PATH' ] += os . pathsep + \"P: \\\\ Documents \\\\ Graphviz \\\\ Graphviz \\\\ bin\" 2. Importez la classe Digraph depuis ce module en ajoutant : from graphviz import Digraph 3. Ajoutez \u00e0 la classe Node la m\u00e9thode suivante : def toImage ( self , graphe , etiquette = None ) : noeud = str ( self . valeur ) graphe . node ( noeud ) if not ( self . parent is None ) : graphe . edge ( str ( self . parent . valeur ), noeud , label = etiquette ) if not ( self . gauche is None ) : self . gauche . toImage ( graphe , \"G\" ) if not ( self . droit is None ) : self . droit . toImage ( graphe , \"D\" ) 4. Ajoutez \u00e0 la classe ABR la m\u00e9thode suivante : def toImage ( self , title = \"arbre\" ) : if not ( isinstance ( title , str )) : title = 'arbre' graphe = Digraph () self . racine . toImage ( graphe ) graphe . render ( title , view = True ) 5. Testez la m\u00e9thode toImage sur l'objet tree . Elle doit vous donner un PDF nomm\u00e9 arbre.pdf (ou autre si vous avez renseign\u00e9 l'agument optionnel title ) contenant une repr\u00e9sentation de l'ABR. Attention Si vous relancez le programme, celui-ci risque de renvoyer une erreur si vous avez gard\u00e9 un PDF de m\u00eame nom ouvert !","title":"Avec le module Graphviz"},{"location":"NSI/Terminale/C05/ABR_Python/#methodes-de-la-classe-abr","text":"","title":"M\u00e9thodes de la classe ABR"},{"location":"NSI/Terminale/C05/ABR_Python/#methode-search","text":"La fonction appartient(x, tree) que nous avons vu dans la partie pr\u00e9c\u00e9dente n'est pas directement utilisable en tant que m\u00e9thode, mais nous allons nous en inspirer : M\u00e9thodes search Enonc\u00e9 Solution Cr\u00e9er une m\u00e9thode search pour la classe Node permettant de savoir si une valeur x pass\u00e9e en argument appartient au sous-arbre ayant pour racine le noeud actuel. Cette m\u00e9thode renverra le noeud contenant la cl\u00e9, ou None si la cl\u00e9 n'est pas trouv\u00e9e. ( Indice : un noeud ne peut pas \u00eatre \u00e9gal \u00e0 None , ce qui fait la diff\u00e9rence par rapport \u00e0 la fonction appartient ) Cr\u00e9er une m\u00e9thode search pour la classe ABR permettant de savoir si une valeur x pass\u00e9e en argument appartient \u00e0 l'ABR. Cette m\u00e9thode renverra le noeud contenant la cl\u00e9, ou None si la cl\u00e9 n'est pas trouv\u00e9e. A venir !","title":"M\u00e9thode search"},{"location":"NSI/Terminale/C05/ABR_Python/#methodes-minimum-et-maximum","text":"M\u00e9thodes minimum et maximum Enonc\u00e9 Solution En s'inspirant de la fonction minimum d\u00e9j\u00e0 \u00e9tudi\u00e9e, cr\u00e9er une m\u00e9thode minimum pour la classe Node , qui renvoie le noeud de cl\u00e9 minimale (*Indice : il faudra arr\u00eater la recherche quand le sous-arbre gauche est vide), puis une pour la classe ABR . Faire de m\u00eame pour le maximum. A venir !","title":"M\u00e9thodes minimum et maximum"},{"location":"NSI/Terminale/C05/ABR_Python/#methodes-successor-et-predecessor","text":"Les m\u00e9thodes de recherches de successeurs et de pr\u00e9decesseurs ne peuvent pas \u00eatre r\u00e9solues r\u00e9cursivement. Il faudra donc effectuer une boucle TantQue pour rechercher l'un ou l'autre, tel que nous l'avons vu dans cet algorithme Recherche du successeur On va impl\u00e9menter une m\u00e9thode successor pour la classe ABR , qui prend en argument la cl\u00e9 du noeud dont on cherche le succeseur. Etape 1 Etape 2 Etape 3 La premi\u00e8re \u00e9tape est de chercher le noeud contenant la cl\u00e9 pass\u00e9e en argument. Si bien s\u00fbr la cl\u00e9 n'est pas trouv\u00e9e, on renvoie None . def successor ( self , x ) : n = self . search ( x ) if n is None : return None Sinon, si le sous-arbre droit de ce noeud n'est pas vide, on renvoie le minimum de ce sous-arbre. def successor ( self , x ) : n = self . search ( x ) if n is None : return None else : if not ( n . droit is None ) : return n . droit . minimum () Dans les autres cas, il faudra remonter les anc\u00eatres jusqu'\u00e0 trouver le premier anc\u00eatre dont le fils gauche est aussi un anc\u00eatre du noeud de cl\u00e9 cherch\u00e9e. def successor ( self , x ) : n = self . search ( x ) if n is None : return None else : if not ( n . droit is None ) : return n . droit . minimum () else : ancetre = n . parent while not ( ancetre is None ) and ( n == ancetre . droit ) : n = ancetre ancetre = n . parent return ancetre M\u00e9thode predecessor Enonc\u00e9 Solution Sur le m\u00eame mod\u00e8le que pr\u00e9c\u00e9demment, impl\u00e9menter une m\u00e9thode predecessor pour la classe ABR qui donnera le pr\u00e9d\u00e9ceseur d'une cl\u00e9 x pass\u00e9e en argument. A venir !","title":"M\u00e9thodes successor et predecessor"},{"location":"NSI/Terminale/C05/ABR_Python/#methode-insert","text":"M\u00e9thode insert Enonc\u00e9 Solution Sur le mod\u00e8le de l' algorithme , \u00e9crire une m\u00e9thode \u00ecnsert pour la classe Node permettant d'ins\u00e9rer la cl\u00e9 pass\u00e9e en argument tout en conservant la structure d'ABR, et en respectant les conditions suivantes : si une cl\u00e9 est d\u00e9j\u00e0 pr\u00e9sente, la nouvelle cl\u00e9 sera ins\u00e9ree dans le sous-arbre droit. il faudra penser \u00e0 mettre \u00e0 jour le p\u00e8re du nouveau noeud cr\u00e9\u00e9 ! ( Indice :le p\u00e8re du noeud cr\u00e9e est l'objet courant ! ) Cr\u00e9er une m\u00e9thode insert pour la classe ABR . A venir ! Ca-y-est, nous avons maintenant une classe ABR qui peut \u00eatre totalement utilis\u00e9e de mani\u00e8re ind\u00e9pendante ! Il est d\u00e9sormais possible de cr\u00e9er un ABR vide, d'y ins\u00e9rer des \u00e9l\u00e9ments, d'effectuer des recherches, etc... Ainsi le code suivant permet facilement d'it\u00e9rer sur une liste pour cr\u00e9er un ABR : tree = ABR () for elem in [ 15 , 12 , 7 , 8 , 1 , 23 , 13 ] : tree . insert ( elem ) tree . toImage ()","title":"M\u00e9thode insert"},{"location":"NSI/Terminale/C05/ABR_Python/#suppression-dune-cle-dun-abr-hors-programme","text":"Pour l'instant, nous avons vu comment ajouter un \u00e9l\u00e9ment \u00e0 un ABR, mais nous n'avons pas encore abord\u00e9 la question de la suppression d'un \u00e9l\u00e9ment. Il s'agit d'une question bien plus complexe, dont je vais vous pr\u00e9senter les grandes lignes ici, bien qu'elles soient hors-programme (et donc il n'est pas du tout n\u00e9cessaire de tout comprendre !) Lorsqu'on veut supprimer une cl\u00e9 d'un ABR, plusieurs situations peuvent se produire : La cl\u00e9 n'est pas pr\u00e9sente dans l'ABR, donc il n'y a rien \u00e0 faire. La cl\u00e9 est celle d'une feuille. Dans ce cas la suppression est simple : on passe \u00e0 None le fils correspondant du parent, ce qui a pour effet de supprimer le noeud. La cl\u00e9 est celle d'un noeud poss\u00e9dant un seul fils. Dans ce cas, on remplace le noeud supprim\u00e9 par son fils, ce qui conserve les propri\u00e9t\u00e9s de l'ABR. Si la cl\u00e9 poss\u00e8de deux fils, alors il y a deux possibilit\u00e9s : on remplace le noeud par le minimum du sous-arbre droit, qui est le succeseur du noeud supprim\u00e9 ; ou on remplace par le maximum du sous-arbre gauche, qui est le pr\u00e9decesseur du noeud supprim\u00e9. Pour r\u00e9aliser une telle impl\u00e9mentation, il faut donc faire un choix, et nous choisissons de remplacer le noeud supprim\u00e9 par le minium \u00e0 droite. Pour simplifier la lecture du code, on s\u00e9parera dans la classe Node en diff\u00e9rentes m\u00e9thodes : def supprimer ( self , valeur ): if valeur < self . valeur : self . gauche = self . gauche . supprimer ( valeur ) return self elif valeur > self . valeur : self . droit = self . droit . supprimer ( valeur ) return self else : return self . supprimerNoeudCourant () def supprimerNoeudCourant ( self ): if self . estFeuille (): return None elif self . gauche is None : return self . droit elif self . droit is None : return self . gauche else : ## on cherche le noeud minimum du sous-arbre droit noeudMin = self . droit . minimum () ## On met \u00e0 jour la valeur du noeud courant self . valeur = noeudMin . valeur ## On supprime le noeud minimal, qui ne poss\u00e8de pas de fils gauche (mais peut ## \u00e9ventuellement poss\u00e9der une descendance droite noeudMin . parent . droit = noeudMin . droit ## et on retourne le noeud courant return self Il ne reste plus qu'\u00e0 ajouter la m\u00e9thode suivante \u00e0 la classe ABR : def supprimer ( self , valeur ): if self . estVide (): return else : self . racine = self . racine . supprimer ( valeur )","title":"Suppression d'une cl\u00e9 d'un ABR (hors programme)"},{"location":"NSI/Terminale/C05/AVL/","text":"Equilibrage des arbres Arbres d\u00e9s\u00e9quilibr\u00e9s ? Cr\u00e9ation d'arbres d\u00e9s\u00e9quilibr\u00e9s Enonc\u00e9 Solution Cr\u00e9er quatre ABR tree1 , tree2 , ..., \u00e0 partir des listes suivante : l1 = [ 5 , 2 , 11 , 3 , 7 , 13 , 9 ] l2 = [ 7 , 3 , 11 , 2 , 5 , 9 , 13 ] l3 = [ 2 , 3 , 5 , 11 , 7 , 13 , 9 ] l4 = [ 2 , 3 , 5 , 7 , 9 , 11 , 13 ] Que peut-on dire des quatre listes pr\u00e9c\u00e9dentes. Afficher les 4 arbres obtenus. En consid\u00e9rant que le temps de recherche dans un ABR est directement proportionnel \u00e0 la hauteur du noeud recherch\u00e9, le temps moyen pour trouver dans tree1 : le noeud 5 est de 1 ; les noeuds 2 et 11 de 2 ; les noeuds 3, 7 et 13 de 3 ; le noeud 9 de 4. le temps moyen de recherche sur cet arbre est donc \\(\\dfrac{1+2\\times 2 + 3\\times 3 + 4}{7} = \\dfrac{18}{7}\\) . Calculer de m\u00eame le temps moyen pour les ABR tree2 , tree3 et tree4 . Que peut-on en conclure ? On consid\u00e8re l'arbre \u00e9quilibr\u00e9 tree2 . Ins\u00e9rer maintenant les \u00e9l\u00e9ments suivants dans l'arbre : 17, 14, 15, 16. Comment est l'arbre obtenu ? A venir ! On comprend ais\u00e9ment qu\u2019un arbre \u00e9quilibr\u00e9 (solution 2) donne en moyenne de meilleurs r\u00e9sultats que tout autre arbre, et qu\u2019un arbre d\u00e9g\u00e9n\u00e9r\u00e9 (solution 4) donne des r\u00e9sultats plus mauvais que toute autre repr\u00e9sentation. La notion formelle d\u2019arbre \u00e9quilibr\u00e9 ( balanced tree chez Donald Knuth ) n\u2019est pas au programme, mais elle peut \u00eatre abord\u00e9e intuitivement. Sur un ABR \u00e9quilibr\u00e9, la recherche d\u2019un \u00e9l\u00e9ment est en moyenne en \\(log_2(n)\\) , comme avec une recherche par dichotomie dans une liste. On peut alors se poser la question de l\u2019int\u00e9r\u00eat d\u2019utiliser un ABR. La r\u00e9ponse tient dans le temps mis \u00e0 ajouter / supprimer un \u00e9l\u00e9ment : dans une liste, on est en \\(\\mathscr{O}(n)\\) (complexit\u00e9 lin\u00e9aire), alors qu\u2019on est en \\(\\mathscr{O}(log_2(n))\\) dans un ABR (complexit\u00e9 logarithmique). Aussi, lorsqu\u2019on doit stocker une collection d\u2019\u00e9l\u00e9ments ordonn\u00e9s, une liste Python peut \u00eatre utilis\u00e9e si la collection \u00e9volue peu ou bien si les \u00e9l\u00e9ments sont stock\u00e9s dans l\u2019ordre du tri. Mais si la collection doit \u00eatre r\u00e9guli\u00e8rement modifi\u00e9e et que les recherches par rapport au crit\u00e8re de tri sont fr\u00e9quentes, on privil\u00e9gie les ABR. Il est donc particuli\u00e8rement important que notre ABR soit \u00e9quilibr\u00e9, et surtout que les insertions/d\u00e9l\u00e9tions conservent la propri\u00e9t\u00e9 d'\u00e9quilibrage de ces ABR. Il existe plusieurs techniques pertmettant d'obtenir des ABR \u00e9quilibr\u00e9s : les arbres AVL ; les arbres rouge-noir ; les arbres 2-3 ; les arbres 2-3-4 ; les B-arbres. Les arbres AVL Pr\u00e9sentation des AVL En informatique th\u00e9orique, les arbres AVL ont \u00e9t\u00e9 historiquement les premiers arbres binaires de recherche automatiquement \u00e9quilibr\u00e9s . La d\u00e9nomination \u00ab arbre AVL \u00bb provient des noms respectifs de ses deux inventeurs, respectivement Georgii Adelson-Velsky et Evguenii Landis, qui l'ont publi\u00e9 en 1962 sous le titre An Algorithm for the Organization of Information . Dans un arbre AVL, les hauteurs des deux sous-arbres d'un m\u00eame n\u0153ud diff\u00e8rent au plus de un, et cette propri\u00e9t\u00e9 est conserv\u00e9e dynamiquement au moment de l'insertion ou de la d\u00e9letion d'un nouveau noeud. La recherche, l'insertion et la suppression sont toutes en \\(\\mathscr{O}(log _{2}(n))\\) dans le pire des cas. Cependant les m\u00e9canismes d'insertion et de d\u00e9letions sont modifi\u00e9s par rapport \u00e0 ceux d\u00e9j\u00e0 travaill\u00e9s : ils n\u00e9cessitent des rotations droites et gauches . Rotations droites et gauches Le m\u00e9canisme de rotation gauche consiste \u00e0 remplacer un noeud racine par son noeud droit (appel\u00e9 pivot ). Apr\u00e8s l'op\u00e9ration : les noeuds du sous-arbre S1 demeurent bien inf\u00e9rieurs au noeud Racine ; les noeuds du sous-arbre S2 , qui \u00e9taient tous sup\u00e9rieurs \u00e0 Racine tout en \u00e9tant inf\u00e9rieurs \u00e0 Pivot , le demeurent toujours ; les noeuds du sous-arbre S2 demeurent bien sup\u00e9rieurs au noeud Pivot . Ainsi par une rotation gauche, le nouvel arbre obtenu est aussi un ABR. Une version algorithmique de cette impl\u00e9mentation est : Pivot <- Racine.droit Racine.droit <- Pivot.gauche Pivot.gauche <- Racine Racine <- Pivot Impl\u00e9mentation Enonc\u00e9 Solution Cr\u00e9er une m\u00e9thode rotationGauche pour la classe Node . Attention ! Pour pouvoir impl\u00e9menter correctement cette m\u00e9thode, il ne faudra pas oublier de mettre \u00e0 jour les parents de chaque noeud ! Cr\u00e9er de m\u00e9m\u00e9 une m\u00e9thode rotationDroite pour la classe Node , en s'aidant du sch\u00e9ma suivant : A venir ! Techniques d'\u00e9suilibrages : Application manuelle Enonc\u00e9 Solution Appliquer \u00e0 la main une rotation gauche sur la racine de l'arbre suivant. Le r\u00e9sultat est-il plus \u00e9quilibr\u00e9 ? Appliquer \u00e0 la main une rotation gauche sur la racine de l'arbre suivant. Le r\u00e9sultat est-il plus \u00e9quilibr\u00e9 ? Appliquer une rotation droite sur le noeud 3 de l'arbre pr\u00e9c\u00e9dent, puis une rotation gauche sur la racine de l'arbre obtenu. Que peut-on en conclure ? A venir ! En pratique on \u00e9quilibrera un arbre \u00e0 chaque insertion et \u00e0 chaque d\u00e9l\u00e9tion. Pour ce faire, une fois le noeud ins\u00e9r\u00e9, on regardera la hauteur de chaque sous-arbre gauche et droit, et si ces hauteurs diff\u00e8rent de plus de 1, on effectuera les rotations n\u00e9cessaires. Application manuelle 2 Enonc\u00e9 Solution On consid\u00e8re l'abre suivant : Est-il \u00e9quilibr\u00e9 au sens donn\u00e9 ? On ins\u00e8re maintenant la valeur 4. L'arbre est-il \u00e9quilibr\u00e9 ? Appliquer une rotation gauche sur la racine. Cela suffit-il pour que le r\u00e9sultat soit \u00e9quilibr\u00e9 ? En repartant de l'arbre de la question 2, quelle roitation faudrait-il faire avant d'appliquer une rotation gauche sur la racine afin d'obtenir un arbre \u00e9quilibr\u00e9 ? A venir ! L'algorithme r\u00e9el d'\u00e9quilbrage \u00e9tant un peu trop complexe pour notre niveau, voici les codes \u00e0 ins\u00e9rer dans les diff\u00e9rentes classes pour obtenir un AVL : dans la classe ABR : def insererAVL ( self , valeur ): if self . estVide (): self . racine = Node ( valeur ) else : self . racine = self . racine . inserer_AVL ( valeur ) dans la classe Node : def inserer_AVL ( self , valeur ): if valeur < self . valeur : if self . gauche is None : self . gauche = Node ( valeur , parent = self ) return self else : self . gauche = self . gauche . insererAVL ( valeur ) return self . equilibrer () elif valeur > self . valeur : if self . droit is None : self . droit = Node ( valeur , parent = self ) return self else : self . droit = self . droit . insererAVL ( valeur ) return self . equilibrer () else : return self def equilibrer ( self ): hauteur_gauche = hauteur ( self . gauche ) hauteur_droit = hauteur ( self . droit ) if hauteur_gauche - hauteur_droit == 2 : hauteur_gauche_gauche = hauteur ( self . gauche . gauche ) hauteur_gauche_droit = hauteur ( self . gauche . droit ) if hauteur_gauche_gauche > hauteur_gauche_droit : return self . rotationDroite () else : self . gauche = self . gauche . rotationGauche () return self . rotationDroite () elif hauteur_gauche - hauteur_droit == - 2 : hauteur_droit_droit = hauteur ( self . droit . droit ) hauteur_droit_gauche = hauteur ( self . droit . gauche ) if hauteur_droit_droit > hauteur_droit_gauche : return self . rotationGauche () else : self . droit = self . droit . rotationDroite () return self . rotationGauche () else : return self def hauteur ( self ): hauteur_gauche = hauteur ( self . gauche ) hauteur_droit = hauteur ( self . droit ) return 1 + max ( hauteur_gauche , hauteur_droit ) D\u00e9sormais, en cr\u00e9antun ABR et en utilisant la m\u00e9thode insertionAVL , l'arbre obtenu doit \u00eatre automatiquement \u00e9quilibr\u00e9.","title":"Equilibrage des ABR : les AVL"},{"location":"NSI/Terminale/C05/AVL/#equilibrage-des-arbres","text":"","title":"Equilibrage des arbres"},{"location":"NSI/Terminale/C05/AVL/#arbres-desequilibres","text":"Cr\u00e9ation d'arbres d\u00e9s\u00e9quilibr\u00e9s Enonc\u00e9 Solution Cr\u00e9er quatre ABR tree1 , tree2 , ..., \u00e0 partir des listes suivante : l1 = [ 5 , 2 , 11 , 3 , 7 , 13 , 9 ] l2 = [ 7 , 3 , 11 , 2 , 5 , 9 , 13 ] l3 = [ 2 , 3 , 5 , 11 , 7 , 13 , 9 ] l4 = [ 2 , 3 , 5 , 7 , 9 , 11 , 13 ] Que peut-on dire des quatre listes pr\u00e9c\u00e9dentes. Afficher les 4 arbres obtenus. En consid\u00e9rant que le temps de recherche dans un ABR est directement proportionnel \u00e0 la hauteur du noeud recherch\u00e9, le temps moyen pour trouver dans tree1 : le noeud 5 est de 1 ; les noeuds 2 et 11 de 2 ; les noeuds 3, 7 et 13 de 3 ; le noeud 9 de 4. le temps moyen de recherche sur cet arbre est donc \\(\\dfrac{1+2\\times 2 + 3\\times 3 + 4}{7} = \\dfrac{18}{7}\\) . Calculer de m\u00eame le temps moyen pour les ABR tree2 , tree3 et tree4 . Que peut-on en conclure ? On consid\u00e8re l'arbre \u00e9quilibr\u00e9 tree2 . Ins\u00e9rer maintenant les \u00e9l\u00e9ments suivants dans l'arbre : 17, 14, 15, 16. Comment est l'arbre obtenu ? A venir ! On comprend ais\u00e9ment qu\u2019un arbre \u00e9quilibr\u00e9 (solution 2) donne en moyenne de meilleurs r\u00e9sultats que tout autre arbre, et qu\u2019un arbre d\u00e9g\u00e9n\u00e9r\u00e9 (solution 4) donne des r\u00e9sultats plus mauvais que toute autre repr\u00e9sentation. La notion formelle d\u2019arbre \u00e9quilibr\u00e9 ( balanced tree chez Donald Knuth ) n\u2019est pas au programme, mais elle peut \u00eatre abord\u00e9e intuitivement. Sur un ABR \u00e9quilibr\u00e9, la recherche d\u2019un \u00e9l\u00e9ment est en moyenne en \\(log_2(n)\\) , comme avec une recherche par dichotomie dans une liste. On peut alors se poser la question de l\u2019int\u00e9r\u00eat d\u2019utiliser un ABR. La r\u00e9ponse tient dans le temps mis \u00e0 ajouter / supprimer un \u00e9l\u00e9ment : dans une liste, on est en \\(\\mathscr{O}(n)\\) (complexit\u00e9 lin\u00e9aire), alors qu\u2019on est en \\(\\mathscr{O}(log_2(n))\\) dans un ABR (complexit\u00e9 logarithmique). Aussi, lorsqu\u2019on doit stocker une collection d\u2019\u00e9l\u00e9ments ordonn\u00e9s, une liste Python peut \u00eatre utilis\u00e9e si la collection \u00e9volue peu ou bien si les \u00e9l\u00e9ments sont stock\u00e9s dans l\u2019ordre du tri. Mais si la collection doit \u00eatre r\u00e9guli\u00e8rement modifi\u00e9e et que les recherches par rapport au crit\u00e8re de tri sont fr\u00e9quentes, on privil\u00e9gie les ABR. Il est donc particuli\u00e8rement important que notre ABR soit \u00e9quilibr\u00e9, et surtout que les insertions/d\u00e9l\u00e9tions conservent la propri\u00e9t\u00e9 d'\u00e9quilibrage de ces ABR. Il existe plusieurs techniques pertmettant d'obtenir des ABR \u00e9quilibr\u00e9s : les arbres AVL ; les arbres rouge-noir ; les arbres 2-3 ; les arbres 2-3-4 ; les B-arbres.","title":"Arbres d\u00e9s\u00e9quilibr\u00e9s ?"},{"location":"NSI/Terminale/C05/AVL/#les-arbres-avl","text":"","title":"Les arbres AVL"},{"location":"NSI/Terminale/C05/AVL/#presentation-des-avl","text":"En informatique th\u00e9orique, les arbres AVL ont \u00e9t\u00e9 historiquement les premiers arbres binaires de recherche automatiquement \u00e9quilibr\u00e9s . La d\u00e9nomination \u00ab arbre AVL \u00bb provient des noms respectifs de ses deux inventeurs, respectivement Georgii Adelson-Velsky et Evguenii Landis, qui l'ont publi\u00e9 en 1962 sous le titre An Algorithm for the Organization of Information . Dans un arbre AVL, les hauteurs des deux sous-arbres d'un m\u00eame n\u0153ud diff\u00e8rent au plus de un, et cette propri\u00e9t\u00e9 est conserv\u00e9e dynamiquement au moment de l'insertion ou de la d\u00e9letion d'un nouveau noeud. La recherche, l'insertion et la suppression sont toutes en \\(\\mathscr{O}(log _{2}(n))\\) dans le pire des cas. Cependant les m\u00e9canismes d'insertion et de d\u00e9letions sont modifi\u00e9s par rapport \u00e0 ceux d\u00e9j\u00e0 travaill\u00e9s : ils n\u00e9cessitent des rotations droites et gauches .","title":"Pr\u00e9sentation des AVL"},{"location":"NSI/Terminale/C05/AVL/#rotations-droites-et-gauches","text":"Le m\u00e9canisme de rotation gauche consiste \u00e0 remplacer un noeud racine par son noeud droit (appel\u00e9 pivot ). Apr\u00e8s l'op\u00e9ration : les noeuds du sous-arbre S1 demeurent bien inf\u00e9rieurs au noeud Racine ; les noeuds du sous-arbre S2 , qui \u00e9taient tous sup\u00e9rieurs \u00e0 Racine tout en \u00e9tant inf\u00e9rieurs \u00e0 Pivot , le demeurent toujours ; les noeuds du sous-arbre S2 demeurent bien sup\u00e9rieurs au noeud Pivot . Ainsi par une rotation gauche, le nouvel arbre obtenu est aussi un ABR. Une version algorithmique de cette impl\u00e9mentation est : Pivot <- Racine.droit Racine.droit <- Pivot.gauche Pivot.gauche <- Racine Racine <- Pivot Impl\u00e9mentation Enonc\u00e9 Solution Cr\u00e9er une m\u00e9thode rotationGauche pour la classe Node . Attention ! Pour pouvoir impl\u00e9menter correctement cette m\u00e9thode, il ne faudra pas oublier de mettre \u00e0 jour les parents de chaque noeud ! Cr\u00e9er de m\u00e9m\u00e9 une m\u00e9thode rotationDroite pour la classe Node , en s'aidant du sch\u00e9ma suivant : A venir !","title":"Rotations droites et gauches"},{"location":"NSI/Terminale/C05/AVL/#techniques-desuilibrages","text":"Application manuelle Enonc\u00e9 Solution Appliquer \u00e0 la main une rotation gauche sur la racine de l'arbre suivant. Le r\u00e9sultat est-il plus \u00e9quilibr\u00e9 ? Appliquer \u00e0 la main une rotation gauche sur la racine de l'arbre suivant. Le r\u00e9sultat est-il plus \u00e9quilibr\u00e9 ? Appliquer une rotation droite sur le noeud 3 de l'arbre pr\u00e9c\u00e9dent, puis une rotation gauche sur la racine de l'arbre obtenu. Que peut-on en conclure ? A venir ! En pratique on \u00e9quilibrera un arbre \u00e0 chaque insertion et \u00e0 chaque d\u00e9l\u00e9tion. Pour ce faire, une fois le noeud ins\u00e9r\u00e9, on regardera la hauteur de chaque sous-arbre gauche et droit, et si ces hauteurs diff\u00e8rent de plus de 1, on effectuera les rotations n\u00e9cessaires. Application manuelle 2 Enonc\u00e9 Solution On consid\u00e8re l'abre suivant : Est-il \u00e9quilibr\u00e9 au sens donn\u00e9 ? On ins\u00e8re maintenant la valeur 4. L'arbre est-il \u00e9quilibr\u00e9 ? Appliquer une rotation gauche sur la racine. Cela suffit-il pour que le r\u00e9sultat soit \u00e9quilibr\u00e9 ? En repartant de l'arbre de la question 2, quelle roitation faudrait-il faire avant d'appliquer une rotation gauche sur la racine afin d'obtenir un arbre \u00e9quilibr\u00e9 ? A venir ! L'algorithme r\u00e9el d'\u00e9quilbrage \u00e9tant un peu trop complexe pour notre niveau, voici les codes \u00e0 ins\u00e9rer dans les diff\u00e9rentes classes pour obtenir un AVL : dans la classe ABR : def insererAVL ( self , valeur ): if self . estVide (): self . racine = Node ( valeur ) else : self . racine = self . racine . inserer_AVL ( valeur ) dans la classe Node : def inserer_AVL ( self , valeur ): if valeur < self . valeur : if self . gauche is None : self . gauche = Node ( valeur , parent = self ) return self else : self . gauche = self . gauche . insererAVL ( valeur ) return self . equilibrer () elif valeur > self . valeur : if self . droit is None : self . droit = Node ( valeur , parent = self ) return self else : self . droit = self . droit . insererAVL ( valeur ) return self . equilibrer () else : return self def equilibrer ( self ): hauteur_gauche = hauteur ( self . gauche ) hauteur_droit = hauteur ( self . droit ) if hauteur_gauche - hauteur_droit == 2 : hauteur_gauche_gauche = hauteur ( self . gauche . gauche ) hauteur_gauche_droit = hauteur ( self . gauche . droit ) if hauteur_gauche_gauche > hauteur_gauche_droit : return self . rotationDroite () else : self . gauche = self . gauche . rotationGauche () return self . rotationDroite () elif hauteur_gauche - hauteur_droit == - 2 : hauteur_droit_droit = hauteur ( self . droit . droit ) hauteur_droit_gauche = hauteur ( self . droit . gauche ) if hauteur_droit_droit > hauteur_droit_gauche : return self . rotationGauche () else : self . droit = self . droit . rotationDroite () return self . rotationGauche () else : return self def hauteur ( self ): hauteur_gauche = hauteur ( self . gauche ) hauteur_droit = hauteur ( self . droit ) return 1 + max ( hauteur_gauche , hauteur_droit ) D\u00e9sormais, en cr\u00e9antun ABR et en utilisant la m\u00e9thode insertionAVL , l'arbre obtenu doit \u00eatre automatiquement \u00e9quilibr\u00e9.","title":"Techniques d'\u00e9suilibrages :"},{"location":"NSI/Terminale/C05/Def_Arbres/","text":"Arbres Binaires : d\u00e9finitions et propri\u00e9t\u00e9s Les listes, piles et files que nous avons crois\u00e9 jusqu'ici sont utilis\u00e9es pour repr\u00e9senter de structures pouvant \u00eatre \u00e9num\u00e9r\u00e9es s\u00e9quentiellement. Elle sont particuli\u00e8rement efficcaces lorsqu'il s'agit d'acc\u00e9der au premier \u00e9l\u00e9ment (ou au dernier selon l'impl\u00e9mentation). Elles ne le sont pas contre pas quand il s'agit d'acc\u00e9der \u00e0 une \u00e9l\u00e9ment \u00e0 une position arbitraire dans la structure, car il faut parcourir toute la liste/pile/file jusqu'\u00e0 la position recherch\u00e9e, ce qui donne un temps d'acc\u00e8s proportionnel \u00e0 la taille de la structure (donc en \\(\\mathbb{O}(n)\\) ). Structures arborescentes Les structures arborescentes , c'est-\u00e0-dire sous forme d'arbre, sont une autre forme de structures cha\u00een\u00e9es dans laquel l'acc\u00e8s \u00e0 un \u00e9l\u00e9ment se fait potentiellement bien plus rapidement qu'avec les listes cha\u00een\u00e9es. Ces types de structures arborescentes sont omnipr\u00e9sentes en informatiques, ne serait-ce que par l'organisation du syst\u00e8me de fichier : Structure arorescente Une structure arborescente est une structure cha\u00een\u00e9ee construite \u00e0 partir d'un point de d\u00e9part qui se scinde en plusieurs branches \u00e0 chaque \u00e9tapes. Arbres Binaires D\u00e9finitions et vocabulaire d\u00e9finition : Arbre Binaire Un arbre binaire est un cas particulier de structure arborescente o\u00f9 chaque position ouvre sur exaactement deux branches. Plus pr\u00e9cisemment, un arbre binaire est un ensemble fini de noeuds correspondant \u00e0 l'un des deux cas suivants : Soit l'arbre est vide, c'est-\u00e0-dire qu'il ne contient aucun noeud . Soit l'arbre n'est pas vide, et ses noeuds sont structur\u00e9s de la fa\u00e7on suivante : un noeud est appel\u00e9 la racine de l'arbre ; les noeuds restants sont s\u00e9par\u00e9s en deux sous-ensembles qui forment r\u00e9cursivement deux sous-arbres binaires appel\u00e9s respectivemment sous-arbre gauche et sous-arbre droit ; la racine est reli\u00e9e \u00e0 chacune des racines de ces sous-arbres gauches et droits (\u00e0 conditions qu'ils ne soient pas vides). Exemples et contre-exemples d'arbres binaires L'arbre de gauche n'est pas un arbre binaire : 6 sous-arbres sont-rattach\u00e9s \u00e0 \\(A\\) , les sous-arbres de racines \\(B,C,D,E,F,G\\) . L'arbre de droite est bien un arbre binaire, de chaque noeud partent deux sous-arbres, \u00e9ventuellement vides. Vocabulaire des arbres On consid\u00e8re l'arbre binaire ci-dessous : La taille de l'arbre est \\(4\\) , c'est le nombre de noeuds qui le compose. Le noeud racine est le noeud \\(1\\) . Le sous-arbre gauche \u00e0 partir de \\(1\\) contient deux noeuds ( \\(2\\) et \\(3\\) ), le sous-arbre droit un seul ( \\(4\\) ). le noeud \\(1\\) poss\u00e8de deux fils : son fils gauche est \\(2\\) et son fils droit est \\(4\\) . Le sous-arbre gauche \u00e0 partir de \\(2\\) n'est pas vide (il contient le noeud \\(3\\) ), le sous-arbre droit lui l'est. Le noeud parent du noeud \\(3\\) est le noeud \\(2\\) . Les deux sous-arbres \u00e0 partir de \\(3\\) sont vides, touts comme ceux de \\(4\\) . On dira que les noeuds \\(3\\) et \\(4\\) sont des feuilles de l'arbre. Remarques Les arbres binaires sont utilis\u00e9s pour traiter des donn\u00e9es. Chaque noeud peut donc \u00eatre repr\u00e9sent\u00e9 par la donn\u00e9e qu'il contient. Ainsi, dans les arbres ci-dessus : un contient des valeurs num\u00e9riques ( \\(1\\) , \\(2\\) , \\(3\\) et \\(4\\) ) ; l'autre contient des caract\u00e8res ( \\(A\\) \u00e0 \\(L\\) ). Exercice Pour chacun des arbres binaires ci-dessous, pr\u00e9ciser sa taille, sa racine ainsi que les noeuds feuilles : Enonc\u00e9 Solution Arbre 1 Arbre 2 Arbre 1 : taille : 7 racine : \u00ab A \u00bb feuilles : \u00ab D \u00bb, \u00ab E \u00bb, \u00ab G \u00bb Arbre 2 : taille : 7 racine : \u00ab P \u00bb feuilles : \u00ab C \u00bb, \u00ab X \u00bb, \u00ab N \u00bb Exercice Enonc\u00e9 Solution Dessiner tous les arbres binaires ayant respectivement 3 et 4 noeuds. Exercice Enonc\u00e9 Solution Sachant qu'il y a 1 arbre binaire vide, 1 arbre binaire contenant 1 noeud, 2 arbres binaires contenant 2 noeuds, 5 arbres binaires contenant 3 noeuds, et 14 arbres binaires contenant 4 noeuds, caclculer le nombre d'arbres binaires contenant 5 noeuds, sans chercher \u00e0 les construire tous. Un arbre de taille 5 dispose d'un noeud racine et de 4 noeuds, pouvant \u00eatre r\u00e9partis de la mani\u00e8re suivante : 4 noeuds dans le sous-arbre gauche, et 0 dans le sous-arbre droit ; 3 noeuds dans le sous-arbre gauche, et 1 dans le sous-arbre droit ; 2 noeuds dans le sous-arbre gauche, et 2 dans le sous-arbre droit ; 1 noeud dans le sous-arbre gauche, et 3 dans le sous-arbre droit ; 0 noeud dans le sous-arbre gauche, et 4 dans le sous-arbre droit. On en d\u00e9duit que le nombre d'arbres diff\u00e9rents \u00e0 5 noeuds est : \\[ 14\\times 1 + 5 \\times 1 + 2 \\times 2 + 1 \\times 5 + 1 \\times 14 = 14 + 5 + 4 + 5 + 14 = 42 \\] Hauteur d'un arbre D\u00e9finition : hauteur d'un arbre La hauteur d'un arbre est \u00e9gale au nombre maximal de noeuds reliant la racine aux feuilles, les extr\u00e9mit\u00e9s \u00e9tant comprises. Si un arbre est de taille \\(N\\) et de hauteur \\(h\\) , on a la relation suivante : \\[ h \\leqslant N \\leqslant 2^h-1 \\] D\u00e9monstration In\u00e9galit\u00e9 \\(h\\leqslant N\\) In\u00e9galit\u00e9 \\(N\\leqslant 2^h-1\\) Dans le cas d'un arbre ayant \u00e0 chaque noeud au moins un de ses sous-arbre vide : Il est \u00e9vident que dans ce cas la hauteur de l'arbre est \u00e9gale \u00e0 sa taille, d'o\u00f9 \\(h\\leqslant N\\) . dans le cas d'un arbre binaire parfait , c'est-\u00e0-dire dont toutes les feuilles sont situ\u00e9es \u00e0 la m\u00eame distance de la racine : La taille est alors \u00e9gale \u00e0 \\[ \\begin{align} N&= 1 + 2 + 2^2 + \\dots +2^{h-1}\\\\ &= \\dfrac{2^h-1}{2-1}\\\\ N&= 2^h-1 \\end{align} \\] D'o\u00f9 l'in\u00e9galit\u00e9 recherch\u00e9e. Hauteur et r\u00e9cursivit\u00e9 La hauteur d'un arbre peut-aussi \u00eatre d\u00e9finie r\u00e9cursivement : la hauteur d'un arbre vide est 0 ; la hauteur d'un arbre est \u00e9gale \u00e0 un plus le maximum de la hauteur des deux sous-arbres de la racine : \\[ h = 1 + max(hauteur(Gauche), hauteur(Droit)) \\] Impl\u00e9mentation d'arbres en Python Il existe bien entendu diff\u00e9rentes fa\u00e7ons d'impl\u00e9menter une structure d'arbre binaire en Python. Cependant, la m\u00e9thode la plus simple est d'utiliser le paradigme Objet afin de repr\u00e9senter des noeuds : class Node () : def __init__ ( self , valeur , gauche , droit ) : self . valeur = valeur self . gauche = gauche self . droit = droit un sous-arbre vide \u00e9tant repr\u00e9sent\u00e9 par la valeur None . Exemple d'utilisation des objets Node On consid\u00e8re l'arbre binaire ci-dessous : Une repr\u00e9sentation en Python de cet arbre est alors : tree = Node ( 1 , Node ( 2 , Node ( 3 , None , None ), None ), Node ( 4 , None , None )) Exercice Enonc\u00e9 Solution Donner le code de repr\u00e9sentation de chacun des arbres ci-dessous en Python : Arbre 1 Arbre 2 Arbre 1 : arbre1 = Node ( \"A\" , Node ( \"B\" , Node ( \"D\" , None , None ), #FG Node ( \"E\" , None , None ), #FD ), Node ( \"C\" , #FD None , #FG Node ( \"F\" , #FD None , #FG Node ( \"G\" , None , None ) #FD ) ) ) Arbre 2 : arbre2 = Node ( \"P\" , Node ( \"A\" , Node ( \"R\" , Node ( \"C\" , None , None ), None ), Node ( \"I\" , Node ( \"X\" , None , None ), Node ( \"N\" , None , None ) ) ), None ) Exercice : Fonction hauteur Enonc\u00e9 Solution Coder une fonction hauteur(t) calculant la hauteur d'un arbre t qui lui est pass\u00e9 en argument ( indice : r\u00e9cursivit\u00e9 ). def hauteur ( t ) : if t is None : return 0 else : return 1 + max ( hauteur ( t . gauche ), hauteur ( t . droit )) Exercice : Fonction taille Enonc\u00e9 Solution Coder une fonction taille(t) calculant la taille d'un arbre t qui lui est pass\u00e9 en argument ( indice : r\u00e9cursivit\u00e9 ). def taille ( t ) : if t is None : return 0 else : return 1 + taille ( t . gauche ) + taille ( t . droit ) Exercice : Fonction estVide(tree) Enonc\u00e9 Solution Coder une fonction estVide(tree) renvoyant True si l'arbre est vide, et False sinon. def estVide ( t ) : return t is None Arbres doublement cha\u00een\u00e9s Il est parfois - mais pas toujours- n\u00e9cessaire de m\u00e9moriser le noeud parent de chaque noeud. On parle alors d'arbre doublement cha\u00een\u00e9s . L'impl\u00e9mentation en POO de la classe Node est alors quasiment identique, en rajoutant seulement l'attribut parent : class Node () : def __init__ ( self , valeur , gauche , droit , parent ) : self . valeur = valeur self . gauche = gauche self . droit = droit self . parent = parent Parcours d'arbres Pour utiliser un arbre, il faut le parcourir . Or il existe plusieurs ordres de parcours, qui tous ont un int\u00e9r\u00eat diff\u00e9rent. Pour illustrer ces ordres de parcours, nous utiliserons comme exemple le m\u00eame arbre, dont on veux afficher les diff\u00e9rents noeuds : Parcours en profondeur ( DFS ou Depth-First Search) Les parcours en profondeur sont des parcours qui seront trait\u00e9s de mani\u00e8re r\u00e9cursives, en partant de la racine. Il en existe trois type principaux : Parcours Pr\u00e9fixe On appelle parcours pr\u00e9fixe un parcours o\u00f9 les noeuds seront affich\u00e9s dans l'ordre suivant on affiche la racine ; ensuite on affiche r\u00e9cursivement le sous-arbre gauche ; enfin on affiche r\u00e9cursivement le sous-arbre droit. Le parcours est dans l'ordre noeud - gauche - droit Exemple Sur l'arbre ci-dessus, on a donc parcouru dans l'ordre suivant : L'ordre d'affichage des noeuds est donc : 1, 2, 4, 5, 8, 9, 3, 6, 10, 7, 11. Parcours Infixe On appelle parcours infixe un parcours o\u00f9 les noeuds seront affich\u00e9s dans l'ordre suivant on affiche r\u00e9cursivement le sous-arbre gauche ; ensuite on affiche la racine ; enfin on affiche r\u00e9cursivement le sous-arbre droit. Le parcours est donc dans l'ordre gauche - noeud -droit . Exemple Sur l'arbre ci-dessus, on a donc parcouru dans l'ordre suivant : L'ordre d'affichage des noeuds est donc : 4, 2, 8, 5, 9, 1, 10, 6, 3, 7, 11. Parcours Suffixe (ou postfixe) On appelle parcours suffixe un parcours o\u00f9 les noeuds seront affich\u00e9s dans l'ordre suivant on affiche r\u00e9cursivement le sous-arbre gauche ; ensuite on affiche r\u00e9cursivement le sous-arbre droit ; enfin on on affiche la racine. Le parcours est donc dans l'ordre gauche - droit - noeud . Exemple Sur l'arbre ci-dessus, on a donc parcouru dans l'ordre suivant : L'ordre d'affichage des noeuds est donc : 4, 8, 9, 5, 2, 10, 6, 11, 7, 3, 1. Exercice Enonc\u00e9 Solution Pour chacun des arbres suivants, donner l'affichage par : un parcours pr\u00e9fixe ; un parcours infixe ; un parcours suffixe. Arbre 1 Arbre 2 Arbre 1 : parcours Pr\u00e9fixe : A B H parcours Infixe : B A H parcours Suffixe : B H A Arbre 2 : parcours Pr\u00e9fixe : A B C D E F G H I J K L parcours Infixe : D C E B G F A I J H L K parcours Suffixe : D E C G F B J I L K H A Algorithmes et codage des parcours en profondeur Codage des arbres Les deux arbres pr\u00e9c\u00e9dents peucvent \u00eatre cod\u00e9s en Python de la mani\u00e8re suivante : arbre1 = Node ( 'A' , Node ( 'B' , None , None ), Node ( 'C' , None , None ) ) arbre2 = Node ( 'A' , Node ( 'B' , Node ( 'C' , Node ( 'D' , None , None ), Node ( 'E' , None , None )), Node ( 'F' , Node ( 'G' , None , None ), None ) ), Node ( 'H' , Node ( 'I' , None , Node ( 'J' , None , None )), Node ( 'K' , Node ( 'L' , None , None ), None ) ) ) Exemple : algorithme de parcours pr\u00e9fixe Un algorithme en langage naturel permettant d'afficher les noeuds d'un arbre par un parcours pr\u00e9fixe peut-\u00eatre \u00e9crit comme suit : visiterPr\u00e9fixe(Arbre A) : Afficher (A) Si nonVide (gauche(A)) visiterPr\u00e9fixe(gauche(A)) Si nonVide (droite(A)) visiterPr\u00e9fixe(droite(A)) Sa traduction en Python est la suivante : def visitePrefixe ( tree ) : print ( tree . valeur , end = \" \" ) if not ( estVide ( tree . gauche )) : visitePrefixe ( tree . gauche ) if not ( estVide ( tree . droit )) : visitePrefixe ( tree . droit ) Exercice : Parcours infixe Enonc\u00e9 Solution Cr\u00e9er une fonction visiteInfixe permettant d'afficher les noeuds d'un arbre par un parcours infixe. La fonction sera test\u00e9e sur les deux arbres donn\u00e9s plus haut. def visiteInfixe ( tree ) : if not ( estVide ( tree . gauche )) : visiteInfixe ( tree . gauche ) print ( tree . valeur , end = \" \" ) if not ( estVide ( tree . droit )) : visiteInfixe ( tree . droit ) Exercice : Parcours suffixe Enonc\u00e9 Solution Cr\u00e9er une fonction visiteSuffixe permettant d'afficher les noeuds d'un arbre par un parcours suffixe. La fonction sera test\u00e9e sur les deux arbres donn\u00e9s plus haut. def visiteSuffixe ( tree ) : if not ( estVide ( tree . gauche )) : visiteSuffixe ( tree . gauche ) if not ( estVide ( tree . droit )) : visiteSuffixe ( tree . droit ) print ( tree . valeur , end = \" \" ) Parcours en largeur Le parcours en largeur d'un arbre consiste \u00e0 parcourir chaque niveau de l'arbre de gauche \u00e0 droite, en partant de la racine. Sur cet arbre, le parcours en largeur affichera les noeuds dans l'ordre suivant : 1 2 3 4 5 6 7 8 9 10 11 Exercice : application directe Enonc\u00e9 Solution Donner le r\u00e9sultat d'un parcours en largeur des deux arbres des exercices pr\u00e9c\u00e9dents. Arbre 1 : A B H Arbre 2 : A B H C F I K D E G J L Algorithme de parcours en largeur Le parcours en largeur n'est pas effectu\u00e9 r\u00e9cursivemment . Il fonctionne avec le principe d'une file : ParcoursLargeur(Arbre A) { f = FileVide enfiler(Racine(A), f) Tant que (f != FileVide) { noeud = defiler(f) Afficher(noeud) Si (gauche(noeud) != null) Alors enfiler(gauche(noeud), f) Si (droite(noeud) != null) Alors enfiler(droite(noeud), f) } } Exercice Enonc\u00e9 Solution Impl\u00e9menter une fonction visiteLargeur(tree) , utilisant une structure de file bas\u00e9e sur les listes python, et utilisant : list.insert(0, e) pour enfiler l'\u00e9l\u00e9ment e \u00e0 la position 0 ; list.pop() pour d\u00e9filer le dernier \u00e9l\u00e9ment de la file. def visiteLargeur ( tree ) : f = [] f . insert ( 0 , tree ) while f != [] : noeud = f . pop () print ( noeud . valeur , end = \" \" ) if noeud . gauche : f . insert ( 0 , noeud . gauche ) if noeud . droit : f . insert ( 0 , noeud . droit )","title":"D\u00e9finition et propri\u00e9t\u00e9s des arbres binaires"},{"location":"NSI/Terminale/C05/Def_Arbres/#arbres-binaires-definitions-et-proprietes","text":"Les listes, piles et files que nous avons crois\u00e9 jusqu'ici sont utilis\u00e9es pour repr\u00e9senter de structures pouvant \u00eatre \u00e9num\u00e9r\u00e9es s\u00e9quentiellement. Elle sont particuli\u00e8rement efficcaces lorsqu'il s'agit d'acc\u00e9der au premier \u00e9l\u00e9ment (ou au dernier selon l'impl\u00e9mentation). Elles ne le sont pas contre pas quand il s'agit d'acc\u00e9der \u00e0 une \u00e9l\u00e9ment \u00e0 une position arbitraire dans la structure, car il faut parcourir toute la liste/pile/file jusqu'\u00e0 la position recherch\u00e9e, ce qui donne un temps d'acc\u00e8s proportionnel \u00e0 la taille de la structure (donc en \\(\\mathbb{O}(n)\\) ).","title":"Arbres Binaires : d\u00e9finitions et propri\u00e9t\u00e9s"},{"location":"NSI/Terminale/C05/Def_Arbres/#structures-arborescentes","text":"Les structures arborescentes , c'est-\u00e0-dire sous forme d'arbre, sont une autre forme de structures cha\u00een\u00e9es dans laquel l'acc\u00e8s \u00e0 un \u00e9l\u00e9ment se fait potentiellement bien plus rapidement qu'avec les listes cha\u00een\u00e9es. Ces types de structures arborescentes sont omnipr\u00e9sentes en informatiques, ne serait-ce que par l'organisation du syst\u00e8me de fichier : Structure arorescente Une structure arborescente est une structure cha\u00een\u00e9ee construite \u00e0 partir d'un point de d\u00e9part qui se scinde en plusieurs branches \u00e0 chaque \u00e9tapes.","title":"Structures arborescentes"},{"location":"NSI/Terminale/C05/Def_Arbres/#arbres-binaires","text":"","title":"Arbres Binaires"},{"location":"NSI/Terminale/C05/Def_Arbres/#definitions-et-vocabulaire","text":"d\u00e9finition : Arbre Binaire Un arbre binaire est un cas particulier de structure arborescente o\u00f9 chaque position ouvre sur exaactement deux branches. Plus pr\u00e9cisemment, un arbre binaire est un ensemble fini de noeuds correspondant \u00e0 l'un des deux cas suivants : Soit l'arbre est vide, c'est-\u00e0-dire qu'il ne contient aucun noeud . Soit l'arbre n'est pas vide, et ses noeuds sont structur\u00e9s de la fa\u00e7on suivante : un noeud est appel\u00e9 la racine de l'arbre ; les noeuds restants sont s\u00e9par\u00e9s en deux sous-ensembles qui forment r\u00e9cursivement deux sous-arbres binaires appel\u00e9s respectivemment sous-arbre gauche et sous-arbre droit ; la racine est reli\u00e9e \u00e0 chacune des racines de ces sous-arbres gauches et droits (\u00e0 conditions qu'ils ne soient pas vides). Exemples et contre-exemples d'arbres binaires L'arbre de gauche n'est pas un arbre binaire : 6 sous-arbres sont-rattach\u00e9s \u00e0 \\(A\\) , les sous-arbres de racines \\(B,C,D,E,F,G\\) . L'arbre de droite est bien un arbre binaire, de chaque noeud partent deux sous-arbres, \u00e9ventuellement vides. Vocabulaire des arbres On consid\u00e8re l'arbre binaire ci-dessous : La taille de l'arbre est \\(4\\) , c'est le nombre de noeuds qui le compose. Le noeud racine est le noeud \\(1\\) . Le sous-arbre gauche \u00e0 partir de \\(1\\) contient deux noeuds ( \\(2\\) et \\(3\\) ), le sous-arbre droit un seul ( \\(4\\) ). le noeud \\(1\\) poss\u00e8de deux fils : son fils gauche est \\(2\\) et son fils droit est \\(4\\) . Le sous-arbre gauche \u00e0 partir de \\(2\\) n'est pas vide (il contient le noeud \\(3\\) ), le sous-arbre droit lui l'est. Le noeud parent du noeud \\(3\\) est le noeud \\(2\\) . Les deux sous-arbres \u00e0 partir de \\(3\\) sont vides, touts comme ceux de \\(4\\) . On dira que les noeuds \\(3\\) et \\(4\\) sont des feuilles de l'arbre. Remarques Les arbres binaires sont utilis\u00e9s pour traiter des donn\u00e9es. Chaque noeud peut donc \u00eatre repr\u00e9sent\u00e9 par la donn\u00e9e qu'il contient. Ainsi, dans les arbres ci-dessus : un contient des valeurs num\u00e9riques ( \\(1\\) , \\(2\\) , \\(3\\) et \\(4\\) ) ; l'autre contient des caract\u00e8res ( \\(A\\) \u00e0 \\(L\\) ). Exercice Pour chacun des arbres binaires ci-dessous, pr\u00e9ciser sa taille, sa racine ainsi que les noeuds feuilles : Enonc\u00e9 Solution","title":"D\u00e9finitions et vocabulaire"},{"location":"NSI/Terminale/C05/Def_Arbres/#hauteur-dun-arbre","text":"D\u00e9finition : hauteur d'un arbre La hauteur d'un arbre est \u00e9gale au nombre maximal de noeuds reliant la racine aux feuilles, les extr\u00e9mit\u00e9s \u00e9tant comprises. Si un arbre est de taille \\(N\\) et de hauteur \\(h\\) , on a la relation suivante : \\[ h \\leqslant N \\leqslant 2^h-1 \\] D\u00e9monstration In\u00e9galit\u00e9 \\(h\\leqslant N\\) In\u00e9galit\u00e9 \\(N\\leqslant 2^h-1\\) Dans le cas d'un arbre ayant \u00e0 chaque noeud au moins un de ses sous-arbre vide : Il est \u00e9vident que dans ce cas la hauteur de l'arbre est \u00e9gale \u00e0 sa taille, d'o\u00f9 \\(h\\leqslant N\\) . dans le cas d'un arbre binaire parfait , c'est-\u00e0-dire dont toutes les feuilles sont situ\u00e9es \u00e0 la m\u00eame distance de la racine : La taille est alors \u00e9gale \u00e0 \\[ \\begin{align} N&= 1 + 2 + 2^2 + \\dots +2^{h-1}\\\\ &= \\dfrac{2^h-1}{2-1}\\\\ N&= 2^h-1 \\end{align} \\] D'o\u00f9 l'in\u00e9galit\u00e9 recherch\u00e9e. Hauteur et r\u00e9cursivit\u00e9 La hauteur d'un arbre peut-aussi \u00eatre d\u00e9finie r\u00e9cursivement : la hauteur d'un arbre vide est 0 ; la hauteur d'un arbre est \u00e9gale \u00e0 un plus le maximum de la hauteur des deux sous-arbres de la racine : \\[ h = 1 + max(hauteur(Gauche), hauteur(Droit)) \\]","title":"Hauteur d'un arbre"},{"location":"NSI/Terminale/C05/Def_Arbres/#implementation-darbres-en-python","text":"Il existe bien entendu diff\u00e9rentes fa\u00e7ons d'impl\u00e9menter une structure d'arbre binaire en Python. Cependant, la m\u00e9thode la plus simple est d'utiliser le paradigme Objet afin de repr\u00e9senter des noeuds : class Node () : def __init__ ( self , valeur , gauche , droit ) : self . valeur = valeur self . gauche = gauche self . droit = droit un sous-arbre vide \u00e9tant repr\u00e9sent\u00e9 par la valeur None . Exemple d'utilisation des objets Node On consid\u00e8re l'arbre binaire ci-dessous : Une repr\u00e9sentation en Python de cet arbre est alors : tree = Node ( 1 , Node ( 2 , Node ( 3 , None , None ), None ), Node ( 4 , None , None )) Exercice Enonc\u00e9 Solution Donner le code de repr\u00e9sentation de chacun des arbres ci-dessous en Python :","title":"Impl\u00e9mentation d'arbres en Python"},{"location":"NSI/Terminale/C05/Def_Arbres/#parcours-darbres","text":"Pour utiliser un arbre, il faut le parcourir . Or il existe plusieurs ordres de parcours, qui tous ont un int\u00e9r\u00eat diff\u00e9rent. Pour illustrer ces ordres de parcours, nous utiliserons comme exemple le m\u00eame arbre, dont on veux afficher les diff\u00e9rents noeuds :","title":"Parcours d'arbres"},{"location":"NSI/Terminale/C05/Def_Arbres/#parcours-en-profondeur-dfs-ou-depth-first-search","text":"Les parcours en profondeur sont des parcours qui seront trait\u00e9s de mani\u00e8re r\u00e9cursives, en partant de la racine. Il en existe trois type principaux : Parcours Pr\u00e9fixe On appelle parcours pr\u00e9fixe un parcours o\u00f9 les noeuds seront affich\u00e9s dans l'ordre suivant on affiche la racine ; ensuite on affiche r\u00e9cursivement le sous-arbre gauche ; enfin on affiche r\u00e9cursivement le sous-arbre droit. Le parcours est dans l'ordre noeud - gauche - droit Exemple Sur l'arbre ci-dessus, on a donc parcouru dans l'ordre suivant : L'ordre d'affichage des noeuds est donc : 1, 2, 4, 5, 8, 9, 3, 6, 10, 7, 11. Parcours Infixe On appelle parcours infixe un parcours o\u00f9 les noeuds seront affich\u00e9s dans l'ordre suivant on affiche r\u00e9cursivement le sous-arbre gauche ; ensuite on affiche la racine ; enfin on affiche r\u00e9cursivement le sous-arbre droit. Le parcours est donc dans l'ordre gauche - noeud -droit . Exemple Sur l'arbre ci-dessus, on a donc parcouru dans l'ordre suivant : L'ordre d'affichage des noeuds est donc : 4, 2, 8, 5, 9, 1, 10, 6, 3, 7, 11. Parcours Suffixe (ou postfixe) On appelle parcours suffixe un parcours o\u00f9 les noeuds seront affich\u00e9s dans l'ordre suivant on affiche r\u00e9cursivement le sous-arbre gauche ; ensuite on affiche r\u00e9cursivement le sous-arbre droit ; enfin on on affiche la racine. Le parcours est donc dans l'ordre gauche - droit - noeud . Exemple Sur l'arbre ci-dessus, on a donc parcouru dans l'ordre suivant : L'ordre d'affichage des noeuds est donc : 4, 8, 9, 5, 2, 10, 6, 11, 7, 3, 1. Exercice Enonc\u00e9 Solution Pour chacun des arbres suivants, donner l'affichage par : un parcours pr\u00e9fixe ; un parcours infixe ; un parcours suffixe.","title":"Parcours en profondeur ( DFS ou Depth-First Search)"},{"location":"NSI/Terminale/C05/Def_Arbres/#algorithmes-et-codage-des-parcours-en-profondeur","text":"Codage des arbres Les deux arbres pr\u00e9c\u00e9dents peucvent \u00eatre cod\u00e9s en Python de la mani\u00e8re suivante : arbre1 = Node ( 'A' , Node ( 'B' , None , None ), Node ( 'C' , None , None ) ) arbre2 = Node ( 'A' , Node ( 'B' , Node ( 'C' , Node ( 'D' , None , None ), Node ( 'E' , None , None )), Node ( 'F' , Node ( 'G' , None , None ), None ) ), Node ( 'H' , Node ( 'I' , None , Node ( 'J' , None , None )), Node ( 'K' , Node ( 'L' , None , None ), None ) ) ) Exemple : algorithme de parcours pr\u00e9fixe Un algorithme en langage naturel permettant d'afficher les noeuds d'un arbre par un parcours pr\u00e9fixe peut-\u00eatre \u00e9crit comme suit : visiterPr\u00e9fixe(Arbre A) : Afficher (A) Si nonVide (gauche(A)) visiterPr\u00e9fixe(gauche(A)) Si nonVide (droite(A)) visiterPr\u00e9fixe(droite(A)) Sa traduction en Python est la suivante : def visitePrefixe ( tree ) : print ( tree . valeur , end = \" \" ) if not ( estVide ( tree . gauche )) : visitePrefixe ( tree . gauche ) if not ( estVide ( tree . droit )) : visitePrefixe ( tree . droit ) Exercice : Parcours infixe Enonc\u00e9 Solution Cr\u00e9er une fonction visiteInfixe permettant d'afficher les noeuds d'un arbre par un parcours infixe. La fonction sera test\u00e9e sur les deux arbres donn\u00e9s plus haut. def visiteInfixe ( tree ) : if not ( estVide ( tree . gauche )) : visiteInfixe ( tree . gauche ) print ( tree . valeur , end = \" \" ) if not ( estVide ( tree . droit )) : visiteInfixe ( tree . droit ) Exercice : Parcours suffixe Enonc\u00e9 Solution Cr\u00e9er une fonction visiteSuffixe permettant d'afficher les noeuds d'un arbre par un parcours suffixe. La fonction sera test\u00e9e sur les deux arbres donn\u00e9s plus haut. def visiteSuffixe ( tree ) : if not ( estVide ( tree . gauche )) : visiteSuffixe ( tree . gauche ) if not ( estVide ( tree . droit )) : visiteSuffixe ( tree . droit ) print ( tree . valeur , end = \" \" )","title":"Algorithmes et codage des parcours en profondeur"},{"location":"NSI/Terminale/C05/Def_Arbres/#parcours-en-largeur","text":"Le parcours en largeur d'un arbre consiste \u00e0 parcourir chaque niveau de l'arbre de gauche \u00e0 droite, en partant de la racine. Sur cet arbre, le parcours en largeur affichera les noeuds dans l'ordre suivant : 1 2 3 4 5 6 7 8 9 10 11 Exercice : application directe Enonc\u00e9 Solution Donner le r\u00e9sultat d'un parcours en largeur des deux arbres des exercices pr\u00e9c\u00e9dents. Arbre 1 : A B H Arbre 2 : A B H C F I K D E G J L Algorithme de parcours en largeur Le parcours en largeur n'est pas effectu\u00e9 r\u00e9cursivemment . Il fonctionne avec le principe d'une file : ParcoursLargeur(Arbre A) { f = FileVide enfiler(Racine(A), f) Tant que (f != FileVide) { noeud = defiler(f) Afficher(noeud) Si (gauche(noeud) != null) Alors enfiler(gauche(noeud), f) Si (droite(noeud) != null) Alors enfiler(droite(noeud), f) } } Exercice Enonc\u00e9 Solution Impl\u00e9menter une fonction visiteLargeur(tree) , utilisant une structure de file bas\u00e9e sur les listes python, et utilisant : list.insert(0, e) pour enfiler l'\u00e9l\u00e9ment e \u00e0 la position 0 ; list.pop() pour d\u00e9filer le dernier \u00e9l\u00e9ment de la file. def visiteLargeur ( tree ) : f = [] f . insert ( 0 , tree ) while f != [] : noeud = f . pop () print ( noeud . valeur , end = \" \" ) if noeud . gauche : f . insert ( 0 , noeud . gauche ) if noeud . droit : f . insert ( 0 , noeud . droit )","title":"Parcours en largeur"},{"location":"NSI/Terminale/C06/Interblocage/","text":"Interblocage Nous avons vu dans la partie pr\u00e9c\u00e9dente que les threads peuvent \u00eatre une solution pour acc\u00e9l\u00e9rer le traitement de donn\u00e9es. Cependant cette pratique n'est pas sans risque, en particulier nous risquons un interblocage ( deadlock en anglais). Un exemple de situation probl\u00e9matique avec les threads Copiez-collez le code suivant dans un programme deadlock.py : import threading , time from random import randint verrou1 = threading . Lock () verrou2 = threading . Lock () def f1 () : time . sleep ( randint ( 0 , 100 ) / 100 ) verrou1 . acquire () print ( \"Zone risqu\u00e9e f1.1\" ) verrou2 . acquire () print ( \"Zone risqu\u00e9e f1.2\" ) verrou2 . release () verrou1 . release () def f2 () : verrou2 . acquire () time . sleep ( randint ( 0 , 100 ) / 100 ) print ( \"Zone risqu\u00e9e f2.1\" ) verrou1 . acquire () print ( \"Zone risqu\u00e9e f2.2\" ) verrou1 . release () verrou2 . release () t1 = threading . Thread ( target = f1 ) t2 = threading . Thread ( target = f2 ) t1 . start () t2 . start () t1 . join () t2 . join () En analysant le code : deux threads t1 et t2 utilisent deux ressources f1 et f2 , contr\u00f4l\u00e9es par des verrous 1 et 2 f1 verrouille ( acquire ) verrou1 , puis verrouille verrou2 , avant de les rel\u00e2cher ( release ) dans l'ordre inverse de leur verrouillage ; f2 verrouille ( acquire ) verrou2 , puis verrouille verrou1 , avant de les rel\u00e2cher ( release ) dans l'ordre inverse de leur verrouillage ; l'ex\u00e9cution des codes de f1 et de f2 sont conditionn\u00e9 par un d\u00e9clenchement al\u00e9atoire dans le temps. Quatre cas peuvent alors se produire : t1 d\u00e9marre en premier, acquiert verrou1 puis verrou2 , t2 est mis en attente de la lib\u00e9ration, et peut agir d\u00e8s que verrou2 est lib\u00e9r\u00e9. t2 d\u00e9marre en premier, acquiert verrou2 puis verrou1 , t1 est mis en attente de la lib\u00e9ration, et peut agir d\u00e8s que verrou1 est lib\u00e9r\u00e9. t1 d\u00e9marre en premier et acquiert verrou1 , t2 d\u00e9marre et acquiert verrou2 . t1 est alors bloqu\u00e9, car il ne peut acqu\u00e9rir verrou2 , et t2 est dans la m\u00eame situation avec verrou1 . Les deux processus sont en attente, et ne pourront pas lib\u00e9rer leurs verrous. Il s'agit de la m\u00eame situation que pr\u00e9c\u00e9demment, mais t2 d\u00e9marre avant t1 . Dans les deux derniers cas, nous sommes dans une situation dite d' interblocage , les deux threads ne pouvant continuer puisqu'ils se bloquent l'un l'autre. Notion d'Interblocage Les interblocages sont des situations de la vie quotidienne. Un exemple est celui du carrefour avec priorit\u00e9 \u00e0 droite o\u00f9 chaque v\u00e9hicule est bloqu\u00e9 car il doit laisser le passage au v\u00e9hicule \u00e0 sa droite. En informatique \u00e9galement, l'interblocage peut se produire lorsque des processus concurrents s'attendent mutuellement . Les processus bloqu\u00e9s dans cet \u00e9tat le sont d\u00e9finitivement. Ce sc\u00e9nario catastrophe peut se produire dans un environnement o\u00f9 des ressources sont partag\u00e9es entre plusieurs processus et l'un d'entre eux d\u00e9tient ind\u00e9finiement une ressource n\u00e9cessaire pour l'autre. Cette situation d'interblocage a \u00e9t\u00e9 th\u00e9oris\u00e9e par l'informaticien Edward Coffman (1934-) qui a \u00e9nonc\u00e9 quatre conditions (appel\u00e9es conditions de Coffman) menant \u00e0 l'interblocage : Exclusion mutuelle : au moins une des ressources du syst\u00e8me doit \u00eatre en acc\u00e8s exclusif. R\u00e9tention des ressources : un processus d\u00e9tient au moins une ressource et requiert une autre ressource d\u00e9tenue par un autre processus Non-pr\u00e9emption : Seul le d\u00e9tenteur d'une ressource peut la lib\u00e9rer. Attente circulaire : Chaque processus attend une ressource d\u00e9tenue par un autre processus. \\(P_1\\) attend une ressource d\u00e9tenue par \\(P_2\\) qui \u00e0 son tour attend une ressource d\u00e9tenue par \\(P_3\\) etc... qui attend une ressource d\u00e9tenue par \\(P_1\\) ce qui clos la boucle. Il existe heureusement des strat\u00e9gies pour \u00e9viter ces situations. Nous ne rentrerons pas ici dans ces consid\u00e9rations qui d\u00e9passent le cadre du programme. Un exemple historique Le travail ayant \u00e9t\u00e9 plus que bien fait par d'autres : le probl\u00e8me Pathfinder","title":"Interblocage"},{"location":"NSI/Terminale/C06/Interblocage/#interblocage","text":"Nous avons vu dans la partie pr\u00e9c\u00e9dente que les threads peuvent \u00eatre une solution pour acc\u00e9l\u00e9rer le traitement de donn\u00e9es. Cependant cette pratique n'est pas sans risque, en particulier nous risquons un interblocage ( deadlock en anglais).","title":"Interblocage"},{"location":"NSI/Terminale/C06/Interblocage/#un-exemple-de-situation-problematique-avec-les-threads","text":"Copiez-collez le code suivant dans un programme deadlock.py : import threading , time from random import randint verrou1 = threading . Lock () verrou2 = threading . Lock () def f1 () : time . sleep ( randint ( 0 , 100 ) / 100 ) verrou1 . acquire () print ( \"Zone risqu\u00e9e f1.1\" ) verrou2 . acquire () print ( \"Zone risqu\u00e9e f1.2\" ) verrou2 . release () verrou1 . release () def f2 () : verrou2 . acquire () time . sleep ( randint ( 0 , 100 ) / 100 ) print ( \"Zone risqu\u00e9e f2.1\" ) verrou1 . acquire () print ( \"Zone risqu\u00e9e f2.2\" ) verrou1 . release () verrou2 . release () t1 = threading . Thread ( target = f1 ) t2 = threading . Thread ( target = f2 ) t1 . start () t2 . start () t1 . join () t2 . join () En analysant le code : deux threads t1 et t2 utilisent deux ressources f1 et f2 , contr\u00f4l\u00e9es par des verrous 1 et 2 f1 verrouille ( acquire ) verrou1 , puis verrouille verrou2 , avant de les rel\u00e2cher ( release ) dans l'ordre inverse de leur verrouillage ; f2 verrouille ( acquire ) verrou2 , puis verrouille verrou1 , avant de les rel\u00e2cher ( release ) dans l'ordre inverse de leur verrouillage ; l'ex\u00e9cution des codes de f1 et de f2 sont conditionn\u00e9 par un d\u00e9clenchement al\u00e9atoire dans le temps. Quatre cas peuvent alors se produire : t1 d\u00e9marre en premier, acquiert verrou1 puis verrou2 , t2 est mis en attente de la lib\u00e9ration, et peut agir d\u00e8s que verrou2 est lib\u00e9r\u00e9. t2 d\u00e9marre en premier, acquiert verrou2 puis verrou1 , t1 est mis en attente de la lib\u00e9ration, et peut agir d\u00e8s que verrou1 est lib\u00e9r\u00e9. t1 d\u00e9marre en premier et acquiert verrou1 , t2 d\u00e9marre et acquiert verrou2 . t1 est alors bloqu\u00e9, car il ne peut acqu\u00e9rir verrou2 , et t2 est dans la m\u00eame situation avec verrou1 . Les deux processus sont en attente, et ne pourront pas lib\u00e9rer leurs verrous. Il s'agit de la m\u00eame situation que pr\u00e9c\u00e9demment, mais t2 d\u00e9marre avant t1 . Dans les deux derniers cas, nous sommes dans une situation dite d' interblocage , les deux threads ne pouvant continuer puisqu'ils se bloquent l'un l'autre.","title":"Un exemple de situation probl\u00e9matique avec les threads"},{"location":"NSI/Terminale/C06/Interblocage/#notion-dinterblocage","text":"Les interblocages sont des situations de la vie quotidienne. Un exemple est celui du carrefour avec priorit\u00e9 \u00e0 droite o\u00f9 chaque v\u00e9hicule est bloqu\u00e9 car il doit laisser le passage au v\u00e9hicule \u00e0 sa droite. En informatique \u00e9galement, l'interblocage peut se produire lorsque des processus concurrents s'attendent mutuellement . Les processus bloqu\u00e9s dans cet \u00e9tat le sont d\u00e9finitivement. Ce sc\u00e9nario catastrophe peut se produire dans un environnement o\u00f9 des ressources sont partag\u00e9es entre plusieurs processus et l'un d'entre eux d\u00e9tient ind\u00e9finiement une ressource n\u00e9cessaire pour l'autre. Cette situation d'interblocage a \u00e9t\u00e9 th\u00e9oris\u00e9e par l'informaticien Edward Coffman (1934-) qui a \u00e9nonc\u00e9 quatre conditions (appel\u00e9es conditions de Coffman) menant \u00e0 l'interblocage : Exclusion mutuelle : au moins une des ressources du syst\u00e8me doit \u00eatre en acc\u00e8s exclusif. R\u00e9tention des ressources : un processus d\u00e9tient au moins une ressource et requiert une autre ressource d\u00e9tenue par un autre processus Non-pr\u00e9emption : Seul le d\u00e9tenteur d'une ressource peut la lib\u00e9rer. Attente circulaire : Chaque processus attend une ressource d\u00e9tenue par un autre processus. \\(P_1\\) attend une ressource d\u00e9tenue par \\(P_2\\) qui \u00e0 son tour attend une ressource d\u00e9tenue par \\(P_3\\) etc... qui attend une ressource d\u00e9tenue par \\(P_1\\) ce qui clos la boucle. Il existe heureusement des strat\u00e9gies pour \u00e9viter ces situations. Nous ne rentrerons pas ici dans ces consid\u00e9rations qui d\u00e9passent le cadre du programme.","title":"Notion d'Interblocage"},{"location":"NSI/Terminale/C06/Interblocage/#un-exemple-historique","text":"Le travail ayant \u00e9t\u00e9 plus que bien fait par d'autres : le probl\u00e8me Pathfinder","title":"Un exemple historique"},{"location":"NSI/Terminale/C06/Linux/","text":"Syst\u00e8me d'exploitation GNU/Linux Syst\u00e8mes d'exploitations : D\u00e9finition et historique D'apr\u00e8s la d\u00e9finition de Wikipedia : \u00ab En informatique, un syst\u00e8me d'exploitation (souvent appel\u00e9 OS \u2014 de l'anglais operating system ) est un ensemble de programmes qui dirige l'utilisation des ressources d'un ordinateur par des logiciels applicatifs. Il re\u00e7oit des demandes d'utilisation des ressources de l'ordinateur \u2014 ressources de stockage des m\u00e9moires (par exemple des acc\u00e8s \u00e0 la m\u00e9moire vive, aux disques durs), ressources de calcul du processeur central, ressources de communication vers des p\u00e9riph\u00e9riques [...] ou via le r\u00e9seau \u2014 de la part des logiciels applicatifs. Le syst\u00e8me d'exploitation g\u00e8re les demandes ainsi que les ressources n\u00e9cessaires \u00e9vitant les interf\u00e9rences entre les logiciels. \u00bb Historique Les ann\u00e9es 1960 ont constitu\u00e9 un tournant pour les syst\u00e8me d'exploitation. Dans le cadre du projet MAC au MIT (Massachusset Institute of Technology), le syst\u00e8me d'exploitation CTTS ( Compatible Time Sharing System )est publi\u00e9 en 1961. C'est l'un des tout premiers syst\u00e8me d'exploitation \u00e0 temps partag\u00e9 , permettant \u00e0 plusieurs utilisateurs d'utiliser un ordinateur en m\u00eame temps . Cette apparente simultan\u00e9it\u00e9 dans l'ex\u00e9cution des programmes a permis de se diriger vers l'informatique moderne. Le MIT s'accocia aux laboratoires BELL et \u00e0 General Electric pour cr\u00e9er Multics qui \u00e9tait un syst\u00e8me innovant, h\u00e9ritant de CTTS , et \u00e9tait l'un des premier syst\u00e8me d'exploitation avec syst\u00e8me de fichier hi\u00e9rarchique, temps partag\u00e9, multit\u00e2che pr\u00e9emptif (c'est-\u00e0-dire la capacit\u00e9 d'arr\u00eater ou d'ex\u00e9cuter une t\u00e2che planifi\u00e9e en cours), multiutilisateur, avec une prise en compte de la s\u00e9curit\u00e9. La premi\u00e8re version sortit en 1965. En 1969, les laboratoires BELL sortirent du projet et deux de leurs plus brillants informaticiens, Ken THOMPSON et Dennis RITCHIE qui avaient travaill\u00e9 sur le projet MULTICS en con\u00e7urent une version simplifi\u00e9e (ils consid\u00e9raient MULTICS inutilement complexe) qu'ils nomm\u00e8rent initialement UNICS ( UNiplexed Information and Computing Service ) puis UNIX . L'informatique moderne \u00e9tait n\u00e9e ! Au fil des ann\u00e9es, des surcouches de plus en plus complexes sont ajout\u00e9es aux syst\u00e8mes d'exploitations afin de g\u00e9rer par exemple les entr\u00e9es claviers, puis souris, et une interface graphique est ajout\u00e9e, simplifiant la t\u00e2che pour l'utilisateur. Chaque ordinateur doit donc disposer d'un OS afin de pouvoir faire fonctionner les diff\u00e9rents logiciels en parall\u00e8le. Historiquement, chaque fabriquant d'ordinateur a d\u00e9velopp\u00e9 en partie son OS. On pourra, de mani\u00e8re non-exhaustive, citer : OS/360 par IBM, en 1968 ; DOS par Microsoft en 1981 ; Mac OS par Apple en 1984 ; TOS par Atari en 1985 ; AmigaOS par Commodore en 1985; Windows 3.X par Microsoft en 1990 ; GNU/Linux par la communaut\u00e9 en 1991 ; Android par Google en 2007 ; iOS par Apple en 2007. GNU/Linux En 1985, Richard Stallman 1 quitte le MIT pour \u00e9crire un syst\u00e8me d'exploitation compatible Unix : GNU ( Gnu is Not Unix ) 2 . Oppos\u00e9 au principe du logiciel \u00ab propri\u00e9taire \u00bb, il publie le manifeste GNU , o\u00f9 il expose ses id\u00e9es de logiciel libre, permettant \u00e0 chacun de s'appropprier, de modifier et de diffuser le code source d'un logiciel. En 1991, Linus Torvalds , \u00e9tudiant norv\u00e9gien de 21 ans, d\u00e9cide d'\u00e9crire un mini OS d\u00e9riv\u00e9 d'Unix pour son PC. R\u00e9put\u00e9 pour sa stabilit\u00e9 m(mais aussi pour sa complexit\u00e9 d'installation), le noyau Linux est adopt\u00e9 par une grande communaut\u00e9 de bidouilleurs sur l'internet, qui \u00e9tendent r\u00e9guli\u00e8rement ses possibilit\u00e9s. Sans publicit\u00e9, soutenu par la communaut\u00e9 du libre et de l'open-source 3 , Linux se r\u00e9pand doucement et deviens rapidement une alternative cr\u00e9dible \u00e0 Windows , \u00e0 tel point que 90 % des serveurs du cloud sont des serveurs Linux. Linus Torvalds continue \u00e0 diriger le d\u00e9veloppement de Linux, et est consid\u00e9r\u00e9 comme le \u00ab dictateur bienveillant \u00e0 vie \u00bb ( Benevolent Dictator for Life ) de celui-ci. Il existe de nombreuses distributions Linux, soit pour des serveurs Premiers Pas Installation sur Raspberry Pi 4 Il existe des distributions Linux sp\u00e9cifiques pour Rasberry 4, mais nous utiliserons Raspberry Pi OS (anciennement connu sous le nom de Raspbian ), qui est une distribution bas\u00e9e sur Linux Debian sp\u00e9cialement optimis\u00e9 pour Rasberry Pi. Une image est t\u00e9l\u00e9chargeable ici Une fois l'image install\u00e9e sur une carte micro-SD, le mini-ordinateur devrait-\u00eatre imm\u00e9diatement fonctionnel. A faire Suivez toutes les \u00e9tapes d'installation de l'OS Raspebbry Pi OS , en cr\u00e9ant un utilisateur administrateur avec votre nom de famille + premi\u00e8re lettre de votre pr\u00e9nom, et un mot de passe simple . Le terminal Pour obtenir la ligne de commande dans Raspbian , il faut lancer le programme Terminal . Le prompt est de la forme nom_utilisateur@nom_machine : chemin_dossier_courant $ . Normalement, votre r\u00e9pertoire courant est symbolis\u00e9 par ~ , ce qui est un raccourci pour symboliser le r\u00e9pertoire personnel de l'utilisateur. Le syst\u00e8me de fichiers Sur un syst\u00e8me Linux, tout est un fichier , y compris un dossier. Mais pour rester compatible avec l'arborescence classique de windows, nous parlerons donc de : fichier lorsqu'il s'agit d'une feuille de l'arborescence ; dossier lorsqu'on parle d'un noeud ayant des enfants. Pour naviguer dans l'arborescence, il est n\u00e9cessaire de conna\u00eetre deux commandes 4 : la commande ls , qui permet de lister tous les enfants du r\u00e9pertoire courant dans l'arborescence, et peut utiliser les options suivantes : ls -a affiche les fichiers cach\u00e9s ; ls -R affiche tous les fichiers dans les sous-r\u00e9pertoires (de mani\u00e8re r\u00e9cursive ) ; ls -l affichera les d\u00e9tails des fichiers (autorisations, taille, propri\u00e9taires, etc...). la commande cd pour Change Directory , qui peut s'utiliser desmani\u00e8res suivantes : cd ~ , ram\u00e8ne au r\u00e9pertoire de l'utilisateur courant ; cd nom_du_repertoire_enfant , qui d\u00e9place le promptdans le r\u00e9pertoire enfant s\u00e9lectionn\u00e9 ( adressage relatif ) ; cd /chemin/absolu/vers/un r\u00e9pertoire , qui d\u00e9place vers le r\u00e9pertoire cible ( adressage absolu ) ; cd .. qui permet de remonter au r\u00e9pertoire parent. Se rep\u00e9rer dans l'arborescence Lister les repertoires d\u00e9j\u00e0 pr\u00e9sents dans votre repertoire personnel. Remonter l'arborescence jusqu'\u00e0 la racine. Quel est le chemin absolu de votre r\u00e9pertoire personnel ? D\u00e9placez-vous jusqu'au r\u00e9pertoire /usr/bin et listez les fichiers pr\u00e9sents Retournez dans votre dossier personnel, puis listez les fichiers pr\u00e9sents,en affichant les d\u00e9tails. Quelles sont les informations donn\u00e9es ? Quels sont les utilisateurs recens\u00e9s du syst\u00e8me ? Les utilisateurs et les droits En Linux, tout fichier, et par extension dossier, appartient \u00e0 un propri\u00e9taire ainsi qu'\u00e0 un groupe, et un utilisateur quelconque ne pourra pas forc\u00e9ment avoir tous les droits sur un fichier qui ne lui appartient pas. Les utilisateurs Pour un fichier, on distinguera trois types d'utilisateurs : u pour user , c'est-\u00e0-dire le propri\u00e9taire du fichier ; g pour group , le groupe auquel appartient le fichier ; o pour other , tous les autres utilisateurs. Les droits Pour un fichier donn\u00e9, on distinguera 4 permissions : r : read , droit de lire le fichier ; w : write , droit de modifier le fichier ; x : execute , droit d'ex\u00e9cution du fichier ; - : aucun droit sur le fichier ; Attribution des permissions Pour donner ou supprimer des permissions sur un fichier mon_texte.txt , on utilise la commande `chmod de la mani\u00e8re suivante : pour donner les droits en lecture et \u00e9criture \u00e0 l'utilisateur chmod u+rw mon_texte.txt pour supprimer les droits en modification au groupe : chmod g-w mon_texte.txt pour supprimer tous les droits aux autres utilisateurs : chmod o-rwx mon_texte.txt Il est aussi possible d'utiliser la notation octale pour g\u00e9rer ces droits : chmod 640 mon_texte.txt en sachant que r = 4, w =2, x=1 , et que le premier chiffre correspond \u00e0 l'utilisateur, le second au groupe, et le troisi\u00e8me aux autres. Ainsi ici : l'utilisateur \u00e0 les droits de lecture et d'\u00e9criture (4+2 = 6) ; le groupe \u00e0 le droit de lecture (4) ; les autres n'ont aucun droit (0). Une commande telle que chmod 777 mon_texte.txt done tous les droits de lecture, \u00e9criture et ex\u00e9cution \u00e0 tous les utilisateurs du syst\u00e8me. Les principales commandes sous Linux Voici, de mani\u00e8re non-exhaustive, quelques unes des commandes les plus utiles sous Linux : pwd : donne le chemin absolu du r\u00e9pertoire courant. man (raccourci de manual ) : donne le manuel de la commande pass\u00e9e en argument. cat (raccourci de concatenate ) : son utilisation simple est d'afficher le contenu d'un fichier directement dans le terminal. Cependant cette commande permet bien d'autres choses : cat > nv_fichier.txt : cr\u00e9e un nouveau fichier dans le r\u00e9pertoire courant, et le remplit avec les saisies de l'utilisateur ( Ctrl + C pour quitter) ; cat fichier 1 fichier2 > fichier3 : concat\u00e8ne les contenus des fichiers 1 et 2 dans un nouveau fichier. cp (raccourci de copy ) : copie un fichier dans un dossier : cp bidule.jpg /home/bob/photo copie le fichier bidule.jpg vers le r\u00e9pertoire /home/bob/photo , si les permissions sont correctement attribu\u00e9es. mv (raccourci de move ) : d\u00e9palce un fichier vers un r\u00e9pertoire cible, et par extension permet de renommer un fichier : mv bidule.jpg /home/bob/photo d\u00e9place le fichier bidule.jpg vers /home/bob/photo ; mv bidule.jpg truc.jpg renomme le fichier bidule.jpg en truc.jpg . mkdir nv_dossier (pour make directory ) : cr\u00e9e un nouveau r\u00e9pertoire dont le nom est pass\u00e9 en argument. rmdir nom_dossier (pour remove directory ) : supprime un r\u00e9pertoire vide dont le nom est pass\u00e9 en argument. rm (pour remove ) : supprime le ou les fichiers pass\u00e9s en arguments. Attention \u00e0 cette commande qui peut tout casser ! : rm * : supprime tous les fichiers du r\u00e9pertoire courant rm -R : supprime de mani\u00e8re r\u00e9cursive tous les fichiers et sous-dossiers du r\u00e9pertoire courant ! Il existe aussi des commandes interdites , \u00e0 ne jamais utiliser sous peine de mise au ban de la soci\u00e9t\u00e9, lynchage en place publique, etc... touch nv_fichier : permet de cr\u00e9er un nouveau fichier vide en lui passant le nom en argument. A pr\u00e9f\u00e9rer \u00e0 la commande cat . find : permet de chercher des fichiers et/ou des dossier dans un dossier donn\u00e9. Par exemple find /home/ -name mon_texte.txt cherche le fichier mon_texte.txt dans le r\u00e9pertoire home et tous ses sous-dossiers. locate : permet de donner la localisation d'un fichier dans le syst\u00e8me de fichier. locate est tr\u00e8s rapide car elle utilise une base de donn\u00e9e mise \u00e0 jour r\u00e9guli\u00e8rement qui recense tous les fichiers du syst\u00e8me. grep : permet de chercher une cha\u00eene de caract\u00e8re dans un fichier. grep toto bob.txt renverra toutes les lignes du fichier bob.txt contenant la cha\u00eene toto . grep est tr\u00e8s efficace, mais ne fonctionne pas correctement sur les fichiers pdf et odt ... head : renvoie les 10 premi\u00e8res lignes d'un fichier. On peut param\u00e9trer le nombre de lignes obtenues avec l'option -n : head -n 5 bob.txt envoie les 5 premi\u00e8res lignes du fichier bob.txt . tail : fonctionne de la m\u00eame mani\u00e8re que head , mais en renvoyant les 10 derni\u00e8res lignes. diff : compare deux fichiers lignes par lignes, et renvoie toutes celles pr\u00e9sentant une diff\u00e9rence. Pratique ! Il reste une commande essentielle, qui est la commande sudo : celle-ci permet d'ex\u00e9cuter une autre commande avec les privil\u00e8gess de super-utilisateur ( root ). Attention ! Avec de grands pouvoirs viennent de grandes responsabilit\u00e9s ! Un petit TP T\u00e9l\u00e9chargez le fichier Arborescence.tar.gz Cr\u00e9ez dans votre dossier personnel un dossier TP Copiez le fichier pr\u00e9c\u00e9dent dans ce dossier, puis d\u00e9compressez le avec la commande tar -xvzf Arborescence.tar.gz Attention, ce peut-\u00eatre long... Pour d\u00e9buter, cherchez le fichier commencement.txt dans l'arborescence, et lisez-le ! Bon courage ! Richard Stallman est un peu le grand gourou de l'informatique, soit adul\u00e9, soit d\u00e9test\u00e9... \u21a9 que voici un bel acronyme r\u00e9cursif ! \u21a9 en r\u00e9alit\u00e9, nous devrions toujours parler de syst\u00e8me GNU/Linux , car Linux n'est que le noyau du syst\u00e8me. On trouvera ici un c\u00e9l\u00e8bre texte de Richard Stallman sur ce point de d\u00e9tail. Fun fact, ce texte est parfois r\u00e9cit\u00e9 par coeur par certains ardents d\u00e9fenseurs du libre... \u21a9 si vous avez oubli\u00e9, le jeu terminus \u21a9","title":"Syst\u00e8me d'exploitation Linux"},{"location":"NSI/Terminale/C06/Linux/#systeme-dexploitation-gnulinux","text":"","title":"Syst\u00e8me d'exploitation GNU/Linux"},{"location":"NSI/Terminale/C06/Linux/#systemes-dexploitations","text":"","title":"Syst\u00e8mes d'exploitations :"},{"location":"NSI/Terminale/C06/Linux/#definition-et-historique","text":"D'apr\u00e8s la d\u00e9finition de Wikipedia : \u00ab En informatique, un syst\u00e8me d'exploitation (souvent appel\u00e9 OS \u2014 de l'anglais operating system ) est un ensemble de programmes qui dirige l'utilisation des ressources d'un ordinateur par des logiciels applicatifs. Il re\u00e7oit des demandes d'utilisation des ressources de l'ordinateur \u2014 ressources de stockage des m\u00e9moires (par exemple des acc\u00e8s \u00e0 la m\u00e9moire vive, aux disques durs), ressources de calcul du processeur central, ressources de communication vers des p\u00e9riph\u00e9riques [...] ou via le r\u00e9seau \u2014 de la part des logiciels applicatifs. Le syst\u00e8me d'exploitation g\u00e8re les demandes ainsi que les ressources n\u00e9cessaires \u00e9vitant les interf\u00e9rences entre les logiciels. \u00bb Historique Les ann\u00e9es 1960 ont constitu\u00e9 un tournant pour les syst\u00e8me d'exploitation. Dans le cadre du projet MAC au MIT (Massachusset Institute of Technology), le syst\u00e8me d'exploitation CTTS ( Compatible Time Sharing System )est publi\u00e9 en 1961. C'est l'un des tout premiers syst\u00e8me d'exploitation \u00e0 temps partag\u00e9 , permettant \u00e0 plusieurs utilisateurs d'utiliser un ordinateur en m\u00eame temps . Cette apparente simultan\u00e9it\u00e9 dans l'ex\u00e9cution des programmes a permis de se diriger vers l'informatique moderne. Le MIT s'accocia aux laboratoires BELL et \u00e0 General Electric pour cr\u00e9er Multics qui \u00e9tait un syst\u00e8me innovant, h\u00e9ritant de CTTS , et \u00e9tait l'un des premier syst\u00e8me d'exploitation avec syst\u00e8me de fichier hi\u00e9rarchique, temps partag\u00e9, multit\u00e2che pr\u00e9emptif (c'est-\u00e0-dire la capacit\u00e9 d'arr\u00eater ou d'ex\u00e9cuter une t\u00e2che planifi\u00e9e en cours), multiutilisateur, avec une prise en compte de la s\u00e9curit\u00e9. La premi\u00e8re version sortit en 1965. En 1969, les laboratoires BELL sortirent du projet et deux de leurs plus brillants informaticiens, Ken THOMPSON et Dennis RITCHIE qui avaient travaill\u00e9 sur le projet MULTICS en con\u00e7urent une version simplifi\u00e9e (ils consid\u00e9raient MULTICS inutilement complexe) qu'ils nomm\u00e8rent initialement UNICS ( UNiplexed Information and Computing Service ) puis UNIX . L'informatique moderne \u00e9tait n\u00e9e ! Au fil des ann\u00e9es, des surcouches de plus en plus complexes sont ajout\u00e9es aux syst\u00e8mes d'exploitations afin de g\u00e9rer par exemple les entr\u00e9es claviers, puis souris, et une interface graphique est ajout\u00e9e, simplifiant la t\u00e2che pour l'utilisateur. Chaque ordinateur doit donc disposer d'un OS afin de pouvoir faire fonctionner les diff\u00e9rents logiciels en parall\u00e8le. Historiquement, chaque fabriquant d'ordinateur a d\u00e9velopp\u00e9 en partie son OS. On pourra, de mani\u00e8re non-exhaustive, citer : OS/360 par IBM, en 1968 ; DOS par Microsoft en 1981 ; Mac OS par Apple en 1984 ; TOS par Atari en 1985 ; AmigaOS par Commodore en 1985; Windows 3.X par Microsoft en 1990 ; GNU/Linux par la communaut\u00e9 en 1991 ; Android par Google en 2007 ; iOS par Apple en 2007.","title":"D\u00e9finition et historique"},{"location":"NSI/Terminale/C06/Linux/#gnulinux","text":"En 1985, Richard Stallman 1 quitte le MIT pour \u00e9crire un syst\u00e8me d'exploitation compatible Unix : GNU ( Gnu is Not Unix ) 2 . Oppos\u00e9 au principe du logiciel \u00ab propri\u00e9taire \u00bb, il publie le manifeste GNU , o\u00f9 il expose ses id\u00e9es de logiciel libre, permettant \u00e0 chacun de s'appropprier, de modifier et de diffuser le code source d'un logiciel. En 1991, Linus Torvalds , \u00e9tudiant norv\u00e9gien de 21 ans, d\u00e9cide d'\u00e9crire un mini OS d\u00e9riv\u00e9 d'Unix pour son PC. R\u00e9put\u00e9 pour sa stabilit\u00e9 m(mais aussi pour sa complexit\u00e9 d'installation), le noyau Linux est adopt\u00e9 par une grande communaut\u00e9 de bidouilleurs sur l'internet, qui \u00e9tendent r\u00e9guli\u00e8rement ses possibilit\u00e9s. Sans publicit\u00e9, soutenu par la communaut\u00e9 du libre et de l'open-source 3 , Linux se r\u00e9pand doucement et deviens rapidement une alternative cr\u00e9dible \u00e0 Windows , \u00e0 tel point que 90 % des serveurs du cloud sont des serveurs Linux. Linus Torvalds continue \u00e0 diriger le d\u00e9veloppement de Linux, et est consid\u00e9r\u00e9 comme le \u00ab dictateur bienveillant \u00e0 vie \u00bb ( Benevolent Dictator for Life ) de celui-ci. Il existe de nombreuses distributions Linux, soit pour des serveurs","title":"GNU/Linux"},{"location":"NSI/Terminale/C06/Linux/#premiers-pas","text":"","title":"Premiers Pas"},{"location":"NSI/Terminale/C06/Linux/#installation-sur-raspberry-pi-4","text":"Il existe des distributions Linux sp\u00e9cifiques pour Rasberry 4, mais nous utiliserons Raspberry Pi OS (anciennement connu sous le nom de Raspbian ), qui est une distribution bas\u00e9e sur Linux Debian sp\u00e9cialement optimis\u00e9 pour Rasberry Pi. Une image est t\u00e9l\u00e9chargeable ici Une fois l'image install\u00e9e sur une carte micro-SD, le mini-ordinateur devrait-\u00eatre imm\u00e9diatement fonctionnel. A faire Suivez toutes les \u00e9tapes d'installation de l'OS Raspebbry Pi OS , en cr\u00e9ant un utilisateur administrateur avec votre nom de famille + premi\u00e8re lettre de votre pr\u00e9nom, et un mot de passe simple .","title":"Installation sur Raspberry Pi 4"},{"location":"NSI/Terminale/C06/Linux/#le-terminal","text":"Pour obtenir la ligne de commande dans Raspbian , il faut lancer le programme Terminal . Le prompt est de la forme nom_utilisateur@nom_machine : chemin_dossier_courant $ . Normalement, votre r\u00e9pertoire courant est symbolis\u00e9 par ~ , ce qui est un raccourci pour symboliser le r\u00e9pertoire personnel de l'utilisateur.","title":"Le terminal"},{"location":"NSI/Terminale/C06/Linux/#le-systeme-de-fichiers","text":"Sur un syst\u00e8me Linux, tout est un fichier , y compris un dossier. Mais pour rester compatible avec l'arborescence classique de windows, nous parlerons donc de : fichier lorsqu'il s'agit d'une feuille de l'arborescence ; dossier lorsqu'on parle d'un noeud ayant des enfants. Pour naviguer dans l'arborescence, il est n\u00e9cessaire de conna\u00eetre deux commandes 4 : la commande ls , qui permet de lister tous les enfants du r\u00e9pertoire courant dans l'arborescence, et peut utiliser les options suivantes : ls -a affiche les fichiers cach\u00e9s ; ls -R affiche tous les fichiers dans les sous-r\u00e9pertoires (de mani\u00e8re r\u00e9cursive ) ; ls -l affichera les d\u00e9tails des fichiers (autorisations, taille, propri\u00e9taires, etc...). la commande cd pour Change Directory , qui peut s'utiliser desmani\u00e8res suivantes : cd ~ , ram\u00e8ne au r\u00e9pertoire de l'utilisateur courant ; cd nom_du_repertoire_enfant , qui d\u00e9place le promptdans le r\u00e9pertoire enfant s\u00e9lectionn\u00e9 ( adressage relatif ) ; cd /chemin/absolu/vers/un r\u00e9pertoire , qui d\u00e9place vers le r\u00e9pertoire cible ( adressage absolu ) ; cd .. qui permet de remonter au r\u00e9pertoire parent. Se rep\u00e9rer dans l'arborescence Lister les repertoires d\u00e9j\u00e0 pr\u00e9sents dans votre repertoire personnel. Remonter l'arborescence jusqu'\u00e0 la racine. Quel est le chemin absolu de votre r\u00e9pertoire personnel ? D\u00e9placez-vous jusqu'au r\u00e9pertoire /usr/bin et listez les fichiers pr\u00e9sents Retournez dans votre dossier personnel, puis listez les fichiers pr\u00e9sents,en affichant les d\u00e9tails. Quelles sont les informations donn\u00e9es ? Quels sont les utilisateurs recens\u00e9s du syst\u00e8me ?","title":"Le syst\u00e8me de fichiers"},{"location":"NSI/Terminale/C06/Linux/#les-utilisateurs-et-les-droits","text":"En Linux, tout fichier, et par extension dossier, appartient \u00e0 un propri\u00e9taire ainsi qu'\u00e0 un groupe, et un utilisateur quelconque ne pourra pas forc\u00e9ment avoir tous les droits sur un fichier qui ne lui appartient pas. Les utilisateurs Pour un fichier, on distinguera trois types d'utilisateurs : u pour user , c'est-\u00e0-dire le propri\u00e9taire du fichier ; g pour group , le groupe auquel appartient le fichier ; o pour other , tous les autres utilisateurs. Les droits Pour un fichier donn\u00e9, on distinguera 4 permissions : r : read , droit de lire le fichier ; w : write , droit de modifier le fichier ; x : execute , droit d'ex\u00e9cution du fichier ; - : aucun droit sur le fichier ; Attribution des permissions Pour donner ou supprimer des permissions sur un fichier mon_texte.txt , on utilise la commande `chmod de la mani\u00e8re suivante : pour donner les droits en lecture et \u00e9criture \u00e0 l'utilisateur chmod u+rw mon_texte.txt pour supprimer les droits en modification au groupe : chmod g-w mon_texte.txt pour supprimer tous les droits aux autres utilisateurs : chmod o-rwx mon_texte.txt Il est aussi possible d'utiliser la notation octale pour g\u00e9rer ces droits : chmod 640 mon_texte.txt en sachant que r = 4, w =2, x=1 , et que le premier chiffre correspond \u00e0 l'utilisateur, le second au groupe, et le troisi\u00e8me aux autres. Ainsi ici : l'utilisateur \u00e0 les droits de lecture et d'\u00e9criture (4+2 = 6) ; le groupe \u00e0 le droit de lecture (4) ; les autres n'ont aucun droit (0). Une commande telle que chmod 777 mon_texte.txt done tous les droits de lecture, \u00e9criture et ex\u00e9cution \u00e0 tous les utilisateurs du syst\u00e8me.","title":"Les utilisateurs et les droits"},{"location":"NSI/Terminale/C06/Linux/#les-principales-commandes-sous-linux","text":"Voici, de mani\u00e8re non-exhaustive, quelques unes des commandes les plus utiles sous Linux : pwd : donne le chemin absolu du r\u00e9pertoire courant. man (raccourci de manual ) : donne le manuel de la commande pass\u00e9e en argument. cat (raccourci de concatenate ) : son utilisation simple est d'afficher le contenu d'un fichier directement dans le terminal. Cependant cette commande permet bien d'autres choses : cat > nv_fichier.txt : cr\u00e9e un nouveau fichier dans le r\u00e9pertoire courant, et le remplit avec les saisies de l'utilisateur ( Ctrl + C pour quitter) ; cat fichier 1 fichier2 > fichier3 : concat\u00e8ne les contenus des fichiers 1 et 2 dans un nouveau fichier. cp (raccourci de copy ) : copie un fichier dans un dossier : cp bidule.jpg /home/bob/photo copie le fichier bidule.jpg vers le r\u00e9pertoire /home/bob/photo , si les permissions sont correctement attribu\u00e9es. mv (raccourci de move ) : d\u00e9palce un fichier vers un r\u00e9pertoire cible, et par extension permet de renommer un fichier : mv bidule.jpg /home/bob/photo d\u00e9place le fichier bidule.jpg vers /home/bob/photo ; mv bidule.jpg truc.jpg renomme le fichier bidule.jpg en truc.jpg . mkdir nv_dossier (pour make directory ) : cr\u00e9e un nouveau r\u00e9pertoire dont le nom est pass\u00e9 en argument. rmdir nom_dossier (pour remove directory ) : supprime un r\u00e9pertoire vide dont le nom est pass\u00e9 en argument. rm (pour remove ) : supprime le ou les fichiers pass\u00e9s en arguments. Attention \u00e0 cette commande qui peut tout casser ! : rm * : supprime tous les fichiers du r\u00e9pertoire courant rm -R : supprime de mani\u00e8re r\u00e9cursive tous les fichiers et sous-dossiers du r\u00e9pertoire courant ! Il existe aussi des commandes interdites , \u00e0 ne jamais utiliser sous peine de mise au ban de la soci\u00e9t\u00e9, lynchage en place publique, etc... touch nv_fichier : permet de cr\u00e9er un nouveau fichier vide en lui passant le nom en argument. A pr\u00e9f\u00e9rer \u00e0 la commande cat . find : permet de chercher des fichiers et/ou des dossier dans un dossier donn\u00e9. Par exemple find /home/ -name mon_texte.txt cherche le fichier mon_texte.txt dans le r\u00e9pertoire home et tous ses sous-dossiers. locate : permet de donner la localisation d'un fichier dans le syst\u00e8me de fichier. locate est tr\u00e8s rapide car elle utilise une base de donn\u00e9e mise \u00e0 jour r\u00e9guli\u00e8rement qui recense tous les fichiers du syst\u00e8me. grep : permet de chercher une cha\u00eene de caract\u00e8re dans un fichier. grep toto bob.txt renverra toutes les lignes du fichier bob.txt contenant la cha\u00eene toto . grep est tr\u00e8s efficace, mais ne fonctionne pas correctement sur les fichiers pdf et odt ... head : renvoie les 10 premi\u00e8res lignes d'un fichier. On peut param\u00e9trer le nombre de lignes obtenues avec l'option -n : head -n 5 bob.txt envoie les 5 premi\u00e8res lignes du fichier bob.txt . tail : fonctionne de la m\u00eame mani\u00e8re que head , mais en renvoyant les 10 derni\u00e8res lignes. diff : compare deux fichiers lignes par lignes, et renvoie toutes celles pr\u00e9sentant une diff\u00e9rence. Pratique ! Il reste une commande essentielle, qui est la commande sudo : celle-ci permet d'ex\u00e9cuter une autre commande avec les privil\u00e8gess de super-utilisateur ( root ). Attention ! Avec de grands pouvoirs viennent de grandes responsabilit\u00e9s ! Un petit TP T\u00e9l\u00e9chargez le fichier Arborescence.tar.gz Cr\u00e9ez dans votre dossier personnel un dossier TP Copiez le fichier pr\u00e9c\u00e9dent dans ce dossier, puis d\u00e9compressez le avec la commande tar -xvzf Arborescence.tar.gz Attention, ce peut-\u00eatre long... Pour d\u00e9buter, cherchez le fichier commencement.txt dans l'arborescence, et lisez-le ! Bon courage ! Richard Stallman est un peu le grand gourou de l'informatique, soit adul\u00e9, soit d\u00e9test\u00e9... \u21a9 que voici un bel acronyme r\u00e9cursif ! \u21a9 en r\u00e9alit\u00e9, nous devrions toujours parler de syst\u00e8me GNU/Linux , car Linux n'est que le noyau du syst\u00e8me. On trouvera ici un c\u00e9l\u00e8bre texte de Richard Stallman sur ce point de d\u00e9tail. Fun fact, ce texte est parfois r\u00e9cit\u00e9 par coeur par certains ardents d\u00e9fenseurs du libre... \u21a9 si vous avez oubli\u00e9, le jeu terminus \u21a9","title":"Les principales commandes sous Linux"},{"location":"NSI/Terminale/C06/Ordonnancement/","text":"Ordonnancement des Processus Une vision fauss\u00e9e ? Nous rappelons qu\u2019un ex\u00e9cutable est un fichier (par exemple stock\u00e9 sur le disque dur) contenant une suite d\u2019instructions en langage machine. C\u2019est donc une suite d\u2019octets que le processeur est capable de d\u00e9coder et ex\u00e9cuter. Concr\u00e8tement, lorsqu'on ex\u00e9cute un programme (par exemple en cliquant sur l\u2019ic\u00f4ne du fichier ex\u00e9cutable ou en renseignant son chemin dans un terminal), le syst\u00e8me d\u2019exploitation effectue les actions suivantes 1 : le fichier contenant le programme (l\u2019ex\u00e9cutable) est copi\u00e9 dans la m\u00e9moire RAM, \u00e0 une certaine adresse a ; le syst\u00e8me d\u2019exploitation \u00e9crit la valeur a dans le registre IP ( Instruction Pointer ). Au prochain cycle d'horloge du processeur, ce dernier va alors lire l\u2019instruction se trouvant \u00e0 l\u2019adresse a et l\u2019ex\u00e9cuter. Une fois cela fait, il ex\u00e9cutera ensuite la seconde instruction et ainsi de suite. On rappelle que l\u2019ex\u00e9cution d\u2019une instruction se d\u00e9compose elle-m\u00eame en plusieurs sous-\u00e9tapes effectu\u00e9es au sein du processeur : le chargement (r\u00e9cup\u00e9rer l'instruction en m\u00e9moire) ; le d\u00e9codage (d\u00e9terminer dans la suite d\u2019octets charg\u00e9s quelle instruction ils encodent) ; l\u2019ex\u00e9cution proprement dite. Descriptif incomplet M\u00eame si elle semble correcte, la description que nous avons faite de l\u2019ex\u00e9cution d\u2019un programme est incompl\u00e8te. En effet, si rien de plus n\u2019est fait, alors la seule chose que l\u2019on peut attendre, c\u2019est que le programme en question s'ex\u00e9cute jusqu\u2019\u00e0 sa derni\u00e8re instruction, puis rende la main au syst\u00e8me d'exploitation . Impossible alors de l\u2019interrompre ! Impossible aussi de pouvoir ex\u00e9cuter deux programmes en m\u00eame temps. Les interruptions syst\u00e8mes Pour pallier ce probl\u00e8me, les syst\u00e8mes d\u2019exploitation utilisent une fonctionnalit\u00e9 importante des processeurs modernes : la notion d \u2018 interruption . Interruption Une interruption est un signal envoy\u00e9 au processeur lorsqu'un \u00e9v\u00e8nement se produit. Il existe plusieurs types d\u2019interruptions. Certaines sont g\u00e9n\u00e9r\u00e9es par le mat\u00e9riel (par exemple, un disque dur signale qu\u2019il a fini d'\u00e9crire des octets, une carte r\u00e9seau signale que des paquets de donn\u00e9es arrivent, etc.), d'autres par du logiciel . Lorsque le processeur re\u00e7oit une interruption, il interrompt son ex\u00e9cution \u00e0 la fin de l'instruction courante et ex\u00e9cute un programme se trouvant \u00e0 une adresse pr\u00e9d\u00e9finie. Ce programme re\u00e7oit en argument une copie des valeurs courante des registres, ainsi qu\u2019un code num\u00e9rique lui permettant de savoir \u00e0 quel type d\u2019interruption il fait face. Ce programme sp\u00e9cial s'appelle le gestionnaire d'interruption . Il est install\u00e9 \u00e0 une certaine adresse m\u00e9moire par le syst\u00e8me d'exploitation, tr\u00e8s t\u00f4t apr\u00e8s le d\u00e9marrage de la machine. Interruption d'horloge Parmi les interruptions mat\u00e9rielles, on retrouve les interruptions d\u2019horloge . Le processeur g\u00e9n\u00e8re de lui-m\u00eame une interruption mat\u00e9rielle \u00e0 intervalles de temps fixe. Historiquement, sur processeur Intel , cette interruption \u00e9tait lev\u00e9e toutes les 55 ms (environ 18 fois par seconde). Le gestionnaire d'interruption \u00e9tait donc appel\u00e9 au moins toutes les 55 ms. De nos jours, les processeurs disposent d\u2019horloges de haute pr\u00e9cision capables d'\u00e9mettre des interruptions avec une fr\u00e9quence de 10 Mhz, donc toutes les 100 ns. Ces interruptions d\u2019horloges, alli\u00e9es au gestionnaire d'interruption, sont les pi\u00e8ces essentielles permettant d' ex\u00e9cuter des programmes de fa\u00e7on concurrente . Principe de l'ordonnanceur Dans un syst\u00e8me d'exploitation moderne, plusieurs processus peuvent \u00eatre pr\u00e9sents en m\u00e9moire centrale en attente d\u2019ex\u00e9cution. Si plusieurs processus sont pr\u00eats, le syst\u00e8me d\u2019exploitation doit g\u00e9rer l\u2019allocation du processeur aux diff\u00e9rents processus \u00e0 ex\u00e9cuter. C\u2019est l\u2019 ordonnanceur qui s\u2019acquitte de cette t\u00e2che. Notion d\u2019ordonnancement Le syst\u00e8me d\u2019exploitation d\u2019un ordinateur peut \u00eatre vu comme un ensemble de processus dont l\u2019ex\u00e9cution est g\u00e9r\u00e9e par un processus particulier : l\u2019 ordonnanceur ( scheduler en anglais). Il s'agit en gros du \u00ab chef d'orchestre \u00bb du syst\u00e8me d'exploitation. Les objectifs d\u2019un ordonnanceur sont, entre autres : s\u2019assurer que chaque processus en attente d\u2019ex\u00e9cution re\u00e7oive sa part de temps processeur ; minimiser le temps de r\u00e9ponse ; utiliser le processeur \u00e0 100% (ce serait g\u00e2cher de la ressource); utiliser d\u2019une mani\u00e8re \u00e9quilibr\u00e9e les ressources ; prendre en compte les priorit\u00e9s ; \u00eatre pr\u00e9dictible (et ce n'est pas une mince affaire...). Pour r\u00e9pondre \u00e0 ces objectifs parfois contradictoires, un ordonnanceur fait face \u00e0 deux probl\u00e8mes principaux : Comment choisir quel processus ex\u00e9cuter ? Combien de temps de processeur allouer au processus choisi ? Diff\u00e9rentes m\u00e9thodes d'ordonnancement Imaginons que le processeur ait \u00e0 ex\u00e9cuter 4 processus, dont les temps d'ex\u00e9cutions sont diff\u00e9rents, et qui se sont pr\u00e9sent\u00e9s \u00e0 diff\u00e9rents instants au processeur : le processus A a besoin de 5 cycles d'horloge, et est arriv\u00e9 au tick 0 ; le processus B a besoin de 3 cycles d'horloge, et est arriv\u00e9 au tick 1 ; le processus C a besoin de 2 cycles d'horloge, et est arriv\u00e9 au tick 3 ; le processus D a besoin de 4 cycles d'horloge, et est arriv\u00e9 au tick 5 ; Le processeur ne pouvant traiter qu'une information \u00e0 la fois, au vu des chevauchements, il faudra ordonner les diff\u00e9rents processus afin qu'ils soient tous ex\u00e9cut\u00e9s. Syst\u00e8mes non-pr\u00e9emptifs : M\u00e9thode P\u00c4PS Si le syst\u00e8me d'exploitation n'est pas pr\u00e9emptif , on pourrait penser au principe d'une file de type \u00ab Premier Arriv\u00e9, Premier Servi \u00bb ( FIFO ). Avec ce syst\u00e8me, chaque processus sera ex\u00e9cut\u00e9 du d\u00e9but \u00e0 la fin, sans interruptions. Il faudra 14 cycles d'horloge pour terminer les 4 processus. C'est le principe de la file d'attente pour les imprimantes : peu importe le nombre de pages \u00e0 imprimer, les documents seront imprim\u00e9s en entier et dans leur ordre d'arriv\u00e9e. Regardons le temps de s\u00e9jour n\u00e9cessaire \u00e0 l'ex\u00e9cution de chaque processus, qui correspond \u00e0 la diff\u00e9rence entre le temps de terminaison du processus et le temps d'entr\u00e9e dans le processeur : A est termin\u00e9 au tick 5, et est entr\u00e9 au tick 0 , donc son temps de s\u00e9jour est \\(t_A = 5-0 = 5\\) B est termin\u00e9 au tick 8, et est entr\u00e9 au tick 1 d'o\u00f9 : \\(t_B = 8-1 = 7\\) C est termin\u00e9 au tick 10, et est entr\u00e9 au tick 3 d'o\u00f9 : \\(t_C = 10-3 = 7\\) D est termin\u00e9 au tick 14, et est entr\u00e9 au tick 5 d'o\u00f9 : \\(t_D = 14-5 = 9\\) Le temps de s\u00e9jour moyen avec cette m\u00e9thode est donc \\(\\dfrac{5+7+7+9}{4} = \\dfrac{28}{4} = 7\\) . Le temps d'attente , lui, est le temps de s\u00e9jour auquel on retranche le temps d'ex\u00e9cution : A a pour temps de s\u00e9jour 5 et pour temps d'ex\u00e9cution 5. Son temps d'attente est donc \\(t'_A = 5-5 = 0\\) , ce qui signifie que le processus A n'a pass\u00e9 aucun temps en \u00e9tat pr\u00eat ou bloqu\u00e9 ; B a pour temps de s\u00e9jour 7 et pour temps d'ex\u00e9cution 3 : \\(t'_B = 7-3 = 4\\) . C a pour temps de s\u00e9jour 7 et pour temps d'ex\u00e9cution 2 : \\(t'_C = 7-2 = 5\\) D a pour temps de s\u00e9jour 9 et pour temps d'ex\u00e9cution 4 : \\(t'_B = 9-4 = 5\\) Le temps d'attente moyen avec cette m\u00e9thode est donc \\(\\dfrac{0+4+5+5}{4} = \\dfrac{14}{4} = 3,5\\) . M\u00e9thode Short Job First ( SJF ) Une autre possibilit\u00e9 est de prioriser dans les processus en attente celui qui sera le plus rapide \u00e0 terminer. Ainsi : au tick 0, on ex\u00e9cute le processus A ; au tick 5, on a le choix entre les processus B , C et D qui sont dans la file d'attente, donc on ex\u00e9cute C , qui est le plus rapide ; au tick 7 on ex\u00e9cute B ; et on termine par D . En terme de performances : A est termin\u00e9 au tick 5, et est entr\u00e9 au tick 0 : \\(t_A = 5-0 = 5\\) B est termin\u00e9 au tick 10, et est entr\u00e9 au tick 1 : \\(t_B = 10-1 = 9\\) C est termin\u00e9 au tick 7, et est entr\u00e9 au tick 3 : \\(t_C = 7-3 = 4\\) D est termin\u00e9 au tick 14, et est entr\u00e9 au tick 5 : \\(t_D = 14-5 = 9\\) Le temps de s\u00e9jour moyen avec cette m\u00e9thode est donc \\(\\dfrac{5+9+4+9}{4} = \\dfrac{27}{4} = 6,75\\) . A a pour temps de s\u00e9jour 5 et pour temps d'ex\u00e9cution 5 : \\(t'_A = 5-5 = 0\\) B a pour temps de s\u00e9jour 9 et pour temps d'ex\u00e9cution 3 : \\(t'_B = 9-3 = 6\\) C a pour temps de s\u00e9jour 4 et pour temps d'ex\u00e9cution 2 : \\(t'_C = 4-2 = 2\\) D a pour temps de s\u00e9jour 9 et pour temps d'ex\u00e9cution 4 : \\(t'_B = 9-4 = 5\\) Le temps d'attente moyen avec cette m\u00e9thode est donc \\(\\dfrac{0+6+2+5}{4} = \\dfrac{13}{4} = 3,25\\) . Syst\u00e8mes pr\u00e9emptifs Dans un sch\u00e9ma d\u2019ordonnanceur pr\u00e9emptif , pour s\u2019assurer qu\u2019aucun processus ne s\u2019ex\u00e9cute pendant trop de temps, l'horloge \u00e9lectronique g\u00e9n\u00e8re p\u00e9riodiquement une interruption. \u00c0 chaque interruption d\u2019horloge, le syst\u00e8me d\u2019exploitation reprend la main et d\u00e9cide si le processus courant doit poursuivre son ex\u00e9cution ou s\u2019il doit \u00eatre suspendu pour laisser place \u00e0 un autre . S\u2019il d\u00e9cide de suspendre son ex\u00e9cution au profit d\u2019un autre, il doit d\u2019abord sauvegarder l\u2019\u00e9tat des registres du processeur avant de charger dans les registres les donn\u00e9es du processus \u00e0 lancer. C\u2019est qu\u2019on appelle la commutation de contexte (ou changement de contexte, context switch en anglais). Cette sauvegarde est n\u00e9cessaire pour pouvoir poursuivre ult\u00e9rieurement l\u2019ex\u00e9cution du processus suspendu. Le processeur passe donc d\u2019un processus \u00e0 un autre en ex\u00e9cutant chaque processus pendant quelques dizaines ou centaines de millisecondes. Le temps d\u2019allocation du processeur au processus est appel\u00e9 un quantum . Cette commutation entre processus doit \u00eatre rapide, c\u2019est-\u00e0-dire, exiger un temps nettement inf\u00e9rieur au quantum. Le processeur, \u00e0 un instant donn\u00e9, n\u2019ex\u00e9cute r\u00e9ellement qu\u2019un seul processus, mais pendant une seconde, le processeur peut ex\u00e9cuter plusieurs processus et donne ainsi l\u2019 impression de parall\u00e9lisme (pseudo-parall\u00e9lisme). M\u00e9thode Shortest Remaining Time ( SRT ) L\u2019ordonnancement du plus petit temps de s\u00e9jour ou Shortest Remaining Time ( SRT ) est la version pr\u00e9emptive de l\u2019algorithme SJF . Un processus arrive dans la file de processus, l\u2019ordonnanceur compare la valeur esp\u00e9r\u00e9e pour ce processus contre la valeur du processus actuellement en ex\u00e9cution. Si le temps du nouveau processus est plus petit, il rentre en ex\u00e9cution imm\u00e9diatement. Ainsi : au tick 0, le processus A est ex\u00e9cut\u00e9 ; au tick 1, le processus B est estim\u00e9 plus court que la partie restante de A (3 contre 4), donc A est suspendu et B est ex\u00e9cut\u00e9 ; au tick 3, il reste 4 temps au processus A , 1 seul pour B , et 2 pour C , donc on ternmine B ; au tick 4, on ex\u00e9cute C , qui est le plus court ; au tick 6, il reste 4 temps pour A et D , un choix est fait : comme \u00c0 est d\u00e9j\u00e0 en cours, on le termine en priorit\u00e9. En terme de performances : A est termin\u00e9 au tick 10, et est entr\u00e9 au tick 0 : \\(t_A = 10-0 = 10\\) B est termin\u00e9 au tick 4, et est entr\u00e9 au tick 1 : \\(t_B = 4-1 = 3\\) C est termin\u00e9 au tick 6, et est entr\u00e9 au tick 3 : \\(t_C = 6-3 = 3\\) D est termin\u00e9 au tick 14, et est entr\u00e9 au tick 5 : \\(t_D = 14-5 = 9\\) Le temps de s\u00e9jour moyen avec cette m\u00e9thode est donc \\(\\dfrac{10+3+3+9}{4} = \\dfrac{25}{4} = 6,25\\) . A a pour temps de s\u00e9jour 10 et pour temps d'ex\u00e9cution 5 : \\(t'_A = 10-5 = 5\\) B a pour temps de s\u00e9jour 3 et pour temps d'ex\u00e9cution 3 : \\(t'_B = 3-3 = 0\\) C a pour temps de s\u00e9jour 3 et pour temps d'ex\u00e9cution 2 : \\(t'_C = 3-2 = 1\\) D a pour temps de s\u00e9jour 9 et pour temps d'ex\u00e9cution 4 : \\(t'_B = 9-4 = 5\\) Le temps d'attente moyen avec cette m\u00e9thode est donc \\(\\dfrac{5+0+1+5}{4} = \\dfrac{11}{4} = 2,75\\) . Cet algorithme est nettement plus performant que les algorithmes des syst\u00e8mes non-pr\u00e9emptifs, mais il faut tenir compte d'un temps d'estimation des temps restants, qui peut parfois rendre cette m\u00e9thodes beaucoup plus longue et moins efficace. M\u00e9thode Round Robin ( RR ) L\u2019algorithme du tourniquet ou Round Robin ( RR ) repr\u00e9sent\u00e9 sur la figure ci-dessous est un algorithme ancien, simple, fiable et tr\u00e8s utilis\u00e9. Il m\u00e9morise dans une file du type FIFO ( First In First Out ) la liste des processus pr\u00eats, c\u2019est-\u00e0-dire en attente d\u2019ex\u00e9cution. Il alloue le processeur au processus en t\u00eate de file, pendant un quantum de temps . Si le processus se bloque ou se termine avant la fin de son quantum, le processeur est imm\u00e9diatement allou\u00e9 \u00e0 un autre processus (celui en t\u00eate de file). Si le processus ne se termine pas au bout de son quantum, son ex\u00e9cution est suspendue. Le processeur est allou\u00e9 \u00e0 un autre processus (celui en t\u00eate de file). Le processus suspendu est ins\u00e9r\u00e9 en queue de file. Les processus qui arrivent ou qui passent de l\u2019\u00e9tat bloqu\u00e9 \u00e0 l\u2019\u00e9tat pr\u00eat sont ins\u00e9r\u00e9s en queue de file. Comparer les performances de l'algorithme RR Toujours en utilisant l'exemple : Quantum 1 Quantum 2 Quantum 3 Quantum 4 Si le quantum de temps est de 1 tick : Pour les performances : A est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_A =...\\) B est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_B = ...\\) C est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_C = ...\\) D est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_D = ...\\) Le temps de s\u00e9jour moyen avec cette m\u00e9thode est donc ... A a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_A = ...\\) B a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) C a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_C = ...\\) D a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) Le temps d'attente moyen avec cette m\u00e9thode est donc ... Si le quantum de temps est de 2 ticks : Pour les performances : A est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_A =...\\) B est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_B = ...\\) C est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_C = ...\\) D est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_D = ...\\) Le temps de s\u00e9jour moyen avec cette m\u00e9thode est donc ... A a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_A = ...\\) B a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) C a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_C = ...\\) D a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) Le temps d'attente moyen avec cette m\u00e9thode est donc ... Si le quantum de temps est de 3 ticks : Pour les performances : A est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_A =...\\) B est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_B = ...\\) C est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_C = ...\\) D est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_D = ...\\) Le temps de s\u00e9jour moyen avec cette m\u00e9thode est donc ... A a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_A = ...\\) B a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) C a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_C = ...\\) D a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) Le temps d'attente moyen avec cette m\u00e9thode est donc ... Si le quantum de temps est de 4 ticks : Pour les performances : A est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_A =...\\) B est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_B = ...\\) C est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_C = ...\\) D est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_D = ...\\) Le temps de s\u00e9jour moyen avec cette m\u00e9thode est donc ... A a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_A = ...\\) B a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) C a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_C = ...\\) D a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) Le temps d'attente moyen avec cette m\u00e9thode est donc ... Exercice Enonc\u00e9 R\u00e9ponses Soient deux processus A et B pr\u00eats tels que A est arriv\u00e9 en premier suivi de B, 2 unit\u00e9s de temps apr\u00e8s. Les temps CPU n\u00e9cessaires pour l\u2019ex\u00e9cution des processus A et B sont respectivement 15 et 4 unit\u00e9s de temps. Le temps de commutation est suppos\u00e9 nul. Calculer les temps moyen de s\u00e9jour et les temps moyens d'attente pour les algorithmes : SRT RR avec un quantum de 10 RR avec un quantum de 3 A venir ! Les Threads Merci http://lycee.educinfo.org/index.php?page=creation_thread&activite=processus Programmation s\u00e9quentielle Enonc\u00e9 R\u00e9ponses Copiez le code suivant dans un fichier sequence.py def f1 (): for _ in range ( 5 ): print ( \"Bonjour !\" ) def f2 (): for _ in range ( 5 ): print ( \"Ca va ?\" ) if __name__ == \"__main__\" : f1 () f2 () Quel est l'ordre d'affichage ? Comme d'habitude en programmation s\u00e9quentielle, nous voyons apparaitre d'abord les 5 \"Bonjour !\" puis les 5 \"Ca va ?\" . Threads Un thread est un processus qui va partager avec un programme l'espace des donn\u00e9es et va s'ex\u00e9cuter de fa\u00e7on simultan\u00e9 avec d'autres thread. On parle aussi de processus l\u00e9gers . Ils peuvent \u00eatre tr\u00e8s utile, mais peuvent aussi causer de multiples probl\u00e8mes. Cr\u00e9ation de threads Enonc\u00e9 R\u00e9ponses Nous allons utiliser le module threading de Python avec le code ci-dessous, que vous copierez dans un fichier concurrent.py : from threading import Thread from time import sleep def f1 (): for _ in range ( 5 ): print ( \"Bonjour !\" ) sleep ( 0.01 ) def f2 (): for _ in range ( 5 ): print ( \"Ca va ?\" ) sleep ( 0.01 ) if __name__ == \"__main__\" : p1 = Thread ( target = f1 ) p2 = Thread ( target = f2 ) p1 . start () p2 . start () p1 . join () p2 . join () Ex\u00e9cutez plusieurs fois ce code. Quelle diff\u00e9rence constatez vous avec le code pr\u00e9c\u00e9dent ? Cette fois ci, les \"Bonjour !\" et les \"Ca va ?\" se sont affich\u00e9s de fa\u00e7on intercal\u00e9e. Si vous avez ex\u00e9cut\u00e9 le programme plusieurs fois, vous avez peut \u00eatre vu qu'il n'y avait pas toujours le m\u00eame ordre. Par exemple : Bonjour ! Ca va ? Bonjour ! Ca va ? Ca va ? Bonjour ! Bonjour ! Ca va ? Bonjour ! Ca va ? Nous cr\u00e9ons deux objets de la classe Thread . Ce sont des processus l\u00e9gers qui vont partager l'espace m\u00e9moire de notre programme principal et s'ex\u00e9cuter de fa\u00e7on parall\u00e8le. Les deux lignes suivantes appellent la m\u00e9thode start sur les Thread, et va lancer leur ex\u00e9cution. Mais pendant que le premier s'ex\u00e9cute, le programme continue et va lancer le second. Enfin, nous utilisons la m\u00e9thode join sur ces deux threads. En effet, le programme principal continue de s'ex\u00e9cuter pendant que les threads tournent, et si il se termine, il met fin \u00e0 tous ses threads. La m\u00e9thode join force le programme principal \u00e0 attendre la fin des threads. Pourquoi faire \u00e7a ? L'avantage principal, c'est de pouvoir faire plusieurs choses en m\u00eame temps. Surtout si on travaille sur une machine qui a plusieurs processeur. Par exemple, on peut avoir une machine qui a 2 processeur, chaque processeur ayant quatre c\u0153urs, chaque c\u0153eurs pouvant lui m\u00eame ex\u00e9cuter deux threads\u2026 on va pouvoir au total ex\u00e9cuter en parall\u00e8le 16 threads ! Chauffeur, si t'as pas peur... Enonc\u00e9 R\u00e9ponses Appliquons les threads pour calculer plus vite ! Imaginons un programme qui doit b\u00eatement faire 400 calculs. On va simuler cela par un petit sleep avec le code suivant : from time import sleep # Variable globale compteur = 0 limite = 400 def calcul (): \"\"\"Une fonction qui fait un calcul\"\"\" global compteur for c in range ( limite ): temp = compteur # simule un traitement n\u00e9cessitant des calculs sleep ( 0.000000001 ) compteur = temp + 1 compteur = 0 calcul () print ( compteur ) Recopiez et ex\u00e9cutez ce code, et v\u00e9rifiez qu'il affiche bien 400. Les macines du Lyc\u00e9e peuvent supporter 4 threads dif\u00e9rents, essayons alors avec le code suivant, pour gagner un facteur 4 dans notre temps de calcul : from threading import Thread from time import sleep # Variable globale compteur = 0 limite = 100 def calcul (): \"\"\"Une fonction qui fait un calcul\"\"\" global compteur for c in range ( limite ): temp = compteur # simule un traitement n\u00e9cessitant des calculs sleep ( 0.000000001 ) compteur = temp + 1 compteur = 0 mesThreads = [] for i in range ( 4 ): # Lance en parall\u00e8le 4 ex\u00e9cutions de calcul p = Thread ( target = calcul ) p . start () # Lance calcul dans un processus l\u00e9ger \u00e0 part. mesThreads . append ( p ) # On attend la fin de l'ex\u00e9cution des threads. for p in mesThreads : p . join () print ( compteur ) Ex\u00e9cutez plusieurs fois ce code. Obtient-on le r\u00e9sultat attendu ? Oui, le r\u00e9sultat est correct. Le r\u00e9sultat n'est pas du tout le r\u00e9sultat attendu. Chaque thread se lance et fait 100 calcul, mais le compteur \u00e0 la fin ne vaut en g\u00e9n\u00e9ral m\u00eame pas 100 ! Ce r\u00e9sultat est tr\u00e8s perturbant quand on le rencontre pour la premi\u00e8re fois, et cela explique la r\u00e9ticence de bien des d\u00e9veloppeurs \u00e0 l'\u00e9gard des threads. On peut lire sur bien des forums de d\u00e9veloppeur \u00abThreads are EVIL, don't use them !\u00bb. Mais non, il ne sont pas le diable, il faut juste \u00eatre parfaitement conscient de ce qui se passe. Ils sont m\u00eame indispensables dans bien des programmes, particuli\u00e8rment tous les programmes client/serveur qui doivent r\u00e9pondre \u00e0 un grand nombre de requ\u00eates concurrentes. Quelques explications sont n\u00e9cesaires pour comprendre r\u00e9ellement ce qui s'est produit. Quatre processus (appelons les P1, P2, P3 et P4) ex\u00e9cutent la fonction calcul simultan\u00e9ment. Celle-ci utilise une variable globale qui sera donc modifi\u00e9e par chacun de ces processus et une variable locale temp qui sera sp\u00e9cifique \u00e0 chacun de nos processus. Nous la d\u00e9signerons par temp(P1), temp(P2), etc... Un sc\u00e9nario possible est le suivant, en imagineant qu'au d\u00e9part le compteur vaille 10. P1 sauvegarde compteur dans temp(P1) , d'o\u00f9 temp(P1) vaut 10 P2 sauvegarde compteur dans temp(P2) , d'o\u00f9 temp(P2) vaut 10 P3 sauvegarde compteur dans temp(P3) , d'o\u00f9 temp(P3) vaut 10 P1 et P2 incr\u00e9mentent temp et sauvegardent la r\u00e9ponse dans compteur , donc compteur vaut 11 (et pas 12...) P4 sauvegarde compteur dans temp(P4) , d'o\u00f9 temp(P4) vaut 11 P3 et P4 incr\u00e9mentent temp et sauvegardent la r\u00e9ponse dans compteur qui vaut donc maintenant 12 Au final, le compteur a bien \u00e9t\u00e9 incr\u00e9ment\u00e9 4 fois, mais du fait de l'\u00e9x\u00e9cution en parall\u00e8le, le compteur ne vaut que 12 et non 14 ! Ceci explique que notre compteur au final ne vaut pas 400 car sa sauvegarde dans des variables temporaires fait que la plupart des incr\u00e9mentations ne sont pas prises en compte. Le r\u00e9sultat est al\u00e9atoire par ce que les threads s'ex\u00e9cutent dans un ordre qui peut varier, comme nous l'avons vu sur l'exemple des salutations. C'est le principal probl\u00e8me avec les threads : on ne ma\u00eetrise absolument pas l'ordre dans lequel ils sont ex\u00e9cut\u00e9s, et il faut en tenir compte d\u00e8s la conception. Une solution : le verrou ? Il existe un m\u00e9canisme qui va nous ralentir potentiellement un peu mais qui \u00e9vite ce genre de probl\u00e8mes : les verrous . Ce sont des objets de la classe Lock du module threading. Dans notre cas, ils ont deux m\u00e9thodes qui nous int\u00e9ressent. La m\u00e9thode acquire s'accapare le verrou s'il est disponible, sinon elle attend qu'il se lib\u00e8re. La m\u00e9thode release lib\u00e8re le verrou. Ce verrou sera une variable globale du programme principal qui sera partag\u00e9 entre les threads. Notre programme devient alors le suivant : from threading import Thread , Lock from time import sleep # Variable globale compteur = 0 limite = 100 verrou = Lock () def calcul (): \"\"\"Une fonction qui fait un calcul\"\"\" global compteur for c in range ( limite ): # D\u00e9but de la section critique verrou . acquire () temp = compteur # simule un traitement n\u00e9cessitant des calculs sleep ( 0.000000001 ) compteur = temp + 1 # fin de la section critique verrou . release () compteur = 0 mesThreads = [] for i in range ( 4 ): # Lance en parall\u00e8le 4 ex\u00e9cutions de calcul p = Thread ( target = calcul ) p . start () # Lance calcul dans un processus l\u00e9ger \u00e0 part. mesThreads . append ( p ) # On attend la fin de l'ex\u00e9cution des threads. for p in mesThreads : p . join () print ( compteur ) Le programme permet alors bien d'avoir le r\u00e9sultat escompt\u00e9. Mais malheureusement, tous nos probl\u00e8mes ne sont pas r\u00e9solus... voir le cours de premi\u00e8re \u21a9","title":"Ordonnancement des processus"},{"location":"NSI/Terminale/C06/Ordonnancement/#ordonnancement-des-processus","text":"","title":"Ordonnancement des Processus"},{"location":"NSI/Terminale/C06/Ordonnancement/#une-vision-faussee","text":"Nous rappelons qu\u2019un ex\u00e9cutable est un fichier (par exemple stock\u00e9 sur le disque dur) contenant une suite d\u2019instructions en langage machine. C\u2019est donc une suite d\u2019octets que le processeur est capable de d\u00e9coder et ex\u00e9cuter. Concr\u00e8tement, lorsqu'on ex\u00e9cute un programme (par exemple en cliquant sur l\u2019ic\u00f4ne du fichier ex\u00e9cutable ou en renseignant son chemin dans un terminal), le syst\u00e8me d\u2019exploitation effectue les actions suivantes 1 : le fichier contenant le programme (l\u2019ex\u00e9cutable) est copi\u00e9 dans la m\u00e9moire RAM, \u00e0 une certaine adresse a ; le syst\u00e8me d\u2019exploitation \u00e9crit la valeur a dans le registre IP ( Instruction Pointer ). Au prochain cycle d'horloge du processeur, ce dernier va alors lire l\u2019instruction se trouvant \u00e0 l\u2019adresse a et l\u2019ex\u00e9cuter. Une fois cela fait, il ex\u00e9cutera ensuite la seconde instruction et ainsi de suite. On rappelle que l\u2019ex\u00e9cution d\u2019une instruction se d\u00e9compose elle-m\u00eame en plusieurs sous-\u00e9tapes effectu\u00e9es au sein du processeur : le chargement (r\u00e9cup\u00e9rer l'instruction en m\u00e9moire) ; le d\u00e9codage (d\u00e9terminer dans la suite d\u2019octets charg\u00e9s quelle instruction ils encodent) ; l\u2019ex\u00e9cution proprement dite. Descriptif incomplet M\u00eame si elle semble correcte, la description que nous avons faite de l\u2019ex\u00e9cution d\u2019un programme est incompl\u00e8te. En effet, si rien de plus n\u2019est fait, alors la seule chose que l\u2019on peut attendre, c\u2019est que le programme en question s'ex\u00e9cute jusqu\u2019\u00e0 sa derni\u00e8re instruction, puis rende la main au syst\u00e8me d'exploitation . Impossible alors de l\u2019interrompre ! Impossible aussi de pouvoir ex\u00e9cuter deux programmes en m\u00eame temps.","title":"Une vision fauss\u00e9e ?"},{"location":"NSI/Terminale/C06/Ordonnancement/#les-interruptions-systemes","text":"Pour pallier ce probl\u00e8me, les syst\u00e8mes d\u2019exploitation utilisent une fonctionnalit\u00e9 importante des processeurs modernes : la notion d \u2018 interruption . Interruption Une interruption est un signal envoy\u00e9 au processeur lorsqu'un \u00e9v\u00e8nement se produit. Il existe plusieurs types d\u2019interruptions. Certaines sont g\u00e9n\u00e9r\u00e9es par le mat\u00e9riel (par exemple, un disque dur signale qu\u2019il a fini d'\u00e9crire des octets, une carte r\u00e9seau signale que des paquets de donn\u00e9es arrivent, etc.), d'autres par du logiciel . Lorsque le processeur re\u00e7oit une interruption, il interrompt son ex\u00e9cution \u00e0 la fin de l'instruction courante et ex\u00e9cute un programme se trouvant \u00e0 une adresse pr\u00e9d\u00e9finie. Ce programme re\u00e7oit en argument une copie des valeurs courante des registres, ainsi qu\u2019un code num\u00e9rique lui permettant de savoir \u00e0 quel type d\u2019interruption il fait face. Ce programme sp\u00e9cial s'appelle le gestionnaire d'interruption . Il est install\u00e9 \u00e0 une certaine adresse m\u00e9moire par le syst\u00e8me d'exploitation, tr\u00e8s t\u00f4t apr\u00e8s le d\u00e9marrage de la machine. Interruption d'horloge Parmi les interruptions mat\u00e9rielles, on retrouve les interruptions d\u2019horloge . Le processeur g\u00e9n\u00e8re de lui-m\u00eame une interruption mat\u00e9rielle \u00e0 intervalles de temps fixe. Historiquement, sur processeur Intel , cette interruption \u00e9tait lev\u00e9e toutes les 55 ms (environ 18 fois par seconde). Le gestionnaire d'interruption \u00e9tait donc appel\u00e9 au moins toutes les 55 ms. De nos jours, les processeurs disposent d\u2019horloges de haute pr\u00e9cision capables d'\u00e9mettre des interruptions avec une fr\u00e9quence de 10 Mhz, donc toutes les 100 ns. Ces interruptions d\u2019horloges, alli\u00e9es au gestionnaire d'interruption, sont les pi\u00e8ces essentielles permettant d' ex\u00e9cuter des programmes de fa\u00e7on concurrente .","title":"Les interruptions syst\u00e8mes"},{"location":"NSI/Terminale/C06/Ordonnancement/#principe-de-lordonnanceur","text":"Dans un syst\u00e8me d'exploitation moderne, plusieurs processus peuvent \u00eatre pr\u00e9sents en m\u00e9moire centrale en attente d\u2019ex\u00e9cution. Si plusieurs processus sont pr\u00eats, le syst\u00e8me d\u2019exploitation doit g\u00e9rer l\u2019allocation du processeur aux diff\u00e9rents processus \u00e0 ex\u00e9cuter. C\u2019est l\u2019 ordonnanceur qui s\u2019acquitte de cette t\u00e2che. Notion d\u2019ordonnancement Le syst\u00e8me d\u2019exploitation d\u2019un ordinateur peut \u00eatre vu comme un ensemble de processus dont l\u2019ex\u00e9cution est g\u00e9r\u00e9e par un processus particulier : l\u2019 ordonnanceur ( scheduler en anglais). Il s'agit en gros du \u00ab chef d'orchestre \u00bb du syst\u00e8me d'exploitation. Les objectifs d\u2019un ordonnanceur sont, entre autres : s\u2019assurer que chaque processus en attente d\u2019ex\u00e9cution re\u00e7oive sa part de temps processeur ; minimiser le temps de r\u00e9ponse ; utiliser le processeur \u00e0 100% (ce serait g\u00e2cher de la ressource); utiliser d\u2019une mani\u00e8re \u00e9quilibr\u00e9e les ressources ; prendre en compte les priorit\u00e9s ; \u00eatre pr\u00e9dictible (et ce n'est pas une mince affaire...). Pour r\u00e9pondre \u00e0 ces objectifs parfois contradictoires, un ordonnanceur fait face \u00e0 deux probl\u00e8mes principaux : Comment choisir quel processus ex\u00e9cuter ? Combien de temps de processeur allouer au processus choisi ?","title":"Principe de l'ordonnanceur"},{"location":"NSI/Terminale/C06/Ordonnancement/#differentes-methodes-dordonnancement","text":"Imaginons que le processeur ait \u00e0 ex\u00e9cuter 4 processus, dont les temps d'ex\u00e9cutions sont diff\u00e9rents, et qui se sont pr\u00e9sent\u00e9s \u00e0 diff\u00e9rents instants au processeur : le processus A a besoin de 5 cycles d'horloge, et est arriv\u00e9 au tick 0 ; le processus B a besoin de 3 cycles d'horloge, et est arriv\u00e9 au tick 1 ; le processus C a besoin de 2 cycles d'horloge, et est arriv\u00e9 au tick 3 ; le processus D a besoin de 4 cycles d'horloge, et est arriv\u00e9 au tick 5 ; Le processeur ne pouvant traiter qu'une information \u00e0 la fois, au vu des chevauchements, il faudra ordonner les diff\u00e9rents processus afin qu'ils soient tous ex\u00e9cut\u00e9s.","title":"Diff\u00e9rentes m\u00e9thodes d'ordonnancement"},{"location":"NSI/Terminale/C06/Ordonnancement/#systemes-non-preemptifs","text":"M\u00e9thode P\u00c4PS Si le syst\u00e8me d'exploitation n'est pas pr\u00e9emptif , on pourrait penser au principe d'une file de type \u00ab Premier Arriv\u00e9, Premier Servi \u00bb ( FIFO ). Avec ce syst\u00e8me, chaque processus sera ex\u00e9cut\u00e9 du d\u00e9but \u00e0 la fin, sans interruptions. Il faudra 14 cycles d'horloge pour terminer les 4 processus. C'est le principe de la file d'attente pour les imprimantes : peu importe le nombre de pages \u00e0 imprimer, les documents seront imprim\u00e9s en entier et dans leur ordre d'arriv\u00e9e. Regardons le temps de s\u00e9jour n\u00e9cessaire \u00e0 l'ex\u00e9cution de chaque processus, qui correspond \u00e0 la diff\u00e9rence entre le temps de terminaison du processus et le temps d'entr\u00e9e dans le processeur : A est termin\u00e9 au tick 5, et est entr\u00e9 au tick 0 , donc son temps de s\u00e9jour est \\(t_A = 5-0 = 5\\) B est termin\u00e9 au tick 8, et est entr\u00e9 au tick 1 d'o\u00f9 : \\(t_B = 8-1 = 7\\) C est termin\u00e9 au tick 10, et est entr\u00e9 au tick 3 d'o\u00f9 : \\(t_C = 10-3 = 7\\) D est termin\u00e9 au tick 14, et est entr\u00e9 au tick 5 d'o\u00f9 : \\(t_D = 14-5 = 9\\) Le temps de s\u00e9jour moyen avec cette m\u00e9thode est donc \\(\\dfrac{5+7+7+9}{4} = \\dfrac{28}{4} = 7\\) . Le temps d'attente , lui, est le temps de s\u00e9jour auquel on retranche le temps d'ex\u00e9cution : A a pour temps de s\u00e9jour 5 et pour temps d'ex\u00e9cution 5. Son temps d'attente est donc \\(t'_A = 5-5 = 0\\) , ce qui signifie que le processus A n'a pass\u00e9 aucun temps en \u00e9tat pr\u00eat ou bloqu\u00e9 ; B a pour temps de s\u00e9jour 7 et pour temps d'ex\u00e9cution 3 : \\(t'_B = 7-3 = 4\\) . C a pour temps de s\u00e9jour 7 et pour temps d'ex\u00e9cution 2 : \\(t'_C = 7-2 = 5\\) D a pour temps de s\u00e9jour 9 et pour temps d'ex\u00e9cution 4 : \\(t'_B = 9-4 = 5\\) Le temps d'attente moyen avec cette m\u00e9thode est donc \\(\\dfrac{0+4+5+5}{4} = \\dfrac{14}{4} = 3,5\\) . M\u00e9thode Short Job First ( SJF ) Une autre possibilit\u00e9 est de prioriser dans les processus en attente celui qui sera le plus rapide \u00e0 terminer. Ainsi : au tick 0, on ex\u00e9cute le processus A ; au tick 5, on a le choix entre les processus B , C et D qui sont dans la file d'attente, donc on ex\u00e9cute C , qui est le plus rapide ; au tick 7 on ex\u00e9cute B ; et on termine par D . En terme de performances : A est termin\u00e9 au tick 5, et est entr\u00e9 au tick 0 : \\(t_A = 5-0 = 5\\) B est termin\u00e9 au tick 10, et est entr\u00e9 au tick 1 : \\(t_B = 10-1 = 9\\) C est termin\u00e9 au tick 7, et est entr\u00e9 au tick 3 : \\(t_C = 7-3 = 4\\) D est termin\u00e9 au tick 14, et est entr\u00e9 au tick 5 : \\(t_D = 14-5 = 9\\) Le temps de s\u00e9jour moyen avec cette m\u00e9thode est donc \\(\\dfrac{5+9+4+9}{4} = \\dfrac{27}{4} = 6,75\\) . A a pour temps de s\u00e9jour 5 et pour temps d'ex\u00e9cution 5 : \\(t'_A = 5-5 = 0\\) B a pour temps de s\u00e9jour 9 et pour temps d'ex\u00e9cution 3 : \\(t'_B = 9-3 = 6\\) C a pour temps de s\u00e9jour 4 et pour temps d'ex\u00e9cution 2 : \\(t'_C = 4-2 = 2\\) D a pour temps de s\u00e9jour 9 et pour temps d'ex\u00e9cution 4 : \\(t'_B = 9-4 = 5\\) Le temps d'attente moyen avec cette m\u00e9thode est donc \\(\\dfrac{0+6+2+5}{4} = \\dfrac{13}{4} = 3,25\\) .","title":"Syst\u00e8mes non-pr\u00e9emptifs :"},{"location":"NSI/Terminale/C06/Ordonnancement/#systemes-preemptifs","text":"Dans un sch\u00e9ma d\u2019ordonnanceur pr\u00e9emptif , pour s\u2019assurer qu\u2019aucun processus ne s\u2019ex\u00e9cute pendant trop de temps, l'horloge \u00e9lectronique g\u00e9n\u00e8re p\u00e9riodiquement une interruption. \u00c0 chaque interruption d\u2019horloge, le syst\u00e8me d\u2019exploitation reprend la main et d\u00e9cide si le processus courant doit poursuivre son ex\u00e9cution ou s\u2019il doit \u00eatre suspendu pour laisser place \u00e0 un autre . S\u2019il d\u00e9cide de suspendre son ex\u00e9cution au profit d\u2019un autre, il doit d\u2019abord sauvegarder l\u2019\u00e9tat des registres du processeur avant de charger dans les registres les donn\u00e9es du processus \u00e0 lancer. C\u2019est qu\u2019on appelle la commutation de contexte (ou changement de contexte, context switch en anglais). Cette sauvegarde est n\u00e9cessaire pour pouvoir poursuivre ult\u00e9rieurement l\u2019ex\u00e9cution du processus suspendu. Le processeur passe donc d\u2019un processus \u00e0 un autre en ex\u00e9cutant chaque processus pendant quelques dizaines ou centaines de millisecondes. Le temps d\u2019allocation du processeur au processus est appel\u00e9 un quantum . Cette commutation entre processus doit \u00eatre rapide, c\u2019est-\u00e0-dire, exiger un temps nettement inf\u00e9rieur au quantum. Le processeur, \u00e0 un instant donn\u00e9, n\u2019ex\u00e9cute r\u00e9ellement qu\u2019un seul processus, mais pendant une seconde, le processeur peut ex\u00e9cuter plusieurs processus et donne ainsi l\u2019 impression de parall\u00e9lisme (pseudo-parall\u00e9lisme). M\u00e9thode Shortest Remaining Time ( SRT ) L\u2019ordonnancement du plus petit temps de s\u00e9jour ou Shortest Remaining Time ( SRT ) est la version pr\u00e9emptive de l\u2019algorithme SJF . Un processus arrive dans la file de processus, l\u2019ordonnanceur compare la valeur esp\u00e9r\u00e9e pour ce processus contre la valeur du processus actuellement en ex\u00e9cution. Si le temps du nouveau processus est plus petit, il rentre en ex\u00e9cution imm\u00e9diatement. Ainsi : au tick 0, le processus A est ex\u00e9cut\u00e9 ; au tick 1, le processus B est estim\u00e9 plus court que la partie restante de A (3 contre 4), donc A est suspendu et B est ex\u00e9cut\u00e9 ; au tick 3, il reste 4 temps au processus A , 1 seul pour B , et 2 pour C , donc on ternmine B ; au tick 4, on ex\u00e9cute C , qui est le plus court ; au tick 6, il reste 4 temps pour A et D , un choix est fait : comme \u00c0 est d\u00e9j\u00e0 en cours, on le termine en priorit\u00e9. En terme de performances : A est termin\u00e9 au tick 10, et est entr\u00e9 au tick 0 : \\(t_A = 10-0 = 10\\) B est termin\u00e9 au tick 4, et est entr\u00e9 au tick 1 : \\(t_B = 4-1 = 3\\) C est termin\u00e9 au tick 6, et est entr\u00e9 au tick 3 : \\(t_C = 6-3 = 3\\) D est termin\u00e9 au tick 14, et est entr\u00e9 au tick 5 : \\(t_D = 14-5 = 9\\) Le temps de s\u00e9jour moyen avec cette m\u00e9thode est donc \\(\\dfrac{10+3+3+9}{4} = \\dfrac{25}{4} = 6,25\\) . A a pour temps de s\u00e9jour 10 et pour temps d'ex\u00e9cution 5 : \\(t'_A = 10-5 = 5\\) B a pour temps de s\u00e9jour 3 et pour temps d'ex\u00e9cution 3 : \\(t'_B = 3-3 = 0\\) C a pour temps de s\u00e9jour 3 et pour temps d'ex\u00e9cution 2 : \\(t'_C = 3-2 = 1\\) D a pour temps de s\u00e9jour 9 et pour temps d'ex\u00e9cution 4 : \\(t'_B = 9-4 = 5\\) Le temps d'attente moyen avec cette m\u00e9thode est donc \\(\\dfrac{5+0+1+5}{4} = \\dfrac{11}{4} = 2,75\\) . Cet algorithme est nettement plus performant que les algorithmes des syst\u00e8mes non-pr\u00e9emptifs, mais il faut tenir compte d'un temps d'estimation des temps restants, qui peut parfois rendre cette m\u00e9thodes beaucoup plus longue et moins efficace. M\u00e9thode Round Robin ( RR ) L\u2019algorithme du tourniquet ou Round Robin ( RR ) repr\u00e9sent\u00e9 sur la figure ci-dessous est un algorithme ancien, simple, fiable et tr\u00e8s utilis\u00e9. Il m\u00e9morise dans une file du type FIFO ( First In First Out ) la liste des processus pr\u00eats, c\u2019est-\u00e0-dire en attente d\u2019ex\u00e9cution. Il alloue le processeur au processus en t\u00eate de file, pendant un quantum de temps . Si le processus se bloque ou se termine avant la fin de son quantum, le processeur est imm\u00e9diatement allou\u00e9 \u00e0 un autre processus (celui en t\u00eate de file). Si le processus ne se termine pas au bout de son quantum, son ex\u00e9cution est suspendue. Le processeur est allou\u00e9 \u00e0 un autre processus (celui en t\u00eate de file). Le processus suspendu est ins\u00e9r\u00e9 en queue de file. Les processus qui arrivent ou qui passent de l\u2019\u00e9tat bloqu\u00e9 \u00e0 l\u2019\u00e9tat pr\u00eat sont ins\u00e9r\u00e9s en queue de file. Comparer les performances de l'algorithme RR Toujours en utilisant l'exemple : Quantum 1 Quantum 2 Quantum 3 Quantum 4 Si le quantum de temps est de 1 tick : Pour les performances : A est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_A =...\\) B est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_B = ...\\) C est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_C = ...\\) D est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_D = ...\\) Le temps de s\u00e9jour moyen avec cette m\u00e9thode est donc ... A a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_A = ...\\) B a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) C a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_C = ...\\) D a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) Le temps d'attente moyen avec cette m\u00e9thode est donc ... Si le quantum de temps est de 2 ticks : Pour les performances : A est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_A =...\\) B est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_B = ...\\) C est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_C = ...\\) D est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_D = ...\\) Le temps de s\u00e9jour moyen avec cette m\u00e9thode est donc ... A a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_A = ...\\) B a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) C a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_C = ...\\) D a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) Le temps d'attente moyen avec cette m\u00e9thode est donc ... Si le quantum de temps est de 3 ticks : Pour les performances : A est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_A =...\\) B est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_B = ...\\) C est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_C = ...\\) D est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_D = ...\\) Le temps de s\u00e9jour moyen avec cette m\u00e9thode est donc ... A a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_A = ...\\) B a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) C a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_C = ...\\) D a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) Le temps d'attente moyen avec cette m\u00e9thode est donc ... Si le quantum de temps est de 4 ticks : Pour les performances : A est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_A =...\\) B est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_B = ...\\) C est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_C = ...\\) D est termin\u00e9 au tick ..., et est entr\u00e9 au tick ... : \\(t_D = ...\\) Le temps de s\u00e9jour moyen avec cette m\u00e9thode est donc ... A a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_A = ...\\) B a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) C a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_C = ...\\) D a pour temps d'attente ... et pour temps d'ex\u00e9cution ... : \\(t'_B = ...\\) Le temps d'attente moyen avec cette m\u00e9thode est donc ... Exercice Enonc\u00e9 R\u00e9ponses Soient deux processus A et B pr\u00eats tels que A est arriv\u00e9 en premier suivi de B, 2 unit\u00e9s de temps apr\u00e8s. Les temps CPU n\u00e9cessaires pour l\u2019ex\u00e9cution des processus A et B sont respectivement 15 et 4 unit\u00e9s de temps. Le temps de commutation est suppos\u00e9 nul. Calculer les temps moyen de s\u00e9jour et les temps moyens d'attente pour les algorithmes : SRT RR avec un quantum de 10 RR avec un quantum de 3 A venir !","title":"Syst\u00e8mes pr\u00e9emptifs"},{"location":"NSI/Terminale/C06/Ordonnancement/#les-threads","text":"Merci http://lycee.educinfo.org/index.php?page=creation_thread&activite=processus Programmation s\u00e9quentielle Enonc\u00e9 R\u00e9ponses Copiez le code suivant dans un fichier sequence.py def f1 (): for _ in range ( 5 ): print ( \"Bonjour !\" ) def f2 (): for _ in range ( 5 ): print ( \"Ca va ?\" ) if __name__ == \"__main__\" : f1 () f2 () Quel est l'ordre d'affichage ? Comme d'habitude en programmation s\u00e9quentielle, nous voyons apparaitre d'abord les 5 \"Bonjour !\" puis les 5 \"Ca va ?\" . Threads Un thread est un processus qui va partager avec un programme l'espace des donn\u00e9es et va s'ex\u00e9cuter de fa\u00e7on simultan\u00e9 avec d'autres thread. On parle aussi de processus l\u00e9gers . Ils peuvent \u00eatre tr\u00e8s utile, mais peuvent aussi causer de multiples probl\u00e8mes. Cr\u00e9ation de threads Enonc\u00e9 R\u00e9ponses Nous allons utiliser le module threading de Python avec le code ci-dessous, que vous copierez dans un fichier concurrent.py : from threading import Thread from time import sleep def f1 (): for _ in range ( 5 ): print ( \"Bonjour !\" ) sleep ( 0.01 ) def f2 (): for _ in range ( 5 ): print ( \"Ca va ?\" ) sleep ( 0.01 ) if __name__ == \"__main__\" : p1 = Thread ( target = f1 ) p2 = Thread ( target = f2 ) p1 . start () p2 . start () p1 . join () p2 . join () Ex\u00e9cutez plusieurs fois ce code. Quelle diff\u00e9rence constatez vous avec le code pr\u00e9c\u00e9dent ? Cette fois ci, les \"Bonjour !\" et les \"Ca va ?\" se sont affich\u00e9s de fa\u00e7on intercal\u00e9e. Si vous avez ex\u00e9cut\u00e9 le programme plusieurs fois, vous avez peut \u00eatre vu qu'il n'y avait pas toujours le m\u00eame ordre. Par exemple : Bonjour ! Ca va ? Bonjour ! Ca va ? Ca va ? Bonjour ! Bonjour ! Ca va ? Bonjour ! Ca va ? Nous cr\u00e9ons deux objets de la classe Thread . Ce sont des processus l\u00e9gers qui vont partager l'espace m\u00e9moire de notre programme principal et s'ex\u00e9cuter de fa\u00e7on parall\u00e8le. Les deux lignes suivantes appellent la m\u00e9thode start sur les Thread, et va lancer leur ex\u00e9cution. Mais pendant que le premier s'ex\u00e9cute, le programme continue et va lancer le second. Enfin, nous utilisons la m\u00e9thode join sur ces deux threads. En effet, le programme principal continue de s'ex\u00e9cuter pendant que les threads tournent, et si il se termine, il met fin \u00e0 tous ses threads. La m\u00e9thode join force le programme principal \u00e0 attendre la fin des threads. Pourquoi faire \u00e7a ? L'avantage principal, c'est de pouvoir faire plusieurs choses en m\u00eame temps. Surtout si on travaille sur une machine qui a plusieurs processeur. Par exemple, on peut avoir une machine qui a 2 processeur, chaque processeur ayant quatre c\u0153urs, chaque c\u0153eurs pouvant lui m\u00eame ex\u00e9cuter deux threads\u2026 on va pouvoir au total ex\u00e9cuter en parall\u00e8le 16 threads ! Chauffeur, si t'as pas peur... Enonc\u00e9 R\u00e9ponses Appliquons les threads pour calculer plus vite ! Imaginons un programme qui doit b\u00eatement faire 400 calculs. On va simuler cela par un petit sleep avec le code suivant : from time import sleep # Variable globale compteur = 0 limite = 400 def calcul (): \"\"\"Une fonction qui fait un calcul\"\"\" global compteur for c in range ( limite ): temp = compteur # simule un traitement n\u00e9cessitant des calculs sleep ( 0.000000001 ) compteur = temp + 1 compteur = 0 calcul () print ( compteur ) Recopiez et ex\u00e9cutez ce code, et v\u00e9rifiez qu'il affiche bien 400. Les macines du Lyc\u00e9e peuvent supporter 4 threads dif\u00e9rents, essayons alors avec le code suivant, pour gagner un facteur 4 dans notre temps de calcul : from threading import Thread from time import sleep # Variable globale compteur = 0 limite = 100 def calcul (): \"\"\"Une fonction qui fait un calcul\"\"\" global compteur for c in range ( limite ): temp = compteur # simule un traitement n\u00e9cessitant des calculs sleep ( 0.000000001 ) compteur = temp + 1 compteur = 0 mesThreads = [] for i in range ( 4 ): # Lance en parall\u00e8le 4 ex\u00e9cutions de calcul p = Thread ( target = calcul ) p . start () # Lance calcul dans un processus l\u00e9ger \u00e0 part. mesThreads . append ( p ) # On attend la fin de l'ex\u00e9cution des threads. for p in mesThreads : p . join () print ( compteur ) Ex\u00e9cutez plusieurs fois ce code. Obtient-on le r\u00e9sultat attendu ? Oui, le r\u00e9sultat est correct. Le r\u00e9sultat n'est pas du tout le r\u00e9sultat attendu. Chaque thread se lance et fait 100 calcul, mais le compteur \u00e0 la fin ne vaut en g\u00e9n\u00e9ral m\u00eame pas 100 ! Ce r\u00e9sultat est tr\u00e8s perturbant quand on le rencontre pour la premi\u00e8re fois, et cela explique la r\u00e9ticence de bien des d\u00e9veloppeurs \u00e0 l'\u00e9gard des threads. On peut lire sur bien des forums de d\u00e9veloppeur \u00abThreads are EVIL, don't use them !\u00bb. Mais non, il ne sont pas le diable, il faut juste \u00eatre parfaitement conscient de ce qui se passe. Ils sont m\u00eame indispensables dans bien des programmes, particuli\u00e8rment tous les programmes client/serveur qui doivent r\u00e9pondre \u00e0 un grand nombre de requ\u00eates concurrentes. Quelques explications sont n\u00e9cesaires pour comprendre r\u00e9ellement ce qui s'est produit. Quatre processus (appelons les P1, P2, P3 et P4) ex\u00e9cutent la fonction calcul simultan\u00e9ment. Celle-ci utilise une variable globale qui sera donc modifi\u00e9e par chacun de ces processus et une variable locale temp qui sera sp\u00e9cifique \u00e0 chacun de nos processus. Nous la d\u00e9signerons par temp(P1), temp(P2), etc... Un sc\u00e9nario possible est le suivant, en imagineant qu'au d\u00e9part le compteur vaille 10. P1 sauvegarde compteur dans temp(P1) , d'o\u00f9 temp(P1) vaut 10 P2 sauvegarde compteur dans temp(P2) , d'o\u00f9 temp(P2) vaut 10 P3 sauvegarde compteur dans temp(P3) , d'o\u00f9 temp(P3) vaut 10 P1 et P2 incr\u00e9mentent temp et sauvegardent la r\u00e9ponse dans compteur , donc compteur vaut 11 (et pas 12...) P4 sauvegarde compteur dans temp(P4) , d'o\u00f9 temp(P4) vaut 11 P3 et P4 incr\u00e9mentent temp et sauvegardent la r\u00e9ponse dans compteur qui vaut donc maintenant 12 Au final, le compteur a bien \u00e9t\u00e9 incr\u00e9ment\u00e9 4 fois, mais du fait de l'\u00e9x\u00e9cution en parall\u00e8le, le compteur ne vaut que 12 et non 14 ! Ceci explique que notre compteur au final ne vaut pas 400 car sa sauvegarde dans des variables temporaires fait que la plupart des incr\u00e9mentations ne sont pas prises en compte. Le r\u00e9sultat est al\u00e9atoire par ce que les threads s'ex\u00e9cutent dans un ordre qui peut varier, comme nous l'avons vu sur l'exemple des salutations. C'est le principal probl\u00e8me avec les threads : on ne ma\u00eetrise absolument pas l'ordre dans lequel ils sont ex\u00e9cut\u00e9s, et il faut en tenir compte d\u00e8s la conception. Une solution : le verrou ? Il existe un m\u00e9canisme qui va nous ralentir potentiellement un peu mais qui \u00e9vite ce genre de probl\u00e8mes : les verrous . Ce sont des objets de la classe Lock du module threading. Dans notre cas, ils ont deux m\u00e9thodes qui nous int\u00e9ressent. La m\u00e9thode acquire s'accapare le verrou s'il est disponible, sinon elle attend qu'il se lib\u00e8re. La m\u00e9thode release lib\u00e8re le verrou. Ce verrou sera une variable globale du programme principal qui sera partag\u00e9 entre les threads. Notre programme devient alors le suivant : from threading import Thread , Lock from time import sleep # Variable globale compteur = 0 limite = 100 verrou = Lock () def calcul (): \"\"\"Une fonction qui fait un calcul\"\"\" global compteur for c in range ( limite ): # D\u00e9but de la section critique verrou . acquire () temp = compteur # simule un traitement n\u00e9cessitant des calculs sleep ( 0.000000001 ) compteur = temp + 1 # fin de la section critique verrou . release () compteur = 0 mesThreads = [] for i in range ( 4 ): # Lance en parall\u00e8le 4 ex\u00e9cutions de calcul p = Thread ( target = calcul ) p . start () # Lance calcul dans un processus l\u00e9ger \u00e0 part. mesThreads . append ( p ) # On attend la fin de l'ex\u00e9cution des threads. for p in mesThreads : p . join () print ( compteur ) Le programme permet alors bien d'avoir le r\u00e9sultat escompt\u00e9. Mais malheureusement, tous nos probl\u00e8mes ne sont pas r\u00e9solus... voir le cours de premi\u00e8re \u21a9","title":"Les Threads"},{"location":"NSI/Terminale/C06/Processus/","text":"Notion de processus Cette page et les suivantes du chapitre sont insipr\u00e9es des pages suivantes : https://www.lecluse.fr/nsi/NSI_T/archi/process/ https://www.lyceum.fr/tg/nsi/3-architectures-materielles-systemes-dexploitation-et-reseaux/2-gestion-des-processus-par-un-systeme-dexploitation http://lycee.educinfo.org/index.php?page=creation_thread&activite=processus et bien entendu de l'habituel Num\u00e9rique et Sciences Informatique, 24 le\u00e7ons avec exercices corrig\u00e9s aux editions Ellipses. L'objectif de cette partie est de comprendre comment une machine peut ex\u00e9cuter plusieurs t\u00e2cches de mani\u00e8re simultan\u00e9es : si l'on prend l'exemple du smartphone, alors que nous regardons une vid\u00e9o, il va suivre les antennes relais et se synchroniser avec, \u00e9couter s'il y a un appel t\u00e9l\u00e9phonique ou des SMS qui arrive, v\u00e9rifier les nouveaux courriers \u00e9lectroniques, mettre \u00e0 jour les notifications des diff\u00e9rents r\u00e9seaux sociaux,etc. Pour comprendre, il nous faudra nous poser les questions suivantes : Comment sont donc ex\u00e9cut\u00e9s les programmes par le syst\u00e8me d'exploitation ? Comment plusieurs programmes peuvent-ils \u00eatre ex\u00e9cut\u00e9s simultan\u00e9ment ? Quels sont les risques et preobl\u00e8mes soulev\u00e9s par ces ex\u00e9cutions simultan\u00e9es ? Du programme au processus Les processus Un processus est un programme en cours d'ex\u00e9cution sur un ordinateur. Il est caract\u00e9ris\u00e9 par un ensemble d'instructions \u00e0 ex\u00e9cuter - souvent stock\u00e9es dans un fichier sur lequel on clique pour lancer un programme (par exemple firefox.exe ) un espace m\u00e9moire d\u00e9di\u00e9 \u00e0 ce processus pour lui permettre de travailler sur des donn\u00e9es qui lui sont propres : si vous lancez deux instances de firefox, chacune travaillera ind\u00e9pendament de l'autre avec ses propres donn\u00e9es. des ressources mat\u00e9rielles : processeur, entr\u00e9es-sorties (acc\u00e8s \u00e0 internet en utilisant la connexion Wifi). Il ne faut donc pas confondre le fichier contenant un programme (portent souvent l'extension .exe sous windows) et le ou les processus qu'ils engendrent quand ils sont ex\u00e9cut\u00e9s : un programme est juste un fichier contenant une suite d'instructions ( firefox.exe par exemple) alors que les processus sont des instances de ce programme ainsi que les ressources n\u00e9cessaires \u00e0 leur ex\u00e9cution (plusieurs fen\u00eatres de firefox ouvertes en m\u00eame temps). Il est possible de visualiser et g\u00e9rer les processus actifs d'une machine par l'interm\u00e9diaire d'un gestionnaire de processus , qui est un programme sp\u00e9cifique au syst\u00e8me d'exploitation : sur windows, en utilisant Ctrl + Alt + Del , mais pas au Lyc\u00e9e... La gestion des processus \u00e9tant critique, seuls les administrateurs de la machine peuvent y acc\u00e9der... sur linux simplement par l'utilisation d'un terminal (la ligne de commande) En cas de probl\u00e8me avec les Raspberry Pi, ou pour vous entrainer chez vous JupyterHub est un serveur de Notebook que j'avais install\u00e9 il y a fort longtemps, avant l'appartition de Capytale . Il est obsol\u00e8te pour l'utilisation des notebooks, mais nous pouvons toujours en avoir une utilit\u00e9 : un terminal Linux est toujours disponible ! Connectez vous sur jupyterHub (Votre identifiant est votre nom de famille imm\u00e9diatement suivi de la premi\u00e8re lettre de votre pr\u00e9nom. Pour le mot de passe, vous le choisissez \u00e0 la pemi\u00e8re connexion) Ouvrir un terminal : Manipulations /bin/ : commandes de base n\u00e9cessaires au d\u00e9marrage et \u00e0 l'utilisation d'un syst\u00e8me minimaliste. /sbin/ : Ex\u00e9cutables pour les administrateurs (abr\u00e9viation de system binaries , soit binaires syst\u00e8me en fran\u00e7ais). /usr/bin/ : Binaires ex\u00e9cutables qui ne sont pas d\u00e9j\u00e0 pr\u00e9sents dans /bin et donc pas indispensables \u00e0 un syst\u00e8me minimaliste. Sous linux, les programmes sont par convention situ\u00e9es dans les dossiers bin (pour binaries en anglais): Utiliser la commande ls pour lister les programmes pr\u00e9sents dans /bin/ . Utilisez la commande cat /bin/ls pour afficher le contenu du programme ls . On constate que le fichier est un fichier compil\u00e9 (utilisez Ctrl + C pour revenir au prompt ). Pour lancer un programme, il suffit d'\u00e9crire son nom (sans pr\u00e9ciser le chemin si le dossier a \u00e9t\u00e9 ajout\u00e9 aux variables d'environnement). Par exemple vous pouvez lancer un interpr\u00e9teur python par la commande python3 (tapez exit() pour sortir de l'interpr\u00e9teur). Vous pouvez visualiser les processus en ex\u00e9cution par l'interm\u00e9diaire de la commande ps : ps simplement listera vos propres processus utilisateurs ps -l donnera plus de d\u00e9tails ps -a -u -x ou ps -aux affichera tous les processus de tous les utilisateurs( -a ), avec le propri\u00e9taire du processus ( -u ), ainsi que les processus qui ne sont pas attach\u00e9s \u00e0 un terminal ( -x ). ps -ef affichera tous les processus ( every ) avec toutes les informations disponibles ( full ). Le manuel d'utilisation de la commande ps est obtenu par la commande man ps (ou par wikipedia , comme d'habitude). Cr\u00e9ation d'un processus Cr\u00e9ation des processus La cr\u00e9ation d'un processus peut intervenir au d\u00e9marrage du syst\u00e8me ; par un appel d'un autre processus ; par une action d'un utilisateur (lancement d'application). Quand un processus est cr\u00e9e, le syst\u00e8me d'exploitation lui aloue un identifiant unique: le PID ( Process Identifier ). Sur Linux, la cr\u00e9ation d'un processus se fait par clonage d'un autre processus au travers d'un appel systeme fork() . le processus qui fait appel \u00e0 fork() est appel\u00e9 processus p\u00e8re ; le processus qui est ainsi cr\u00e9\u00e9 par clonage est le processus fils ; apr\u00e8s le clonage, un processus peut remplacer son programme par un autre programme gr\u00e2ce \u00e0 l'appel syst\u00e8me exec(). Lorsqu'un processus engendre un fils, l'OS g\u00e9n\u00e8re un nouveau PID pour le fils, et le fils connait aussi le num\u00e9ro de son p\u00e8re : le PPID (*Parent Process Identifier) Le premier processus ? Sous un syst\u00e8me d'exploitation comme Linux, au moment du d\u00e9marrage de l'ordinateur un tout premier processus (appel\u00e9 processus 0 ou encore Swapper) est cr\u00e9\u00e9 \u00e0 partir de \"rien\" (il n'est le fils d'aucun processus). Ensuite, ce processus 0 cr\u00e9e un processus souvent appel\u00e9 init ou systemd , il est cr\u00e9\u00e9 au d\u00e9marrage du syst\u00e8me. \u00c0 partir de ce premier processus, les processus n\u00e9cessaires au bon fonctionnement du syst\u00e8me d\u2019exploitation Linux sont cr\u00e9\u00e9s (par exemple les processus crond , inetd , getty ,...). Puis d'autres processus sont cr\u00e9\u00e9s \u00e0 partir des fils de init ... Ce syst\u00e8me de cr\u00e9ation un peu particulier (d\u00e9sign\u00e9 souvent par fork/exec ) conduit \u00e0 l'\u00e9mergence d'une arborescence de processus : un processus p\u00e8re engendre un ou plusieurs fils qui \u00e0 leur tour engendrent des fils etc... L'instruction pstree permet de visualiser l'arbre de processus : Chercher les PID Enonc\u00e9 R\u00e9ponses A l'aide de la commande ps -ef | more , chercher les PID et PPID des processus : systemd apache2 cron python3 (situ\u00e9 dans le dossier /opt/ ) Commencez par ex\u00e9cuter Thonny, puis cherchez le PID et PPID du processus qui lui correspond. A venir ! Commande top Une des commandes les plus utiles sous Linux est la commande top . Cette commandes affiche les processus actifs en temps r\u00e9el . L'application est plus riche qu'il n'y para\u00eet. Il faut passer un peu de temps \u00e0 explorer toutes les options. Celles-ci s'activent par des raccourcis clavier. En voici quelques uns : H : affiche l'aide M : trie la liste par ordre d\u00e9croissant d'occupation m\u00e9moire. Pratique pour rep\u00e9rer les processus trop gourmands P : trie la liste par ordre d\u00e9croissant d'occupation processeur I : filtre les processus inactifs. Cela ne montre que ceux qui travaillent r\u00e9ellement. K : permet de tuer un processus - \u00e0 condition d'en \u00eatre le propri\u00e9taire. Essayez de tuer systemd ... V : permet d'avoir la vue arborescente sur les processus. Q : permet de quitter top Etats d'un processus Un processus n'a pas seulement besoin d'acc\u00e9der au processeur, mais il a souvent besoin d'acc\u00e9der \u00e0 des ressources autres comme : la m\u00e9moire vive : RAM, une m\u00e9moire de masse : disques durs, cl\u00e9s USB, m\u00e9moire flash... la lecture ou l'\u00e9criture d'un fichier... les p\u00e9riph\u00e9riques d'entr\u00e9e et de sortie : clavier, souris, \u00e9cran, imprimante... Ces ressources externes \u00e9tant beaucoup moins rapides que le processeur, elles bloquent les processus lors de leur ex\u00e9cution. Ainsi, lors de la vie d'un processus, celui-ci peut passer par trois \u00e9tats : PRET ( ready ) : le processus est lanc\u00e9 et attend l'acc\u00e8s au processeur. ELU ( running ) : le processus a obtenu l'acc\u00e8s au processeur : il peut s'ex\u00e9cuter. BLOQUE ( sleeping ) : le processus est en cours d'ex\u00e9cution, mais attend une ressource en m\u00e9moire par exemple, il quitte le processeur pour lib\u00e9rer les ressources. Exemple Imaginons un simple programme Python : texte = input ( \"Entrez une phrase ?\" ) print ( f \"La longueur de votre phrase est { len ( texte ) } \" ) Lorsqu'on ex\u00e9cute ce programme, un processus est cr\u00e9e, et passe en \u00e9tat PRET . D\u00e8s qu'il a acc\u00e8s au processeur, il passe dans l'\u00e9tat Elu . La premi\u00e8re instruction est alors ex\u00e9cut\u00e9e. Or celle ci attend une saisie au clavier , et le processus ne peut pas continuer tant que l'utilisateur n'a pas agit. L'OS met alors en attente le processus (en \u00e9tat BLOQUE ). Lorsque l'OS, qui g\u00e8re aussi les entr\u00e9es et les sorties, rep\u00e8re une interaction avec le clavier, il va alors d\u00e9bloquer le processus, qui repassera en \u00e9tat PRET , puis en \u00e9tat ELU et ex\u00e9cutera alors la deuxi\u00e8me instruction. Sans autre intervention, le processus passera en \u00e9tat final ( stopped ), et se terminera naturellement. Il lib\u00e8rera alors les ressources m\u00e9moire qu'il occupait, et enverra un signal \u00e0 son processus parent, afin que celui-ci l'\u00e9limine de la table des processus . Terminer un processus Terminer un processus Il est possible d'envoyer un signal de terminaison \u00e0 un processus actif, par l'interm\u00e9diaire de la commande kill , en lui pr\u00e9cisant le PID du processus qu'on souhaite arr\u00eater. Un tel signal est \u00e9quivalent au fait de fermer une fen\u00eatre en interface graphique (par la croix ou bien par Alt + F4 ), ou bien au raccourci Ctrl + C dans la console. Un tel signal est intercept\u00e9 par l'application du processus et g\u00e9r\u00e9 par cette derni\u00e8re. Par exemple un logiciel de traitement de texte peut alors proposer \u00e0 l'utilisateur de sauvegarder ses fichiers avant de quitter. Question Dans JupyterHub, ouvrir un des notebooks de premi\u00e8re. Rep\u00e9rer le PID correspondant \u00e0 cette instance de notebook ( processus de type ipython ) Terminer le processus. Tuer un processus Parfois un processus se comporte de mani\u00e8re anormale, par exemple par une trop grande consommation de m\u00e9moire, ou lorsqu'une application \u00ab ne r\u00e9pond plus \u00bb. Il est possible dans ce cas de tuer le processus en question, en lui envoyant un signal de terminaison sans que l'application puisse l'intercepter , en passant l'option -9 \u00e0 la commande kill , par exemple kill -9 13259 . En reprenant l'exemple du traitement de texte, dans ce cas les modifications ne seront pas sauvegard\u00e9es et des donn\u00e9es risquent d'\u00eatre perdues. C'est une commande \u00e0 utiliser avec pr\u00e9caution . Cr\u00e9ation et suppression de processus en Python Nous allons cr\u00e9er un processus \u00e0 partir de Python. Pour cela : Dans Thonny, cr\u00e9er un fichier texte vide, puis y ins\u00e9rer le code suivant : import time a = 0 for i in range ( 100000 ): a += a ** 3 time . sleep ( 0.01 ) print ( \"termin\u00e9\" ) Sauvegardez ce fichier sous le nom test_{votrenom}.py , puis si n\u00e9cessaire importez-le dans JupyterHub . Ouvrez DEUX terminaux . Dans le premier, utilisez la commande python3 test.py . Dans le second, lancez la commande ps -aux , et cherchez le processus correspondant \u00e0 l'ex\u00e9cution du script test_{votrenom}.py . Tuez le processus avec la commande kill , et observez ce qui se passe dans les deux terminaux. Recommencez la proc\u00e9dure \u00e0 partir de 4 en tuant le processus avec la commande kill -9 , et observez les deux terminaux. Utilisation de fork() Dans Thonny, cr\u00e9ez un fichier nomm\u00e9 testFork_{votrenom}.py dans lequel vous copierez les lignes suivantes : # Python program to explain os.fork() method # importing os module import os , time # Create a child process # using os.fork() method pid = os . fork () # pid greater than 0 represents # the parent process if pid > 0 : print ( \"I am parent process:\" ) print ( \"Process ID:\" , os . getpid ()) print ( \"Child's process ID:\" , pid ) # pid equal to 0 represents # the created child process else : print ( \" \\n I am child process:\" ) print ( \"Process ID:\" , os . getpid ()) print ( \"Parent's process ID:\" , os . getppid ()) a = 0 for i in range ( 10000 ): a += a ** 3 time . sleep ( 0.001 ) print ( \"Finished\" ) # If any error occurred while # using os.fork() method # OSError will be raised Ex\u00e9cutez ce fichier par la commande python3 testFork.py . Observez dans ce terminal l'effet du script. Dans un autre terminal, avec la commande ps -ef , observez les processus cr\u00e9\u00e9s, ainsi que leurs PID et PPID . (Si n\u00e9cessaire, relancez le script !) Tuez le processus enfant. Que se passe-t-il ? Relancez le script ! Tuez le processus parent et attendez quelques instants. Que se passe-t-il ? Processus Zombies Parfois un processus p\u00e8re est tu\u00e9 avant que ses processus fils soient termin\u00e9s. Ceux-ci restent alors dans la table des processus en situation finale, mais ne sont pas supprim\u00e9s. On parle alors de processus zombies . Ceux-ci occupent une partie de la m\u00e9moire, tout en \u00e9tant devenus inutiles...","title":"Gestion des Processus"},{"location":"NSI/Terminale/C06/Processus/#notion-de-processus","text":"Cette page et les suivantes du chapitre sont insipr\u00e9es des pages suivantes : https://www.lecluse.fr/nsi/NSI_T/archi/process/ https://www.lyceum.fr/tg/nsi/3-architectures-materielles-systemes-dexploitation-et-reseaux/2-gestion-des-processus-par-un-systeme-dexploitation http://lycee.educinfo.org/index.php?page=creation_thread&activite=processus et bien entendu de l'habituel Num\u00e9rique et Sciences Informatique, 24 le\u00e7ons avec exercices corrig\u00e9s aux editions Ellipses. L'objectif de cette partie est de comprendre comment une machine peut ex\u00e9cuter plusieurs t\u00e2cches de mani\u00e8re simultan\u00e9es : si l'on prend l'exemple du smartphone, alors que nous regardons une vid\u00e9o, il va suivre les antennes relais et se synchroniser avec, \u00e9couter s'il y a un appel t\u00e9l\u00e9phonique ou des SMS qui arrive, v\u00e9rifier les nouveaux courriers \u00e9lectroniques, mettre \u00e0 jour les notifications des diff\u00e9rents r\u00e9seaux sociaux,etc. Pour comprendre, il nous faudra nous poser les questions suivantes : Comment sont donc ex\u00e9cut\u00e9s les programmes par le syst\u00e8me d'exploitation ? Comment plusieurs programmes peuvent-ils \u00eatre ex\u00e9cut\u00e9s simultan\u00e9ment ? Quels sont les risques et preobl\u00e8mes soulev\u00e9s par ces ex\u00e9cutions simultan\u00e9es ?","title":"Notion de  processus"},{"location":"NSI/Terminale/C06/Processus/#du-programme-au-processus","text":"Les processus Un processus est un programme en cours d'ex\u00e9cution sur un ordinateur. Il est caract\u00e9ris\u00e9 par un ensemble d'instructions \u00e0 ex\u00e9cuter - souvent stock\u00e9es dans un fichier sur lequel on clique pour lancer un programme (par exemple firefox.exe ) un espace m\u00e9moire d\u00e9di\u00e9 \u00e0 ce processus pour lui permettre de travailler sur des donn\u00e9es qui lui sont propres : si vous lancez deux instances de firefox, chacune travaillera ind\u00e9pendament de l'autre avec ses propres donn\u00e9es. des ressources mat\u00e9rielles : processeur, entr\u00e9es-sorties (acc\u00e8s \u00e0 internet en utilisant la connexion Wifi). Il ne faut donc pas confondre le fichier contenant un programme (portent souvent l'extension .exe sous windows) et le ou les processus qu'ils engendrent quand ils sont ex\u00e9cut\u00e9s : un programme est juste un fichier contenant une suite d'instructions ( firefox.exe par exemple) alors que les processus sont des instances de ce programme ainsi que les ressources n\u00e9cessaires \u00e0 leur ex\u00e9cution (plusieurs fen\u00eatres de firefox ouvertes en m\u00eame temps). Il est possible de visualiser et g\u00e9rer les processus actifs d'une machine par l'interm\u00e9diaire d'un gestionnaire de processus , qui est un programme sp\u00e9cifique au syst\u00e8me d'exploitation : sur windows, en utilisant Ctrl + Alt + Del , mais pas au Lyc\u00e9e... La gestion des processus \u00e9tant critique, seuls les administrateurs de la machine peuvent y acc\u00e9der... sur linux simplement par l'utilisation d'un terminal (la ligne de commande) En cas de probl\u00e8me avec les Raspberry Pi, ou pour vous entrainer chez vous JupyterHub est un serveur de Notebook que j'avais install\u00e9 il y a fort longtemps, avant l'appartition de Capytale . Il est obsol\u00e8te pour l'utilisation des notebooks, mais nous pouvons toujours en avoir une utilit\u00e9 : un terminal Linux est toujours disponible ! Connectez vous sur jupyterHub (Votre identifiant est votre nom de famille imm\u00e9diatement suivi de la premi\u00e8re lettre de votre pr\u00e9nom. Pour le mot de passe, vous le choisissez \u00e0 la pemi\u00e8re connexion) Ouvrir un terminal : Manipulations /bin/ : commandes de base n\u00e9cessaires au d\u00e9marrage et \u00e0 l'utilisation d'un syst\u00e8me minimaliste. /sbin/ : Ex\u00e9cutables pour les administrateurs (abr\u00e9viation de system binaries , soit binaires syst\u00e8me en fran\u00e7ais). /usr/bin/ : Binaires ex\u00e9cutables qui ne sont pas d\u00e9j\u00e0 pr\u00e9sents dans /bin et donc pas indispensables \u00e0 un syst\u00e8me minimaliste. Sous linux, les programmes sont par convention situ\u00e9es dans les dossiers bin (pour binaries en anglais): Utiliser la commande ls pour lister les programmes pr\u00e9sents dans /bin/ . Utilisez la commande cat /bin/ls pour afficher le contenu du programme ls . On constate que le fichier est un fichier compil\u00e9 (utilisez Ctrl + C pour revenir au prompt ). Pour lancer un programme, il suffit d'\u00e9crire son nom (sans pr\u00e9ciser le chemin si le dossier a \u00e9t\u00e9 ajout\u00e9 aux variables d'environnement). Par exemple vous pouvez lancer un interpr\u00e9teur python par la commande python3 (tapez exit() pour sortir de l'interpr\u00e9teur). Vous pouvez visualiser les processus en ex\u00e9cution par l'interm\u00e9diaire de la commande ps : ps simplement listera vos propres processus utilisateurs ps -l donnera plus de d\u00e9tails ps -a -u -x ou ps -aux affichera tous les processus de tous les utilisateurs( -a ), avec le propri\u00e9taire du processus ( -u ), ainsi que les processus qui ne sont pas attach\u00e9s \u00e0 un terminal ( -x ). ps -ef affichera tous les processus ( every ) avec toutes les informations disponibles ( full ). Le manuel d'utilisation de la commande ps est obtenu par la commande man ps (ou par wikipedia , comme d'habitude).","title":"Du programme au processus"},{"location":"NSI/Terminale/C06/Processus/#creation-dun-processus","text":"Cr\u00e9ation des processus La cr\u00e9ation d'un processus peut intervenir au d\u00e9marrage du syst\u00e8me ; par un appel d'un autre processus ; par une action d'un utilisateur (lancement d'application). Quand un processus est cr\u00e9e, le syst\u00e8me d'exploitation lui aloue un identifiant unique: le PID ( Process Identifier ). Sur Linux, la cr\u00e9ation d'un processus se fait par clonage d'un autre processus au travers d'un appel systeme fork() . le processus qui fait appel \u00e0 fork() est appel\u00e9 processus p\u00e8re ; le processus qui est ainsi cr\u00e9\u00e9 par clonage est le processus fils ; apr\u00e8s le clonage, un processus peut remplacer son programme par un autre programme gr\u00e2ce \u00e0 l'appel syst\u00e8me exec(). Lorsqu'un processus engendre un fils, l'OS g\u00e9n\u00e8re un nouveau PID pour le fils, et le fils connait aussi le num\u00e9ro de son p\u00e8re : le PPID (*Parent Process Identifier) Le premier processus ? Sous un syst\u00e8me d'exploitation comme Linux, au moment du d\u00e9marrage de l'ordinateur un tout premier processus (appel\u00e9 processus 0 ou encore Swapper) est cr\u00e9\u00e9 \u00e0 partir de \"rien\" (il n'est le fils d'aucun processus). Ensuite, ce processus 0 cr\u00e9e un processus souvent appel\u00e9 init ou systemd , il est cr\u00e9\u00e9 au d\u00e9marrage du syst\u00e8me. \u00c0 partir de ce premier processus, les processus n\u00e9cessaires au bon fonctionnement du syst\u00e8me d\u2019exploitation Linux sont cr\u00e9\u00e9s (par exemple les processus crond , inetd , getty ,...). Puis d'autres processus sont cr\u00e9\u00e9s \u00e0 partir des fils de init ... Ce syst\u00e8me de cr\u00e9ation un peu particulier (d\u00e9sign\u00e9 souvent par fork/exec ) conduit \u00e0 l'\u00e9mergence d'une arborescence de processus : un processus p\u00e8re engendre un ou plusieurs fils qui \u00e0 leur tour engendrent des fils etc... L'instruction pstree permet de visualiser l'arbre de processus : Chercher les PID Enonc\u00e9 R\u00e9ponses A l'aide de la commande ps -ef | more , chercher les PID et PPID des processus : systemd apache2 cron python3 (situ\u00e9 dans le dossier /opt/ ) Commencez par ex\u00e9cuter Thonny, puis cherchez le PID et PPID du processus qui lui correspond. A venir ! Commande top Une des commandes les plus utiles sous Linux est la commande top . Cette commandes affiche les processus actifs en temps r\u00e9el . L'application est plus riche qu'il n'y para\u00eet. Il faut passer un peu de temps \u00e0 explorer toutes les options. Celles-ci s'activent par des raccourcis clavier. En voici quelques uns : H : affiche l'aide M : trie la liste par ordre d\u00e9croissant d'occupation m\u00e9moire. Pratique pour rep\u00e9rer les processus trop gourmands P : trie la liste par ordre d\u00e9croissant d'occupation processeur I : filtre les processus inactifs. Cela ne montre que ceux qui travaillent r\u00e9ellement. K : permet de tuer un processus - \u00e0 condition d'en \u00eatre le propri\u00e9taire. Essayez de tuer systemd ... V : permet d'avoir la vue arborescente sur les processus. Q : permet de quitter top","title":"Cr\u00e9ation d'un processus"},{"location":"NSI/Terminale/C06/Processus/#etats-dun-processus","text":"Un processus n'a pas seulement besoin d'acc\u00e9der au processeur, mais il a souvent besoin d'acc\u00e9der \u00e0 des ressources autres comme : la m\u00e9moire vive : RAM, une m\u00e9moire de masse : disques durs, cl\u00e9s USB, m\u00e9moire flash... la lecture ou l'\u00e9criture d'un fichier... les p\u00e9riph\u00e9riques d'entr\u00e9e et de sortie : clavier, souris, \u00e9cran, imprimante... Ces ressources externes \u00e9tant beaucoup moins rapides que le processeur, elles bloquent les processus lors de leur ex\u00e9cution. Ainsi, lors de la vie d'un processus, celui-ci peut passer par trois \u00e9tats : PRET ( ready ) : le processus est lanc\u00e9 et attend l'acc\u00e8s au processeur. ELU ( running ) : le processus a obtenu l'acc\u00e8s au processeur : il peut s'ex\u00e9cuter. BLOQUE ( sleeping ) : le processus est en cours d'ex\u00e9cution, mais attend une ressource en m\u00e9moire par exemple, il quitte le processeur pour lib\u00e9rer les ressources. Exemple Imaginons un simple programme Python : texte = input ( \"Entrez une phrase ?\" ) print ( f \"La longueur de votre phrase est { len ( texte ) } \" ) Lorsqu'on ex\u00e9cute ce programme, un processus est cr\u00e9e, et passe en \u00e9tat PRET . D\u00e8s qu'il a acc\u00e8s au processeur, il passe dans l'\u00e9tat Elu . La premi\u00e8re instruction est alors ex\u00e9cut\u00e9e. Or celle ci attend une saisie au clavier , et le processus ne peut pas continuer tant que l'utilisateur n'a pas agit. L'OS met alors en attente le processus (en \u00e9tat BLOQUE ). Lorsque l'OS, qui g\u00e8re aussi les entr\u00e9es et les sorties, rep\u00e8re une interaction avec le clavier, il va alors d\u00e9bloquer le processus, qui repassera en \u00e9tat PRET , puis en \u00e9tat ELU et ex\u00e9cutera alors la deuxi\u00e8me instruction. Sans autre intervention, le processus passera en \u00e9tat final ( stopped ), et se terminera naturellement. Il lib\u00e8rera alors les ressources m\u00e9moire qu'il occupait, et enverra un signal \u00e0 son processus parent, afin que celui-ci l'\u00e9limine de la table des processus .","title":"Etats d'un processus"},{"location":"NSI/Terminale/C06/Processus/#terminer-un-processus","text":"Terminer un processus Il est possible d'envoyer un signal de terminaison \u00e0 un processus actif, par l'interm\u00e9diaire de la commande kill , en lui pr\u00e9cisant le PID du processus qu'on souhaite arr\u00eater. Un tel signal est \u00e9quivalent au fait de fermer une fen\u00eatre en interface graphique (par la croix ou bien par Alt + F4 ), ou bien au raccourci Ctrl + C dans la console. Un tel signal est intercept\u00e9 par l'application du processus et g\u00e9r\u00e9 par cette derni\u00e8re. Par exemple un logiciel de traitement de texte peut alors proposer \u00e0 l'utilisateur de sauvegarder ses fichiers avant de quitter. Question Dans JupyterHub, ouvrir un des notebooks de premi\u00e8re. Rep\u00e9rer le PID correspondant \u00e0 cette instance de notebook ( processus de type ipython ) Terminer le processus. Tuer un processus Parfois un processus se comporte de mani\u00e8re anormale, par exemple par une trop grande consommation de m\u00e9moire, ou lorsqu'une application \u00ab ne r\u00e9pond plus \u00bb. Il est possible dans ce cas de tuer le processus en question, en lui envoyant un signal de terminaison sans que l'application puisse l'intercepter , en passant l'option -9 \u00e0 la commande kill , par exemple kill -9 13259 . En reprenant l'exemple du traitement de texte, dans ce cas les modifications ne seront pas sauvegard\u00e9es et des donn\u00e9es risquent d'\u00eatre perdues. C'est une commande \u00e0 utiliser avec pr\u00e9caution . Cr\u00e9ation et suppression de processus en Python Nous allons cr\u00e9er un processus \u00e0 partir de Python. Pour cela : Dans Thonny, cr\u00e9er un fichier texte vide, puis y ins\u00e9rer le code suivant : import time a = 0 for i in range ( 100000 ): a += a ** 3 time . sleep ( 0.01 ) print ( \"termin\u00e9\" ) Sauvegardez ce fichier sous le nom test_{votrenom}.py , puis si n\u00e9cessaire importez-le dans JupyterHub . Ouvrez DEUX terminaux . Dans le premier, utilisez la commande python3 test.py . Dans le second, lancez la commande ps -aux , et cherchez le processus correspondant \u00e0 l'ex\u00e9cution du script test_{votrenom}.py . Tuez le processus avec la commande kill , et observez ce qui se passe dans les deux terminaux. Recommencez la proc\u00e9dure \u00e0 partir de 4 en tuant le processus avec la commande kill -9 , et observez les deux terminaux. Utilisation de fork() Dans Thonny, cr\u00e9ez un fichier nomm\u00e9 testFork_{votrenom}.py dans lequel vous copierez les lignes suivantes : # Python program to explain os.fork() method # importing os module import os , time # Create a child process # using os.fork() method pid = os . fork () # pid greater than 0 represents # the parent process if pid > 0 : print ( \"I am parent process:\" ) print ( \"Process ID:\" , os . getpid ()) print ( \"Child's process ID:\" , pid ) # pid equal to 0 represents # the created child process else : print ( \" \\n I am child process:\" ) print ( \"Process ID:\" , os . getpid ()) print ( \"Parent's process ID:\" , os . getppid ()) a = 0 for i in range ( 10000 ): a += a ** 3 time . sleep ( 0.001 ) print ( \"Finished\" ) # If any error occurred while # using os.fork() method # OSError will be raised Ex\u00e9cutez ce fichier par la commande python3 testFork.py . Observez dans ce terminal l'effet du script. Dans un autre terminal, avec la commande ps -ef , observez les processus cr\u00e9\u00e9s, ainsi que leurs PID et PPID . (Si n\u00e9cessaire, relancez le script !) Tuez le processus enfant. Que se passe-t-il ? Relancez le script ! Tuez le processus parent et attendez quelques instants. Que se passe-t-il ? Processus Zombies Parfois un processus p\u00e8re est tu\u00e9 avant que ses processus fils soient termin\u00e9s. Ceux-ci restent alors dans la table des processus en situation finale, mais ne sont pas supprim\u00e9s. On parle alors de processus zombies . Ceux-ci occupent une partie de la m\u00e9moire, tout en \u00e9tant devenus inutiles...","title":"Terminer un processus"},{"location":"NSI/Terminale/C06/Socs/","text":"Des circuits aux syst\u00e8mes sur puces Cette partie est directement inspir\u00e9e des documents d'accompagnement du programme de NSI. Nous allons utiliser une vid\u00e9o du Coll\u00e8ge de France : une conf\u00e9rence enseignement de G\u00e9rard Berry \u00ab Pourquoi et comment le monde devient num\u00e9rique (Chaire Innovation technologique \u2014 Liliane Bettencourt) \u00bb . On trouvera avec ce lien le diaporama associ\u00e9 \u00e0 la conf\u00e9rence. Questionnaire conf\u00e9rence Introduction Qu\u2019est-ce qui a permis la progression du monde num\u00e9rique ? De quoi est compos\u00e9 un circuit ? \u00c0 ce stade de l\u2019expos\u00e9, quel est le facteur limitant \u00e0 la progression des circuits ? Quel est le nom de la loi qui gouverne la densit\u00e9 des circuits ? O\u00f9 travaillait M. Moore ? Citez quelques types de circuits autres que les microprocesseurs (CPU). Quelle qualit\u00e9 pr\u00e9sente le CPU ? Quel est son principal d\u00e9faut ? Que font principalement les DSP (Digital Signal Processor) ? Les puces peuvent \u00eatre con\u00e7ues avec un grand nombre de transistors, quelle est la cons\u00e9quence sur la fabrication des puces ? Quels sont les deux principaux avantages d\u2019une int\u00e9gration plus grande dans les puces ? Que signifie SOC ? Comment sont reli\u00e9s tous les blocs fonctionnels \u00e0 l\u2019int\u00e9rieur des puces ? La description des circuits A partir de 7'48 Quel est le niveau de conception le plus basique d\u00e9crit par M. Berry ? Comment s\u2019appelle le niveau le plus central utilis\u00e9 pour la description des circuits ? Quelle est la partie du signal d\u2019horloge, qui est active, utilis\u00e9e pour piloter le circuit ? Dans un calcul logique, que signifie l\u2019expression \u00ab chemin critique \u00bb ? Que permet de d\u00e9finir ce chemin critique ? Quelques r\u00e9flexions autour de l'addition A partir de 16'30 Quel est le probl\u00e8me pos\u00e9 par le m\u00e9canisme de propagation de la retenue lors du passage \u00e0 l\u2019\u00e9chelle pour des additions de deux mots d\u2019un grand nombre de bits ? Quelle est la valeur du chemin critique de l\u2019additionneur de Von Neumann pour \\(n\\) bits ? Quelle m\u00e9thode d\u2019additionneur est pr\u00e9sent\u00e9e pour acc\u00e9l\u00e9rer le traitement de l\u2019addition ? Que se passe-t-il dans ce type de fonctionnement ? Quel est le domaine technologique pr\u00e9sent\u00e9 qui r\u00e9alise un tr\u00e8s grand nombre d\u2019op\u00e9rations de calcul selon un mode pipeline ? Le microprocesseur A partir de 24'20 Que permet le mode de fonctionnement pipeline pour un microprocesseur ? Quel est le d\u00e9faut principal de la m\u00e9moire RAM des ordinateurs ? Quelle est la solution pour r\u00e9soudre ce probl\u00e8me ? La m\u00e9moire cache A partir de 34'35 Quelle est la deuxi\u00e8me technique utilis\u00e9e par les microprocesseurs pour acc\u00e9l\u00e9rer les calculs ? Au d\u00e9triment de quelles ressources internes au CPU le gain de temps est-il obtenu par la technique pr\u00e9c\u00e9dente ? En quoi consiste le prefetch ? Que conclure sur les microprocesseurs ? \u00c0 quel moment ont lieu les pics de consommation dans le fonctionnement du microprocesseur ? Peut-on augmenter ind\u00e9finiment la fr\u00e9quence de fonctionnement d\u2019un circuit ? Quelle difficult\u00e9 l\u2019emploi des CPU multi coeurs entraine-t-il ? La conception des circuits A partir de 42'00 D\u00e9crire succinctement la chaine de conception des circuits. Citez les deux jeux de logiciels qui interviennent. Quel est le pourcentage du co\u00fbt dans le design d\u2019un circuit ? L'avenir des circuits Citez les trois principaux freins \u00e0 la miniaturisation des circuits. Quelle piste client est pr\u00e9sent\u00e9e pour remplacer les nouveaux circuits trop chers ? Comment d\u00e9finir un FPGA ? Quel est l\u2019avantage d\u2019utiliser des FPGA dans des routeurs par exemple ? Questionnaire compl\u00e9mentaire Densit\u00e9 d'int\u00e9gration Le sch\u00e9ma ci-dessous est une vue partielle du microprocesseur 4004 d\u2019Intel. Ce premier microprocesseur de l\u2019histoire contenait 2300 transistors grav\u00e9s avec une finesse de 10 \u03bcm. Le sch\u00e9ma complet tenait sur trois pages. En 2017, la finesse de gravure atteint 10 nm avec 10 milliards de transistors. D\u00e9terminer le nombre de pages n\u00e9cessaire pour assurer l\u2019impression du sch\u00e9ma d\u2019un tel microprocesseur, en prenant comme base les donn\u00e9es du 4004 et le ratio : nombre de transistors/nombre de pages. En consid\u00e9rant la surface standard d\u2019une feuille A4, quelle est la surface totale du sch\u00e9ma de notre microprocesseur de technologie 2017 ? Convertir ensuite le r\u00e9sultat en km\u00b2. Lithographie des circuits int\u00e9gr\u00e9s \u00c0 partir du site suivant r\u00e9pondre aux questions ci-dessous : Combien de transistors sont int\u00e9gr\u00e9s dans les super-puces en 2017 ? Quel est l\u2019ordre de grandeur de l\u2019investissement n\u00e9cessaire pour b\u00e2tir une usine qui fabriquera des puces avec une finesse de gravure de 3 nanom\u00e8tres ? Quel autre fabricant, concurrent de Samsung, investi dans une usine capable de graver en 5 nanom\u00e8tres ? La famille core i9 d\u2019Intel \u00c0 partir des informations donn\u00e9es sur la page du constructeur Intel pour son microprocesseur de la famille i9, r\u00e9pondre aux questions ci-dessous : Quelle est la technologie de ce processeur ? Donner la d\u00e9finition d\u2019un coeur. Que repr\u00e9sente la fr\u00e9quence de base de 3.00 GHz ? Que repr\u00e9sente la PDT ? Quelle est la relation entre la fr\u00e9quence de base et le PDT ?Quelle est la capacit\u00e9 m\u00e9moire maximum possible pour ce processeur ? Par quel terme d\u00e9signe-t-on un fabricant de circuits \u00e9lectroniques ? Quelle finesse de gravure la soci\u00e9t\u00e9 TSMC (Taiwan) pr\u00e9pare-t-elle dans sa nouvelle usine ?","title":"Des circuits aux syst\u00e8mes sur puces"},{"location":"NSI/Terminale/C06/Socs/#des-circuits-aux-systemes-sur-puces","text":"Cette partie est directement inspir\u00e9e des documents d'accompagnement du programme de NSI. Nous allons utiliser une vid\u00e9o du Coll\u00e8ge de France : une conf\u00e9rence enseignement de G\u00e9rard Berry \u00ab Pourquoi et comment le monde devient num\u00e9rique (Chaire Innovation technologique \u2014 Liliane Bettencourt) \u00bb . On trouvera avec ce lien le diaporama associ\u00e9 \u00e0 la conf\u00e9rence.","title":"Des circuits aux syst\u00e8mes sur puces"},{"location":"NSI/Terminale/C06/Socs/#questionnaire-conference","text":"","title":"Questionnaire conf\u00e9rence"},{"location":"NSI/Terminale/C06/Socs/#introduction","text":"Qu\u2019est-ce qui a permis la progression du monde num\u00e9rique ? De quoi est compos\u00e9 un circuit ? \u00c0 ce stade de l\u2019expos\u00e9, quel est le facteur limitant \u00e0 la progression des circuits ? Quel est le nom de la loi qui gouverne la densit\u00e9 des circuits ? O\u00f9 travaillait M. Moore ? Citez quelques types de circuits autres que les microprocesseurs (CPU). Quelle qualit\u00e9 pr\u00e9sente le CPU ? Quel est son principal d\u00e9faut ? Que font principalement les DSP (Digital Signal Processor) ? Les puces peuvent \u00eatre con\u00e7ues avec un grand nombre de transistors, quelle est la cons\u00e9quence sur la fabrication des puces ? Quels sont les deux principaux avantages d\u2019une int\u00e9gration plus grande dans les puces ? Que signifie SOC ? Comment sont reli\u00e9s tous les blocs fonctionnels \u00e0 l\u2019int\u00e9rieur des puces ?","title":"Introduction"},{"location":"NSI/Terminale/C06/Socs/#la-description-des-circuits","text":"A partir de 7'48 Quel est le niveau de conception le plus basique d\u00e9crit par M. Berry ? Comment s\u2019appelle le niveau le plus central utilis\u00e9 pour la description des circuits ? Quelle est la partie du signal d\u2019horloge, qui est active, utilis\u00e9e pour piloter le circuit ? Dans un calcul logique, que signifie l\u2019expression \u00ab chemin critique \u00bb ? Que permet de d\u00e9finir ce chemin critique ?","title":"La description des circuits"},{"location":"NSI/Terminale/C06/Socs/#quelques-reflexions-autour-de-laddition","text":"A partir de 16'30 Quel est le probl\u00e8me pos\u00e9 par le m\u00e9canisme de propagation de la retenue lors du passage \u00e0 l\u2019\u00e9chelle pour des additions de deux mots d\u2019un grand nombre de bits ? Quelle est la valeur du chemin critique de l\u2019additionneur de Von Neumann pour \\(n\\) bits ? Quelle m\u00e9thode d\u2019additionneur est pr\u00e9sent\u00e9e pour acc\u00e9l\u00e9rer le traitement de l\u2019addition ? Que se passe-t-il dans ce type de fonctionnement ? Quel est le domaine technologique pr\u00e9sent\u00e9 qui r\u00e9alise un tr\u00e8s grand nombre d\u2019op\u00e9rations de calcul selon un mode pipeline ?","title":"Quelques r\u00e9flexions autour de l'addition"},{"location":"NSI/Terminale/C06/Socs/#le-microprocesseur","text":"A partir de 24'20 Que permet le mode de fonctionnement pipeline pour un microprocesseur ? Quel est le d\u00e9faut principal de la m\u00e9moire RAM des ordinateurs ? Quelle est la solution pour r\u00e9soudre ce probl\u00e8me ?","title":"Le microprocesseur"},{"location":"NSI/Terminale/C06/Socs/#la-memoire-cache","text":"A partir de 34'35 Quelle est la deuxi\u00e8me technique utilis\u00e9e par les microprocesseurs pour acc\u00e9l\u00e9rer les calculs ? Au d\u00e9triment de quelles ressources internes au CPU le gain de temps est-il obtenu par la technique pr\u00e9c\u00e9dente ? En quoi consiste le prefetch ? Que conclure sur les microprocesseurs ? \u00c0 quel moment ont lieu les pics de consommation dans le fonctionnement du microprocesseur ? Peut-on augmenter ind\u00e9finiment la fr\u00e9quence de fonctionnement d\u2019un circuit ? Quelle difficult\u00e9 l\u2019emploi des CPU multi coeurs entraine-t-il ?","title":"La m\u00e9moire cache"},{"location":"NSI/Terminale/C06/Socs/#la-conception-des-circuits","text":"A partir de 42'00 D\u00e9crire succinctement la chaine de conception des circuits. Citez les deux jeux de logiciels qui interviennent. Quel est le pourcentage du co\u00fbt dans le design d\u2019un circuit ?","title":"La conception des circuits"},{"location":"NSI/Terminale/C06/Socs/#lavenir-des-circuits","text":"Citez les trois principaux freins \u00e0 la miniaturisation des circuits. Quelle piste client est pr\u00e9sent\u00e9e pour remplacer les nouveaux circuits trop chers ? Comment d\u00e9finir un FPGA ? Quel est l\u2019avantage d\u2019utiliser des FPGA dans des routeurs par exemple ?","title":"L'avenir des circuits"},{"location":"NSI/Terminale/C06/Socs/#questionnaire-complementaire","text":"","title":"Questionnaire compl\u00e9mentaire"},{"location":"NSI/Terminale/C06/Socs/#densite-dintegration","text":"Le sch\u00e9ma ci-dessous est une vue partielle du microprocesseur 4004 d\u2019Intel. Ce premier microprocesseur de l\u2019histoire contenait 2300 transistors grav\u00e9s avec une finesse de 10 \u03bcm. Le sch\u00e9ma complet tenait sur trois pages. En 2017, la finesse de gravure atteint 10 nm avec 10 milliards de transistors. D\u00e9terminer le nombre de pages n\u00e9cessaire pour assurer l\u2019impression du sch\u00e9ma d\u2019un tel microprocesseur, en prenant comme base les donn\u00e9es du 4004 et le ratio : nombre de transistors/nombre de pages. En consid\u00e9rant la surface standard d\u2019une feuille A4, quelle est la surface totale du sch\u00e9ma de notre microprocesseur de technologie 2017 ? Convertir ensuite le r\u00e9sultat en km\u00b2.","title":"Densit\u00e9 d'int\u00e9gration"},{"location":"NSI/Terminale/C06/Socs/#lithographie-des-circuits-integres","text":"\u00c0 partir du site suivant r\u00e9pondre aux questions ci-dessous : Combien de transistors sont int\u00e9gr\u00e9s dans les super-puces en 2017 ? Quel est l\u2019ordre de grandeur de l\u2019investissement n\u00e9cessaire pour b\u00e2tir une usine qui fabriquera des puces avec une finesse de gravure de 3 nanom\u00e8tres ? Quel autre fabricant, concurrent de Samsung, investi dans une usine capable de graver en 5 nanom\u00e8tres ?","title":"Lithographie des circuits int\u00e9gr\u00e9s"},{"location":"NSI/Terminale/C06/Socs/#la-famille-core-i9-dintel","text":"\u00c0 partir des informations donn\u00e9es sur la page du constructeur Intel pour son microprocesseur de la famille i9, r\u00e9pondre aux questions ci-dessous : Quelle est la technologie de ce processeur ? Donner la d\u00e9finition d\u2019un coeur. Que repr\u00e9sente la fr\u00e9quence de base de 3.00 GHz ? Que repr\u00e9sente la PDT ? Quelle est la relation entre la fr\u00e9quence de base et le PDT ?Quelle est la capacit\u00e9 m\u00e9moire maximum possible pour ce processeur ? Par quel terme d\u00e9signe-t-on un fabricant de circuits \u00e9lectroniques ? Quelle finesse de gravure la soci\u00e9t\u00e9 TSMC (Taiwan) pr\u00e9pare-t-elle dans sa nouvelle usine ?","title":"La famille core i9 d\u2019Intel"},{"location":"NSI/Terminale/C07/OSPF/","text":"Protocole OSPF Le routage \u00e0 \u00e9tat de lien Une vid\u00e9o de Mines - T\u00e9l\u00e9com Le principe Les algorithmes \u00e0 \u00e9tat de lien sont bas\u00e9s sur la technique du plus court chemin nomm\u00e9e SPF ( Shortest Path First ). Pour pouvoir calculer le plus court chemin, les routeurs doivent disposer de la carte compl\u00e8te du r\u00e9seau . Ainsi, un routeur SPF teste l\u2019\u00e9tat des liens qui le connectent aux routeurs voisins puis diffuse p\u00e9riodiquement l\u2019\u00e9tat de ses liens (actif ou inactif) \u00e0 tous les routeurs du r\u00e9seau . Les informations \u00e9chang\u00e9es sont uniquement l\u2019\u00e9tat des liens entre deux routeurs, c'est-\u00e0-dire la qualit\u00e9 du lien, souvent exprim\u00e9e par sa vitesse en bits par secondes ( bps , d\u00e9clin\u00e9s en Mbps , Gbps , etc...). D\u00e8s qu\u2019un routeur re\u00e7oit une information, si elle est diff\u00e9rente de celle stock\u00e9e dans sa table de lien, il la met \u00e0 jour. Au bout d'un certain temps, quand tous les routeurs ont \u00e9chang\u00e9s les informations, ils disposent tous de la m\u00eame table de routage . Exemple On consid\u00e8re le r\u00e9seau suivant dont la table de routage partag\u00e9e est donn\u00e9e : Lorsque la table des liens est modifi\u00e9e, chaque routeur recalcule le plus court chemin pour chaque route affect\u00e9e par la modification. Ainsi, chaque routeur poss\u00e8de la vue des plus courts chemins en termes de co\u00fbts partant de lui-m\u00eame. La vue logique donne une arborescence dont la racine est le routeur en question. Depuis le routeur A Si on consid\u00e8re l'exemple pr\u00e9c\u00e9dent, le routeur A s\u00e9lectionnera le routeur B comme voie pour atteindre C et D. Il choisira par contre de rejoindre E par sa liaison directe avec lui, certes lente mais qui reste plus rapide que de passer par B -> C -> D ->E . Algorithme de Dijkstra Description de l'algorithme L'algorithme de Dijkstra , cr\u00e9e par l'informaticien n\u00e9erlandais Edsger Dijkstra , et publi\u00e9 en 1959, est un algorithme permettant de d\u00e9terminer le plus court chemin entre deux sommets dans un graphe orient\u00e9 pond\u00e9r\u00e9 de r\u00e9els positifs (on d\u00e9finira plus tard ces termes dans le chapitre sur les graphes). Il consiste \u00e0 partir d'un sommet, et de construire progressivement un sous-graphe dans lequel sont class\u00e9s les diff\u00e9rents sommets par ordre croissant de leur distance minimale au sommet de d\u00e9part, cette distance correspondant \u00e0 la somme des poids des arcs emprunt\u00e9s. On d\u00e9crit l'algorithme ainsi : Au d\u00e9part, on consid\u00e8re que les distances de chaque sommet au sommet de d\u00e9part sont infinies , sauf pour le sommet de d\u00e9part pour lequel la distance est nulle . Le sous-graphe des sommets visit\u00e9s contient uniquement le sommet de d\u00e9part. On choisit en dehors du sous-graphe des sommets visit\u00e9s un sommet de distance minimale et on l'ajoute au sous-graphe. Ensuite, on met \u00e0 jour les distances des sommets voisins de celui ajout\u00e9, selon les conditions suivantes pour chaque sommet voisin : on calcule la distance correspondant \u00e0 celle d\u00e9j\u00e0 parcourue jusqu'au sommet choisi auquel on ajoute le poids de l'arc entre le sommet chosi et le sommet voisin ; si cette distance est inf\u00e9rieure \u00e0 celle d\u00e9j\u00e0 connue pour le sommet voisin, on met \u00e0 jour cette distance comme \u00e9tant la nouvelle distance minimale pour atteindre ce sommet. On reprend le point 2 jusqu'\u00e0 \u00e9puisement des sommets (ou jusqu'\u00e0 atteindre le sommet de destination dans certains cas). Exemple comment\u00e9 d'application sur une carte On consid\u00e8re le graphe suivant repr\u00e9sentant un ensemble de villes et les distances les s\u00e9parant : On va ex\u00e9cuter l'algorithme de Dijkstra en partant de la ville A , en compl\u00e9tant le tableau suiivant : Quelques exercices pour ma\u00eetriser Dijkstra Exercice n\u00b01 Enonc\u00e9 Solutions Un journaliste britannique d\u2019une revue consacr\u00e9e \u00e0 l\u2019automobile doit tester les autoroutes fran\u00e7aises. Pour remplir sa mission, il d\u00e9cide de louer une voiture et de circuler entre six grandes villes fran\u00e7aises : Bordeaux (B), Lyon (L),Marseille (M), Nantes (N), Paris (P) et Toulouse(T). Le journaliste se trouve \u00e0 Nantes et d\u00e9sire se rendre le plus rapidement possible \u00e0 Marseille.D\u00e9terminer un trajet qui minimise son temps de parcours. A venir ! Exercice n\u00b02 Enonc\u00e9 Solutions Un parcours sportif est compos\u00e9 d\u2019un banc pour abdominaux, de haies et d\u2019anneaux. Le graphe orient\u00e9 ci-contre indique les diff\u00e9rents parcours conseill\u00e9s partant de D et terminant \u00e0 F. Les sommets sont : D (d\u00e9part), B (banc pour abdominaux), H (haies), A (anneaux) et F (fin du parcours). Les ar\u00eates repr\u00e9sentent les diff\u00e9rents sentiers reliant les sommets. Assia a relev\u00e9 ses temps de course en minute entre les diff\u00e9rents sommets. Ces dur\u00e9es sont port\u00e9es sur le graphe ci-dessous. Lors d\u2019un entra\u00eenement, Assia souhaite courir le moins longtemps possible en allant de D \u00e0 F. D\u00e9terminer le trajet pour lequel le temps de course estminimal et pr\u00e9ciser la dur\u00e9e de sa course. A venir ! Le protocole OSPF Le protocole { OSPF } pour Open Shortest Path First est un protocole \u00e0 \u00e9tat de lien, normalis\u00e9 en 1990, d\u00e9crit dans la RFC 2328. Il est pris en charge par le protocole IP. C\u2019est le protocole de routage interne dominant et il est support\u00e9 par la plupart des routeurs. Ce protocole attribue un co\u00fbt \u00e0 chaque lien entre les routeurs du r\u00e9seau. Le O du sigle OSPF signifie que sa sp\u00e9cification doit appartenir au domaine public et que toute solution propri\u00e9taire est exclue. L\u2019algorithme pour trouver la meilleure route est celui de Dijkstra qui fournit dans ce cas le co\u00fbt cumul\u00e9 le plus faible des liens de la route vers une destination d\u2019une zone donn\u00e9e. Le co\u00fbt utilis\u00e9 pour chaque lien doit \u00eatre inversement proportionnel \u00e0 la bande passante du lien en question. Ce co\u00fbt peut \u00eatre d\u00e9fini manuellement ou calcul\u00e9 avec la formule suivante : \\[ Co\u00fbt = \\cfrac{Cst}{bande~~passante} \\] Warning La valeur \\(Cst\\) est arbitraire. Elle peut valeoir \\(10^8\\) , \\(10^9\\) ou \\(10^{10}\\) selon la plus grande bande passante du r\u00e9seau. Par contre il faut veiller \u00e0 utiliser la m\u00eame valeur pour tous les routeurs d'un m\u00eame r\u00e9seau. Exemple En reprenant les bandes passantes donn\u00e9es dans le premier exmple, et avec une constante de \\(10^9\\) : \\(1~Gbps\\) correspond \u00e0 un co\u00fbt de \\(\\cfrac{10^9}{10^9}=1\\) ; \\(100~Mbps\\) correspond \u00e0 un co\u00fbt de \\(\\cfrac{10^9}{100 \\times 10^6}=10\\) ; \\(10~Mbps\\) correspond \u00e0 un co\u00fbt de \\(\\cfrac{10^9}{10 \\times 10^6}=100\\) . Ainsi une route \u00e0 \\(10\\) Mbps est consid\u00e9re comme 100 fois plus \u00ab lente \u00bb qu'une liaison \u00e0 \\(1\\) Gbps. Exercice Enonc\u00e9 Solution Exercice n\u00b05 du sujet suivant A venir ! Pour aller plus loin :","title":"Protocole OSPF"},{"location":"NSI/Terminale/C07/OSPF/#protocole-ospf","text":"","title":"Protocole OSPF"},{"location":"NSI/Terminale/C07/OSPF/#le-routage-a-etat-de-lien","text":"","title":"Le routage \u00e0 \u00e9tat de lien"},{"location":"NSI/Terminale/C07/OSPF/#une-video-de-mines-telecom","text":"","title":"Une vid\u00e9o de Mines - T\u00e9l\u00e9com"},{"location":"NSI/Terminale/C07/OSPF/#le-principe","text":"Les algorithmes \u00e0 \u00e9tat de lien sont bas\u00e9s sur la technique du plus court chemin nomm\u00e9e SPF ( Shortest Path First ). Pour pouvoir calculer le plus court chemin, les routeurs doivent disposer de la carte compl\u00e8te du r\u00e9seau . Ainsi, un routeur SPF teste l\u2019\u00e9tat des liens qui le connectent aux routeurs voisins puis diffuse p\u00e9riodiquement l\u2019\u00e9tat de ses liens (actif ou inactif) \u00e0 tous les routeurs du r\u00e9seau . Les informations \u00e9chang\u00e9es sont uniquement l\u2019\u00e9tat des liens entre deux routeurs, c'est-\u00e0-dire la qualit\u00e9 du lien, souvent exprim\u00e9e par sa vitesse en bits par secondes ( bps , d\u00e9clin\u00e9s en Mbps , Gbps , etc...). D\u00e8s qu\u2019un routeur re\u00e7oit une information, si elle est diff\u00e9rente de celle stock\u00e9e dans sa table de lien, il la met \u00e0 jour. Au bout d'un certain temps, quand tous les routeurs ont \u00e9chang\u00e9s les informations, ils disposent tous de la m\u00eame table de routage . Exemple On consid\u00e8re le r\u00e9seau suivant dont la table de routage partag\u00e9e est donn\u00e9e : Lorsque la table des liens est modifi\u00e9e, chaque routeur recalcule le plus court chemin pour chaque route affect\u00e9e par la modification. Ainsi, chaque routeur poss\u00e8de la vue des plus courts chemins en termes de co\u00fbts partant de lui-m\u00eame. La vue logique donne une arborescence dont la racine est le routeur en question. Depuis le routeur A Si on consid\u00e8re l'exemple pr\u00e9c\u00e9dent, le routeur A s\u00e9lectionnera le routeur B comme voie pour atteindre C et D. Il choisira par contre de rejoindre E par sa liaison directe avec lui, certes lente mais qui reste plus rapide que de passer par B -> C -> D ->E .","title":"Le principe"},{"location":"NSI/Terminale/C07/OSPF/#algorithme-de-dijkstra","text":"","title":"Algorithme de Dijkstra"},{"location":"NSI/Terminale/C07/OSPF/#description-de-lalgorithme","text":"L'algorithme de Dijkstra , cr\u00e9e par l'informaticien n\u00e9erlandais Edsger Dijkstra , et publi\u00e9 en 1959, est un algorithme permettant de d\u00e9terminer le plus court chemin entre deux sommets dans un graphe orient\u00e9 pond\u00e9r\u00e9 de r\u00e9els positifs (on d\u00e9finira plus tard ces termes dans le chapitre sur les graphes). Il consiste \u00e0 partir d'un sommet, et de construire progressivement un sous-graphe dans lequel sont class\u00e9s les diff\u00e9rents sommets par ordre croissant de leur distance minimale au sommet de d\u00e9part, cette distance correspondant \u00e0 la somme des poids des arcs emprunt\u00e9s. On d\u00e9crit l'algorithme ainsi : Au d\u00e9part, on consid\u00e8re que les distances de chaque sommet au sommet de d\u00e9part sont infinies , sauf pour le sommet de d\u00e9part pour lequel la distance est nulle . Le sous-graphe des sommets visit\u00e9s contient uniquement le sommet de d\u00e9part. On choisit en dehors du sous-graphe des sommets visit\u00e9s un sommet de distance minimale et on l'ajoute au sous-graphe. Ensuite, on met \u00e0 jour les distances des sommets voisins de celui ajout\u00e9, selon les conditions suivantes pour chaque sommet voisin : on calcule la distance correspondant \u00e0 celle d\u00e9j\u00e0 parcourue jusqu'au sommet choisi auquel on ajoute le poids de l'arc entre le sommet chosi et le sommet voisin ; si cette distance est inf\u00e9rieure \u00e0 celle d\u00e9j\u00e0 connue pour le sommet voisin, on met \u00e0 jour cette distance comme \u00e9tant la nouvelle distance minimale pour atteindre ce sommet. On reprend le point 2 jusqu'\u00e0 \u00e9puisement des sommets (ou jusqu'\u00e0 atteindre le sommet de destination dans certains cas).","title":"Description de l'algorithme"},{"location":"NSI/Terminale/C07/OSPF/#exemple-commente-dapplication-sur-une-carte","text":"On consid\u00e8re le graphe suivant repr\u00e9sentant un ensemble de villes et les distances les s\u00e9parant : On va ex\u00e9cuter l'algorithme de Dijkstra en partant de la ville A , en compl\u00e9tant le tableau suiivant :","title":"Exemple comment\u00e9 d'application sur une carte"},{"location":"NSI/Terminale/C07/OSPF/#quelques-exercices-pour-maitriser-dijkstra","text":"Exercice n\u00b01 Enonc\u00e9 Solutions Un journaliste britannique d\u2019une revue consacr\u00e9e \u00e0 l\u2019automobile doit tester les autoroutes fran\u00e7aises. Pour remplir sa mission, il d\u00e9cide de louer une voiture et de circuler entre six grandes villes fran\u00e7aises : Bordeaux (B), Lyon (L),Marseille (M), Nantes (N), Paris (P) et Toulouse(T). Le journaliste se trouve \u00e0 Nantes et d\u00e9sire se rendre le plus rapidement possible \u00e0 Marseille.D\u00e9terminer un trajet qui minimise son temps de parcours. A venir ! Exercice n\u00b02 Enonc\u00e9 Solutions Un parcours sportif est compos\u00e9 d\u2019un banc pour abdominaux, de haies et d\u2019anneaux. Le graphe orient\u00e9 ci-contre indique les diff\u00e9rents parcours conseill\u00e9s partant de D et terminant \u00e0 F. Les sommets sont : D (d\u00e9part), B (banc pour abdominaux), H (haies), A (anneaux) et F (fin du parcours). Les ar\u00eates repr\u00e9sentent les diff\u00e9rents sentiers reliant les sommets. Assia a relev\u00e9 ses temps de course en minute entre les diff\u00e9rents sommets. Ces dur\u00e9es sont port\u00e9es sur le graphe ci-dessous. Lors d\u2019un entra\u00eenement, Assia souhaite courir le moins longtemps possible en allant de D \u00e0 F. D\u00e9terminer le trajet pour lequel le temps de course estminimal et pr\u00e9ciser la dur\u00e9e de sa course. A venir !","title":"Quelques exercices pour ma\u00eetriser Dijkstra"},{"location":"NSI/Terminale/C07/OSPF/#le-protocole-ospf","text":"Le protocole { OSPF } pour Open Shortest Path First est un protocole \u00e0 \u00e9tat de lien, normalis\u00e9 en 1990, d\u00e9crit dans la RFC 2328. Il est pris en charge par le protocole IP. C\u2019est le protocole de routage interne dominant et il est support\u00e9 par la plupart des routeurs. Ce protocole attribue un co\u00fbt \u00e0 chaque lien entre les routeurs du r\u00e9seau. Le O du sigle OSPF signifie que sa sp\u00e9cification doit appartenir au domaine public et que toute solution propri\u00e9taire est exclue. L\u2019algorithme pour trouver la meilleure route est celui de Dijkstra qui fournit dans ce cas le co\u00fbt cumul\u00e9 le plus faible des liens de la route vers une destination d\u2019une zone donn\u00e9e. Le co\u00fbt utilis\u00e9 pour chaque lien doit \u00eatre inversement proportionnel \u00e0 la bande passante du lien en question. Ce co\u00fbt peut \u00eatre d\u00e9fini manuellement ou calcul\u00e9 avec la formule suivante : \\[ Co\u00fbt = \\cfrac{Cst}{bande~~passante} \\] Warning La valeur \\(Cst\\) est arbitraire. Elle peut valeoir \\(10^8\\) , \\(10^9\\) ou \\(10^{10}\\) selon la plus grande bande passante du r\u00e9seau. Par contre il faut veiller \u00e0 utiliser la m\u00eame valeur pour tous les routeurs d'un m\u00eame r\u00e9seau. Exemple En reprenant les bandes passantes donn\u00e9es dans le premier exmple, et avec une constante de \\(10^9\\) : \\(1~Gbps\\) correspond \u00e0 un co\u00fbt de \\(\\cfrac{10^9}{10^9}=1\\) ; \\(100~Mbps\\) correspond \u00e0 un co\u00fbt de \\(\\cfrac{10^9}{100 \\times 10^6}=10\\) ; \\(10~Mbps\\) correspond \u00e0 un co\u00fbt de \\(\\cfrac{10^9}{10 \\times 10^6}=100\\) . Ainsi une route \u00e0 \\(10\\) Mbps est consid\u00e9re comme 100 fois plus \u00ab lente \u00bb qu'une liaison \u00e0 \\(1\\) Gbps. Exercice Enonc\u00e9 Solution Exercice n\u00b05 du sujet suivant A venir !","title":"Le protocole OSPF"},{"location":"NSI/Terminale/C07/OSPF/#pour-aller-plus-loin","text":"","title":"Pour aller plus loin :"},{"location":"NSI/Terminale/C07/RIP/","text":"Protocoles \u00e0 vecteur de distance : RIP Pourquoi automatiser le routage. Le routage \u00e0 vecteur de distance : le protocole RIP D'apr\u00e8s https://www.lecluse.fr/nsi/NSI_T/archi/routage/RIP/ . Le principe Le protocole RIP ( Routing Information Protocol ) rentre dans la cat\u00e9gorie des protocoles \u00e0 vecteur de distance . Un vecteur de distance est un couple (adresse, distance) , et ce protocole cherche \u00e0 minimiser le nombre de routeurs (c'est-\u00e0dire la distance) \u00e0 traverser pour atteindre la destination (on cherche ici \u00e0 minimiser le nombre de sauts). Chaque routeur re\u00e7oit en permanence (toutes les 30 secondes environ) de ses voisins les informations de routage qu'ils poss\u00e8dent. Il va alors exploiter ces informations pour construire lui-m\u00eame sa table de routage en ne retenant que les informations les plus pertinentes : une simple comparaison permet de ne garder que le chemin le plus avantageux. Il transmettra \u00e0 son tour ces informations \u00e0 ses voisins et ainsi de suite. C'est l'algorithme de Bellman-Ford , un des algorithmes de recherche de plus court chemin dans un graphe, que nous \u00e9tudierons plus en d\u00e9tail dans le chapitre sur les graphes. A l'issue de quelques \u00e9tapes, les tables de tous les routeurs se stabilisent et le routage est pleinement op\u00e9rationnel. Le temps n\u00e9cessaire \u00e0 la stabilisation des tables est proportionnel au diam\u00e8tre du r\u00e9seau, c'est-\u00e0-dire \u00e0 la plus grande route possible entre deux routeurs - c'est ce qui est appel\u00e9 vitesse de convergence dans la vid\u00e9o de l' Institut Mines-T\u00e9l\u00e9com . D\u00e9branche tout ! Chacun d'entre-vous se verra remmetre un num\u00e9ro de routeur, ainsi que la connaissance de ses vcoisins proches. Nous allons simuler l'ex\u00e9cution de l'algorithme de Bellman-Ford, en construisant petit-\u00e0-petit vos tables de routages. Un exemple d'application Consid\u00e9rons le r\u00e9seau suivant, pour lequel on admettra la norme suivante : le poste client et le poste serveur se voient attribu\u00e9s respectivement la premi\u00e8re adresse de la plage de leur r\u00e9seau ( soit respectivement 192.168.0.1 et 172.16.180.1 ) ; les routeurs d'acc\u00e8s R1 et R6 ont sur leur interface r\u00e9seau les derni\u00e8res adresses IP de la plage de leur r\u00e9seau (soit respectivemment 192.168.0.254 et 172.16.180.251 ) ; Entre deux interfaces internes, le routeur de plus bas indice poss\u00e8de la premi\u00e8re adresse et le routeur de dernier indice la seconde adresse : par exemple entre R2 et R5, les interfaces sont connect\u00e9es par le r\u00e9seau 10.1.4.0/30 , donc l'interface de R2 est 10.1.4.1 et celle de R5 est 10.1.4.2 ; tous les routeurs suivent le protocole RIP. Initialisation Au d\u00e9marrage, les routeurs ne connaissent que leur voisin im\u00e9diat. Les tables de routages pour les routeurs R1, R2 et R3 sont donc : Principe de l'algorithme Lorsqu'un routeur re\u00e7oit une nouvelle route de la part d'un voisin, 4 cas sont envisageables : Il d\u00e9couvre une route vers un nouveau r\u00e9seau inconnu Il l'ajoute \u00e0 sa table. Il d\u00e9couvre une route vers un r\u00e9seau connu , plus courte que celle qu'il poss\u00e8de dans sa table Il actualise sa table. Il d\u00e9couvre une route vers un r\u00e9seau connu , plus longue que celle qu'il poss\u00e8de dans sa table Il ignore cette route. Il re\u00e7oit une route vers un r\u00e9seau connu en provenance d'un routeur d\u00e9j\u00e0 existant dans sa table Il met \u00e0 jour sa table car la topologie du r\u00e9seau a \u00e9t\u00e9 modifi\u00e9e. Quand il mets \u00e0 jour les distances re\u00e7ues, il ajoute 1 \u00e0 celles-ci, pour prendre en compte le hop (saut) suppl\u00e9mentaire effectu\u00e9. Etape 1 R1 re\u00e7oit les routes de R2. Sa table de routage devient : R3 re\u00e7oit les routes de R2, et celles de R5. On peut constater qu'on peut atteindre de deux mani\u00e8re diff\u00e9rentes les routeurs R2 et R5, car R3 ne r\u00e9alise pas que les interfaces 10.1.2.1 et 10.1.4.1 sont toutes les deux deux interfaces de R2. De m\u00eame il sait rejoindre de deux mani\u00e8re ayant la m\u00eame m\u00e9trique le r\u00e9seau 10.1.4.0/30 , donc il garde la premi\u00e8re arriv\u00e9e (ici on suppose d'il a re\u00e7u les informations de R2 avant celles de R5) R2 re\u00e7oit les routes de R1, puis de R3, mais aussi de R4 et de R5 : Etape 2 R1 re\u00e7oit les nouvelles routes de R2 : R2 re\u00e7oit les nouvelles routes de R3 et de R5 : R2 re\u00e7oit les nouvelles routes de R1 (qui ne lui apportent rien), de R3, de R4, de R5.... Tr\u00e8s rapidement, la construction de ces routes devient absolument ing\u00e9rable \u00e0 la main... Mais voici quand m\u00eame la table de routage : Etape 3 Cette derni\u00e8re table de R2 sera transmise \u00e0 l'\u00e9tape suivante \u00e0 R1, et une liaison sera alors possible d\u00e8s l'\u00e9tape 3 entre le Client et le Serveur. Dans ce mini-r\u00e9seau, les tables sont alors toutes stabilis\u00e9es d\u00e8s la troisi\u00e8me \u00e9tape, et le r\u00e9seau est totalement op\u00e9rationnel. Quelques points importants Un des inconv\u00e9nients du protocole RIP est qu'il g\u00e9n\u00e8re un traffic important entre voisins, chacun envoyant sa table de routage \u00e0 tous ses voisins \u00e0 intervalles r\u00e9guliers. En cons\u00e9quences, le protocole RIP est configur\u00e9 pour se limiter \u00e0 un nombre maximum de 15 sauts , ce qui le r\u00e9serve \u00e0 des r\u00e9seaux de petites taille. L'avantage de cette limite est qu'elle permet d'\u00e9viter les \u00e9ventuelles boucles de routage (comme R2 => R3 => R5 => R2), en utilisant le TTL qui ne doit pas d\u00e9passer 15, afin qu'un paquet qui tourne en rond soit d\u00e9truit. De m\u00eame, si un routeur ne re\u00e7oit pas d'informations d'un de ses voisins directs au bout d'un ordre de temps de trois minutes, il consid\u00e8re que ce routeur est hors-service et lui affecte une distance de 16, qui est alors consid\u00e9r\u00e9e dans ce protocole comme une distance infinie. En cons\u00e9quence tous ses voisins recalculeront leurs vecteurs en \u00e9vitant le lien qui est tomb\u00e9.","title":"Protocoles RIP"},{"location":"NSI/Terminale/C07/RIP/#protocoles-a-vecteur-de-distance-rip","text":"","title":"Protocoles \u00e0 vecteur de distance : RIP"},{"location":"NSI/Terminale/C07/RIP/#pourquoi-automatiser-le-routage","text":"","title":"Pourquoi automatiser le routage."},{"location":"NSI/Terminale/C07/RIP/#le-routage-a-vecteur-de-distance-le-protocole-rip","text":"D'apr\u00e8s https://www.lecluse.fr/nsi/NSI_T/archi/routage/RIP/ .","title":"Le routage \u00e0 vecteur de distance : le protocole RIP"},{"location":"NSI/Terminale/C07/RIP/#le-principe","text":"Le protocole RIP ( Routing Information Protocol ) rentre dans la cat\u00e9gorie des protocoles \u00e0 vecteur de distance . Un vecteur de distance est un couple (adresse, distance) , et ce protocole cherche \u00e0 minimiser le nombre de routeurs (c'est-\u00e0dire la distance) \u00e0 traverser pour atteindre la destination (on cherche ici \u00e0 minimiser le nombre de sauts). Chaque routeur re\u00e7oit en permanence (toutes les 30 secondes environ) de ses voisins les informations de routage qu'ils poss\u00e8dent. Il va alors exploiter ces informations pour construire lui-m\u00eame sa table de routage en ne retenant que les informations les plus pertinentes : une simple comparaison permet de ne garder que le chemin le plus avantageux. Il transmettra \u00e0 son tour ces informations \u00e0 ses voisins et ainsi de suite. C'est l'algorithme de Bellman-Ford , un des algorithmes de recherche de plus court chemin dans un graphe, que nous \u00e9tudierons plus en d\u00e9tail dans le chapitre sur les graphes. A l'issue de quelques \u00e9tapes, les tables de tous les routeurs se stabilisent et le routage est pleinement op\u00e9rationnel. Le temps n\u00e9cessaire \u00e0 la stabilisation des tables est proportionnel au diam\u00e8tre du r\u00e9seau, c'est-\u00e0-dire \u00e0 la plus grande route possible entre deux routeurs - c'est ce qui est appel\u00e9 vitesse de convergence dans la vid\u00e9o de l' Institut Mines-T\u00e9l\u00e9com .","title":"Le principe"},{"location":"NSI/Terminale/C07/RIP/#debranche-tout","text":"Chacun d'entre-vous se verra remmetre un num\u00e9ro de routeur, ainsi que la connaissance de ses vcoisins proches. Nous allons simuler l'ex\u00e9cution de l'algorithme de Bellman-Ford, en construisant petit-\u00e0-petit vos tables de routages.","title":"D\u00e9branche tout !"},{"location":"NSI/Terminale/C07/RIP/#un-exemple-dapplication","text":"Consid\u00e9rons le r\u00e9seau suivant, pour lequel on admettra la norme suivante : le poste client et le poste serveur se voient attribu\u00e9s respectivement la premi\u00e8re adresse de la plage de leur r\u00e9seau ( soit respectivement 192.168.0.1 et 172.16.180.1 ) ; les routeurs d'acc\u00e8s R1 et R6 ont sur leur interface r\u00e9seau les derni\u00e8res adresses IP de la plage de leur r\u00e9seau (soit respectivemment 192.168.0.254 et 172.16.180.251 ) ; Entre deux interfaces internes, le routeur de plus bas indice poss\u00e8de la premi\u00e8re adresse et le routeur de dernier indice la seconde adresse : par exemple entre R2 et R5, les interfaces sont connect\u00e9es par le r\u00e9seau 10.1.4.0/30 , donc l'interface de R2 est 10.1.4.1 et celle de R5 est 10.1.4.2 ; tous les routeurs suivent le protocole RIP.","title":"Un exemple d'application"},{"location":"NSI/Terminale/C07/RIP/#initialisation","text":"Au d\u00e9marrage, les routeurs ne connaissent que leur voisin im\u00e9diat. Les tables de routages pour les routeurs R1, R2 et R3 sont donc : Principe de l'algorithme Lorsqu'un routeur re\u00e7oit une nouvelle route de la part d'un voisin, 4 cas sont envisageables : Il d\u00e9couvre une route vers un nouveau r\u00e9seau inconnu Il l'ajoute \u00e0 sa table. Il d\u00e9couvre une route vers un r\u00e9seau connu , plus courte que celle qu'il poss\u00e8de dans sa table Il actualise sa table. Il d\u00e9couvre une route vers un r\u00e9seau connu , plus longue que celle qu'il poss\u00e8de dans sa table Il ignore cette route. Il re\u00e7oit une route vers un r\u00e9seau connu en provenance d'un routeur d\u00e9j\u00e0 existant dans sa table Il met \u00e0 jour sa table car la topologie du r\u00e9seau a \u00e9t\u00e9 modifi\u00e9e. Quand il mets \u00e0 jour les distances re\u00e7ues, il ajoute 1 \u00e0 celles-ci, pour prendre en compte le hop (saut) suppl\u00e9mentaire effectu\u00e9.","title":"Initialisation"},{"location":"NSI/Terminale/C07/RIP/#etape-1","text":"R1 re\u00e7oit les routes de R2. Sa table de routage devient : R3 re\u00e7oit les routes de R2, et celles de R5. On peut constater qu'on peut atteindre de deux mani\u00e8re diff\u00e9rentes les routeurs R2 et R5, car R3 ne r\u00e9alise pas que les interfaces 10.1.2.1 et 10.1.4.1 sont toutes les deux deux interfaces de R2. De m\u00eame il sait rejoindre de deux mani\u00e8re ayant la m\u00eame m\u00e9trique le r\u00e9seau 10.1.4.0/30 , donc il garde la premi\u00e8re arriv\u00e9e (ici on suppose d'il a re\u00e7u les informations de R2 avant celles de R5) R2 re\u00e7oit les routes de R1, puis de R3, mais aussi de R4 et de R5 :","title":"Etape 1"},{"location":"NSI/Terminale/C07/RIP/#etape-2","text":"R1 re\u00e7oit les nouvelles routes de R2 : R2 re\u00e7oit les nouvelles routes de R3 et de R5 : R2 re\u00e7oit les nouvelles routes de R1 (qui ne lui apportent rien), de R3, de R4, de R5.... Tr\u00e8s rapidement, la construction de ces routes devient absolument ing\u00e9rable \u00e0 la main... Mais voici quand m\u00eame la table de routage :","title":"Etape 2"},{"location":"NSI/Terminale/C07/RIP/#etape-3","text":"Cette derni\u00e8re table de R2 sera transmise \u00e0 l'\u00e9tape suivante \u00e0 R1, et une liaison sera alors possible d\u00e8s l'\u00e9tape 3 entre le Client et le Serveur. Dans ce mini-r\u00e9seau, les tables sont alors toutes stabilis\u00e9es d\u00e8s la troisi\u00e8me \u00e9tape, et le r\u00e9seau est totalement op\u00e9rationnel.","title":"Etape 3"},{"location":"NSI/Terminale/C07/RIP/#quelques-points-importants","text":"Un des inconv\u00e9nients du protocole RIP est qu'il g\u00e9n\u00e8re un traffic important entre voisins, chacun envoyant sa table de routage \u00e0 tous ses voisins \u00e0 intervalles r\u00e9guliers. En cons\u00e9quences, le protocole RIP est configur\u00e9 pour se limiter \u00e0 un nombre maximum de 15 sauts , ce qui le r\u00e9serve \u00e0 des r\u00e9seaux de petites taille. L'avantage de cette limite est qu'elle permet d'\u00e9viter les \u00e9ventuelles boucles de routage (comme R2 => R3 => R5 => R2), en utilisant le TTL qui ne doit pas d\u00e9passer 15, afin qu'un paquet qui tourne en rond soit d\u00e9truit. De m\u00eame, si un routeur ne re\u00e7oit pas d'informations d'un de ses voisins directs au bout d'un ordre de temps de trois minutes, il consid\u00e8re que ce routeur est hors-service et lui affecte une distance de 16, qui est alors consid\u00e9r\u00e9e dans ce protocole comme une distance infinie. En cons\u00e9quence tous ses voisins recalculeront leurs vecteurs en \u00e9vitant le lien qui est tomb\u00e9.","title":"Quelques points importants"},{"location":"NSI/Terminale/C07/Routage/","text":"Protocoles de routages Il est fortement conseill\u00e9 d'avoir repris le cours de SNT sur les r\u00e9seaux avant d'entamer cette partie. Chacun sa route... La commande ping Nous connaissons la commande ping qui permet d'envoyer des paquets ICMP ( Internet Control Message Protocol ) \u00e0 une adresse de destination. Le but de ce protocole ICMP est d'\u00e9changer des informations d'\u00e9tats et des messages d'erreurs. Par exemple, le commande ping sur l'adresse 8.8.8.8 (DNS de Google), donne depuis chez moi : Parmi les informations donn\u00e9es par la commande ping , on a bien entendu le temps d'aller-retour entre l'ordinateur \u00e9metteur et l'ordinateur cible, le nombre de paquets envoy\u00e9s et re\u00e7us, mais aussi une information dont nous n'avons pas encore parl\u00e9 : le TTL ( Time To Live - attention seulement en IPV4). TTL La dur\u00e9e de vie TTL correspond \u00e0 la dur\u00e9e pendant laquelle un paquet de donn\u00e9es est valide. La valeur initiale est au maximum de 255. Habituellement, les impl\u00e9mentations ont une TTL initiale de 31, 63 ou 127. Pour chaque noeud de r\u00e9seau que passe le paquet de donn\u00e9es, le TTL est d\u00e9cr\u00e9ment\u00e9 de 1. On parle dans ce cas de hops . Si la TTL baisse jusque 0, le paquet de donn\u00e9es est rejet\u00e9. En pratique, le TTL qui vous est communiqu\u00e9 correspond g\u00e9n\u00e9ralement \u00e0 la valeur initiale de l\u2019ordinateur distant, dont on aura d\u00e9duit le nombre de passages par un routeur . Si vous avez par exemple un TTL de 58, vous pouvez en d\u00e9duire que le paquet de r\u00e9ponse avait \u00e9t\u00e9 \u00e9mis avec une valeur initiale de 63, et que sur le chemin du retour, il est pass\u00e9 par 5 machines. Warning Attention, nous ne sommes pas certain de ce point... Il pourrait tout aussi bien avoir \u00e9t\u00e9 \u00e9mis avec une valeur initiale de 127, et donc \u00eatre pass\u00e9 par 69 routeurs... Le TTL n'est donc qu'une indication... Dans notre exemple, on peut supposer qu'avec un TTL de 119, on est pass\u00e9 par 8 machines pour aller de chez moi jusqu'au DNS de Google. Tester ping \u00c9nonc\u00e9 R\u00e9ponses Depuis l'invite de commande de windows : Tester la commande ping 8.8.8.8 . Quel est le TTL, que peut-on supposer ? Tester la commande ping -4 www.zonensi.fr . Que se passe-t-il ? Tester la commande ping -6 www.zonensi.fr . Que se passe-t-il ? Depuis l'invite de commande Linux de JupyterHub : Tester la commande ping 8.8.8.8 . Quelle diff\u00e9rence y-a-t'il avec la commande windows ? Tester la commande ping -c 5 8.8.8.8 . Que se passe-t-il ? Tester la commande ping -t 5 8.8.8.8 . Que se passe-t-il ? Tester la commande ping -c 5 -t 10 8.8.8.8 . Que se passe-t-il ? A venir ! Fixer le TTL L'option -t pour la commande ping , sous Linux, permet de fixer un nombre maximum de hops possibles. Si la destination est plus lointaine que ce nombre, on aura alors l'erreur Time to live exceeded . Cette possibilit\u00e9 existe aussi sous windows mais : * l'option -t d\u00e9sactive poar d\u00e9faut la limite de 4 paquets ICMP , et envoie donc en continu (comme la commande de base sous Linux) ; * l'option -c fixe le nombre maximal de hops , mais n\u00e9cessite d'\u00eatre dans une console en mode administrateur pour \u00eatre utilis\u00e9e. La commande tracert (ou traceroute sous linux) Il est possible de globalement conna\u00eetre les diff\u00e9rents routeurs par lesquels passe un paquet IP, en utilisant le principe pr\u00e9c\u00e9dent : on envoie un paquet avec un TTL de 1, le premier routeur atteint va d\u00e9cr\u00e9menter et atteindre 0, il va donc envoyer un message signalant qu'il a d\u00e9truit le paquet en question, et dans ce message il y aura bien entendu son adresse IP. On fait de m\u00eame avec un TTL de 2, le premier routeur d\u00e9cr\u00e9mente le TTL , le second le d\u00e9cr\u00e9mente encore une fois, et comme il atteint 0, il d\u00e9truit le paquet et renvoie un message d'erreur, avec bien entendu son adresse IP. On continue ainsi en augmentant le TTL . La commande permettant d'appliquer cette m\u00e9thode est tracert sous windows ( traceroute sous Linux) : On constate ici qu'on a bien un passage par 8 machines (7 routeurs plus mon propre PC) : le premier routeur d'ip 192.168.1.254 (adresse classique des passerelles chez Free, c'est-\u00e0-dire de ma box); le second 194.149.164.68 , qui correspond \u00e0 un routeur Free (on peut le v\u00e9rifier avec l'outil who is ; etc... jusqu'\u00e0 atteindre le DNS Google d'ip 8.8.8.8 Tester la commande Enonc\u00e9 R\u00e9ponses Depuis l'invite de commande windows (non-test\u00e9 depuis le lyc\u00e9e... On pourrait avoir des surprises...) : Tester la commande tracert 8.8.8.8 . Tester la commande tracert 95.142.174.138 Tester la commande tracert www.toutatice.fr . Que se passe-t-il ? Depuis l'invite de commande Linux de JupyterHub : Tester la commande traceroute 8.8.8.8 . Tester la commande traceroute 95.142.174.138 Tester la commande traceroute www.toutatice.fr . Que se passe-t-il ? A venir ! Routage des paquets dans un r\u00e9seau Un point sur les adresses IP Nous avons vu qu'une adresse IP n'est jamais donn\u00e9e seule, elle est toujours accompagn\u00e9e d'un masque de sous-r\u00e9seau , dont le r\u00f4le est de diff\u00e9rencier l'adresse du r\u00e9seau de celle de la machine. En IPV4, donc sur 4 octets, une adresse IP et un masque de sous-r\u00e9seau sont repr\u00e9sent\u00e9s par une s\u00e9rie de 32 bits. Pour d\u00e9terminer le num\u00e9ro de r\u00e9seau d'une machine, une op\u00e9ration logique ET est effectu\u00e9e bit \u00e0 bit entre l'IP et le masque. Exemple Consid\u00e9rons une machine d'IP 194.152.20.12 , qui correspond donc \u00e0 la suite binaire 11000010.10011000.00010100.00001100 , et de masque '157.132.140.128' soit la suite binaire 10011101.10000100.10001100.10000000 . L'op\u00e9ration logique ET entre ces deux suites donne : Soit une adresse r\u00e9seau 128.128.4.0 . Historiquement, le masque de sous-r\u00e9seau pouvait \u00eatre une suite quelconque de 0 et de 1, comme dans l'exemple pr\u00e9c\u00e9dent. Mais ceci n'est absolument pas pratique ! Il a donc \u00e9t\u00e9 d\u00e9cid\u00e9 que la norme serait qu'un masque de sous-r\u00e9seau serait constitu\u00e9 d'une suite contigu\u00eb de 1 suivis de 0 , comme par exemple 11111111.11111111.11100000.00000000 . Ceci permet entre-autres de simplifier l'\u00e9criture des masques en donnant l'IP suivie d'un nombre repr\u00e9sentant le nombre de bits de poids fort ayant pour valeur 1. Ainsi au lieu d'\u00e9crire : IP : 192.168.20.4 Masque : 255.255.224.0 , soit 11111111.11111111.11100000.00000000 , on \u00e9crira : IP : 192.168.20.4/19 , ce qui signifie que les 19 bits de poids forts du masque ont pour valeur 1, et que les 13 suivants sont \u00e0 0. Exercice Enonc\u00e9 R\u00e9ponses On consid\u00e8re une machine dont l'IP est 192.168.20.4/19 . Quel est l'adresse du r\u00e9seau de cette machine ? On consid\u00e8re une machine dont l'IP est 192.168.20.4/8 . Quel est l'adresse du r\u00e9seau de cette machine ? On consid\u00e8re une machine dont l'IP est 192.168.20.4/16 . Quel est l'adresse du r\u00e9seau de cette machine ? On consid\u00e8re une machine dont l'IP est 192.168.20.4/24 . Quel est l'adresse du r\u00e9seau de cette machine ? A venir ! Simplification d'\u00e9criture Dans le cadre d'exercices de NSI, on cherchera souvent \u00e0 simplifier les calculs, c'est pourquoi on trouvera souvent des adresses IP sous la forme : X.X.X.X/8 , c'est-\u00e0-dire avec un masque 255.0.0.0 ; X.X.X.X/16 , c'est-\u00e0-dire avec un masque 255.255.0.0 ; X.X.X.X/24 , c'est-\u00e0-dire avec un masque 255.255.255.0 . Un exemple avec routage manuel sur 3 routeurs On consid\u00e8re les r\u00e9seaux suivants dans le logiciel Filius , pour lesquels les routeurs R1, R2 et R3 ne sont pas en routage automatique . Les routeurs R1 et R3 sont appel\u00e9s routeurs d'acc\u00e8s , car ils sont en bordure de r\u00e9seaux. Le routeur R2 est un routeur interne . L'objectif est de comprendre comment les routeurs font pour transmettre des paquets de l'ordinateur P1 du r\u00e9seau 192.168.0.0/24 \u00e0 l'ordinateur P2 du r\u00e9seau 192.168.1.0/24 . Tables de routage Une table de routage est une structure de donn\u00e9es utilis\u00e9e par un routeur ou un ordinateur en r\u00e9seau, et qui d\u00e9finit en fonction des adresses de destination par quels routeurs passer. Comprendre une table de routage Enonc\u00e9 R\u00e9ponses Voici la table de routage actuelle du routeur R1 : Quels sont les champs de cette table ? Chercher sur le web la signification informatique de loopback (ou rebouclage ). Que signifie alors la troisi\u00e8me ligne ? La quatri\u00e8me ligne ? Nous allons devoir indiquer au routeur R1 quelle direction devra prendre un paquet \u00e0 destination du r\u00e9seau 192.168.1.0/24 : Ajoutez une ligne \u00e0 la table de routage de R1. Dans celle ci, compl\u00e9tez les champs : IP de destination : 192.168.1.0/24 Masque : 255.255.255.0 Paserelle suivante : 1.0.0.2 Via l'interface : 1.0.0.1 Testez \u00e0 partir de P1 et la commande ping 192.168.1.0 . Le paquet est-il transmis \u00e0 P2 ? Vous pouvez oouvrir les fen\u00eatres d'\u00e9changes de donn\u00e9es n\u00e9cesaires . Compl\u00e9tez les tables de routages de R2 et et R3 pour que la commande ping fonctionne correctement. Nous allons modifier la topologie du r\u00e9seau, en ajoutant un routeur R4 et un portable P3 de la mani\u00e8re suivante (le portable P1 et le routeur R1 sont inchang\u00e9s) : Tips Si vous \u00eates \u00e0 cours de prises r\u00e9seaux sur certains routeurs, vous pouvez en ajouter de nouvelles via le bouton G\u00e9rer les connexions Modifiez les tables de routages n\u00e9cessaires pour que les 3 portables puissent communiquer. A venir ! Routage manuel M\u00eame pour des r\u00e9seaux de petites taille, il est difficile de maintenir des tables de routages manuellement. D\u00e8s que le nombre de routeurs internes augmente, arrivent d'autres questions : Dans une situation comme celle-ci, quelle route est \u00e0 privil\u00e9gier pour relier le client au serveur ? R1 -> R2 -> R3 -> R5 -> R6 R1 -> R2 -> R4 -> R5 -> R6 R1 -> R2 -> R5 -> R6 Nous aurions tendance \u00e0 penser naturellement qu'il faut prendre la troisi\u00e8me solution, pour laquelle un hop de moins est n\u00e9cessaire, mais est-ce judicieux si les liaisons R2->R3->R5 sont fibr\u00e9es alors que la liaison R2 -> R5 est une liaison cuivre classique ?","title":"Notion de routage"},{"location":"NSI/Terminale/C07/Routage/#protocoles-de-routages","text":"Il est fortement conseill\u00e9 d'avoir repris le cours de SNT sur les r\u00e9seaux avant d'entamer cette partie.","title":"Protocoles de routages"},{"location":"NSI/Terminale/C07/Routage/#chacun-sa-route","text":"","title":"Chacun sa route..."},{"location":"NSI/Terminale/C07/Routage/#la-commande-ping","text":"Nous connaissons la commande ping qui permet d'envoyer des paquets ICMP ( Internet Control Message Protocol ) \u00e0 une adresse de destination. Le but de ce protocole ICMP est d'\u00e9changer des informations d'\u00e9tats et des messages d'erreurs. Par exemple, le commande ping sur l'adresse 8.8.8.8 (DNS de Google), donne depuis chez moi : Parmi les informations donn\u00e9es par la commande ping , on a bien entendu le temps d'aller-retour entre l'ordinateur \u00e9metteur et l'ordinateur cible, le nombre de paquets envoy\u00e9s et re\u00e7us, mais aussi une information dont nous n'avons pas encore parl\u00e9 : le TTL ( Time To Live - attention seulement en IPV4). TTL La dur\u00e9e de vie TTL correspond \u00e0 la dur\u00e9e pendant laquelle un paquet de donn\u00e9es est valide. La valeur initiale est au maximum de 255. Habituellement, les impl\u00e9mentations ont une TTL initiale de 31, 63 ou 127. Pour chaque noeud de r\u00e9seau que passe le paquet de donn\u00e9es, le TTL est d\u00e9cr\u00e9ment\u00e9 de 1. On parle dans ce cas de hops . Si la TTL baisse jusque 0, le paquet de donn\u00e9es est rejet\u00e9. En pratique, le TTL qui vous est communiqu\u00e9 correspond g\u00e9n\u00e9ralement \u00e0 la valeur initiale de l\u2019ordinateur distant, dont on aura d\u00e9duit le nombre de passages par un routeur . Si vous avez par exemple un TTL de 58, vous pouvez en d\u00e9duire que le paquet de r\u00e9ponse avait \u00e9t\u00e9 \u00e9mis avec une valeur initiale de 63, et que sur le chemin du retour, il est pass\u00e9 par 5 machines. Warning Attention, nous ne sommes pas certain de ce point... Il pourrait tout aussi bien avoir \u00e9t\u00e9 \u00e9mis avec une valeur initiale de 127, et donc \u00eatre pass\u00e9 par 69 routeurs... Le TTL n'est donc qu'une indication... Dans notre exemple, on peut supposer qu'avec un TTL de 119, on est pass\u00e9 par 8 machines pour aller de chez moi jusqu'au DNS de Google. Tester ping \u00c9nonc\u00e9 R\u00e9ponses Depuis l'invite de commande de windows : Tester la commande ping 8.8.8.8 . Quel est le TTL, que peut-on supposer ? Tester la commande ping -4 www.zonensi.fr . Que se passe-t-il ? Tester la commande ping -6 www.zonensi.fr . Que se passe-t-il ? Depuis l'invite de commande Linux de JupyterHub : Tester la commande ping 8.8.8.8 . Quelle diff\u00e9rence y-a-t'il avec la commande windows ? Tester la commande ping -c 5 8.8.8.8 . Que se passe-t-il ? Tester la commande ping -t 5 8.8.8.8 . Que se passe-t-il ? Tester la commande ping -c 5 -t 10 8.8.8.8 . Que se passe-t-il ? A venir ! Fixer le TTL L'option -t pour la commande ping , sous Linux, permet de fixer un nombre maximum de hops possibles. Si la destination est plus lointaine que ce nombre, on aura alors l'erreur Time to live exceeded . Cette possibilit\u00e9 existe aussi sous windows mais : * l'option -t d\u00e9sactive poar d\u00e9faut la limite de 4 paquets ICMP , et envoie donc en continu (comme la commande de base sous Linux) ; * l'option -c fixe le nombre maximal de hops , mais n\u00e9cessite d'\u00eatre dans une console en mode administrateur pour \u00eatre utilis\u00e9e.","title":"La commande ping"},{"location":"NSI/Terminale/C07/Routage/#la-commande-tracert-ou-traceroute-sous-linux","text":"Il est possible de globalement conna\u00eetre les diff\u00e9rents routeurs par lesquels passe un paquet IP, en utilisant le principe pr\u00e9c\u00e9dent : on envoie un paquet avec un TTL de 1, le premier routeur atteint va d\u00e9cr\u00e9menter et atteindre 0, il va donc envoyer un message signalant qu'il a d\u00e9truit le paquet en question, et dans ce message il y aura bien entendu son adresse IP. On fait de m\u00eame avec un TTL de 2, le premier routeur d\u00e9cr\u00e9mente le TTL , le second le d\u00e9cr\u00e9mente encore une fois, et comme il atteint 0, il d\u00e9truit le paquet et renvoie un message d'erreur, avec bien entendu son adresse IP. On continue ainsi en augmentant le TTL . La commande permettant d'appliquer cette m\u00e9thode est tracert sous windows ( traceroute sous Linux) : On constate ici qu'on a bien un passage par 8 machines (7 routeurs plus mon propre PC) : le premier routeur d'ip 192.168.1.254 (adresse classique des passerelles chez Free, c'est-\u00e0-dire de ma box); le second 194.149.164.68 , qui correspond \u00e0 un routeur Free (on peut le v\u00e9rifier avec l'outil who is ; etc... jusqu'\u00e0 atteindre le DNS Google d'ip 8.8.8.8 Tester la commande Enonc\u00e9 R\u00e9ponses Depuis l'invite de commande windows (non-test\u00e9 depuis le lyc\u00e9e... On pourrait avoir des surprises...) : Tester la commande tracert 8.8.8.8 . Tester la commande tracert 95.142.174.138 Tester la commande tracert www.toutatice.fr . Que se passe-t-il ? Depuis l'invite de commande Linux de JupyterHub : Tester la commande traceroute 8.8.8.8 . Tester la commande traceroute 95.142.174.138 Tester la commande traceroute www.toutatice.fr . Que se passe-t-il ? A venir !","title":"La commande tracert (ou traceroute sous linux)"},{"location":"NSI/Terminale/C07/Routage/#routage-des-paquets-dans-un-reseau","text":"","title":"Routage des paquets dans un r\u00e9seau"},{"location":"NSI/Terminale/C07/Routage/#un-point-sur-les-adresses-ip","text":"Nous avons vu qu'une adresse IP n'est jamais donn\u00e9e seule, elle est toujours accompagn\u00e9e d'un masque de sous-r\u00e9seau , dont le r\u00f4le est de diff\u00e9rencier l'adresse du r\u00e9seau de celle de la machine. En IPV4, donc sur 4 octets, une adresse IP et un masque de sous-r\u00e9seau sont repr\u00e9sent\u00e9s par une s\u00e9rie de 32 bits. Pour d\u00e9terminer le num\u00e9ro de r\u00e9seau d'une machine, une op\u00e9ration logique ET est effectu\u00e9e bit \u00e0 bit entre l'IP et le masque. Exemple Consid\u00e9rons une machine d'IP 194.152.20.12 , qui correspond donc \u00e0 la suite binaire 11000010.10011000.00010100.00001100 , et de masque '157.132.140.128' soit la suite binaire 10011101.10000100.10001100.10000000 . L'op\u00e9ration logique ET entre ces deux suites donne : Soit une adresse r\u00e9seau 128.128.4.0 . Historiquement, le masque de sous-r\u00e9seau pouvait \u00eatre une suite quelconque de 0 et de 1, comme dans l'exemple pr\u00e9c\u00e9dent. Mais ceci n'est absolument pas pratique ! Il a donc \u00e9t\u00e9 d\u00e9cid\u00e9 que la norme serait qu'un masque de sous-r\u00e9seau serait constitu\u00e9 d'une suite contigu\u00eb de 1 suivis de 0 , comme par exemple 11111111.11111111.11100000.00000000 . Ceci permet entre-autres de simplifier l'\u00e9criture des masques en donnant l'IP suivie d'un nombre repr\u00e9sentant le nombre de bits de poids fort ayant pour valeur 1. Ainsi au lieu d'\u00e9crire : IP : 192.168.20.4 Masque : 255.255.224.0 , soit 11111111.11111111.11100000.00000000 , on \u00e9crira : IP : 192.168.20.4/19 , ce qui signifie que les 19 bits de poids forts du masque ont pour valeur 1, et que les 13 suivants sont \u00e0 0. Exercice Enonc\u00e9 R\u00e9ponses On consid\u00e8re une machine dont l'IP est 192.168.20.4/19 . Quel est l'adresse du r\u00e9seau de cette machine ? On consid\u00e8re une machine dont l'IP est 192.168.20.4/8 . Quel est l'adresse du r\u00e9seau de cette machine ? On consid\u00e8re une machine dont l'IP est 192.168.20.4/16 . Quel est l'adresse du r\u00e9seau de cette machine ? On consid\u00e8re une machine dont l'IP est 192.168.20.4/24 . Quel est l'adresse du r\u00e9seau de cette machine ? A venir ! Simplification d'\u00e9criture Dans le cadre d'exercices de NSI, on cherchera souvent \u00e0 simplifier les calculs, c'est pourquoi on trouvera souvent des adresses IP sous la forme : X.X.X.X/8 , c'est-\u00e0-dire avec un masque 255.0.0.0 ; X.X.X.X/16 , c'est-\u00e0-dire avec un masque 255.255.0.0 ; X.X.X.X/24 , c'est-\u00e0-dire avec un masque 255.255.255.0 .","title":"Un point sur les adresses IP"},{"location":"NSI/Terminale/C07/Routage/#un-exemple-avec-routage-manuel-sur-3-routeurs","text":"On consid\u00e8re les r\u00e9seaux suivants dans le logiciel Filius , pour lesquels les routeurs R1, R2 et R3 ne sont pas en routage automatique . Les routeurs R1 et R3 sont appel\u00e9s routeurs d'acc\u00e8s , car ils sont en bordure de r\u00e9seaux. Le routeur R2 est un routeur interne . L'objectif est de comprendre comment les routeurs font pour transmettre des paquets de l'ordinateur P1 du r\u00e9seau 192.168.0.0/24 \u00e0 l'ordinateur P2 du r\u00e9seau 192.168.1.0/24 . Tables de routage Une table de routage est une structure de donn\u00e9es utilis\u00e9e par un routeur ou un ordinateur en r\u00e9seau, et qui d\u00e9finit en fonction des adresses de destination par quels routeurs passer. Comprendre une table de routage Enonc\u00e9 R\u00e9ponses Voici la table de routage actuelle du routeur R1 : Quels sont les champs de cette table ? Chercher sur le web la signification informatique de loopback (ou rebouclage ). Que signifie alors la troisi\u00e8me ligne ? La quatri\u00e8me ligne ? Nous allons devoir indiquer au routeur R1 quelle direction devra prendre un paquet \u00e0 destination du r\u00e9seau 192.168.1.0/24 : Ajoutez une ligne \u00e0 la table de routage de R1. Dans celle ci, compl\u00e9tez les champs : IP de destination : 192.168.1.0/24 Masque : 255.255.255.0 Paserelle suivante : 1.0.0.2 Via l'interface : 1.0.0.1 Testez \u00e0 partir de P1 et la commande ping 192.168.1.0 . Le paquet est-il transmis \u00e0 P2 ? Vous pouvez oouvrir les fen\u00eatres d'\u00e9changes de donn\u00e9es n\u00e9cesaires . Compl\u00e9tez les tables de routages de R2 et et R3 pour que la commande ping fonctionne correctement. Nous allons modifier la topologie du r\u00e9seau, en ajoutant un routeur R4 et un portable P3 de la mani\u00e8re suivante (le portable P1 et le routeur R1 sont inchang\u00e9s) : Tips Si vous \u00eates \u00e0 cours de prises r\u00e9seaux sur certains routeurs, vous pouvez en ajouter de nouvelles via le bouton G\u00e9rer les connexions Modifiez les tables de routages n\u00e9cessaires pour que les 3 portables puissent communiquer. A venir ! Routage manuel M\u00eame pour des r\u00e9seaux de petites taille, il est difficile de maintenir des tables de routages manuellement. D\u00e8s que le nombre de routeurs internes augmente, arrivent d'autres questions : Dans une situation comme celle-ci, quelle route est \u00e0 privil\u00e9gier pour relier le client au serveur ? R1 -> R2 -> R3 -> R5 -> R6 R1 -> R2 -> R4 -> R5 -> R6 R1 -> R2 -> R5 -> R6 Nous aurions tendance \u00e0 penser naturellement qu'il faut prendre la troisi\u00e8me solution, pour laquelle un hop de moins est n\u00e9cessaire, mais est-ce judicieux si les liaisons R2->R3->R5 sont fibr\u00e9es alors que la liaison R2 -> R5 est une liaison cuivre classique ?","title":"Un exemple avec routage manuel sur 3 routeurs"},{"location":"NSI/Terminale/C08/ProgDyn/","text":"Principes de la programmation dynamique Un premier exmple d\u00e9branch\u00e9 Parcours sur une grille Enonc\u00e9 Solution Combien y-a-t'il de chemin menant du point \\(D\\) au point \\(A\\) sur le graphique suivant, en ne se d\u00e9pla\u00e7ant \u00e0 chaque pas que vers la droite ou vers le bas ? Combien y-a-t'il de chemin menant du point \\(D\\) au point \\(A\\) sur le graphique suivant, en ne se d\u00e9pla\u00e7ant \u00e0 chaque pas que vers la droite ou vers le bas ? A venir ! La suite de Fibonacci La suite de Fibonacci est une suite d\u00e9finie par une r\u00e9curence d'ordre 2 de la mani\u00e8re suivante, : \\[ \\left\\lbrace\\begin{array}{rcl} F_0 &=& 0\\\\ F_1 &=& 1 \\\\ F_{n+2} &=& F_{n+1} + F_{n} ~~ \\forall n \\in \\mathbb{N} \\end{array}\\right. \\] Calculer Enonc\u00e9 Solution Calculer les 10 premiers termes de la suite de Fibonacci. Les 10 premiers termes sont : 0, 1, 1, 2, 3, 5, 8, 13, 21, 34 Notation On notera \\(F(n)\\) le nombre de la suite de Fibonacci de rang \\(n\\) . Par exemple \\(F(0) = 0\\) et \\(F(6) = 13\\) . Algorithmiquement parlant, la suite de Fibonacci \u00e9tant une suite d\u00e9finie par r\u00e9curence, nous serions tent\u00e9s de cr\u00e9er une fonction r\u00e9cursive pour calculer les termes \\(F(n)\\) de la suite. Pour ce faire, nous pourrions utiliser la fonction suivante : 1 2 3 4 5 6 7 def fibo ( n : int ) -> int : if n == 0 : return 0 elif n == 1 : return 1 else : return fibo ( n - 1 ) + fibo ( n - 2 ) La question que nous devons nous poser est : est-ce un choix judicieux ? Tester et voir les limites Enonc\u00e9 Solutions Tester la fonction fibo avec le code suivant : import time for n in range ( 40 ) : start = time . perf_counter () print ( f \"fibo( { n } ) = { fibo ( n ) } \" , end = \"\" ) end = time . perf_counter () print ( f \" Temps : { end - start } \" ) Que constate-t'on ? R\u00e9aliser un sch\u00e9ma de la pile d'appels r\u00e9cursif effectu\u00e9s lors de l'ex\u00e9cution de fibo(6) . Le temps d'ex\u00e9cution cro\u00eet de mani\u00e8re exponentielle. On a la construction suivante : Multiples appels Dans l'exemple pr\u00e9c\u00e9dent de calcul de fibo(6) , on peut constater que les appels r\u00e9cursifs sont nombreux, et souvent pour calculer plusieurs fois la m\u00eame chose : Ainsi : fibo(2) est calcul\u00e9 \u00e0 5 reprises ; fibo(3) est calcul\u00e9 \u00e0 3 reprises ; fibo(4) est calcul\u00e9 \u00e0 2 reprises. Le nombre d'appels augmente exponentiellement en fonction de n . Par exemple le calcul r\u00e9cursif de fibo(20) n\u00e9cessite \\(4~181\\) appels au calcul fibo(2) , celui de fibo(30) le n\u00e9cessite \\(514~229\\) fois, celui de fibo(40) le n\u00e9cessite \\(63~245~986\\) fois.... Si la limite de r\u00e9cursion (qui est de 1000 par d\u00e9faut pour Python) n'est pas atteinte pour fibo(40) , le temps de calcul, lui, cro\u00eet aussi exponentiellement... Programmation dynamique Premiers exemples sur la suite de Fibonacci En consid\u00e9rant l'algorithme pr\u00e9c\u00e9dant, on comprend bien qu'il est particuli\u00e8rement inefficace de calculer plusieurs fois le m\u00eame sous-calcul. Afin d'am\u00e9liorer le temps de calcul de l'algorithme, nous d\u00e9cidons donc de m\u00e9moriser les calculs d\u00e9j\u00e0 effectu\u00e9s dans un tableau. Il existe deux m\u00e9thodes diff\u00e9rentes : Programmation dynamique de la suite de Fibonacci M\u00e9thode ascendante M\u00e9thode descendante On va calculer les nombres de la suite de Fibonacci jusqu'\u00e0 \\(n\\) en partant de \\(F(0)\\) et \\(F(1)\\) : 1 2 3 4 5 6 def fiboAsc ( n : int ) -> int : F = [ 0 ] * ( n + 1 ) F [ 1 ] = 1 for i in range ( 2 , n + 1 ) : F [ i ] = F [ i - 1 ] + F [ i - 2 ] return F [ n ] On va calculer les nombres de Fibonacci r\u00e9cursivement, mais en sauvegardant les calculs d\u00e9j\u00e0 effectu\u00e9s dans une liste Python, en profitant de sa mutabilit\u00e9 : 1 2 3 4 5 6 7 8 9 10 def fiboDesc ( n : int ) -> int : memo = [ 0 , 1 ] + [ None ] * ( n - 1 ) def compute ( n , memo ) : if memo [ n ] is None : memo [ n ] = compute ( n - 1 , memo ) + compute ( n - 2 , memo ) return memo [ n ] return compute ( n , memo ) L'explication la plus simple du fonctionnement est visible ici , pour un exemple sur fiboDesc(6) . Principes de la programmation dynamique La programmation dynamique , introduite au d\u00e9but des ann\u00e9es 1950 par Richard Bellman , est une m\u00e9thode pour r\u00e9soudre des probl\u00e8mes en combinant des solutions de sous-probl\u00e8mes, tout comme les m\u00e9thodes de type diviser pour r\u00e9gner . Un algorithme de programmation dynamique r\u00e9sout chaque sous-sous-probl\u00e8me une seule fois et m\u00e9morise sa r\u00e9ponse dans un tableau, \u00e9vitant ainsi le recalcul de la solution chaque fois qu'il r\u00e9sout chaque sous-sous-probl\u00e8me. La programmation dynamique s'applique g\u00e9n\u00e9ralement aux probl\u00e8mes d'optimisation , comme ceux que nous avons vu l'an pass\u00e9lorsque nous avons \u00e9tudi\u00e9 les algorithmes gloutons. Le probl\u00e8me du rendu de monnaie Largement inspir\u00e9 de https://isn-icn-ljm.pagesperso-orange.fr/NSI-TLE/res/res_rendu_de_monnaie.pdf . Le probl\u00e8me : introduction et traitement d\u00e9branch\u00e9 Vous avez \u00e0 votre disposition un nombre illimit\u00e9 de pi\u00e8ces de 2 cts, 5 cts, 10 cts, 50 cts et 1euro (100 cts). Vous devez rendre une certaine somme (rendu de monnaie). Le probl\u00e8me est le suivant : \"Quel est le nombre minimum de pi\u00e8ces qui doivent \u00eatre utilis\u00e9es pour rendre la monnaie\" La r\u00e9solution \"gloutonne\" de ce probl\u00e8me peut \u00eatre la suivante : On prend la pi\u00e8ce qui a la plus grande valeur (il faut que la valeur de cette pi\u00e8ce soit inf\u00e9rieure ou \u00e9gale \u00e0 la somme restant \u00e0 rendre). On recommence l\u2019op\u00e9ration ci-dessus jusqu\u2019au moment o\u00f9 la somme \u00e0 rendre est \u00e9gale \u00e0 z\u00e9ro. Questions Enonc\u00e9 Appliquer cette m\u00e9thode pour une somme de 1\u20ac77 (177cts) \u00e0 rendre. Appliquer cette m\u00e9thode \u00e0 la somme de 11 centimes. Quel est le probl\u00e8me ? Proposer une solution permettant de rendre 11 centimes. Est-elle unique ? Mise au point d'un algorithme r\u00e9cursif Nous allons essayer de mettre au point un algorithme r\u00e9cursif donnant une solution au probl\u00e8me de rendu de monnaie en utilisant le nombre minimal de pi\u00e8ces . Questions Enonc\u00e9 Compl\u00e9ter l'arbre suivant donnant l'ensemble des possibilit\u00e9s de r\u00e9partition des pi\u00e8ces : Combien de chemins sont des impasses (on termine avec 1 cts restant) ? Combien de solutions existent ? Quelle est la solution utilisant le nombre minimal de pi\u00e8ces ? Force Brute Quand une m\u00e9thode traite tous les cas possibles, on parle souvent de m\u00e9thode en force brute . Compl\u00e9ter la fonction suivante pour qu'elle donne le nombre minimal de pi\u00e8ces utilis\u00e9es pour une somme s donn\u00e9e : def rendu_monnaie_rec ( P : list , s : int ) -> int : \"\"\" renvoie le nombre minimal de pi\u00e8ces pour rendre la somme s en utilisant le jeu de pi\u00e8ces P\"\"\" if s == 0 : return 0 else : mini = float ( 'inf' ) # On fixe le nombre de pi\u00e8c\u00e9 \u00e0 l'infini for i in range ( len ( P )): if ... <= s : nb = 1 + ... if nb < mini : mini = nb return mini Testez la fonction avec le jeu de pi\u00e8ces (2, 5, 10, 100) , et pour des sommes augmentant \u00e0 partir de 11 cts. A partir de quelle v somme le programme devient-il visiblement plus lent ? Passage en programmation dynamique On constate dans la partie pr\u00e9c\u00e9dente que la m\u00e9thode pr\u00e9c\u00e9dente fait de trop nombreux appels r\u00e9cursifs, qui ralentissent consid\u00e9rablement le temps de calcul, voire plante le programme d\u00e8s que la taille maximale de la pile est d\u00e9pass\u00e9e. On va donc utiliser la programmation dynamique pour acc\u00e9l\u00e9rer la vitesse de traitement du probl\u00e8me : Questions Enonc\u00e9 On consid\u00e8re la fonction suivante : def renduMonnaie1 ( P : list , s : int ) -> int | None : nb = [ 0 ] + [ None ] * ( s ) for n in range ( 1 , s + 1 ) : for p in P : if p <= ... and nb [ ... ] is not None : if nb [ n ] is ... or ... > 1 + nb [ n - p ]: nb [ n ] = 1 + nb [ n - p ] return ... 1. Compl\u00e9ter la fonction afin qu'elle renvoie le nombre minimal de pi\u00e8ce pour rendre la monnaie, ou None s'il est impossible de rendre la monnaie. Est-ce une m\u00e9thode ascendante ou descendante ? Cr\u00e9er une fonction renduMonnaie2(P : list, s : int) -> int | None utilisant l'autre m\u00e9thode. Pour aller plus loin Enonc\u00e9 Nos codes pr\u00e9c\u00e9dents ne nous permettent que de conna\u00eetre le nombre minimal de pi\u00e8ces n\u00e9cessaire pour un rendu de monnaie donn\u00e9. Nous ne connaissons par contre pas quelles pi\u00e8ces sont n\u00e9cessaires. Transformez une des fonction pr\u00e9c\u00e9dente afin qu'elle renvoie les pi\u00e8ces n\u00e9cessaires au rendu de monnaie.","title":"Principes et exemples"},{"location":"NSI/Terminale/C08/ProgDyn/#principes-de-la-programmation-dynamique","text":"","title":"Principes de la programmation dynamique"},{"location":"NSI/Terminale/C08/ProgDyn/#un-premier-exmple-debranche","text":"Parcours sur une grille Enonc\u00e9 Solution Combien y-a-t'il de chemin menant du point \\(D\\) au point \\(A\\) sur le graphique suivant, en ne se d\u00e9pla\u00e7ant \u00e0 chaque pas que vers la droite ou vers le bas ? Combien y-a-t'il de chemin menant du point \\(D\\) au point \\(A\\) sur le graphique suivant, en ne se d\u00e9pla\u00e7ant \u00e0 chaque pas que vers la droite ou vers le bas ? A venir !","title":"Un premier exmple d\u00e9branch\u00e9"},{"location":"NSI/Terminale/C08/ProgDyn/#la-suite-de-fibonacci","text":"La suite de Fibonacci est une suite d\u00e9finie par une r\u00e9curence d'ordre 2 de la mani\u00e8re suivante, : \\[ \\left\\lbrace\\begin{array}{rcl} F_0 &=& 0\\\\ F_1 &=& 1 \\\\ F_{n+2} &=& F_{n+1} + F_{n} ~~ \\forall n \\in \\mathbb{N} \\end{array}\\right. \\] Calculer Enonc\u00e9 Solution Calculer les 10 premiers termes de la suite de Fibonacci. Les 10 premiers termes sont : 0, 1, 1, 2, 3, 5, 8, 13, 21, 34 Notation On notera \\(F(n)\\) le nombre de la suite de Fibonacci de rang \\(n\\) . Par exemple \\(F(0) = 0\\) et \\(F(6) = 13\\) . Algorithmiquement parlant, la suite de Fibonacci \u00e9tant une suite d\u00e9finie par r\u00e9curence, nous serions tent\u00e9s de cr\u00e9er une fonction r\u00e9cursive pour calculer les termes \\(F(n)\\) de la suite. Pour ce faire, nous pourrions utiliser la fonction suivante : 1 2 3 4 5 6 7 def fibo ( n : int ) -> int : if n == 0 : return 0 elif n == 1 : return 1 else : return fibo ( n - 1 ) + fibo ( n - 2 ) La question que nous devons nous poser est : est-ce un choix judicieux ? Tester et voir les limites Enonc\u00e9 Solutions Tester la fonction fibo avec le code suivant : import time for n in range ( 40 ) : start = time . perf_counter () print ( f \"fibo( { n } ) = { fibo ( n ) } \" , end = \"\" ) end = time . perf_counter () print ( f \" Temps : { end - start } \" ) Que constate-t'on ? R\u00e9aliser un sch\u00e9ma de la pile d'appels r\u00e9cursif effectu\u00e9s lors de l'ex\u00e9cution de fibo(6) . Le temps d'ex\u00e9cution cro\u00eet de mani\u00e8re exponentielle. On a la construction suivante : Multiples appels Dans l'exemple pr\u00e9c\u00e9dent de calcul de fibo(6) , on peut constater que les appels r\u00e9cursifs sont nombreux, et souvent pour calculer plusieurs fois la m\u00eame chose : Ainsi : fibo(2) est calcul\u00e9 \u00e0 5 reprises ; fibo(3) est calcul\u00e9 \u00e0 3 reprises ; fibo(4) est calcul\u00e9 \u00e0 2 reprises. Le nombre d'appels augmente exponentiellement en fonction de n . Par exemple le calcul r\u00e9cursif de fibo(20) n\u00e9cessite \\(4~181\\) appels au calcul fibo(2) , celui de fibo(30) le n\u00e9cessite \\(514~229\\) fois, celui de fibo(40) le n\u00e9cessite \\(63~245~986\\) fois.... Si la limite de r\u00e9cursion (qui est de 1000 par d\u00e9faut pour Python) n'est pas atteinte pour fibo(40) , le temps de calcul, lui, cro\u00eet aussi exponentiellement...","title":"La suite de Fibonacci"},{"location":"NSI/Terminale/C08/ProgDyn/#programmation-dynamique","text":"","title":"Programmation dynamique"},{"location":"NSI/Terminale/C08/ProgDyn/#premiers-exemples-sur-la-suite-de-fibonacci","text":"En consid\u00e9rant l'algorithme pr\u00e9c\u00e9dant, on comprend bien qu'il est particuli\u00e8rement inefficace de calculer plusieurs fois le m\u00eame sous-calcul. Afin d'am\u00e9liorer le temps de calcul de l'algorithme, nous d\u00e9cidons donc de m\u00e9moriser les calculs d\u00e9j\u00e0 effectu\u00e9s dans un tableau. Il existe deux m\u00e9thodes diff\u00e9rentes : Programmation dynamique de la suite de Fibonacci M\u00e9thode ascendante M\u00e9thode descendante On va calculer les nombres de la suite de Fibonacci jusqu'\u00e0 \\(n\\) en partant de \\(F(0)\\) et \\(F(1)\\) : 1 2 3 4 5 6 def fiboAsc ( n : int ) -> int : F = [ 0 ] * ( n + 1 ) F [ 1 ] = 1 for i in range ( 2 , n + 1 ) : F [ i ] = F [ i - 1 ] + F [ i - 2 ] return F [ n ] On va calculer les nombres de Fibonacci r\u00e9cursivement, mais en sauvegardant les calculs d\u00e9j\u00e0 effectu\u00e9s dans une liste Python, en profitant de sa mutabilit\u00e9 : 1 2 3 4 5 6 7 8 9 10 def fiboDesc ( n : int ) -> int : memo = [ 0 , 1 ] + [ None ] * ( n - 1 ) def compute ( n , memo ) : if memo [ n ] is None : memo [ n ] = compute ( n - 1 , memo ) + compute ( n - 2 , memo ) return memo [ n ] return compute ( n , memo ) L'explication la plus simple du fonctionnement est visible ici , pour un exemple sur fiboDesc(6) .","title":"Premiers exemples sur la suite de Fibonacci"},{"location":"NSI/Terminale/C08/ProgDyn/#principes-de-la-programmation-dynamique_1","text":"La programmation dynamique , introduite au d\u00e9but des ann\u00e9es 1950 par Richard Bellman , est une m\u00e9thode pour r\u00e9soudre des probl\u00e8mes en combinant des solutions de sous-probl\u00e8mes, tout comme les m\u00e9thodes de type diviser pour r\u00e9gner . Un algorithme de programmation dynamique r\u00e9sout chaque sous-sous-probl\u00e8me une seule fois et m\u00e9morise sa r\u00e9ponse dans un tableau, \u00e9vitant ainsi le recalcul de la solution chaque fois qu'il r\u00e9sout chaque sous-sous-probl\u00e8me. La programmation dynamique s'applique g\u00e9n\u00e9ralement aux probl\u00e8mes d'optimisation , comme ceux que nous avons vu l'an pass\u00e9lorsque nous avons \u00e9tudi\u00e9 les algorithmes gloutons.","title":"Principes de la programmation dynamique"},{"location":"NSI/Terminale/C08/ProgDyn/#le-probleme-du-rendu-de-monnaie","text":"Largement inspir\u00e9 de https://isn-icn-ljm.pagesperso-orange.fr/NSI-TLE/res/res_rendu_de_monnaie.pdf .","title":"Le probl\u00e8me du rendu de monnaie"},{"location":"NSI/Terminale/C08/ProgDyn/#le-probleme-introduction-et-traitement-debranche","text":"Vous avez \u00e0 votre disposition un nombre illimit\u00e9 de pi\u00e8ces de 2 cts, 5 cts, 10 cts, 50 cts et 1euro (100 cts). Vous devez rendre une certaine somme (rendu de monnaie). Le probl\u00e8me est le suivant : \"Quel est le nombre minimum de pi\u00e8ces qui doivent \u00eatre utilis\u00e9es pour rendre la monnaie\" La r\u00e9solution \"gloutonne\" de ce probl\u00e8me peut \u00eatre la suivante : On prend la pi\u00e8ce qui a la plus grande valeur (il faut que la valeur de cette pi\u00e8ce soit inf\u00e9rieure ou \u00e9gale \u00e0 la somme restant \u00e0 rendre). On recommence l\u2019op\u00e9ration ci-dessus jusqu\u2019au moment o\u00f9 la somme \u00e0 rendre est \u00e9gale \u00e0 z\u00e9ro. Questions Enonc\u00e9 Appliquer cette m\u00e9thode pour une somme de 1\u20ac77 (177cts) \u00e0 rendre. Appliquer cette m\u00e9thode \u00e0 la somme de 11 centimes. Quel est le probl\u00e8me ? Proposer une solution permettant de rendre 11 centimes. Est-elle unique ?","title":"Le probl\u00e8me : introduction et traitement d\u00e9branch\u00e9"},{"location":"NSI/Terminale/C08/ProgDyn/#mise-au-point-dun-algorithme-recursif","text":"Nous allons essayer de mettre au point un algorithme r\u00e9cursif donnant une solution au probl\u00e8me de rendu de monnaie en utilisant le nombre minimal de pi\u00e8ces . Questions Enonc\u00e9 Compl\u00e9ter l'arbre suivant donnant l'ensemble des possibilit\u00e9s de r\u00e9partition des pi\u00e8ces : Combien de chemins sont des impasses (on termine avec 1 cts restant) ? Combien de solutions existent ? Quelle est la solution utilisant le nombre minimal de pi\u00e8ces ? Force Brute Quand une m\u00e9thode traite tous les cas possibles, on parle souvent de m\u00e9thode en force brute . Compl\u00e9ter la fonction suivante pour qu'elle donne le nombre minimal de pi\u00e8ces utilis\u00e9es pour une somme s donn\u00e9e : def rendu_monnaie_rec ( P : list , s : int ) -> int : \"\"\" renvoie le nombre minimal de pi\u00e8ces pour rendre la somme s en utilisant le jeu de pi\u00e8ces P\"\"\" if s == 0 : return 0 else : mini = float ( 'inf' ) # On fixe le nombre de pi\u00e8c\u00e9 \u00e0 l'infini for i in range ( len ( P )): if ... <= s : nb = 1 + ... if nb < mini : mini = nb return mini Testez la fonction avec le jeu de pi\u00e8ces (2, 5, 10, 100) , et pour des sommes augmentant \u00e0 partir de 11 cts. A partir de quelle v somme le programme devient-il visiblement plus lent ?","title":"Mise au point d'un algorithme r\u00e9cursif"},{"location":"NSI/Terminale/C08/ProgDyn/#passage-en-programmation-dynamique","text":"On constate dans la partie pr\u00e9c\u00e9dente que la m\u00e9thode pr\u00e9c\u00e9dente fait de trop nombreux appels r\u00e9cursifs, qui ralentissent consid\u00e9rablement le temps de calcul, voire plante le programme d\u00e8s que la taille maximale de la pile est d\u00e9pass\u00e9e. On va donc utiliser la programmation dynamique pour acc\u00e9l\u00e9rer la vitesse de traitement du probl\u00e8me : Questions Enonc\u00e9 On consid\u00e8re la fonction suivante : def renduMonnaie1 ( P : list , s : int ) -> int | None : nb = [ 0 ] + [ None ] * ( s ) for n in range ( 1 , s + 1 ) : for p in P : if p <= ... and nb [ ... ] is not None : if nb [ n ] is ... or ... > 1 + nb [ n - p ]: nb [ n ] = 1 + nb [ n - p ] return ... 1. Compl\u00e9ter la fonction afin qu'elle renvoie le nombre minimal de pi\u00e8ce pour rendre la monnaie, ou None s'il est impossible de rendre la monnaie. Est-ce une m\u00e9thode ascendante ou descendante ? Cr\u00e9er une fonction renduMonnaie2(P : list, s : int) -> int | None utilisant l'autre m\u00e9thode. Pour aller plus loin Enonc\u00e9 Nos codes pr\u00e9c\u00e9dents ne nous permettent que de conna\u00eetre le nombre minimal de pi\u00e8ces n\u00e9cessaire pour un rendu de monnaie donn\u00e9. Nous ne connaissons par contre pas quelles pi\u00e8ces sont n\u00e9cessaires. Transformez une des fonction pr\u00e9c\u00e9dente afin qu'elle renvoie les pi\u00e8ces n\u00e9cessaires au rendu de monnaie.","title":"Passage en programmation dynamique"},{"location":"NSI/Terminale/C08/alignSeq/","text":"Alignement de s\u00e9quences Pr\u00e9sentation du sujet On dispose de deux cha\u00eenes de caract\u00e8res : \\(A\\) , qui vaut INFORMATIQUE , et \\(B\\) , qui vaut NUMERIQUE . On aimerait mettre ces deux cha\u00eenes de caract\u00e8res en correspondance de la mani\u00e8re suivante : On place les 2 cha\u00eenes l'une en desous de l'autre; Si les derniers caract\u00e8res des deux cha\u00eenes co\u00efncident, alors on passe aux caract\u00e8res suivants; Sinon, on va ajouter un trou dans une des deux cha\u00eenes, symbolis\u00e9 par un - et on passe aux caract\u00e8res suivant. Voici un exemple d'alignement optimal : Dans cette situation on a besoin de 9 tirets, pas moins. L'objectif est d'aligner le maximum de lettres (donc de mettre le moins de - possible). Ce n'est pas un probl\u00e8me simple, surtout quand les cha\u00eenes sont longues, comme pour les s\u00e9quences d'ADN par exemple : R\u00e9solution par une m\u00e9thode r\u00e9cursive Le principe est pr\u00e9sent\u00e9 dans la vid\u00e9o suivante : Pour les mots GRAS et GERS , l'arbre obtenu est le suivant : Apr\u00e8s application d'une m\u00e9thode dynamique ( Top Down ) (c'est-\u00e0-dire r\u00e9cursive avec m\u00e9mo\u00efsation), on obtient le graphe suivant : R\u00e9solution par une m\u00e9thode it\u00e9rative Activit\u00e9 d\u00e9branch\u00e9e Consid\u00e9rons les deux cha\u00eenes de caract\u00e8res GENOME et ENORME . Afin de chercher le nombre minimal d'insertion \u00e0 effectuer, nous allons compl\u00e9ter le tableau suivant, avec la convention suivante : \u00e0 l'intersection de la colonne N et de la premi\u00e8re ligne E se trouve le nombre minimal d'insertion n\u00e9cessaire pour aligner les cha\u00eenes EN et GE , c'est-\u00e0-dire 2 tirets. Par convention la premi\u00e8re ligne et la premi\u00e8re colonne correspondent \u00e0 une cha\u00eene vide. Question Enonc\u00e9 R\u00e9ponse En quoi la m\u00e9thode ci-dessus est-elle une m\u00e9thode it\u00e9rative ( Bottom Up ) ? Pour compl\u00e9ter le tableau, on va commencer par compl\u00e9ter la premi\u00e8re ligne et la premi\u00e8re colonne. Par exemple, la case de la premi\u00e8re ligne correspondant \u00e0 l'intersection de R et de - doit contenir le nombre minimal de tirets n\u00e9cessaire pour aligner ENOR avec une cha\u00eene vide, c'est-\u00e0-dire 4. Pour compl\u00e9ter ensuite le reste du tableau, il faut concevoir deux cas diff\u00e9rents : Soit la case correspond aux deux m\u00eame lettres, comme dans l'exemple ci-dessous : Le meilleur alignement de ENO et de GENO contient autant de tirets que le meilleur alignement de EN et de GEN , donc ici 1. Soit les deux lettre sont diff\u00e9rentes, et on peut consid\u00e9rer deux situations : On consid\u00e8re la case comme \u00e9tant une \u00e9volution de l'alignement de ENO et GE , qui contenait 3 tirets, vers l'alignement de ENO et GEN , qui en contiendra donc un de plus , soit 4. On consid\u00e8re la case comme \u00e9tant une \u00e9volution de l'alignement de EN et GEN , qui contenait 1 unique tiret, vers l'alignement de ENO et GEN , qui en contiendra donc un de plus , soit 2. Comme nous cherchons un alignement minimisant le nombre de tirets, on va alors compl\u00e9ter la case avec la valeur 2, provenant de la situation de droite ci-dessus. On termine alors de compl\u00e9ter le tableau : Application en Python L'activit\u00e9 est disponible sous la forme d'un notebook capytale","title":"Alignements de s\u00e9quences"},{"location":"NSI/Terminale/C08/alignSeq/#alignement-de-sequences","text":"","title":"Alignement de s\u00e9quences"},{"location":"NSI/Terminale/C08/alignSeq/#presentation-du-sujet","text":"On dispose de deux cha\u00eenes de caract\u00e8res : \\(A\\) , qui vaut INFORMATIQUE , et \\(B\\) , qui vaut NUMERIQUE . On aimerait mettre ces deux cha\u00eenes de caract\u00e8res en correspondance de la mani\u00e8re suivante : On place les 2 cha\u00eenes l'une en desous de l'autre; Si les derniers caract\u00e8res des deux cha\u00eenes co\u00efncident, alors on passe aux caract\u00e8res suivants; Sinon, on va ajouter un trou dans une des deux cha\u00eenes, symbolis\u00e9 par un - et on passe aux caract\u00e8res suivant. Voici un exemple d'alignement optimal : Dans cette situation on a besoin de 9 tirets, pas moins. L'objectif est d'aligner le maximum de lettres (donc de mettre le moins de - possible). Ce n'est pas un probl\u00e8me simple, surtout quand les cha\u00eenes sont longues, comme pour les s\u00e9quences d'ADN par exemple :","title":"Pr\u00e9sentation du sujet"},{"location":"NSI/Terminale/C08/alignSeq/#resolution-par-une-methode-recursive","text":"Le principe est pr\u00e9sent\u00e9 dans la vid\u00e9o suivante : Pour les mots GRAS et GERS , l'arbre obtenu est le suivant : Apr\u00e8s application d'une m\u00e9thode dynamique ( Top Down ) (c'est-\u00e0-dire r\u00e9cursive avec m\u00e9mo\u00efsation), on obtient le graphe suivant :","title":"R\u00e9solution par une m\u00e9thode r\u00e9cursive"},{"location":"NSI/Terminale/C08/alignSeq/#resolution-par-une-methode-iterative","text":"","title":"R\u00e9solution par une m\u00e9thode it\u00e9rative"},{"location":"NSI/Terminale/C08/alignSeq/#activite-debranchee","text":"Consid\u00e9rons les deux cha\u00eenes de caract\u00e8res GENOME et ENORME . Afin de chercher le nombre minimal d'insertion \u00e0 effectuer, nous allons compl\u00e9ter le tableau suivant, avec la convention suivante : \u00e0 l'intersection de la colonne N et de la premi\u00e8re ligne E se trouve le nombre minimal d'insertion n\u00e9cessaire pour aligner les cha\u00eenes EN et GE , c'est-\u00e0-dire 2 tirets. Par convention la premi\u00e8re ligne et la premi\u00e8re colonne correspondent \u00e0 une cha\u00eene vide. Question Enonc\u00e9 R\u00e9ponse En quoi la m\u00e9thode ci-dessus est-elle une m\u00e9thode it\u00e9rative ( Bottom Up ) ? Pour compl\u00e9ter le tableau, on va commencer par compl\u00e9ter la premi\u00e8re ligne et la premi\u00e8re colonne. Par exemple, la case de la premi\u00e8re ligne correspondant \u00e0 l'intersection de R et de - doit contenir le nombre minimal de tirets n\u00e9cessaire pour aligner ENOR avec une cha\u00eene vide, c'est-\u00e0-dire 4. Pour compl\u00e9ter ensuite le reste du tableau, il faut concevoir deux cas diff\u00e9rents : Soit la case correspond aux deux m\u00eame lettres, comme dans l'exemple ci-dessous : Le meilleur alignement de ENO et de GENO contient autant de tirets que le meilleur alignement de EN et de GEN , donc ici 1. Soit les deux lettre sont diff\u00e9rentes, et on peut consid\u00e9rer deux situations : On consid\u00e8re la case comme \u00e9tant une \u00e9volution de l'alignement de ENO et GE , qui contenait 3 tirets, vers l'alignement de ENO et GEN , qui en contiendra donc un de plus , soit 4. On consid\u00e8re la case comme \u00e9tant une \u00e9volution de l'alignement de EN et GEN , qui contenait 1 unique tiret, vers l'alignement de ENO et GEN , qui en contiendra donc un de plus , soit 2. Comme nous cherchons un alignement minimisant le nombre de tirets, on va alors compl\u00e9ter la case avec la valeur 2, provenant de la situation de droite ci-dessus. On termine alors de compl\u00e9ter le tableau :","title":"Activit\u00e9 d\u00e9branch\u00e9e"},{"location":"NSI/Terminale/C08/alignSeq/#application-en-python","text":"L'activit\u00e9 est disponible sous la forme d'un notebook capytale","title":"Application en Python"},{"location":"NSI/Terminale/C09/graphe/","text":"Les graphes : d\u00e9finitions et vocabulaire Probl\u00e8me des sept ponts de K\u00f6nigsberg La ville de K\u00f6nigsberg (aujourd'hui Kaliningrad) est construite autour de deux \u00eeles situ\u00e9es sur le Pregel et reli\u00e9es entre elles par un pont. Six autres ponts relient les rives de la rivi\u00e8re \u00e0 l'une ou l'autre des deux \u00eeles, comme repr\u00e9sent\u00e9s sur le plan ci-dessus. Le probl\u00e8me consiste \u00e0 d\u00e9terminer s'il existe ou non une promenade dans les rues de K\u00f6nigsberg permettant, \u00e0 partir d'un point de d\u00e9part au choix, de passer une et une seule fois par chaque pont, et de revenir \u00e0 son point de d\u00e9part, \u00e9tant entendu qu'on ne peut traverser le Pregel qu'en passant sur les ponts. Le math\u00e9maticien Leonhard Euler donna la solution de ce probl\u00e8me en utilisant les pr\u00e9mices de ce qu'on appelera Th\u00e9orie des graphes Graphes orient\u00e9s et non-orient\u00e9s Graphe non oriernt\u00e9 et vocabulaire Un Graphe \\(G\\) est la donn\u00e9e de d'un ensemble fini de noeuds ( nodes en anglais) ou sommets ( vertices en anglais) reli\u00e9s entre eux par des liens ( edges en anglais). Si les liens sont : bidirectionnels (on peut les emprunter dans les deux sens), le graphe sera alors appel\u00e9 non-orient\u00e9 . On parlera alors de noeuds et les liens seront appel\u00e9s ar\u00eates , et repr\u00e9sent\u00e9s par des segments ; unidirectionnels (on peut les emprunter dans un seul sens), le graphe sera alors appel\u00e9 orient\u00e9 . On parlera alors de sommets et les liens seront appel\u00e9s arcs , et repr\u00e9sent\u00e9s par des fl\u00e8ches . Graphe du probl\u00e8me des ponts de K\u00f6nigsberg Le graphe suivant est un repr\u00e9sentatnt du probl\u00e8me des ponts de K\u00f6nigsberg : Les ponts pouvant \u00eatre franchis dans les deux sens, le graphe est non-orient\u00e9 . Les diff\u00e9rentes zones (berges et iles) sont les sommets \\(A, B, C, D\\) du graphe. les diff\u00e9rents ponts sont les ar\u00eates \\(a, b, c, d, e, f, g\\) . On dira qu'il s'agit d'une repr\u00e9sentation, car la forme du graphe n'est pas importante. Les dessins ci-dessous repr\u00e9sentent le m\u00eame graphe : Graphe d'\u00e9tat d'un procesus Dans le cours sur les processus, nous avons vu le sch\u00e9ma suivant : Le graphe est orient\u00e9 Les diff\u00e9rentes \u00e9tats sont les sommets d\u00e9part , Pr\u00eat , Elu , Bloqu\u00e9 et termin\u00e9 . les diff\u00e9rentes transitions sont les arcs R\u00e9veil , Election , Blocage , D\u00e9blocage et Fin . Voisinage Si il existe un arc d'un sommet \\(s\\) \u00e0 un sommet \\(t\\) , on dit que \\(t\\) est adjacent \u00e0 \\(s\\) , o\u00f9 que \\(t\\) est un voisin de \\(s\\) . Exemple Dans le graphe ci-dessous : A a pour voisins B , C et D ; B a pour voisins D et C ; C n'a aucun voisin ; D a pour voisin A . Divers vocabulaire L'ordre d'un graphe \\(G\\) est le nombre de sommets qui composent ce graphe, et est not\u00e9 \\(n = ord(G)\\) . La taille d'un graphe est le nombre d'arcs/ar\u00eates qui le composent. Le degr\u00e9 d'un sommet est le nombre d'ar\u00eates dont ce sommet est une extr\u00e9mit\u00e9. On dira qu'un graphe est complet si tous ses sommets sont adjacents les uns avec les autres. On dira qu'un sommet est isol\u00e9 s'il n'est reli\u00e9 a aucun autre sommet. On parlera de boucle lorsqu'un arc ou une ar\u00eate a ses deux extr\u00e9mit\u00e9s sur le meme sommet. Un graphe est simple lorsqu\u2019 un graphe n\u2019a aucune boucle et si deux ar\u00eates ne relient jamais les m\u00eames paires de sommets. Exemple : graphe de recherche de texte On consid\u00e8re le graphe suivant : Ce graphe est d'ordre 4 et de taille 9. Le noeud 2 est de degr\u00e9 4 Ce graphe n'est pas complet car le noeud 2 n'est pas pas reli\u00e9 \u00e0 1 . Il y a une boucle au noeud 0 , qui est donc d'ordre 6. Aucun sommet n'est isol\u00e9. Aventuriers du rail Enonc\u00e9 R\u00e9ponses \u00ab Les aventuriers du Rail \u00bb est un jeu de plateau qui a pour but de relier les gares de diff\u00e9rentes villes sur une carte pr\u00e9existante, pour ainsi cr\u00e9er son r\u00e9seau ferroviaire au d\u00e9triment des autres joueurs. Il existe diff\u00e9rentes versions du jeu, la carte ci-dessous \u00e9tant la carte de la version Europe. Une telle carte peut-\u00eatre mod\u00e9lis\u00e9e par un graphe. On en donne ci-dessous une partie en ayant extrait une partie des liaisons ferroviaires A quoi correspond chacun des sommets ? chaque ar\u00eate ? Quel est l\u2019ordre du graphe ? Quelle est sa taille ? Quel est le degr\u00e9 de Paris ? de Rome ? de Marseille ? Comment peut-on interpr\u00e9ter les r\u00e9sultats de la question 3 ? Ce graphe est-il complet ? A venir ! R\u00e9gion Midi-Pyr\u00e9n\u00e9es Enonc\u00e9 On donne ci-dessous un extrait de la carte de la France administrative ( avant remaniement des r\u00e9gions...). On s\u2019int\u00e9resse \u00e0 la r\u00e9gion Midi-Pyr\u00e9n\u00e9es et aux huit d\u00e9partements qui la composent. On s'int\u00e9resse aux fronti\u00e8res communes entre les d\u00e9partements de cette r\u00e9gion. Repr\u00e9senter cette carte par un graphe mettant en \u00e9vidence ce d\u00e9coupage. A quoi correspond chacun des sommets ? chaque ar\u00eate ? Quel est l'ordre du graphe ? sa taille ? Ce graphe est-il complet ? D\u00e9terminer le degr\u00e9 de chaque sommet. Une conjecture su les graphes non-orient\u00e9s Enonc\u00e9 r\u00e9ponses On consid\u00e8re l\u2019\u00e9chiquier \\(3 \\times 3\\) ci-dessous dans lequel on s\u2019int\u00e9resse au d\u00e9placement du cavalier noir. Repr\u00e9senter par un graphe cet \u00e9chiquier, les sommets \u00e9tant les cases de l'\u00e9chiquier, et les ar\u00eates repr\u00e9sentant les d\u00e9placementspossibles du cavalier. Quel est l'ordre de ce graphe ? Ce graphe est-il complet ? Que peut-on dire du sommet \\(b2\\) ? Compl\u00e9ter le tableau des d\u00e9gr\u00e9s des sommets du graphe. Calculer la somme des degr\u00e9s des sommets ainsi que le nombre d'ar\u00eates. Pour chacun des graphes suivants, calculer la somme des degr\u00e9s des sommets ainsi que le nombre d'ar\u00eates, puis \u00e9mettre une conjecture : A venir ! Lemme dit \u00ab des poign\u00e9es de main\u00bb Th\u00e9or\u00e8me Preuve La somme des degr\u00e9s des sommets d\u2019un graphe non orient\u00e9 est \u00e9gale au double du nombre d\u2019ar\u00eates du graphe. Lorsqu\u2019on additionne les degr\u00e9s des sommets, chaque ar\u00eate est compt\u00e9e deux fois, une fois pour chaque extr\u00e9mit\u00e9. Les poign\u00e9es de main Enonc\u00e9 Solution Les vingt-quatre maires des vingt-quatre communes de l\u2019\u00eele de la R\u00e9union se sont donn\u00e9 rendez-vous lors de l\u2019assembl\u00e9e g\u00e9n\u00e9rale de l\u2019Association des Maires du D\u00e9partement de la R\u00e9union (AMDR). \u00c0 cette occasion, chaque maire serre la main de tous les autres maires. Quel est le nombre de poign\u00e9es de mains \u00e9chang\u00e9es ? A venir ! Hors programme : le langage dot Il existe un ensemble d'outils informatiques sp\u00e9cialement d\u00e9di\u00e9s \u00e0 la cr\u00e9ation de graphes : GraphViz . Il en existe de nombreuses versions, mais vous pouvez en trouver une version en ligne ici , avec le graphe de l'exemple pr\u00e9c\u00e9dent comme exemple d'utilisation du langage. pour s'amuser un peu Enonc\u00e9 R\u00e9ponse Cr\u00e9er le graphe orient\u00e9 suivant : les sommets sont les nombres de 2 \u00e0 12 ; un arc existe entre a et b si et seulement si a est un multiple de b . La solution ici Graphes pond\u00e9r\u00e9s Parfois il est n\u00e9cessaire d'associer une valeur aux arcs/ar\u00eates d'un graphe (orient\u00e9 ou non). On parle alors d'ajouter une pond\u00e9ration , et de graphes pond\u00e9r\u00e9s . Nous avons d\u00e9j\u00e0 rencontr\u00e9 ces graphes par exemple dans la partie routage, o\u00f9 les liaisons entre routeurs poss\u00e8dent : soit une distance ; soit une vitesse; Les valeurs de pond\u00e9rations sont donn\u00e9es directement \u00e0 c\u00f4t\u00e9 des arcs/ar\u00eates sur le graphe. Exemple Le graphe pond\u00e9r\u00e9 suivant repr\u00e9sente les distances routi\u00e8res minimales entre les villes de Paris ( P ), Lyon ( L ), Marseille ( M ), Nantes ( N ), Bordeaux ( B ) et Toulouse ( T ). Chemins et cycles Chemins et cycles Dans un graphe donn\u00e9, une cha\u00eene (graphe non-orient\u00e9) ou un chemin (graphe orient\u00e9) reliant un sommet \\(u\\) \u00e0 un sommet \\(v\\) est une s\u00e9quence finie de sommets reli\u00e9s deux \u00e0 deux par des arcs/ar\u00eates et menant de \\(u\\) \u00e0 \\(v\\) . Un chemin est dit simple s'il n'emprunte pas deux fois le m\u00eame arc/ar\u00eate, et \u00e9l\u00e9mentaire si il ne passe pas deux fois par le m\u00eame sommet. Un chemin simple reliant un sommet \u00e0 lui m\u00eame et contenant au moins un arc est appel\u00e9 un cycle (graphe non-orient\u00e9) ou un circuit (graphe orient\u00e9). Exemple Sur le graphe ci-dessus, a -> c -> d -> e est un chemin de a \u00e0 e , mais il n'est pas unique. On peut aussi avoir : a -> b -> c -> d -> e a -> c -> d -> b -> c -> d -> e et tous les chemins empruntant plusieurs fois le cycle b -> c -> d -> b Il n'existe par contre pas de chemins menant de d \u00e0 a . Longueur d'un chemin et distance entre deux sommets La longueur d'un chemin est d\u00e9finie comme \u00e9tant le nombre d'arcs/ar\u00eates composant ce chemin. La distance entre deux sommets est la longueur du plus petit chemin reliant ces deux sommets. Par convention la distance entre un sommet et lui-m\u00eame est 0, et n'est pas d\u00e9finie s'il n'existe pas de chemins entre les deux sommets. Exemple Dans le graphe pr\u00e9c\u00e9dent : Le chemin a -> b -> c -> d -> e est de longueur 4. La distance entre a et e est 3 (par le chemin a -> c -> d -> e ). Connexit\u00e9 Connexit\u00e9 Un graphe non-orient\u00e9 est dit connexe si il existe un chemin entre deux sommets quelconque du graphe (autrement dit il est en un seul morceau). Lorsqu'un graphe non-roient\u00e9 est compos\u00e9 de plusieurs morceaux, on chaque morceau est appel\u00e9 une composante connexe du graphe. Exemple Le graphe ci-dessus n'est pas connexe, mais poss\u00e8de deux composantes connexes : \\({0;1;2;3;4}\\) et \\({5;6;7;8}\\) . Warning Il existe des d\u00e9finitions similaires pour les graphes orient\u00e9s (faible connexit\u00e9 et forte connexit\u00e9), mais elles d\u00e9passent le cadre du programme. Un arbre est un graphe connexe acyclique . Graphes Eul\u00e9riens Cha\u00eene/Chemin Eul\u00e9rien Une Cha\u00eene/Chemin Eul\u00e9rien(ne) ou Parcours Eul\u00e9rien est une cha\u00eene/chemin qui passe une fois et une seule par chaque ar\u00eate du graphe. Un Cycle/Circuit Eul\u00e9rien , ou une Tourn\u00e9e Eul\u00e9rienne , est un cycle qui parcoure toutes les ar\u00eates/arcs du graphe une et une seule fois (en revenant au sommet initial) Trouver des Chemins Eul\u00e9riens Enonc\u00e9 R\u00e9ponses Pour chacun des graphes suivants, trouver lorsque c'est possible une cha\u00eene eul\u00e9rienne / un parcours eul\u00e9rien ( ce qui revient \u00e0 tracer le graphe sans lever le stylo, en ne passant qu'une et une seule fois par chaque ar\u00eate) : A venir ! Th\u00e9or\u00e8me d'Euler Pour un graphe non-orient\u00e9, le th\u00e9or\u00e8me d'Euler \u00e9nonce : Un graphe connexe admet un parcours eul\u00e9rien si et seulement si ses sommets sont tous de degr\u00e9 pair sauf au plus deux. Un graphe connexe admet un circuit eul\u00e9rien si et seulement si tous ses sommets sont de degr\u00e9 pair. Que peut-on conclure alors pour le probl\u00e8me des ponts de K\u00f6nigsberg ?","title":"Notion de Graphe"},{"location":"NSI/Terminale/C09/graphe/#les-graphes-definitions-et-vocabulaire","text":"Probl\u00e8me des sept ponts de K\u00f6nigsberg La ville de K\u00f6nigsberg (aujourd'hui Kaliningrad) est construite autour de deux \u00eeles situ\u00e9es sur le Pregel et reli\u00e9es entre elles par un pont. Six autres ponts relient les rives de la rivi\u00e8re \u00e0 l'une ou l'autre des deux \u00eeles, comme repr\u00e9sent\u00e9s sur le plan ci-dessus. Le probl\u00e8me consiste \u00e0 d\u00e9terminer s'il existe ou non une promenade dans les rues de K\u00f6nigsberg permettant, \u00e0 partir d'un point de d\u00e9part au choix, de passer une et une seule fois par chaque pont, et de revenir \u00e0 son point de d\u00e9part, \u00e9tant entendu qu'on ne peut traverser le Pregel qu'en passant sur les ponts. Le math\u00e9maticien Leonhard Euler donna la solution de ce probl\u00e8me en utilisant les pr\u00e9mices de ce qu'on appelera Th\u00e9orie des graphes","title":"Les graphes : d\u00e9finitions et vocabulaire"},{"location":"NSI/Terminale/C09/graphe/#graphes-orientes-et-non-orientes","text":"Graphe non oriernt\u00e9 et vocabulaire Un Graphe \\(G\\) est la donn\u00e9e de d'un ensemble fini de noeuds ( nodes en anglais) ou sommets ( vertices en anglais) reli\u00e9s entre eux par des liens ( edges en anglais). Si les liens sont : bidirectionnels (on peut les emprunter dans les deux sens), le graphe sera alors appel\u00e9 non-orient\u00e9 . On parlera alors de noeuds et les liens seront appel\u00e9s ar\u00eates , et repr\u00e9sent\u00e9s par des segments ; unidirectionnels (on peut les emprunter dans un seul sens), le graphe sera alors appel\u00e9 orient\u00e9 . On parlera alors de sommets et les liens seront appel\u00e9s arcs , et repr\u00e9sent\u00e9s par des fl\u00e8ches . Graphe du probl\u00e8me des ponts de K\u00f6nigsberg Le graphe suivant est un repr\u00e9sentatnt du probl\u00e8me des ponts de K\u00f6nigsberg : Les ponts pouvant \u00eatre franchis dans les deux sens, le graphe est non-orient\u00e9 . Les diff\u00e9rentes zones (berges et iles) sont les sommets \\(A, B, C, D\\) du graphe. les diff\u00e9rents ponts sont les ar\u00eates \\(a, b, c, d, e, f, g\\) . On dira qu'il s'agit d'une repr\u00e9sentation, car la forme du graphe n'est pas importante. Les dessins ci-dessous repr\u00e9sentent le m\u00eame graphe : Graphe d'\u00e9tat d'un procesus Dans le cours sur les processus, nous avons vu le sch\u00e9ma suivant : Le graphe est orient\u00e9 Les diff\u00e9rentes \u00e9tats sont les sommets d\u00e9part , Pr\u00eat , Elu , Bloqu\u00e9 et termin\u00e9 . les diff\u00e9rentes transitions sont les arcs R\u00e9veil , Election , Blocage , D\u00e9blocage et Fin . Voisinage Si il existe un arc d'un sommet \\(s\\) \u00e0 un sommet \\(t\\) , on dit que \\(t\\) est adjacent \u00e0 \\(s\\) , o\u00f9 que \\(t\\) est un voisin de \\(s\\) . Exemple Dans le graphe ci-dessous : A a pour voisins B , C et D ; B a pour voisins D et C ; C n'a aucun voisin ; D a pour voisin A . Divers vocabulaire L'ordre d'un graphe \\(G\\) est le nombre de sommets qui composent ce graphe, et est not\u00e9 \\(n = ord(G)\\) . La taille d'un graphe est le nombre d'arcs/ar\u00eates qui le composent. Le degr\u00e9 d'un sommet est le nombre d'ar\u00eates dont ce sommet est une extr\u00e9mit\u00e9. On dira qu'un graphe est complet si tous ses sommets sont adjacents les uns avec les autres. On dira qu'un sommet est isol\u00e9 s'il n'est reli\u00e9 a aucun autre sommet. On parlera de boucle lorsqu'un arc ou une ar\u00eate a ses deux extr\u00e9mit\u00e9s sur le meme sommet. Un graphe est simple lorsqu\u2019 un graphe n\u2019a aucune boucle et si deux ar\u00eates ne relient jamais les m\u00eames paires de sommets. Exemple : graphe de recherche de texte On consid\u00e8re le graphe suivant : Ce graphe est d'ordre 4 et de taille 9. Le noeud 2 est de degr\u00e9 4 Ce graphe n'est pas complet car le noeud 2 n'est pas pas reli\u00e9 \u00e0 1 . Il y a une boucle au noeud 0 , qui est donc d'ordre 6. Aucun sommet n'est isol\u00e9. Aventuriers du rail Enonc\u00e9 R\u00e9ponses \u00ab Les aventuriers du Rail \u00bb est un jeu de plateau qui a pour but de relier les gares de diff\u00e9rentes villes sur une carte pr\u00e9existante, pour ainsi cr\u00e9er son r\u00e9seau ferroviaire au d\u00e9triment des autres joueurs. Il existe diff\u00e9rentes versions du jeu, la carte ci-dessous \u00e9tant la carte de la version Europe. Une telle carte peut-\u00eatre mod\u00e9lis\u00e9e par un graphe. On en donne ci-dessous une partie en ayant extrait une partie des liaisons ferroviaires A quoi correspond chacun des sommets ? chaque ar\u00eate ? Quel est l\u2019ordre du graphe ? Quelle est sa taille ? Quel est le degr\u00e9 de Paris ? de Rome ? de Marseille ? Comment peut-on interpr\u00e9ter les r\u00e9sultats de la question 3 ? Ce graphe est-il complet ? A venir ! R\u00e9gion Midi-Pyr\u00e9n\u00e9es Enonc\u00e9 On donne ci-dessous un extrait de la carte de la France administrative ( avant remaniement des r\u00e9gions...). On s\u2019int\u00e9resse \u00e0 la r\u00e9gion Midi-Pyr\u00e9n\u00e9es et aux huit d\u00e9partements qui la composent. On s'int\u00e9resse aux fronti\u00e8res communes entre les d\u00e9partements de cette r\u00e9gion. Repr\u00e9senter cette carte par un graphe mettant en \u00e9vidence ce d\u00e9coupage. A quoi correspond chacun des sommets ? chaque ar\u00eate ? Quel est l'ordre du graphe ? sa taille ? Ce graphe est-il complet ? D\u00e9terminer le degr\u00e9 de chaque sommet. Une conjecture su les graphes non-orient\u00e9s Enonc\u00e9 r\u00e9ponses On consid\u00e8re l\u2019\u00e9chiquier \\(3 \\times 3\\) ci-dessous dans lequel on s\u2019int\u00e9resse au d\u00e9placement du cavalier noir. Repr\u00e9senter par un graphe cet \u00e9chiquier, les sommets \u00e9tant les cases de l'\u00e9chiquier, et les ar\u00eates repr\u00e9sentant les d\u00e9placementspossibles du cavalier. Quel est l'ordre de ce graphe ? Ce graphe est-il complet ? Que peut-on dire du sommet \\(b2\\) ? Compl\u00e9ter le tableau des d\u00e9gr\u00e9s des sommets du graphe. Calculer la somme des degr\u00e9s des sommets ainsi que le nombre d'ar\u00eates. Pour chacun des graphes suivants, calculer la somme des degr\u00e9s des sommets ainsi que le nombre d'ar\u00eates, puis \u00e9mettre une conjecture : A venir ! Lemme dit \u00ab des poign\u00e9es de main\u00bb Th\u00e9or\u00e8me Preuve La somme des degr\u00e9s des sommets d\u2019un graphe non orient\u00e9 est \u00e9gale au double du nombre d\u2019ar\u00eates du graphe. Lorsqu\u2019on additionne les degr\u00e9s des sommets, chaque ar\u00eate est compt\u00e9e deux fois, une fois pour chaque extr\u00e9mit\u00e9. Les poign\u00e9es de main Enonc\u00e9 Solution Les vingt-quatre maires des vingt-quatre communes de l\u2019\u00eele de la R\u00e9union se sont donn\u00e9 rendez-vous lors de l\u2019assembl\u00e9e g\u00e9n\u00e9rale de l\u2019Association des Maires du D\u00e9partement de la R\u00e9union (AMDR). \u00c0 cette occasion, chaque maire serre la main de tous les autres maires. Quel est le nombre de poign\u00e9es de mains \u00e9chang\u00e9es ? A venir !","title":"Graphes orient\u00e9s et non-orient\u00e9s"},{"location":"NSI/Terminale/C09/graphe/#hors-programme-le-langage-dot","text":"Il existe un ensemble d'outils informatiques sp\u00e9cialement d\u00e9di\u00e9s \u00e0 la cr\u00e9ation de graphes : GraphViz . Il en existe de nombreuses versions, mais vous pouvez en trouver une version en ligne ici , avec le graphe de l'exemple pr\u00e9c\u00e9dent comme exemple d'utilisation du langage. pour s'amuser un peu Enonc\u00e9 R\u00e9ponse Cr\u00e9er le graphe orient\u00e9 suivant : les sommets sont les nombres de 2 \u00e0 12 ; un arc existe entre a et b si et seulement si a est un multiple de b . La solution ici","title":"Hors programme : le langage dot"},{"location":"NSI/Terminale/C09/graphe/#graphes-ponderes","text":"Parfois il est n\u00e9cessaire d'associer une valeur aux arcs/ar\u00eates d'un graphe (orient\u00e9 ou non). On parle alors d'ajouter une pond\u00e9ration , et de graphes pond\u00e9r\u00e9s . Nous avons d\u00e9j\u00e0 rencontr\u00e9 ces graphes par exemple dans la partie routage, o\u00f9 les liaisons entre routeurs poss\u00e8dent : soit une distance ; soit une vitesse; Les valeurs de pond\u00e9rations sont donn\u00e9es directement \u00e0 c\u00f4t\u00e9 des arcs/ar\u00eates sur le graphe. Exemple Le graphe pond\u00e9r\u00e9 suivant repr\u00e9sente les distances routi\u00e8res minimales entre les villes de Paris ( P ), Lyon ( L ), Marseille ( M ), Nantes ( N ), Bordeaux ( B ) et Toulouse ( T ).","title":"Graphes pond\u00e9r\u00e9s"},{"location":"NSI/Terminale/C09/graphe/#chemins-et-cycles","text":"Chemins et cycles Dans un graphe donn\u00e9, une cha\u00eene (graphe non-orient\u00e9) ou un chemin (graphe orient\u00e9) reliant un sommet \\(u\\) \u00e0 un sommet \\(v\\) est une s\u00e9quence finie de sommets reli\u00e9s deux \u00e0 deux par des arcs/ar\u00eates et menant de \\(u\\) \u00e0 \\(v\\) . Un chemin est dit simple s'il n'emprunte pas deux fois le m\u00eame arc/ar\u00eate, et \u00e9l\u00e9mentaire si il ne passe pas deux fois par le m\u00eame sommet. Un chemin simple reliant un sommet \u00e0 lui m\u00eame et contenant au moins un arc est appel\u00e9 un cycle (graphe non-orient\u00e9) ou un circuit (graphe orient\u00e9). Exemple Sur le graphe ci-dessus, a -> c -> d -> e est un chemin de a \u00e0 e , mais il n'est pas unique. On peut aussi avoir : a -> b -> c -> d -> e a -> c -> d -> b -> c -> d -> e et tous les chemins empruntant plusieurs fois le cycle b -> c -> d -> b Il n'existe par contre pas de chemins menant de d \u00e0 a . Longueur d'un chemin et distance entre deux sommets La longueur d'un chemin est d\u00e9finie comme \u00e9tant le nombre d'arcs/ar\u00eates composant ce chemin. La distance entre deux sommets est la longueur du plus petit chemin reliant ces deux sommets. Par convention la distance entre un sommet et lui-m\u00eame est 0, et n'est pas d\u00e9finie s'il n'existe pas de chemins entre les deux sommets. Exemple Dans le graphe pr\u00e9c\u00e9dent : Le chemin a -> b -> c -> d -> e est de longueur 4. La distance entre a et e est 3 (par le chemin a -> c -> d -> e ).","title":"Chemins et cycles"},{"location":"NSI/Terminale/C09/graphe/#connexite","text":"Connexit\u00e9 Un graphe non-orient\u00e9 est dit connexe si il existe un chemin entre deux sommets quelconque du graphe (autrement dit il est en un seul morceau). Lorsqu'un graphe non-roient\u00e9 est compos\u00e9 de plusieurs morceaux, on chaque morceau est appel\u00e9 une composante connexe du graphe. Exemple Le graphe ci-dessus n'est pas connexe, mais poss\u00e8de deux composantes connexes : \\({0;1;2;3;4}\\) et \\({5;6;7;8}\\) . Warning Il existe des d\u00e9finitions similaires pour les graphes orient\u00e9s (faible connexit\u00e9 et forte connexit\u00e9), mais elles d\u00e9passent le cadre du programme. Un arbre est un graphe connexe acyclique .","title":"Connexit\u00e9"},{"location":"NSI/Terminale/C09/graphe/#graphes-euleriens","text":"Cha\u00eene/Chemin Eul\u00e9rien Une Cha\u00eene/Chemin Eul\u00e9rien(ne) ou Parcours Eul\u00e9rien est une cha\u00eene/chemin qui passe une fois et une seule par chaque ar\u00eate du graphe. Un Cycle/Circuit Eul\u00e9rien , ou une Tourn\u00e9e Eul\u00e9rienne , est un cycle qui parcoure toutes les ar\u00eates/arcs du graphe une et une seule fois (en revenant au sommet initial) Trouver des Chemins Eul\u00e9riens Enonc\u00e9 R\u00e9ponses Pour chacun des graphes suivants, trouver lorsque c'est possible une cha\u00eene eul\u00e9rienne / un parcours eul\u00e9rien ( ce qui revient \u00e0 tracer le graphe sans lever le stylo, en ne passant qu'une et une seule fois par chaque ar\u00eate) : A venir ! Th\u00e9or\u00e8me d'Euler Pour un graphe non-orient\u00e9, le th\u00e9or\u00e8me d'Euler \u00e9nonce : Un graphe connexe admet un parcours eul\u00e9rien si et seulement si ses sommets sont tous de degr\u00e9 pair sauf au plus deux. Un graphe connexe admet un circuit eul\u00e9rien si et seulement si tous ses sommets sont de degr\u00e9 pair. Que peut-on conclure alors pour le probl\u00e8me des ponts de K\u00f6nigsberg ?","title":"Graphes Eul\u00e9riens"},{"location":"NSI/Terminale/C09/graphe_python/","text":"Mod\u00e9lisation de graphes en Python Interface d'un graphe Il existe de nombreuses mani\u00e8res d' impl\u00e9menter un graphe, mais dans de nombreux cas l' interface recherch\u00e9e est assez simple \u00e0 concevoir. A ce titre l'utilisation d'une classe semble \u00eatre judicieuse. Afin de d\u00e9finir l'interface choisie nous devons d'abord consid\u00e9r\u00e9r les sp\u00e9cifications minimales de la cr\u00e9ation d'un graphe, orient\u00e9 ou non, et \u00e9ventuellement pond\u00e9r\u00e9 : Obtenir un graphe vide par une m\u00e9thode constructeur Etre capable d'ajouter un noeud/sommet \u00e0 un graphe existant. Etre capable d'ajouter des ar\u00eates/arcs \u00e0 un graphe existant, avec une \u00e9ventuelle pond\u00e9ration . Obtenir la liste des voisins d'un sommet. Une fois ces op\u00e9rations \u00e9l\u00e9mentaires impl\u00e9ment\u00e9es, nous pourrons rajouter des possibilit\u00e9s suppl\u00e9mentaires, comme par exemple obtenir l'ordre du graphe, sa taille ; obtenir donc le degr\u00e9 d'un sommet ; savoir si il existe un parcours eul\u00e9rien ou un cycle eul\u00e9rien dans ce graphe ; parcourir ce graphe en partant d'un sommet donn\u00e9 ; rep\u00e9rer les \u00e9ventuels cycles du graphe ; appliquer un algorithme sp\u00e9cifique, comem celui de Dijkstra par exemple. Pour commencer, nous allons donc d\u00e9finir une classe Graph , dont l'interface minimale sera la suivante (des ajustements seront possibles selon si le graphe est orient\u00e9 ou non, pond\u00e9r\u00e9 ou non) : M\u00e9thode Arguments Valeur de retour Description __init__ aucun ou ordre n du graphe aucune Cr\u00e9e un graphe vide, d'ordre n b si n\u00e9cessaire add_vertice aucun ou label du sommet aucune Ajoute un sommet d'\u00e9tiquette label si n\u00e9cesaire add_edge s et e , p \u00e9ventuellement aucune Ajoute un arc allant de s \u00e0 e , avec la pond\u00e9ration p si n\u00e9cessaire exist_edge s et e bool\u00e9en Renvoie True si il existe un arc entre s et e get_neighbours s it\u00e9rable renvoie un it\u00e9rable contenant les voisins de s Impl\u00e9mentation par une Matrice d'adjacence Matrice d'adjacence Une des possibilit\u00e9s pour repr\u00e9senter un graphe est d'utiliser ce qu'on appelle une matrice d'adjacence . Dans ce type de repr\u00e9sentation, les sommets sont ordonn\u00e9s , et consid\u00e9r\u00e9s comme \u00e9tiquet\u00e9s par des entiers de \\(0\\) \u00e0 \\(n-1\\) , o\u00f9 \\(n\\) est l'ordre du graphe. Dans cette repr\u00e9sentation, le coefficient \\(a_{i~j}\\) de la matrice vaut : \\(0\\) si il n'existe pas d'arc entre les sommets \\(i\\) et \\(j\\) ; \\(1\\) ou la pond\u00e9ration \\(p\\) si il existe un arc entre les sommets \\(i\\) et \\(j\\) . Exemples la matrice d'adjacence \\(M = \\begin{pmatrix} 0 & 1 & 0 & 1\\\\ 0 & 0 & 1 & 1\\\\ 0 & 1 & 1 & 0 \\\\ 0 & 0 & 1 & 0 \\end{pmatrix}\\) correspond au graphe suivant, avec les sommets dans l'ordre num\u00e9rique la matrice d'adjacence \\(M = \\begin{pmatrix} 0 & 1 & 1 \\\\ 1 & 0 & 1 \\\\ 1 & 1 & 0 \\end{pmatrix}\\) correspond au graphe suivant, avec les sommets dans l'ordre num\u00e9rique la matrice d'adjacence \\(M = \\begin{pmatrix} 0 & 10 & 0 & 0 \\\\ 0 & 0 & 20 & 0 \\\\ 40 & 0 & 0 & 30 \\\\ 5 & 0 & 0 & 0 \\end{pmatrix}\\) correspond au graphe suivant, avec les sommets dans l'ordre alphab\u00e9tique Associer Matrices d'adjacence et graphes Enonc\u00e9 D\u00e9terminer la matrice d'adjacence associ\u00e9e \u00e0 ce graphe D\u00e9terminer la matrice d'adjacence associ\u00e9e \u00e0 ce graphe D\u00e9terminer la matrice d'adjacence associ\u00e9e \u00e0 ce graphe D\u00e9terminer la matrice d'adjacence associ\u00e9e \u00e0 ce graphe Tracer un graphe pouvant correspondre \u00e0 la matrice \\(\\begin{pmatrix} 1 & 0 & 1 \\\\ 0 & 0 & 0 \\\\ 1 & 1 & 1 \\\\ \\end{pmatrix}\\) Est-ce un graphe orient\u00e9 ou non-orient\u00e9 ? Tracer un graphe pouvant correspondre \u00e0 la matrice \\(\\begin{pmatrix} 1 & 0 & 1 & 1 & 1 \\\\ 0 & 0 & 1 & 0 & 1 \\\\ 1 & 1 & 1 & 0 & 1 \\\\ 1 & 0 & 0 & 0 & 1 \\\\ 1 & 1 & 1 & 1 & 0 \\end{pmatrix}\\) . Est-ce un graphe orient\u00e9 ou non-orient\u00e9 ? Tracer un graphe pouvant correspondre \u00e0 la matrice \\(\\begin{pmatrix} 1 & 2 & 3 \\\\ 10 & 20 & 30 \\\\ 100 & 200 & 300 \\\\ \\end{pmatrix}\\) Est-ce un graphe orient\u00e9 ou non-orient\u00e9 ? Quelle propri\u00e9t\u00e9 semble poss\u00e9der les matrices d'adjacence d'un graphe non-orient\u00e9 ? Impl\u00e9mentation en Python Enonc\u00e9 R\u00e9ponses Le code suivant permet d'impl\u00e9menter en partie l'interface voulue d'un graphe avec une matrice d'adjacence : class Graph : def __init__ ( self , n = 0 ) : self . n = n self . adj = [[ 0 ] * n for _ in range ( n )] def add_vertice ( self ) : self . n += 1 for l in self . adj : l . append ( 0 ) self . adj . append ([ 0 ] * ( self . n )) def add_edge ( self , s , e , p = 1 ) : self . adj [ s ][ e ] = p Ajouter une m\u00e9thode DUNDERS __repr__ afin qu'elle renvoie la cha\u00eene de caract\u00e8re correspondant \u00e0 la matrice d'adjacence (et donc directement utilisable par l'instruction print(G) ). Pour des raisons de facilit\u00e9s d'\u00e9critures, on pourra utiliser le formatage automatique des cha\u00eenes de caract\u00e8res, comme par exemple : `python >>> e = 15 >>> f\"BOB{e: >3}\" BOB 15 o\u00f9 l'expression e: >3 signifie d'\u00e9crire e sous la forme d'une cha\u00eene de caract\u00e8res align\u00e9e \u00e0 droite d'au moins 3 caract\u00e8res, des espaces \u00e9tant ins\u00e9r\u00e9s si n\u00e9cessaire. Compl\u00e9ter la m\u00e9thode exist_edge de la classe Graph pour qu'elle corresponde aux sp\u00e9cifications de l'interface. Compl\u00e9ter la m\u00e9thode get_neighbours de la classe Graph pour qu'elle corresponde aux sp\u00e9cifications de l'interface. Ajouter une m\u00e9thode get_order \u00e0 la classe Graph pour qu'elle renvoie l'ordre du graphe. Ajouter une m\u00e9thode get_degree \u00e0 la classe Graph pour qu'elle renvoie le degr\u00e9 d'un sommet pass\u00e9 en argument. Ajouter une m\u00e9thode get_vertices \u00e0 la classe Graph qui renvoie la liste des sommets. Ajouter une m\u00e9thode is_directed \u00e0 la classe Graph pour qu'elle renvoie True si le graphe est orient\u00e9 et False sinon. Ajouter une m\u00e9thode is_undirected_and_eulerian qui renvoie : False si le graphe est non-orient\u00e9 et qu'il n'existe pas de parcours eul\u00e9rien du graphe True si le graphe est non-orient\u00e9 et qu'il existe un cycle eul\u00e9rien. un tuple (s,e) donnant les sommlets de d\u00e9part et d'arriv\u00e9e d'un \u00e9ventuel chemin eul\u00e9rien. Ajouter une m\u00e9thode delete_edge \u00e0 la classe Graph pour qu'elle supprime l'arc situ\u00e9 entre les sommets s et e pass\u00e9s en argument. class Graph : def __init__ ( self , n = 0 ) : self . n = n self . adj = [[ 0 ] * n for _ in range ( n )] def add_vertice ( self ) : self . n += 1 for l in self . adj : l . append ( 0 ) self . adj . append ([ 0 ] * ( self . n )) def add_edge ( self , s , e , p = 1 ) : self . adj [ s ][ e ] = p def exist_edge ( self , s , e ) : return self . adj [ s ][ e ] != 0 def get_order ( self ) : return self . n def get_neighbours ( self , s ) : neighbours = [] for i in range ( self . n ) : if self . adj [ s ][ i ] != 0 : neighbours . append ( i ) return neighbours def get_degree ( self , s ): deg = 0 for i in range ( self . n ) : deg += self . adj [ s ][ i ] != 0 deg += self . adj [ i ][ s ] != 0 return deg def get_vertices ( self ) : return [ i for i in range ( self . n )] def is_directed ( self ) : for i in range ( self . n ) : for j in range ( i , self . n ) : if self . adj [ i ][ j ] != self . adj [ j ][ i ] : return True return False def is_undirected_and_eulerian ( self ) : if self . is_directed () : return False degrees = [] for i in range ( self . n ) : # ATTENTION ! La m\u00e9thode get_degree renvoie le double # du degr\u00e9 r\u00e9el dans le cas d'un graphe non-orient\u00e9 # Pour que le th\u00e9or\u00e8me d'Euler fonctionne # il faut donc diviser par 2 la valeur obtenue ! degrees . append (( self . get_degree ( i ) // 2 ) % 2 ) print ( degrees ) if sum ( degrees ) == 0 : return True elif sum ( degrees ) == 2 : return degrees . index ( 1 ), self . n - 1 - degrees [:: - 1 ] . index ( 1 ) return False def delete ( self , s , e ) : self . adj [ s ][ e ] = 0 def __repr__ ( self ) : rep = \"\" for l in self . adj : for e in l : rep += f ' { e : >3 } ' rep += \" \\n \" return rep Limites du mod\u00e8le Si l'utilisation d'une matrice d'adjacence sous la forme pr\u00e9sent\u00e9e est tr\u00e8s utile d'un point de vue math\u00e9matique (voir par exemple la propri\u00e9t\u00e9 de l'it\u00e9r\u00e9e sur la page wikipedia ), et tr\u00e8s facile \u00e0 mettre en oeuvre, elle poss\u00e8de n\u00e9anmoins ceryaines limites : Elle utilise une place en m\u00e9moire proportionnelle \u00e0 \\(n^2\\) . Pour un graphe de 1000 sommets, il faudra plus d'un million d'entiers pour stocker cette matrice d'adjacence, ce qui commence \u00e0 \u00eatre consid\u00e9rable; Pour conna\u00eetre les voisins d'un sommet, il faut parcourir la totalit\u00e9 de la lign,e correspondant \u00e0 ce sommet, ce qui peut rapidement \u00eatre trop long . Les sommets sont limit\u00e9s \u00e0 des entiers, ou \u00e0 un ordre d\u00e9fini, et il est difficile d'int\u00e9grer de nouveau sommets qui ne respecteraient pas la convention fix\u00e9e. Impl\u00e9mentation par un dictionnaire Pour r\u00e9duire la taille prise en m\u00e9moire par la matrice d'adjacence, il est possible d'utiliser un dictionnaire de voisinage. Ce dictionnaire apportera en plus la capacit\u00e9 d'avoir des cha\u00eenes des caract\u00e8res comme identifiant des sommets. Selon que le graphe soit pond\u00e9r\u00e9 ou non, on aura quelques diff\u00e9rences dans l'impl\u00e9mentation. Graphe non pond\u00e9r\u00e9 Impl\u00e9mentation en Python Enonc\u00e9 Solution Le code suivant permet d'impl\u00e9menter en partie l'interface voulue d'un graphe avec un dictionnaire de voisinage : class Graph : def __init__ ( self ) : self . vertice = {} def add_vertice ( self , s ) : if s not in self . vertice : self . vertice [ s ] = set () # cr\u00e9e un objet set vide, et graranti l'unicit\u00e9 de chaque \u00e9l\u00e9ment def add_edge ( self , s , e ) : self . add_vertice ( s ) self . add_vertice ( e ) self . vertice [ s ] . add ( e ) # La m\u00e9thode add des objets de type set fonctionne comme append Ajouter une m\u00e9thode DUNDERS __repr__ afin qu'elle renvoie la cha\u00eene de caract\u00e8re correspondant \u00e0 la matrice d'adjacence (et donc directement utilisable par l'instruction print(G) ). Compl\u00e9ter la m\u00e9thode exist_edge de la classe Graph pour qu'elle corresponde aux sp\u00e9cifications de l'interface. Compl\u00e9ter la m\u00e9thode get_neighbours de la classe Graph pour qu'elle corresponde aux sp\u00e9cifications de l'interface. Ajouter une m\u00e9thode get_order \u00e0 la classe Graph pour qu'elle renvoie l'ordre du graphe. Ajouter une m\u00e9thode get_degree \u00e0 la classe Graph pour qu'elle renvoie le degr\u00e9 d'un sommet pass\u00e9 en argument. Ajouter une m\u00e9thode get_vertices \u00e0 la classe Graph qui renvoie la liste des sommets. Ajouter une m\u00e9thode is_directed \u00e0 la classe Graph pour qu'elle renvoie True si le graphe est orient\u00e9 et False sinon. Ajouter une m\u00e9thode is_undirected_and_eulerian qui renvoie : False si le graphe est non-orient\u00e9 et qu'il n'existe pas de parcours eul\u00e9rien du graphe True si le graphe est non-orient\u00e9 et qu'il existe un cycle eul\u00e9rien. un tuple (s,e) donnant les sommlets de d\u00e9part et d'arriv\u00e9e d'un \u00e9ventuel chemin eul\u00e9rien. Ajouter une m\u00e9thode delete_edge \u00e0 la classe Graph pour qu'elle supprime l'arc situ\u00e9 entre les sommets s et e pass\u00e9s en argument. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 class Graph : def __init__ ( self ) : self . vertice = {} def add_vertice ( self , s ) : if s not in self . vertice : self . vertice [ s ] = set () # cr\u00e9e un objet set vide, et graranti l'unicit\u00e9 de chaque \u00e9l\u00e9ment def add_edge ( self , s , e ) : self . add_vertice ( s ) self . add_vertice ( e ) self . vertice [ s ] . add ( e ) # La m\u00e9thode add des objets de type set fonctionne comme append def exist_edge ( self , s , e ) : return e in self . vertice [ s ] def get_vertices ( self ) : return self . vertice . keys () def get_order ( self ) : return len ( self . vertice . keys ()) def get_degree ( self , s ) : return len ( self . vertice [ s ]) def get_neighbours ( self , s ) : return list ( self . vertice [ s ]) def is_directed ( self ) : for s in self . get_vertices () : for t in self . get_neighbours ( s ) : if s not in self . get_neighbours ( t ) : return True return False def is_undirected_and_eulerian ( self ) : if self . is_directed () : return False degrees = [] for s in self . get_vertices () : degrees . append ( self . get_degree ( s ) % 2 ) if sum ( degrees ) == 0 : return True elif sum ( degrees ) == 2 : return degrees . index ( 1 ), self . get_order () - 1 - degrees [:: - 1 ] . index ( 1 ) return False def delete_edge ( self , s , e ) : self . vertices [ s ] . remove ( e ) def __repr__ ( self ) : rep = \"\" for s in self . get_vertices () : rep += f \" { s } : \\n \" for t in self . vertice [ s ] : rep += f \" -> { t } \\n \" return rep Graphes pond\u00e9r\u00e9s Il existe plusieurs m\u00e9thodes permettant d'ajouter une pond\u00e9ration sur chaque arc : on peut ajouter dans le dictionnaire de voisinage un tuple contenant \u00e0 la fois le nom et le poids de l'arc consid\u00e9r\u00e9 ; on peut aussi ajouter un autre dictionnaire parall\u00e8le \u00e0 self.adj dont les cl\u00e9s sont les couples de sommets et les valeurs le poids de l'arc consid\u00e9r\u00e9. Impl\u00e9mentation en Python avec un tuple Enonc\u00e9 Le code suivant permet d'impl\u00e9menter en partie l'interface voulue d'un graphe avec un dictionnaire de voisinage et une pond\u00e9ration : class Graph : def __init__ ( self ) : self . vertice = {} def add_vertice ( self , s ) : if s not in self . vertice : self . vertice [ s ] = set () # cr\u00e9e un objet set vide, et graranti l'unicit\u00e9 de chaque \u00e9l\u00e9ment def add_edge ( self , s , e , p = 1 ) : self . add_vertice ( s ) self . add_vertice ( e ) self . vertice [ s ] . add (( e , p )) Quels sont les changements \u00e0 apporter aux autres m\u00e9thodes par rapport \u00e0 la situation sans pond\u00e9ration ? Impl\u00e9mentation en Python avec un dictionnaire d'arcs Enonc\u00e9 r\u00e9ponses Le code suivant permet d'impl\u00e9menter en partie l'interface voulue d'un graphe avec un dictionnaire de voisinage et une pond\u00e9ration : class Graph : def __init__ ( self ) : self . vertice = {} self . edges = {} def add_vertice ( self , s ) : if s not in self . vertice : self . vertice [ s ] = set () def add_edge ( self , s , e , p = 1 ) : self . add_vertice ( s ) self . add_vertice ( e ) self . vertice [ s ] . add ( e ) self . edges [( s , e )] = p Quels sont les changements \u00e0 apporter aux autres m\u00e9thodes par rapport \u00e0 la situation pr\u00e9c\u00e9dente ? A venir Notion d'h\u00e9ritage (hors programme) Construction d'un graphe non-orient\u00e9 Dans toutes les impl\u00e9mentations que nous avons jusqu'ici cr\u00e9\u00e9es, nous sommes rest\u00e9 sur une notion de graphe orient\u00e9. Plus pr\u00e9cis\u00e9mment, pour cr\u00e9er un graphe non orient\u00e9 tel que celui ci-contre \u00e0 partir d'une des impl\u00e9mentations pr\u00e9c\u00e9dentes, il faudra utiliser le code suivant : G = Graph () G . add_edge ( 0 , 1 , 20 ) G . add_edge ( 1 , 0 , 20 ) G . add_edge ( 0 , 2 , 128 ) G . add_edge ( 2 , 0 , 128 ) G . add_edge ( 1 , 2 , 42 ) G . add_edge ( 2 , 1 , 42 ) On se retrouve donc \u00e0 devoir doubler les lignes \u00e0 chaque cr\u00e9ation d'ar\u00eate... Ce qui n'est pas du tout ergonomique... Bien entendu, il est possible de cr\u00e9er de nouveau une nouvelle classe qui impl\u00e9menterait cette possibilit\u00e9 imm\u00e9diatement. Mais il exsite aussi en POO une notion fondamentale qui va nous permettre, sans changer le code de notre classe Graph actuelle et en effectuant qu'un codage minimal, de cr\u00e9er une nouvelle classe permettant d'impl\u00e9menter sp\u00e9cifiquement des graphes non orient\u00e9s. Il s'agit de le notion d' h\u00e9ritage de classe . Sans rentrer dans les d\u00e9tails(que vous pouvez par exemple trouver ici ), il s'agira de cr\u00e9er une classe fille h\u00e9ritant de toutes les capacit\u00e9s de la classe m\u00e8re - attributs et m\u00e9thodes, mais dans laquelle on pourra rajouter ou modifier des caract\u00e9ristiques sp\u00e9cifiques. Ainsi, en simplifiant, on peut dire qu'un graphe non-orient\u00e9 est un graphe orient\u00e9 dans lequel les arcs sont doubl\u00e9s. Les graphes non-orient\u00e9s sont donc une sous-classe des graphes orient\u00e9s, d'un point de vue codage. Voici le code permettant de cr\u00e9er cette nouvelle classe : 1 2 3 4 5 6 7 class UndirectedGraph ( Graph ) : def __init__ ( self ) : super () . __init__ () def add_edge ( self , s , e , p = 1 ) : super () . add_edge ( s , e , p ) super () . add_edge ( e , s , p ) En ligne 1, on cr\u00e9e une classe UndirectedGraph , qui d\u00e9rive , ou h\u00e9rite de la classe Graph . En ligne 2, on d\u00e9finit la m\u00e9thode constructeur des objets de classe UndirectedGraph . Celle-ci se compose d'une unique ligne, disant simplement que l'initialisation d'un objet de classe UndirectedGraph se fait de la m\u00eame mani\u00e8re qu'un objet de la classe m\u00e8re Graph , par l'interm\u00e9diaire du mot-cl\u00e9 super() . On fait ainsi appel \u00e0 la m\u00e9thode constructeur de la classe Graph pour construire un objet de classe UndirectedGraph . En ligne 5, on va red\u00e9finir la m\u00e9thode add_edge . On appelle une telle red\u00e9finition un surcharge de m\u00e9thode. Il s'agira en fait d'appeler deux fois la m\u00e9thode add_edge de la classe Graph , encore une fois en utilisant le mot-cl\u00e9 super() . Une fois cette nouvelle classe cr\u00e9\u00e9, elle peut \u00eatre directement utilis\u00e9e tout en conservant toutes les m\u00e9thodes de la classe m\u00e8re : 1 2 3 4 5 6 7 G = UndirectedGraph () G . add_edge ( 0 , 1 , 20 ) G . add_edge ( 0 , 2 , 128 ) G . add_edge ( 2 , 1 , 42 ) G . get_neighbours ( 1 ) G . get_order () print ( G ) Dans le code ci-dessus, m\u00eame si nous n'avons pas surcharg\u00e9 les m\u00e9thodes get_neighbours , get_order et la m\u00e9thode DUNDERS __repr__ , elles demeurent accessible \u00e0 tout objet de classe UndirectedGraph , puisque directement h\u00e9rit\u00e9es de la classe m\u00e8re Graph . Objets en Python En Python, tout est objet. Cette phrase n'est pas qu'une d\u00e9claration de principe, puisqu'il existe une classe g\u00e9n\u00e9rique (appel\u00e9e classe abstraite ) Object , dont d\u00e9rivent toutes les autres classes, comme int , float , tuple ,... Polymorphisme Il est tout \u00e0 fait possible de faire h\u00e9riter une classe de plusieurs autres classes. Cette notion s'appelle le polymorphisme , mais est compl\u00e8tement hors du programme de terminale... Exemple d'utilisation : Coloration d'un graphe Th\u00e9or\u00e8me des 4 couleurs Le th\u00e9or\u00e8me des 4 couleurs est un th\u00e9or\u00e8me classique de th\u00e9orie des graphes. D'apr\u00e8s wikipedia : \u00ab Le th\u00e9or\u00e8me des quatre couleurs indique qu'il est possible, en n'utilisant que quatre couleurs diff\u00e9rentes , de colorier n'importe quelle carte d\u00e9coup\u00e9e en r\u00e9gions connexes, de sorte que deux r\u00e9gions adjacentes (ou limitrophes), c'est-\u00e0-dire ayant toutes une fronti\u00e8re (et non simplement un point) en commun re\u00e7oivent toujours deux couleurs distinctes. L'\u00e9nonc\u00e9 peut varier et concerner, de mani\u00e8re tout \u00e0 fait \u00e9quivalente, la coloration des faces d'un poly\u00e8dre ou celle des sommets d'un graphe planaire, en rempla\u00e7ant la carte par un graphe dont les sommets sont les r\u00e9gions et les ar\u00eates sont les fronti\u00e8res entre r\u00e9gions. [...] M\u00eame si l'\u00e9nonc\u00e9 de ce th\u00e9or\u00e8me est \u00e9l\u00e9mentaire, on n'en conna\u00eet pas de preuve simple. Les d\u00e9monstrations connues d\u00e9composent le probl\u00e8me en un nombre de sous-cas tellement important qu'elles n\u00e9cessitent l'assistance d'un ordinateur pour \u00eatre v\u00e9rifi\u00e9es. Le th\u00e9or\u00e8me se g\u00e9n\u00e9ralise \u00e0 certaines classes de graphes non planaires. Cependant, lorsqu'on g\u00e9n\u00e9ralise le probl\u00e8me \u00e0 un graphe quelconque, il devient NP-complet de d\u00e9terminer s'il est coloriable avec seulement quatre couleurs (ou m\u00eame trois). \u00bb Si cette possibilit\u00e9 de colorier avec au maximum 4 couleurs existe, il est par contre parfois difficile de trouver un coloriage qui corresponde r\u00e9ellement. Il est cependant possible d'utiliser un algorithme glouton qui trouvera un coloriage \u00ab presque \u00bb optimal. Cr\u00e9ation de l'algorithme de coloriage Enonc\u00e9 R\u00e9ponses Consid\u00e9rons la carte des r\u00e9gions fran\u00e7aises suivantes : et le code suivant permettant de cr\u00e9\u00e9r un graphe non-orient\u00e9 correspondant \u00e0 cette carte dans le fichier suivant (en utilisant la classe UndirectedGraph ). Le principe de l'algorithme et le suivant : les couleurs seront repr\u00e9sent\u00e9es par des entiers, en partant de \\(0\\) ; on prend un sommet du graphe au hasard, on regarde les couleurs d\u00e9j\u00e0 donn\u00e9es \u00e0 ses voisins, et on lui donnera comme couleur la plus petite valeur non-affect\u00e9e \u00e0 un de ses voisins. Afin de cr\u00e9er les fonctions n\u00e9cessaires : Cr\u00e9er une fonction min_neighbours_color prenant deux arguments : voisins : un it\u00e9rable contenant une liste de noms de r\u00e9gions couleur : un dictionnaire associant \u00e0 des noms de r\u00e9gions le num\u00e9ro de couleur qui lui est associ\u00e9. et qui renvoie la valeur de couleur la plus petite non associ\u00e9es aux voisins. Par exemple : >>> min_couleurs_voisins ([ \"Normandie\" , \"Pays de la Loire\" ], { \"Normandie\" : 0 , \"Pays de la Loire\" : 2 , \"\u00cele-de-France\" : 1 }) 1 >>> min_couleurs_voisins ([], { \"Normandie\" : 0 , \"Pays de la Loire\" : 2 , \"\u00cele-de-France\" : 1 }) 0 >>> min_couleurs_voisins ([ \"Hauts-de-France\" ], { \"Normandie\" : 0 , \"Pays de la Loire\" : 2 , \"\u00cele-de-France\" : 1 }) 0 >>> min_couleurs_voisins ([ \"Normandie\" , \"Pays de la Loire\" , \"\u00cele-de-France\" ], { \"Normandie\" : 0 , \"Pays de la Loire\" : 2 , \"\u00cele-de-France\" : 1 }) 3 Construire enfin une fonction color_graph qui prend en argument un graphe et une r\u00e9gion de d\u00e9part et renvoie un tuple contenant : le nombre de couleurs utilis\u00e9es ; un dictionnaire affectant \u00e0 chaque r\u00e9gion sa couleur. Combien de couleurs sont alors utilis\u00e9es ? Pouvez-vous donner un coloriage utilisant exactement 4 couleurs ? A venir !","title":"Les graphes en Python"},{"location":"NSI/Terminale/C09/graphe_python/#modelisation-de-graphes-en-python","text":"","title":"Mod\u00e9lisation de graphes en Python"},{"location":"NSI/Terminale/C09/graphe_python/#interface-dun-graphe","text":"Il existe de nombreuses mani\u00e8res d' impl\u00e9menter un graphe, mais dans de nombreux cas l' interface recherch\u00e9e est assez simple \u00e0 concevoir. A ce titre l'utilisation d'une classe semble \u00eatre judicieuse. Afin de d\u00e9finir l'interface choisie nous devons d'abord consid\u00e9r\u00e9r les sp\u00e9cifications minimales de la cr\u00e9ation d'un graphe, orient\u00e9 ou non, et \u00e9ventuellement pond\u00e9r\u00e9 : Obtenir un graphe vide par une m\u00e9thode constructeur Etre capable d'ajouter un noeud/sommet \u00e0 un graphe existant. Etre capable d'ajouter des ar\u00eates/arcs \u00e0 un graphe existant, avec une \u00e9ventuelle pond\u00e9ration . Obtenir la liste des voisins d'un sommet. Une fois ces op\u00e9rations \u00e9l\u00e9mentaires impl\u00e9ment\u00e9es, nous pourrons rajouter des possibilit\u00e9s suppl\u00e9mentaires, comme par exemple obtenir l'ordre du graphe, sa taille ; obtenir donc le degr\u00e9 d'un sommet ; savoir si il existe un parcours eul\u00e9rien ou un cycle eul\u00e9rien dans ce graphe ; parcourir ce graphe en partant d'un sommet donn\u00e9 ; rep\u00e9rer les \u00e9ventuels cycles du graphe ; appliquer un algorithme sp\u00e9cifique, comem celui de Dijkstra par exemple. Pour commencer, nous allons donc d\u00e9finir une classe Graph , dont l'interface minimale sera la suivante (des ajustements seront possibles selon si le graphe est orient\u00e9 ou non, pond\u00e9r\u00e9 ou non) : M\u00e9thode Arguments Valeur de retour Description __init__ aucun ou ordre n du graphe aucune Cr\u00e9e un graphe vide, d'ordre n b si n\u00e9cessaire add_vertice aucun ou label du sommet aucune Ajoute un sommet d'\u00e9tiquette label si n\u00e9cesaire add_edge s et e , p \u00e9ventuellement aucune Ajoute un arc allant de s \u00e0 e , avec la pond\u00e9ration p si n\u00e9cessaire exist_edge s et e bool\u00e9en Renvoie True si il existe un arc entre s et e get_neighbours s it\u00e9rable renvoie un it\u00e9rable contenant les voisins de s","title":"Interface d'un graphe"},{"location":"NSI/Terminale/C09/graphe_python/#implementation-par-une-matrice-dadjacence","text":"Matrice d'adjacence Une des possibilit\u00e9s pour repr\u00e9senter un graphe est d'utiliser ce qu'on appelle une matrice d'adjacence . Dans ce type de repr\u00e9sentation, les sommets sont ordonn\u00e9s , et consid\u00e9r\u00e9s comme \u00e9tiquet\u00e9s par des entiers de \\(0\\) \u00e0 \\(n-1\\) , o\u00f9 \\(n\\) est l'ordre du graphe. Dans cette repr\u00e9sentation, le coefficient \\(a_{i~j}\\) de la matrice vaut : \\(0\\) si il n'existe pas d'arc entre les sommets \\(i\\) et \\(j\\) ; \\(1\\) ou la pond\u00e9ration \\(p\\) si il existe un arc entre les sommets \\(i\\) et \\(j\\) . Exemples la matrice d'adjacence \\(M = \\begin{pmatrix} 0 & 1 & 0 & 1\\\\ 0 & 0 & 1 & 1\\\\ 0 & 1 & 1 & 0 \\\\ 0 & 0 & 1 & 0 \\end{pmatrix}\\) correspond au graphe suivant, avec les sommets dans l'ordre num\u00e9rique la matrice d'adjacence \\(M = \\begin{pmatrix} 0 & 1 & 1 \\\\ 1 & 0 & 1 \\\\ 1 & 1 & 0 \\end{pmatrix}\\) correspond au graphe suivant, avec les sommets dans l'ordre num\u00e9rique la matrice d'adjacence \\(M = \\begin{pmatrix} 0 & 10 & 0 & 0 \\\\ 0 & 0 & 20 & 0 \\\\ 40 & 0 & 0 & 30 \\\\ 5 & 0 & 0 & 0 \\end{pmatrix}\\) correspond au graphe suivant, avec les sommets dans l'ordre alphab\u00e9tique Associer Matrices d'adjacence et graphes Enonc\u00e9 D\u00e9terminer la matrice d'adjacence associ\u00e9e \u00e0 ce graphe D\u00e9terminer la matrice d'adjacence associ\u00e9e \u00e0 ce graphe D\u00e9terminer la matrice d'adjacence associ\u00e9e \u00e0 ce graphe D\u00e9terminer la matrice d'adjacence associ\u00e9e \u00e0 ce graphe Tracer un graphe pouvant correspondre \u00e0 la matrice \\(\\begin{pmatrix} 1 & 0 & 1 \\\\ 0 & 0 & 0 \\\\ 1 & 1 & 1 \\\\ \\end{pmatrix}\\) Est-ce un graphe orient\u00e9 ou non-orient\u00e9 ? Tracer un graphe pouvant correspondre \u00e0 la matrice \\(\\begin{pmatrix} 1 & 0 & 1 & 1 & 1 \\\\ 0 & 0 & 1 & 0 & 1 \\\\ 1 & 1 & 1 & 0 & 1 \\\\ 1 & 0 & 0 & 0 & 1 \\\\ 1 & 1 & 1 & 1 & 0 \\end{pmatrix}\\) . Est-ce un graphe orient\u00e9 ou non-orient\u00e9 ? Tracer un graphe pouvant correspondre \u00e0 la matrice \\(\\begin{pmatrix} 1 & 2 & 3 \\\\ 10 & 20 & 30 \\\\ 100 & 200 & 300 \\\\ \\end{pmatrix}\\) Est-ce un graphe orient\u00e9 ou non-orient\u00e9 ? Quelle propri\u00e9t\u00e9 semble poss\u00e9der les matrices d'adjacence d'un graphe non-orient\u00e9 ? Impl\u00e9mentation en Python Enonc\u00e9 R\u00e9ponses Le code suivant permet d'impl\u00e9menter en partie l'interface voulue d'un graphe avec une matrice d'adjacence : class Graph : def __init__ ( self , n = 0 ) : self . n = n self . adj = [[ 0 ] * n for _ in range ( n )] def add_vertice ( self ) : self . n += 1 for l in self . adj : l . append ( 0 ) self . adj . append ([ 0 ] * ( self . n )) def add_edge ( self , s , e , p = 1 ) : self . adj [ s ][ e ] = p Ajouter une m\u00e9thode DUNDERS __repr__ afin qu'elle renvoie la cha\u00eene de caract\u00e8re correspondant \u00e0 la matrice d'adjacence (et donc directement utilisable par l'instruction print(G) ). Pour des raisons de facilit\u00e9s d'\u00e9critures, on pourra utiliser le formatage automatique des cha\u00eenes de caract\u00e8res, comme par exemple : `python >>> e = 15 >>> f\"BOB{e: >3}\" BOB 15 o\u00f9 l'expression e: >3 signifie d'\u00e9crire e sous la forme d'une cha\u00eene de caract\u00e8res align\u00e9e \u00e0 droite d'au moins 3 caract\u00e8res, des espaces \u00e9tant ins\u00e9r\u00e9s si n\u00e9cessaire. Compl\u00e9ter la m\u00e9thode exist_edge de la classe Graph pour qu'elle corresponde aux sp\u00e9cifications de l'interface. Compl\u00e9ter la m\u00e9thode get_neighbours de la classe Graph pour qu'elle corresponde aux sp\u00e9cifications de l'interface. Ajouter une m\u00e9thode get_order \u00e0 la classe Graph pour qu'elle renvoie l'ordre du graphe. Ajouter une m\u00e9thode get_degree \u00e0 la classe Graph pour qu'elle renvoie le degr\u00e9 d'un sommet pass\u00e9 en argument. Ajouter une m\u00e9thode get_vertices \u00e0 la classe Graph qui renvoie la liste des sommets. Ajouter une m\u00e9thode is_directed \u00e0 la classe Graph pour qu'elle renvoie True si le graphe est orient\u00e9 et False sinon. Ajouter une m\u00e9thode is_undirected_and_eulerian qui renvoie : False si le graphe est non-orient\u00e9 et qu'il n'existe pas de parcours eul\u00e9rien du graphe True si le graphe est non-orient\u00e9 et qu'il existe un cycle eul\u00e9rien. un tuple (s,e) donnant les sommlets de d\u00e9part et d'arriv\u00e9e d'un \u00e9ventuel chemin eul\u00e9rien. Ajouter une m\u00e9thode delete_edge \u00e0 la classe Graph pour qu'elle supprime l'arc situ\u00e9 entre les sommets s et e pass\u00e9s en argument. class Graph : def __init__ ( self , n = 0 ) : self . n = n self . adj = [[ 0 ] * n for _ in range ( n )] def add_vertice ( self ) : self . n += 1 for l in self . adj : l . append ( 0 ) self . adj . append ([ 0 ] * ( self . n )) def add_edge ( self , s , e , p = 1 ) : self . adj [ s ][ e ] = p def exist_edge ( self , s , e ) : return self . adj [ s ][ e ] != 0 def get_order ( self ) : return self . n def get_neighbours ( self , s ) : neighbours = [] for i in range ( self . n ) : if self . adj [ s ][ i ] != 0 : neighbours . append ( i ) return neighbours def get_degree ( self , s ): deg = 0 for i in range ( self . n ) : deg += self . adj [ s ][ i ] != 0 deg += self . adj [ i ][ s ] != 0 return deg def get_vertices ( self ) : return [ i for i in range ( self . n )] def is_directed ( self ) : for i in range ( self . n ) : for j in range ( i , self . n ) : if self . adj [ i ][ j ] != self . adj [ j ][ i ] : return True return False def is_undirected_and_eulerian ( self ) : if self . is_directed () : return False degrees = [] for i in range ( self . n ) : # ATTENTION ! La m\u00e9thode get_degree renvoie le double # du degr\u00e9 r\u00e9el dans le cas d'un graphe non-orient\u00e9 # Pour que le th\u00e9or\u00e8me d'Euler fonctionne # il faut donc diviser par 2 la valeur obtenue ! degrees . append (( self . get_degree ( i ) // 2 ) % 2 ) print ( degrees ) if sum ( degrees ) == 0 : return True elif sum ( degrees ) == 2 : return degrees . index ( 1 ), self . n - 1 - degrees [:: - 1 ] . index ( 1 ) return False def delete ( self , s , e ) : self . adj [ s ][ e ] = 0 def __repr__ ( self ) : rep = \"\" for l in self . adj : for e in l : rep += f ' { e : >3 } ' rep += \" \\n \" return rep Limites du mod\u00e8le Si l'utilisation d'une matrice d'adjacence sous la forme pr\u00e9sent\u00e9e est tr\u00e8s utile d'un point de vue math\u00e9matique (voir par exemple la propri\u00e9t\u00e9 de l'it\u00e9r\u00e9e sur la page wikipedia ), et tr\u00e8s facile \u00e0 mettre en oeuvre, elle poss\u00e8de n\u00e9anmoins ceryaines limites : Elle utilise une place en m\u00e9moire proportionnelle \u00e0 \\(n^2\\) . Pour un graphe de 1000 sommets, il faudra plus d'un million d'entiers pour stocker cette matrice d'adjacence, ce qui commence \u00e0 \u00eatre consid\u00e9rable; Pour conna\u00eetre les voisins d'un sommet, il faut parcourir la totalit\u00e9 de la lign,e correspondant \u00e0 ce sommet, ce qui peut rapidement \u00eatre trop long . Les sommets sont limit\u00e9s \u00e0 des entiers, ou \u00e0 un ordre d\u00e9fini, et il est difficile d'int\u00e9grer de nouveau sommets qui ne respecteraient pas la convention fix\u00e9e.","title":"Impl\u00e9mentation par une Matrice d'adjacence"},{"location":"NSI/Terminale/C09/graphe_python/#implementation-par-un-dictionnaire","text":"Pour r\u00e9duire la taille prise en m\u00e9moire par la matrice d'adjacence, il est possible d'utiliser un dictionnaire de voisinage. Ce dictionnaire apportera en plus la capacit\u00e9 d'avoir des cha\u00eenes des caract\u00e8res comme identifiant des sommets. Selon que le graphe soit pond\u00e9r\u00e9 ou non, on aura quelques diff\u00e9rences dans l'impl\u00e9mentation.","title":"Impl\u00e9mentation par un dictionnaire"},{"location":"NSI/Terminale/C09/graphe_python/#graphe-non-pondere","text":"Impl\u00e9mentation en Python Enonc\u00e9 Solution Le code suivant permet d'impl\u00e9menter en partie l'interface voulue d'un graphe avec un dictionnaire de voisinage : class Graph : def __init__ ( self ) : self . vertice = {} def add_vertice ( self , s ) : if s not in self . vertice : self . vertice [ s ] = set () # cr\u00e9e un objet set vide, et graranti l'unicit\u00e9 de chaque \u00e9l\u00e9ment def add_edge ( self , s , e ) : self . add_vertice ( s ) self . add_vertice ( e ) self . vertice [ s ] . add ( e ) # La m\u00e9thode add des objets de type set fonctionne comme append Ajouter une m\u00e9thode DUNDERS __repr__ afin qu'elle renvoie la cha\u00eene de caract\u00e8re correspondant \u00e0 la matrice d'adjacence (et donc directement utilisable par l'instruction print(G) ). Compl\u00e9ter la m\u00e9thode exist_edge de la classe Graph pour qu'elle corresponde aux sp\u00e9cifications de l'interface. Compl\u00e9ter la m\u00e9thode get_neighbours de la classe Graph pour qu'elle corresponde aux sp\u00e9cifications de l'interface. Ajouter une m\u00e9thode get_order \u00e0 la classe Graph pour qu'elle renvoie l'ordre du graphe. Ajouter une m\u00e9thode get_degree \u00e0 la classe Graph pour qu'elle renvoie le degr\u00e9 d'un sommet pass\u00e9 en argument. Ajouter une m\u00e9thode get_vertices \u00e0 la classe Graph qui renvoie la liste des sommets. Ajouter une m\u00e9thode is_directed \u00e0 la classe Graph pour qu'elle renvoie True si le graphe est orient\u00e9 et False sinon. Ajouter une m\u00e9thode is_undirected_and_eulerian qui renvoie : False si le graphe est non-orient\u00e9 et qu'il n'existe pas de parcours eul\u00e9rien du graphe True si le graphe est non-orient\u00e9 et qu'il existe un cycle eul\u00e9rien. un tuple (s,e) donnant les sommlets de d\u00e9part et d'arriv\u00e9e d'un \u00e9ventuel chemin eul\u00e9rien. Ajouter une m\u00e9thode delete_edge \u00e0 la classe Graph pour qu'elle supprime l'arc situ\u00e9 entre les sommets s et e pass\u00e9s en argument. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 class Graph : def __init__ ( self ) : self . vertice = {} def add_vertice ( self , s ) : if s not in self . vertice : self . vertice [ s ] = set () # cr\u00e9e un objet set vide, et graranti l'unicit\u00e9 de chaque \u00e9l\u00e9ment def add_edge ( self , s , e ) : self . add_vertice ( s ) self . add_vertice ( e ) self . vertice [ s ] . add ( e ) # La m\u00e9thode add des objets de type set fonctionne comme append def exist_edge ( self , s , e ) : return e in self . vertice [ s ] def get_vertices ( self ) : return self . vertice . keys () def get_order ( self ) : return len ( self . vertice . keys ()) def get_degree ( self , s ) : return len ( self . vertice [ s ]) def get_neighbours ( self , s ) : return list ( self . vertice [ s ]) def is_directed ( self ) : for s in self . get_vertices () : for t in self . get_neighbours ( s ) : if s not in self . get_neighbours ( t ) : return True return False def is_undirected_and_eulerian ( self ) : if self . is_directed () : return False degrees = [] for s in self . get_vertices () : degrees . append ( self . get_degree ( s ) % 2 ) if sum ( degrees ) == 0 : return True elif sum ( degrees ) == 2 : return degrees . index ( 1 ), self . get_order () - 1 - degrees [:: - 1 ] . index ( 1 ) return False def delete_edge ( self , s , e ) : self . vertices [ s ] . remove ( e ) def __repr__ ( self ) : rep = \"\" for s in self . get_vertices () : rep += f \" { s } : \\n \" for t in self . vertice [ s ] : rep += f \" -> { t } \\n \" return rep","title":"Graphe non pond\u00e9r\u00e9"},{"location":"NSI/Terminale/C09/graphe_python/#graphes-ponderes","text":"Il existe plusieurs m\u00e9thodes permettant d'ajouter une pond\u00e9ration sur chaque arc : on peut ajouter dans le dictionnaire de voisinage un tuple contenant \u00e0 la fois le nom et le poids de l'arc consid\u00e9r\u00e9 ; on peut aussi ajouter un autre dictionnaire parall\u00e8le \u00e0 self.adj dont les cl\u00e9s sont les couples de sommets et les valeurs le poids de l'arc consid\u00e9r\u00e9. Impl\u00e9mentation en Python avec un tuple Enonc\u00e9 Le code suivant permet d'impl\u00e9menter en partie l'interface voulue d'un graphe avec un dictionnaire de voisinage et une pond\u00e9ration : class Graph : def __init__ ( self ) : self . vertice = {} def add_vertice ( self , s ) : if s not in self . vertice : self . vertice [ s ] = set () # cr\u00e9e un objet set vide, et graranti l'unicit\u00e9 de chaque \u00e9l\u00e9ment def add_edge ( self , s , e , p = 1 ) : self . add_vertice ( s ) self . add_vertice ( e ) self . vertice [ s ] . add (( e , p )) Quels sont les changements \u00e0 apporter aux autres m\u00e9thodes par rapport \u00e0 la situation sans pond\u00e9ration ? Impl\u00e9mentation en Python avec un dictionnaire d'arcs Enonc\u00e9 r\u00e9ponses Le code suivant permet d'impl\u00e9menter en partie l'interface voulue d'un graphe avec un dictionnaire de voisinage et une pond\u00e9ration : class Graph : def __init__ ( self ) : self . vertice = {} self . edges = {} def add_vertice ( self , s ) : if s not in self . vertice : self . vertice [ s ] = set () def add_edge ( self , s , e , p = 1 ) : self . add_vertice ( s ) self . add_vertice ( e ) self . vertice [ s ] . add ( e ) self . edges [( s , e )] = p Quels sont les changements \u00e0 apporter aux autres m\u00e9thodes par rapport \u00e0 la situation pr\u00e9c\u00e9dente ? A venir","title":"Graphes pond\u00e9r\u00e9s"},{"location":"NSI/Terminale/C09/graphe_python/#notion-dheritage-hors-programme","text":"Construction d'un graphe non-orient\u00e9 Dans toutes les impl\u00e9mentations que nous avons jusqu'ici cr\u00e9\u00e9es, nous sommes rest\u00e9 sur une notion de graphe orient\u00e9. Plus pr\u00e9cis\u00e9mment, pour cr\u00e9er un graphe non orient\u00e9 tel que celui ci-contre \u00e0 partir d'une des impl\u00e9mentations pr\u00e9c\u00e9dentes, il faudra utiliser le code suivant : G = Graph () G . add_edge ( 0 , 1 , 20 ) G . add_edge ( 1 , 0 , 20 ) G . add_edge ( 0 , 2 , 128 ) G . add_edge ( 2 , 0 , 128 ) G . add_edge ( 1 , 2 , 42 ) G . add_edge ( 2 , 1 , 42 ) On se retrouve donc \u00e0 devoir doubler les lignes \u00e0 chaque cr\u00e9ation d'ar\u00eate... Ce qui n'est pas du tout ergonomique... Bien entendu, il est possible de cr\u00e9er de nouveau une nouvelle classe qui impl\u00e9menterait cette possibilit\u00e9 imm\u00e9diatement. Mais il exsite aussi en POO une notion fondamentale qui va nous permettre, sans changer le code de notre classe Graph actuelle et en effectuant qu'un codage minimal, de cr\u00e9er une nouvelle classe permettant d'impl\u00e9menter sp\u00e9cifiquement des graphes non orient\u00e9s. Il s'agit de le notion d' h\u00e9ritage de classe . Sans rentrer dans les d\u00e9tails(que vous pouvez par exemple trouver ici ), il s'agira de cr\u00e9er une classe fille h\u00e9ritant de toutes les capacit\u00e9s de la classe m\u00e8re - attributs et m\u00e9thodes, mais dans laquelle on pourra rajouter ou modifier des caract\u00e9ristiques sp\u00e9cifiques. Ainsi, en simplifiant, on peut dire qu'un graphe non-orient\u00e9 est un graphe orient\u00e9 dans lequel les arcs sont doubl\u00e9s. Les graphes non-orient\u00e9s sont donc une sous-classe des graphes orient\u00e9s, d'un point de vue codage. Voici le code permettant de cr\u00e9er cette nouvelle classe : 1 2 3 4 5 6 7 class UndirectedGraph ( Graph ) : def __init__ ( self ) : super () . __init__ () def add_edge ( self , s , e , p = 1 ) : super () . add_edge ( s , e , p ) super () . add_edge ( e , s , p ) En ligne 1, on cr\u00e9e une classe UndirectedGraph , qui d\u00e9rive , ou h\u00e9rite de la classe Graph . En ligne 2, on d\u00e9finit la m\u00e9thode constructeur des objets de classe UndirectedGraph . Celle-ci se compose d'une unique ligne, disant simplement que l'initialisation d'un objet de classe UndirectedGraph se fait de la m\u00eame mani\u00e8re qu'un objet de la classe m\u00e8re Graph , par l'interm\u00e9diaire du mot-cl\u00e9 super() . On fait ainsi appel \u00e0 la m\u00e9thode constructeur de la classe Graph pour construire un objet de classe UndirectedGraph . En ligne 5, on va red\u00e9finir la m\u00e9thode add_edge . On appelle une telle red\u00e9finition un surcharge de m\u00e9thode. Il s'agira en fait d'appeler deux fois la m\u00e9thode add_edge de la classe Graph , encore une fois en utilisant le mot-cl\u00e9 super() . Une fois cette nouvelle classe cr\u00e9\u00e9, elle peut \u00eatre directement utilis\u00e9e tout en conservant toutes les m\u00e9thodes de la classe m\u00e8re : 1 2 3 4 5 6 7 G = UndirectedGraph () G . add_edge ( 0 , 1 , 20 ) G . add_edge ( 0 , 2 , 128 ) G . add_edge ( 2 , 1 , 42 ) G . get_neighbours ( 1 ) G . get_order () print ( G ) Dans le code ci-dessus, m\u00eame si nous n'avons pas surcharg\u00e9 les m\u00e9thodes get_neighbours , get_order et la m\u00e9thode DUNDERS __repr__ , elles demeurent accessible \u00e0 tout objet de classe UndirectedGraph , puisque directement h\u00e9rit\u00e9es de la classe m\u00e8re Graph . Objets en Python En Python, tout est objet. Cette phrase n'est pas qu'une d\u00e9claration de principe, puisqu'il existe une classe g\u00e9n\u00e9rique (appel\u00e9e classe abstraite ) Object , dont d\u00e9rivent toutes les autres classes, comme int , float , tuple ,... Polymorphisme Il est tout \u00e0 fait possible de faire h\u00e9riter une classe de plusieurs autres classes. Cette notion s'appelle le polymorphisme , mais est compl\u00e8tement hors du programme de terminale...","title":"Notion d'h\u00e9ritage (hors programme)"},{"location":"NSI/Terminale/C09/graphe_python/#exemple-dutilisation-coloration-dun-graphe","text":"Th\u00e9or\u00e8me des 4 couleurs Le th\u00e9or\u00e8me des 4 couleurs est un th\u00e9or\u00e8me classique de th\u00e9orie des graphes. D'apr\u00e8s wikipedia : \u00ab Le th\u00e9or\u00e8me des quatre couleurs indique qu'il est possible, en n'utilisant que quatre couleurs diff\u00e9rentes , de colorier n'importe quelle carte d\u00e9coup\u00e9e en r\u00e9gions connexes, de sorte que deux r\u00e9gions adjacentes (ou limitrophes), c'est-\u00e0-dire ayant toutes une fronti\u00e8re (et non simplement un point) en commun re\u00e7oivent toujours deux couleurs distinctes. L'\u00e9nonc\u00e9 peut varier et concerner, de mani\u00e8re tout \u00e0 fait \u00e9quivalente, la coloration des faces d'un poly\u00e8dre ou celle des sommets d'un graphe planaire, en rempla\u00e7ant la carte par un graphe dont les sommets sont les r\u00e9gions et les ar\u00eates sont les fronti\u00e8res entre r\u00e9gions. [...] M\u00eame si l'\u00e9nonc\u00e9 de ce th\u00e9or\u00e8me est \u00e9l\u00e9mentaire, on n'en conna\u00eet pas de preuve simple. Les d\u00e9monstrations connues d\u00e9composent le probl\u00e8me en un nombre de sous-cas tellement important qu'elles n\u00e9cessitent l'assistance d'un ordinateur pour \u00eatre v\u00e9rifi\u00e9es. Le th\u00e9or\u00e8me se g\u00e9n\u00e9ralise \u00e0 certaines classes de graphes non planaires. Cependant, lorsqu'on g\u00e9n\u00e9ralise le probl\u00e8me \u00e0 un graphe quelconque, il devient NP-complet de d\u00e9terminer s'il est coloriable avec seulement quatre couleurs (ou m\u00eame trois). \u00bb Si cette possibilit\u00e9 de colorier avec au maximum 4 couleurs existe, il est par contre parfois difficile de trouver un coloriage qui corresponde r\u00e9ellement. Il est cependant possible d'utiliser un algorithme glouton qui trouvera un coloriage \u00ab presque \u00bb optimal. Cr\u00e9ation de l'algorithme de coloriage Enonc\u00e9 R\u00e9ponses Consid\u00e9rons la carte des r\u00e9gions fran\u00e7aises suivantes : et le code suivant permettant de cr\u00e9\u00e9r un graphe non-orient\u00e9 correspondant \u00e0 cette carte dans le fichier suivant (en utilisant la classe UndirectedGraph ). Le principe de l'algorithme et le suivant : les couleurs seront repr\u00e9sent\u00e9es par des entiers, en partant de \\(0\\) ; on prend un sommet du graphe au hasard, on regarde les couleurs d\u00e9j\u00e0 donn\u00e9es \u00e0 ses voisins, et on lui donnera comme couleur la plus petite valeur non-affect\u00e9e \u00e0 un de ses voisins. Afin de cr\u00e9er les fonctions n\u00e9cessaires : Cr\u00e9er une fonction min_neighbours_color prenant deux arguments : voisins : un it\u00e9rable contenant une liste de noms de r\u00e9gions couleur : un dictionnaire associant \u00e0 des noms de r\u00e9gions le num\u00e9ro de couleur qui lui est associ\u00e9. et qui renvoie la valeur de couleur la plus petite non associ\u00e9es aux voisins. Par exemple : >>> min_couleurs_voisins ([ \"Normandie\" , \"Pays de la Loire\" ], { \"Normandie\" : 0 , \"Pays de la Loire\" : 2 , \"\u00cele-de-France\" : 1 }) 1 >>> min_couleurs_voisins ([], { \"Normandie\" : 0 , \"Pays de la Loire\" : 2 , \"\u00cele-de-France\" : 1 }) 0 >>> min_couleurs_voisins ([ \"Hauts-de-France\" ], { \"Normandie\" : 0 , \"Pays de la Loire\" : 2 , \"\u00cele-de-France\" : 1 }) 0 >>> min_couleurs_voisins ([ \"Normandie\" , \"Pays de la Loire\" , \"\u00cele-de-France\" ], { \"Normandie\" : 0 , \"Pays de la Loire\" : 2 , \"\u00cele-de-France\" : 1 }) 3 Construire enfin une fonction color_graph qui prend en argument un graphe et une r\u00e9gion de d\u00e9part et renvoie un tuple contenant : le nombre de couleurs utilis\u00e9es ; un dictionnaire affectant \u00e0 chaque r\u00e9gion sa couleur. Combien de couleurs sont alors utilis\u00e9es ? Pouvez-vous donner un coloriage utilisant exactement 4 couleurs ? A venir !","title":"Exemple d'utilisation : Coloration d'un graphe"},{"location":"NSI/Terminale/C09/parcours/","text":"Parcours de graphes et applications Parcours en profondeur Comparaison avec un arbre Le parcours en profondeur d'un graphe ( Depth First Search en anglais), c'est-\u00e0-dire un parcours o\u00f9 on explore chaque chemin jusqu'\u00e0 son extr\u00e9mit\u00e9 finale, est \u00e9quivalent \u00e0 celui pour un arbre comme pr\u00e9sent\u00e9 dans le chapitre idoine , \u00e0 une subtilit\u00e9 pr\u00eat : dans un graphe il est possible de trouver des boucles, ce qui pourrait amener \u00e0 un chemin infini : le cas d'une boucle Dans un parcours DFS d'un graphe comme ci-dessus, et en partant de \\(A\\) , on aura un parcours dans l'ordre suivant (en consid\u00e9rant les voisins dans l'ordre alphab\u00e9tique) : On ira de \\(A\\) \u00e0 \\(B\\) puis de \\(B\\) \u00e0 \\(C\\) ; Une fois en \\(C\\) , il faut remonter au dernier sommet visit\u00e9, donc \\(B\\) , et regarder si il existe d'autres voisins, donc on passera ensuite \u00e0 \\(D\\) , puis \u00e0 \\(A\\) , puis \u00e0 \\(B\\) , etc. On obtient donc un parcours infini \\(A -> B -> C -> D -> A -> ...\\) , et l'algorithme ne s'arr\u00eate pas. Algorithme en langage naturel Pour que l'algorithme puisse fonctionner, il faudra donc marquer les sommets d\u00e9j\u00e0 visit\u00e9s, comme sur l'exemple suivant : On consid\u00e8rera qu'il existe une m\u00e9thode pour marquer les sommets, et donc qu'on n'explore plus un sommet d\u00e9j\u00e0 marqu\u00e9. fonction explore_graphe(G, s) : Marquer(s) pour chaque voisin v de s : si v n'est pas marqu\u00e9 : explorer_graphe(G,v) Graphes avec de multiples composantes connexes Cette fonction ne permet pas d'explorer tout le graphe si celui-ci comporte pluiseurs composantes connexes, car on explore uniquement de voisins en voisins : Sur un graphe tel que ci-dessus, la fonction pr\u00e9c\u00e9dente appel\u00e9e sur \\(A\\) n'explorera que les sommets \\(A\\) , \\(B\\) , \\(C\\) et \\(D\\) dans cet ordre. Il faut donc encapsuler la fonction pr\u00e9c\u00e9dente dans une autre fonction : fonction parcours_profondeur(G) : pour chaque sommet s de G : si s n'est pas marqu\u00e9 : explorer_graphe(G,s) Impl\u00e9mentation en Python Pour pouvoir impl\u00e9menter le parcours de graphe en profondeur, il nous faut utiliser une structure permettant de conserver les sommets visit\u00e9s, tout en gardant leur ordre. Une solution \u00e9vidente est d'utiliser une liste Python , et d'utiliser en particulier sa propri\u00e9t\u00e9 de mutabilit\u00e9 . Hors programme : param\u00e8tre mutable d'une fonction Consid\u00e9rons le code suivant et son ex\u00e9cution dans PythonTutor : L'objectif est de comprendre la diff\u00e9rence entre objets mutables et non-mutables : un objet de type list est mutable, et poss\u00e8de une m\u00e9thode .append qui permet de lui ajouter un \u00e9l\u00e9ment ; un objet de type tuple est non-mutable. Pour ajouter un \u00e9l\u00e9ment on est oblig\u00e9 de cr\u00e9er un nouvel objet, qu'on r\u00e9affecte au nom tpl : tpl = * tpl , n On utilise ici l'op\u00e9rateur * pour unpacker (d\u00e9compacter) les \u00e9l\u00e9ments constituant le tuple tpl , puis ajouter l'\u00e9l\u00e9ment n au nouveau tuple. A la fin de l'ex\u00e9cution du code, alors que les m\u00e9thodes semblent similaires, on constate que les objets tuples cr\u00e9\u00e9s ont disparu \u00e0 la fin de l'ex\u00e9cution de chaque instance de la fonction fibonacci , alors que l'objet de type list a lui \u00e9t\u00e9 modifi\u00e9 au fur et \u00e0 mesure, et que ces modifications sont conserv\u00e9es ! Le param\u00e8tre lst de la fonction fibonacci est donc un argument mutable , ce qui : est parfois fort pratique ; est souvent un g\u00e9n\u00e9rateur d'effets de bords ind\u00e9sir\u00e9s ! Totalement hors programme : utilisation d'une liste en param\u00e8tre non-mutable En r\u00e9alit\u00e9, ce n'est pas tant la structure de liste utilis\u00e9e qui est importante dans l'exemple ci-dessus, mais bien l'utilisation d'une m\u00e9thode en place comme append . On peut en effet utiliser une liste comme un param\u00e8tre pseudo non-mutable comme dans l'exemple ci-dessous, avec la concat\u00e9nation de listes : Au vu de mon exp\u00e9rience, un conseil : NE FAITES SURTOUT PAS CA ! Vous vous \u00e9viterez des heures de d\u00e9buggage frustrantes ! Si vous tenez \u00e0 conserver un param\u00e8tre non-mutable, utilisez TOUJOURS une structure qui est construite en ce sens... Impl\u00e9mentation en Python Enonc\u00e9 Corrig\u00e9 Ajouter \u00e0 la classe Graph (impl\u00e9mentation au choix) une m\u00e9thode get_vertices() renvoyant la liste des sommets dans l'ordre lexicographique . Cr\u00e9er une fonction explore_graph(G, s, explored) qui explore r\u00e9cursivement le graphe G \u00e0 partir du sommet s , connaissant un objet de type list explored contenant la liste des sommets d\u00e9j\u00e0 explor\u00e9s. Cr\u00e9er une fonction DFS(G) renvoyant la liste des sommets explor\u00e9s, dans l'ordre d'exploration lexicographique (dans l'exemple du graphe \u00e0 deux composantes connexes ci dessu, on obtiendra [A, B, C, D, E, F, G, H] , et dans l'exemple pr\u00e9sent\u00e9 exhaustivement, on aura [A, B, D, E, C] ). A venir ! Parcours en largeur Comparaison avec un arbre Le parcours en largeur d'un graphe ( Breadth First Search en anglais), c'est-\u00e0-dire un parcours o\u00f9 on explore chaque chemin jusqu'\u00e0 son extr\u00e9mit\u00e9 finale, est \u00e9quivalent \u00e0 celui pour un arbre comme pr\u00e9sent\u00e9 dans le chapitre idoine , tout en ajoutant le m\u00eame probl\u00e8me que pour le parcours en profondeur : il faut marquer les sommets d\u00e9j\u00e0 visit\u00e9s. Ainsi, dans le graphe ci-dessus, l'ordre de parcours des sommets est : \\(A, B, E, C, D, F, G, H\\) . Algorithme en langage naturel L'algorithme it\u00e9ratif s'impl\u00e9mente \u00e0 l'aide d'une file : fonction explore_largeur(G, s): Cr\u00e9er une file f Enfiler s dans f marquer s tant que la file est non vide defiler f dans s afficher s pour tout voisin t de s dans G si t non marqu\u00e9 Enfiler t dans f marquer t De m\u00eame que pour un parcours en profondeur, la fonction ci-dessus ne permet pas un parcours de graphe non-connexe. On compl\u00e8tera donc cette fonction par : fonction parcours_largeur(G) : Pour chaque sommet s de G si s n'est pas marqu\u00e9 explore_largeur(G,s) Impl\u00e9mentation en Python Percours en largeur Enonc\u00e9 Corrig\u00e9 Cr\u00e9er une fonction explore_width(G,s) qui effectue un parcours en largeur \u00e0 partir du sommet s du graphe G et renvoie les sommets dans l'ordre de visite. Pour \u00e9viter d'avoir \u00e0 r\u00e9impl\u00e9menter nous-m\u00eame une classe File , nous pouvons utiliser le module queue de Python et les commanes suivantes : F = queue.Queue() , pour cr\u00e9er une file vide ; F.put(item) : enfile item dans la file F ; item = F.get() : d\u00e9file la file F et stocke dans item ; Cr\u00e9er une fonction BFS(G) qui renvoie les sommets dans l'ordre de visite du parcours en largeur. A venir ! Application : Recherche de cycle dans un graphe Il est parfois n\u00e9cessaire de d\u00e9tecter dans un graphe la pr\u00e9sence d'un cycle, comme par exemple : pour d\u00e9terminer la longueur de cycle d'un g\u00e9n\u00e9rateur de nombre pseudo-al\u00e9atoires ; en cryptographie, en particulier pour d\u00e9tecter des collisions dans des fonctions de hachage cryptographiques ( CHF ) ; pour d\u00e9tecter des boucles infinies dans certains programmes, en utilisant une repr\u00e9sentation du programme sous la forme d'un graphe ( M\u00e9thodes formelles ) ; etc. Le parcours en profondeur est adapt\u00e9 aux recherches de cycles dans un graphe, mais il faudra lui apporter quelques modifications. En effet, dans le parcours en profondeur, on marque un noeud avant d'explorer ses voisins . Quand on retombe sur un noeud d\u00e9j\u00e0 marqu\u00e9, on ne peut pas forc\u00e9ment savoir si c'est \u00e0 cause de la pr\u00e9sence d'un cycle. Prenons comme exemple les deux graphes ci-dessous : Tips Dans le cas du graphe de gauche, on va explorer A , puis B puis C , et donc C sera marqu\u00e9. Puis on retombera sur C en venant de D , mais sans cycle puisqu'il s'agit de chemins parall\u00e8les. Dans le cas du graphe de droite, on va explorer A , puis B puis C , et donc C sera marqu\u00e9. Puis on retombera sur C en venant de D , mais par un cycle ! La diff\u00e9rence entre les deux situations est que dans le premier cas, la visite des voisins de C est termin\u00e9e , alors qu'elle est toujours en cours dans le deuxi\u00e8me cas . On va donc devoir diff\u00e9rencier ces deux situations . Algorithme de d\u00e9tection de cycles Nous adopterons une solution en utilisant 3 couleurs pour marquer ces sommets : blanc, gris et noir. Initialement, tous les sommets seront de couleur blanche . Lorsqu'on visitera un sommet s : s'il est blanc : on colore le sommet s en gris ; on visite tous les voisins de s r\u00e9cursivement ; on colore le sommet s en noir une fois toutes les \u00e9tapes pr\u00e9c\u00e9dentes franchies. s'il est gris, c'est qu'on vient de d\u00e9couvrir un cycle ; s'il est noir, on ne fait rien. Application Pour chacun des graphes ci-dessous, appliquez l'algorithme de d\u00e9tection d'un cycle au graphe ci-dessous (vous partirez du sommet de votre choix). Graphe 1 Graphe 2 Codage en Python 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 BLANC , GRIS , NOIR = 1 , 2 , 3 ### Un dictionnaire est mutable, donc on peut le modifier par appels r\u00e9cursifs. def parcours_cycle ( graphe : Graph , couleur : dict , s : Sommet ) -> boolean : if couleur [ s ] == ... : return True if couleur [ s ] == ... : return False couleur [ s ] = ... for v in graphe . get_neighbours ( s ) : got_cycle = parcours_cycle ( g , couleur , s ) if got_cycle : return True couleur [ s ] = ... return False def cycle ( graphe ) : couleur = {} for s in ... : couleur [ s ] = BLANC for s in ... : if parcours_cycle ( graphe , couleur , s ) : return True return False","title":"Parcours de Graphes "},{"location":"NSI/Terminale/C09/parcours/#parcours-de-graphes-et-applications","text":"","title":"Parcours de graphes et applications"},{"location":"NSI/Terminale/C09/parcours/#parcours-en-profondeur","text":"","title":"Parcours en profondeur"},{"location":"NSI/Terminale/C09/parcours/#comparaison-avec-un-arbre","text":"Le parcours en profondeur d'un graphe ( Depth First Search en anglais), c'est-\u00e0-dire un parcours o\u00f9 on explore chaque chemin jusqu'\u00e0 son extr\u00e9mit\u00e9 finale, est \u00e9quivalent \u00e0 celui pour un arbre comme pr\u00e9sent\u00e9 dans le chapitre idoine , \u00e0 une subtilit\u00e9 pr\u00eat : dans un graphe il est possible de trouver des boucles, ce qui pourrait amener \u00e0 un chemin infini : le cas d'une boucle Dans un parcours DFS d'un graphe comme ci-dessus, et en partant de \\(A\\) , on aura un parcours dans l'ordre suivant (en consid\u00e9rant les voisins dans l'ordre alphab\u00e9tique) : On ira de \\(A\\) \u00e0 \\(B\\) puis de \\(B\\) \u00e0 \\(C\\) ; Une fois en \\(C\\) , il faut remonter au dernier sommet visit\u00e9, donc \\(B\\) , et regarder si il existe d'autres voisins, donc on passera ensuite \u00e0 \\(D\\) , puis \u00e0 \\(A\\) , puis \u00e0 \\(B\\) , etc. On obtient donc un parcours infini \\(A -> B -> C -> D -> A -> ...\\) , et l'algorithme ne s'arr\u00eate pas.","title":"Comparaison avec un arbre"},{"location":"NSI/Terminale/C09/parcours/#algorithme-en-langage-naturel","text":"Pour que l'algorithme puisse fonctionner, il faudra donc marquer les sommets d\u00e9j\u00e0 visit\u00e9s, comme sur l'exemple suivant : On consid\u00e8rera qu'il existe une m\u00e9thode pour marquer les sommets, et donc qu'on n'explore plus un sommet d\u00e9j\u00e0 marqu\u00e9. fonction explore_graphe(G, s) : Marquer(s) pour chaque voisin v de s : si v n'est pas marqu\u00e9 : explorer_graphe(G,v) Graphes avec de multiples composantes connexes Cette fonction ne permet pas d'explorer tout le graphe si celui-ci comporte pluiseurs composantes connexes, car on explore uniquement de voisins en voisins : Sur un graphe tel que ci-dessus, la fonction pr\u00e9c\u00e9dente appel\u00e9e sur \\(A\\) n'explorera que les sommets \\(A\\) , \\(B\\) , \\(C\\) et \\(D\\) dans cet ordre. Il faut donc encapsuler la fonction pr\u00e9c\u00e9dente dans une autre fonction : fonction parcours_profondeur(G) : pour chaque sommet s de G : si s n'est pas marqu\u00e9 : explorer_graphe(G,s)","title":"Algorithme en langage naturel"},{"location":"NSI/Terminale/C09/parcours/#implementation-en-python","text":"Pour pouvoir impl\u00e9menter le parcours de graphe en profondeur, il nous faut utiliser une structure permettant de conserver les sommets visit\u00e9s, tout en gardant leur ordre. Une solution \u00e9vidente est d'utiliser une liste Python , et d'utiliser en particulier sa propri\u00e9t\u00e9 de mutabilit\u00e9 . Hors programme : param\u00e8tre mutable d'une fonction Consid\u00e9rons le code suivant et son ex\u00e9cution dans PythonTutor : L'objectif est de comprendre la diff\u00e9rence entre objets mutables et non-mutables : un objet de type list est mutable, et poss\u00e8de une m\u00e9thode .append qui permet de lui ajouter un \u00e9l\u00e9ment ; un objet de type tuple est non-mutable. Pour ajouter un \u00e9l\u00e9ment on est oblig\u00e9 de cr\u00e9er un nouvel objet, qu'on r\u00e9affecte au nom tpl : tpl = * tpl , n On utilise ici l'op\u00e9rateur * pour unpacker (d\u00e9compacter) les \u00e9l\u00e9ments constituant le tuple tpl , puis ajouter l'\u00e9l\u00e9ment n au nouveau tuple. A la fin de l'ex\u00e9cution du code, alors que les m\u00e9thodes semblent similaires, on constate que les objets tuples cr\u00e9\u00e9s ont disparu \u00e0 la fin de l'ex\u00e9cution de chaque instance de la fonction fibonacci , alors que l'objet de type list a lui \u00e9t\u00e9 modifi\u00e9 au fur et \u00e0 mesure, et que ces modifications sont conserv\u00e9es ! Le param\u00e8tre lst de la fonction fibonacci est donc un argument mutable , ce qui : est parfois fort pratique ; est souvent un g\u00e9n\u00e9rateur d'effets de bords ind\u00e9sir\u00e9s ! Totalement hors programme : utilisation d'une liste en param\u00e8tre non-mutable En r\u00e9alit\u00e9, ce n'est pas tant la structure de liste utilis\u00e9e qui est importante dans l'exemple ci-dessus, mais bien l'utilisation d'une m\u00e9thode en place comme append . On peut en effet utiliser une liste comme un param\u00e8tre pseudo non-mutable comme dans l'exemple ci-dessous, avec la concat\u00e9nation de listes : Au vu de mon exp\u00e9rience, un conseil : NE FAITES SURTOUT PAS CA ! Vous vous \u00e9viterez des heures de d\u00e9buggage frustrantes ! Si vous tenez \u00e0 conserver un param\u00e8tre non-mutable, utilisez TOUJOURS une structure qui est construite en ce sens... Impl\u00e9mentation en Python Enonc\u00e9 Corrig\u00e9 Ajouter \u00e0 la classe Graph (impl\u00e9mentation au choix) une m\u00e9thode get_vertices() renvoyant la liste des sommets dans l'ordre lexicographique . Cr\u00e9er une fonction explore_graph(G, s, explored) qui explore r\u00e9cursivement le graphe G \u00e0 partir du sommet s , connaissant un objet de type list explored contenant la liste des sommets d\u00e9j\u00e0 explor\u00e9s. Cr\u00e9er une fonction DFS(G) renvoyant la liste des sommets explor\u00e9s, dans l'ordre d'exploration lexicographique (dans l'exemple du graphe \u00e0 deux composantes connexes ci dessu, on obtiendra [A, B, C, D, E, F, G, H] , et dans l'exemple pr\u00e9sent\u00e9 exhaustivement, on aura [A, B, D, E, C] ). A venir !","title":"Impl\u00e9mentation en Python"},{"location":"NSI/Terminale/C09/parcours/#parcours-en-largeur","text":"","title":"Parcours en largeur"},{"location":"NSI/Terminale/C09/parcours/#comparaison-avec-un-arbre_1","text":"Le parcours en largeur d'un graphe ( Breadth First Search en anglais), c'est-\u00e0-dire un parcours o\u00f9 on explore chaque chemin jusqu'\u00e0 son extr\u00e9mit\u00e9 finale, est \u00e9quivalent \u00e0 celui pour un arbre comme pr\u00e9sent\u00e9 dans le chapitre idoine , tout en ajoutant le m\u00eame probl\u00e8me que pour le parcours en profondeur : il faut marquer les sommets d\u00e9j\u00e0 visit\u00e9s. Ainsi, dans le graphe ci-dessus, l'ordre de parcours des sommets est : \\(A, B, E, C, D, F, G, H\\) .","title":"Comparaison avec un arbre"},{"location":"NSI/Terminale/C09/parcours/#algorithme-en-langage-naturel_1","text":"L'algorithme it\u00e9ratif s'impl\u00e9mente \u00e0 l'aide d'une file : fonction explore_largeur(G, s): Cr\u00e9er une file f Enfiler s dans f marquer s tant que la file est non vide defiler f dans s afficher s pour tout voisin t de s dans G si t non marqu\u00e9 Enfiler t dans f marquer t De m\u00eame que pour un parcours en profondeur, la fonction ci-dessus ne permet pas un parcours de graphe non-connexe. On compl\u00e8tera donc cette fonction par : fonction parcours_largeur(G) : Pour chaque sommet s de G si s n'est pas marqu\u00e9 explore_largeur(G,s)","title":"Algorithme en langage naturel"},{"location":"NSI/Terminale/C09/parcours/#implementation-en-python_1","text":"Percours en largeur Enonc\u00e9 Corrig\u00e9 Cr\u00e9er une fonction explore_width(G,s) qui effectue un parcours en largeur \u00e0 partir du sommet s du graphe G et renvoie les sommets dans l'ordre de visite. Pour \u00e9viter d'avoir \u00e0 r\u00e9impl\u00e9menter nous-m\u00eame une classe File , nous pouvons utiliser le module queue de Python et les commanes suivantes : F = queue.Queue() , pour cr\u00e9er une file vide ; F.put(item) : enfile item dans la file F ; item = F.get() : d\u00e9file la file F et stocke dans item ; Cr\u00e9er une fonction BFS(G) qui renvoie les sommets dans l'ordre de visite du parcours en largeur. A venir !","title":"Impl\u00e9mentation en Python"},{"location":"NSI/Terminale/C09/parcours/#application-recherche-de-cycle-dans-un-graphe","text":"Il est parfois n\u00e9cessaire de d\u00e9tecter dans un graphe la pr\u00e9sence d'un cycle, comme par exemple : pour d\u00e9terminer la longueur de cycle d'un g\u00e9n\u00e9rateur de nombre pseudo-al\u00e9atoires ; en cryptographie, en particulier pour d\u00e9tecter des collisions dans des fonctions de hachage cryptographiques ( CHF ) ; pour d\u00e9tecter des boucles infinies dans certains programmes, en utilisant une repr\u00e9sentation du programme sous la forme d'un graphe ( M\u00e9thodes formelles ) ; etc. Le parcours en profondeur est adapt\u00e9 aux recherches de cycles dans un graphe, mais il faudra lui apporter quelques modifications. En effet, dans le parcours en profondeur, on marque un noeud avant d'explorer ses voisins . Quand on retombe sur un noeud d\u00e9j\u00e0 marqu\u00e9, on ne peut pas forc\u00e9ment savoir si c'est \u00e0 cause de la pr\u00e9sence d'un cycle. Prenons comme exemple les deux graphes ci-dessous : Tips Dans le cas du graphe de gauche, on va explorer A , puis B puis C , et donc C sera marqu\u00e9. Puis on retombera sur C en venant de D , mais sans cycle puisqu'il s'agit de chemins parall\u00e8les. Dans le cas du graphe de droite, on va explorer A , puis B puis C , et donc C sera marqu\u00e9. Puis on retombera sur C en venant de D , mais par un cycle ! La diff\u00e9rence entre les deux situations est que dans le premier cas, la visite des voisins de C est termin\u00e9e , alors qu'elle est toujours en cours dans le deuxi\u00e8me cas . On va donc devoir diff\u00e9rencier ces deux situations . Algorithme de d\u00e9tection de cycles Nous adopterons une solution en utilisant 3 couleurs pour marquer ces sommets : blanc, gris et noir. Initialement, tous les sommets seront de couleur blanche . Lorsqu'on visitera un sommet s : s'il est blanc : on colore le sommet s en gris ; on visite tous les voisins de s r\u00e9cursivement ; on colore le sommet s en noir une fois toutes les \u00e9tapes pr\u00e9c\u00e9dentes franchies. s'il est gris, c'est qu'on vient de d\u00e9couvrir un cycle ; s'il est noir, on ne fait rien. Application Pour chacun des graphes ci-dessous, appliquez l'algorithme de d\u00e9tection d'un cycle au graphe ci-dessous (vous partirez du sommet de votre choix). Graphe 1 Graphe 2 Codage en Python 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 BLANC , GRIS , NOIR = 1 , 2 , 3 ### Un dictionnaire est mutable, donc on peut le modifier par appels r\u00e9cursifs. def parcours_cycle ( graphe : Graph , couleur : dict , s : Sommet ) -> boolean : if couleur [ s ] == ... : return True if couleur [ s ] == ... : return False couleur [ s ] = ... for v in graphe . get_neighbours ( s ) : got_cycle = parcours_cycle ( g , couleur , s ) if got_cycle : return True couleur [ s ] = ... return False def cycle ( graphe ) : couleur = {} for s in ... : couleur [ s ] = BLANC for s in ... : if parcours_cycle ( graphe , couleur , s ) : return True return False","title":"Application : Recherche de cycle dans un graphe"},{"location":"NSI/Terminale/C10/BoyerMoore/","text":"Recherches textuelles Largement inspir\u00e9 de https://www.lyceum.fr/tg/nsi/5-algorithmique/5-recherche-textuelle Le contexte La recherche de sous-cha\u00eene dans une cha\u00eene donn\u00e9e est un probl\u00e8me important de l'informatique, puisque ses applications sont nombreuses, comme pour les moteurs de recherches, l'utilisation des outils de recherche dans les traitements de textes ou navigateurs web, mais aussi au sein de la bio-informatique, pour la recherche de s\u00e9quences donn\u00e9es de nucl\u00e9otides. L'algorithme na\u00eff Une m\u00e9thode \u00e9vidente pour trouver une sous-cha\u00eene dans une cha\u00eene de caract\u00e8re donn\u00e9e est la suivante : on avance dans le texte caract\u00e8re par caract\u00e8re ; puis si le caract\u00e8re consid\u00e9r\u00e9 correspond au premier caract\u00e8re du mot, nous comparerons les caract\u00e8res suivants \u00e0 ceux du mot. Si la recherche s'av\u00e8re fructueuse on renvoie True , et sinon False Codage en Python Enonc\u00e9 Solution Coder une fonction recherche(mot : str, chaine : str) -> bool qui renvoie True si mot appartient \u00e0 chaine , sans utiliser le mot cl\u00e9 in de python . On pourra tester avec : recherche('dab', 'abracadabra') recherche('bad', 'abracadabra') T\u00e9l\u00e9charger le fichier suivant , et utiliser la fonction suivante pour lire ce fichier et stocker son contenu dans la variable texte : def lit_texte ( fichier ) : with open ( fichier , 'r' , encoding = 'utf8' ) as f : contenu = f . readlines () return \" \" . join ( contenu ) . replace ( \" \\n \" , \"\" ) Comparez maintenant la recherche de la phrase suivante, en utilisant notre fonction recherche et le mot-cl\u00e9 in : phrase = \"Mais toutes ces pens\u00e9es ne dur\u00e8rent \" \\ \"que l'espace d'une seconde, le temps qu'il port\u00e2t \" \\ \"la main \u00e0 son coeur, repr\u00eet sa respiration et parvint \" \\ \"\u00e0 sourire pour dissimuler sa torture. D\u00e9j\u00e0 il recommen\u00e7ait \" \\ \"\u00e0 poser ses questions. Car sa jalousie qui avait pris une peine \" \\ \"qu'un ennemi ne se serait pas donn\u00e9e pour arriver \u00e0 lui faire \" \\ \"ass\u00e9ner ce coup, \u00e0 lui faire faire la connaissance de la douleur \" \\ \"la plus cruelle qu'il n'e\u00fbt encore jamais connue, sa jalousie ne \" \\ \"trouvait pas qu'il eut assez souffert et cherchait \u00e0 lui faire recevoir \" \\ \"une blessure plus profond encore.\" Faire de m\u00eame avec la chaine \"majest\u00e9 dodon\u00e9enne\" . A venir ! Co\u00fbt de la m\u00e9thode na\u00efve On pose la longueur de la chaine N et la longueur du mot n . L'ex\u00e9cution est relativement lente, la fonction doit tester N-n positions dans la chaine et pour chacune effectuer jusqu'\u00e0 n comparaisons. La complexit\u00e9 de cet algorithme est donc dans le pire des cas \\(\\mathscr{O}\\left( (N-n) \\times n \\right )\\) , c'est-\u00e0-dire une complexit\u00e9 quadratique. Nous allons voir qu'il est beaucoup plus efficace de faire la recherche \u00e0 l'envers \u00e0 partir de la fin du mot. Algorithme de Boyer-Moore-Horspool Pr\u00e9sentation et exemples L'algorithme de Boyer-Moore est un algorithme de recherche de sous-cha\u00eene particuli\u00e8rement efficace. Il a \u00e9t\u00e9 d\u00e9velopp\u00e9 par Robert S. Boyer et J Strother Moore en 1977. Il existe une verion simplifi\u00e9e, d\u00e9velopp\u00e9e par Nigel Horspool en 1980, que nous allons pr\u00e9senter ici. Principes de l'algorithme On aligne le mot (ou motif , ou pattern en anglais) sous la chaine, en partant de la gauche. On compare les lettres du mots avec celles correspondantes de la chaine, mais en partant de la fin du mot (c'est contre-intuitif). Trois cas peuvent alors se produire : Les lettres du mot et de la chaine correspondent, on continue alors en remontant le motif de la droite vers la gauche . les lettres ne correspondent pas, et la lettre de la chaine n'est pas pr\u00e9sente dans le motif . On va alors d\u00e9caler le motif vers la gauche d'un nombre de saut \u00e9gal \u00e0 sa longueur. les lettres ne correspondent pas, et la lettre de la chaine est pr\u00e9sente dans le motif . On va alors d\u00e9caler le motif de mani\u00e8re \u00e0 faire correspondre la lettre de la chaine \u00e0 celle du motif. Exemple comment\u00e9 On veut chercher le motif DAB dans la cha\u00eene ABRACADABRA . On utilisera deux compteurs : i qui repr\u00e9sente la position du premier caract\u00e8re du motif par rapport \u00e0 la cha\u00eene. j qui repr\u00e9sente l'indice du cracat\u00e8re du motif \u00e9tudi\u00e9. 1 2 3 4 5 6 Le premier caract\u00e8re du motif est plac\u00e9 \u00e0 l'indice i=0 . On compare alors le dernier caract\u00e8re du motif, d'indice j=2 , avec celui de la chaine d'indice i+j , soit 2. Ils sont diff\u00e9rents, et le caract\u00e8re de la cha\u00eene est R , qui n'est pas pr\u00e9sent dans le motif. On va donc d\u00e9caler le motif de sa propre longueur, soit 3, vers la droite. Ce qui signifie que son premier caract\u00e8re sera en i = i+3 . Apr\u00e8s l'\u00e9tape pr\u00e9c\u00e9dente, on a i=3 et j=2 , et on compare le dernier caract\u00e8re du motif, avec celui de la cha\u00eene d'indice i+j , soit 5. Ils diff\u00e8rent, mais le caract\u00e8re A en position 5 de la cha\u00eene est pr\u00e9sent dans le motif DAB . On va d\u00e9caler le motif d'un rang, car A est l'avant dernier caract\u00e8re de DAB . Ce qui signifie que son premier caract\u00e8re sera en i = i+1 . Apr\u00e8s l'\u00e9tape pr\u00e9c\u00e9dente, on a i=4 et j=2 , et on compare le dernier caract\u00e8re du motif, avec celui de la cha\u00eene d'indice i+j , soit 6. Ils diff\u00e8rent, mais le caract\u00e8re D en position 6 de la cha\u00eene est pr\u00e9sent dans le motif DAB . On va d\u00e9caler le motif d'un rang, car D est l'avant-avant-dernier caract\u00e8re de DAB . Ce qui signifie que son premier caract\u00e8re sera en i = i+2 . Apr\u00e8s l'\u00e9tape pr\u00e9c\u00e9dente, on a i=6 et j=2 , et on compare le dernier caract\u00e8re du motif, avec celui de la cha\u00eene d'indice i+j , soit 8. Ils sont identiques, donc on ne d\u00e9place pas le motif, mais on va le remonter vers la gauche, en d\u00e9cr\u00e9mentant de 1 la valeur de j . Apr\u00e8s l'\u00e9tape pr\u00e9c\u00e9dente, on a i=6 et j=1 , et on compare l'avant-dernier caract\u00e8re du motif , avec celui de la cha\u00eene d'indice i+j , soit 7. Ils sont identiques, donc on ne d\u00e9place pas le motif, mais on va le remonter vers la gauche, en d\u00e9cr\u00e9mentant de 1 la valeur de j . Apr\u00e8s l'\u00e9tape pr\u00e9c\u00e9dente, on a i=6 et j=0 , et on compare le premier caract\u00e8re du motif , avec celui de la cha\u00eene d'indice i+j , soit 6. Ils sont identiques, donc on ne d\u00e9place pas le motif, mais on va le remonter vers la gauche, en d\u00e9cr\u00e9mentant de 1 la valeur de j . Mais j devenant n\u00e9gatif, c'est qu'on a fini la comparaison, et le motif a \u00e9t\u00e9 trouv\u00e9. Il a donc suffit de faire 6 comparaisons pour trouver le motif, alors que 9 auraient \u00e9t\u00e9 n\u00e9cessaires avec la m\u00e9thode na\u00efve. Tester avec un autre motif On veut rechercher le motif string dans la cha\u00eene stupid_spring_string . Combien d'\u00e9tapes sont n\u00e9cessaires avec l'algorithme na\u00eff ? Appliquer l'algorithme de Boyer-Moore-Horspool sur cette recherche. Combien d'\u00e9tapes sont n\u00e9cessaires ? Codage de l'algorithme Pr\u00e9-traitement du motif Une des cl\u00e9s de l'algorithme est de savoir de combien de pas d\u00e9placer le motif quand la lettre \u00e9tudi\u00e9e appartient au motif. Nous cr\u00e9erons donc une fonction de pr\u00e9-traitement qui renverra un dictionnaire donnant pour chaque lettre du motif (sauf la derni\u00e8re) le nombre de d\u00e9calages n\u00e9cessaires. Compl\u00e9ter la fonction suivante : def pre_traitement ( mot : str ) -> dict : \"\"\"Renvoie un dictionnaire avec pour cl\u00e9 la lettre et pour valeur le d\u00e9calage\"\"\" n = len ( mot ) d\u00e9calages = {} for i , letter in enumerate ( ... ): d\u00e9calages [ letter ] = ... return d\u00e9calages # tests assert pre_traitement ( \"dab\" ) == { 'd' : 2 , 'a' : 1 } assert pre_traitement ( \"maman\" ) == { 'm' : 2 , 'a' : 1 } Recherche Boyer-Moore-Horspool Compl\u00e9ter la fonction suivante (on se servira des assertions comme tests) : ### Lancer assert recherchepy-undBMH('abracadabra', 'dab')bksl-nlassert recherchepy-undBMH('abracadabra', 'abra')bksl-nlassert recherchepy-undBMH('abracadabra', 'obra') is Falsebksl-nlassert recherchepy-undBMH('abracadabra', 'bara') is Falsebksl-nlassert recherchepy-undBMH('maman est l\u00e0', 'maman')bksl-nlassert recherchepy-undBMH('bonjour maman', 'maman')bksl-nlassert recherchepy-undBMH('bonjour maman', 'papa') is Falsebksl-nlbksl-nl Valider 5/5 T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder def recherchepy-undBMH(mot : str, chaine : str) -> bool :bksl-nl N = len(chaine)bksl-nl n = len(mot)bksl-nl i = 0bksl-nl j = ...bksl-nl while i<... and j>... :bksl-nl ... bksl-nl return Falsebksl-nlbksl-nl def recherchepy-undBMH(mot : str, chaine : str) -> bool :bksl-nl N = len(chaine)bksl-nl n = len(mot)bksl-nl i = 0bksl-nl j = ...bksl-nl while i<... and j>... :bksl-nl ...bksl-nl bksl-nl return Falsebksl-nlbksl-nl def recherche_BMH ( mot : str , chaine : str ) -> bool : N = len ( chaine ) n = len ( mot ) i = 0 j = ... while i <... and j >... : ... return False assert recherche_BMH ( 'abracadabra' , 'dab' ) assert recherche_BMH ( 'abracadabra' , 'abra' ) assert recherche_BMH ( 'abracadabra' , 'obra' ) is False assert recherche_BMH ( 'abracadabra' , 'bara' ) is False assert recherche_BMH ( 'maman est l\u00e0' , 'maman' ) assert recherche_BMH ( 'bonjour maman' , 'maman' ) assert recherche_BMH ( 'bonjour maman' , 'papa' ) is False","title":"Recherche textuelles"},{"location":"NSI/Terminale/C10/BoyerMoore/#recherches-textuelles","text":"Largement inspir\u00e9 de https://www.lyceum.fr/tg/nsi/5-algorithmique/5-recherche-textuelle Le contexte La recherche de sous-cha\u00eene dans une cha\u00eene donn\u00e9e est un probl\u00e8me important de l'informatique, puisque ses applications sont nombreuses, comme pour les moteurs de recherches, l'utilisation des outils de recherche dans les traitements de textes ou navigateurs web, mais aussi au sein de la bio-informatique, pour la recherche de s\u00e9quences donn\u00e9es de nucl\u00e9otides.","title":"Recherches textuelles"},{"location":"NSI/Terminale/C10/BoyerMoore/#lalgorithme-naif","text":"Une m\u00e9thode \u00e9vidente pour trouver une sous-cha\u00eene dans une cha\u00eene de caract\u00e8re donn\u00e9e est la suivante : on avance dans le texte caract\u00e8re par caract\u00e8re ; puis si le caract\u00e8re consid\u00e9r\u00e9 correspond au premier caract\u00e8re du mot, nous comparerons les caract\u00e8res suivants \u00e0 ceux du mot. Si la recherche s'av\u00e8re fructueuse on renvoie True , et sinon False Codage en Python Enonc\u00e9 Solution Coder une fonction recherche(mot : str, chaine : str) -> bool qui renvoie True si mot appartient \u00e0 chaine , sans utiliser le mot cl\u00e9 in de python . On pourra tester avec : recherche('dab', 'abracadabra') recherche('bad', 'abracadabra') T\u00e9l\u00e9charger le fichier suivant , et utiliser la fonction suivante pour lire ce fichier et stocker son contenu dans la variable texte : def lit_texte ( fichier ) : with open ( fichier , 'r' , encoding = 'utf8' ) as f : contenu = f . readlines () return \" \" . join ( contenu ) . replace ( \" \\n \" , \"\" ) Comparez maintenant la recherche de la phrase suivante, en utilisant notre fonction recherche et le mot-cl\u00e9 in : phrase = \"Mais toutes ces pens\u00e9es ne dur\u00e8rent \" \\ \"que l'espace d'une seconde, le temps qu'il port\u00e2t \" \\ \"la main \u00e0 son coeur, repr\u00eet sa respiration et parvint \" \\ \"\u00e0 sourire pour dissimuler sa torture. D\u00e9j\u00e0 il recommen\u00e7ait \" \\ \"\u00e0 poser ses questions. Car sa jalousie qui avait pris une peine \" \\ \"qu'un ennemi ne se serait pas donn\u00e9e pour arriver \u00e0 lui faire \" \\ \"ass\u00e9ner ce coup, \u00e0 lui faire faire la connaissance de la douleur \" \\ \"la plus cruelle qu'il n'e\u00fbt encore jamais connue, sa jalousie ne \" \\ \"trouvait pas qu'il eut assez souffert et cherchait \u00e0 lui faire recevoir \" \\ \"une blessure plus profond encore.\" Faire de m\u00eame avec la chaine \"majest\u00e9 dodon\u00e9enne\" . A venir ! Co\u00fbt de la m\u00e9thode na\u00efve On pose la longueur de la chaine N et la longueur du mot n . L'ex\u00e9cution est relativement lente, la fonction doit tester N-n positions dans la chaine et pour chacune effectuer jusqu'\u00e0 n comparaisons. La complexit\u00e9 de cet algorithme est donc dans le pire des cas \\(\\mathscr{O}\\left( (N-n) \\times n \\right )\\) , c'est-\u00e0-dire une complexit\u00e9 quadratique. Nous allons voir qu'il est beaucoup plus efficace de faire la recherche \u00e0 l'envers \u00e0 partir de la fin du mot.","title":"L'algorithme na\u00eff"},{"location":"NSI/Terminale/C10/BoyerMoore/#algorithme-de-boyer-moore-horspool","text":"","title":"Algorithme de Boyer-Moore-Horspool"},{"location":"NSI/Terminale/C10/BoyerMoore/#presentation-et-exemples","text":"L'algorithme de Boyer-Moore est un algorithme de recherche de sous-cha\u00eene particuli\u00e8rement efficace. Il a \u00e9t\u00e9 d\u00e9velopp\u00e9 par Robert S. Boyer et J Strother Moore en 1977. Il existe une verion simplifi\u00e9e, d\u00e9velopp\u00e9e par Nigel Horspool en 1980, que nous allons pr\u00e9senter ici. Principes de l'algorithme On aligne le mot (ou motif , ou pattern en anglais) sous la chaine, en partant de la gauche. On compare les lettres du mots avec celles correspondantes de la chaine, mais en partant de la fin du mot (c'est contre-intuitif). Trois cas peuvent alors se produire : Les lettres du mot et de la chaine correspondent, on continue alors en remontant le motif de la droite vers la gauche . les lettres ne correspondent pas, et la lettre de la chaine n'est pas pr\u00e9sente dans le motif . On va alors d\u00e9caler le motif vers la gauche d'un nombre de saut \u00e9gal \u00e0 sa longueur. les lettres ne correspondent pas, et la lettre de la chaine est pr\u00e9sente dans le motif . On va alors d\u00e9caler le motif de mani\u00e8re \u00e0 faire correspondre la lettre de la chaine \u00e0 celle du motif. Exemple comment\u00e9 On veut chercher le motif DAB dans la cha\u00eene ABRACADABRA . On utilisera deux compteurs : i qui repr\u00e9sente la position du premier caract\u00e8re du motif par rapport \u00e0 la cha\u00eene. j qui repr\u00e9sente l'indice du cracat\u00e8re du motif \u00e9tudi\u00e9. 1 2 3 4 5 6 Le premier caract\u00e8re du motif est plac\u00e9 \u00e0 l'indice i=0 . On compare alors le dernier caract\u00e8re du motif, d'indice j=2 , avec celui de la chaine d'indice i+j , soit 2. Ils sont diff\u00e9rents, et le caract\u00e8re de la cha\u00eene est R , qui n'est pas pr\u00e9sent dans le motif. On va donc d\u00e9caler le motif de sa propre longueur, soit 3, vers la droite. Ce qui signifie que son premier caract\u00e8re sera en i = i+3 . Apr\u00e8s l'\u00e9tape pr\u00e9c\u00e9dente, on a i=3 et j=2 , et on compare le dernier caract\u00e8re du motif, avec celui de la cha\u00eene d'indice i+j , soit 5. Ils diff\u00e8rent, mais le caract\u00e8re A en position 5 de la cha\u00eene est pr\u00e9sent dans le motif DAB . On va d\u00e9caler le motif d'un rang, car A est l'avant dernier caract\u00e8re de DAB . Ce qui signifie que son premier caract\u00e8re sera en i = i+1 . Apr\u00e8s l'\u00e9tape pr\u00e9c\u00e9dente, on a i=4 et j=2 , et on compare le dernier caract\u00e8re du motif, avec celui de la cha\u00eene d'indice i+j , soit 6. Ils diff\u00e8rent, mais le caract\u00e8re D en position 6 de la cha\u00eene est pr\u00e9sent dans le motif DAB . On va d\u00e9caler le motif d'un rang, car D est l'avant-avant-dernier caract\u00e8re de DAB . Ce qui signifie que son premier caract\u00e8re sera en i = i+2 . Apr\u00e8s l'\u00e9tape pr\u00e9c\u00e9dente, on a i=6 et j=2 , et on compare le dernier caract\u00e8re du motif, avec celui de la cha\u00eene d'indice i+j , soit 8. Ils sont identiques, donc on ne d\u00e9place pas le motif, mais on va le remonter vers la gauche, en d\u00e9cr\u00e9mentant de 1 la valeur de j . Apr\u00e8s l'\u00e9tape pr\u00e9c\u00e9dente, on a i=6 et j=1 , et on compare l'avant-dernier caract\u00e8re du motif , avec celui de la cha\u00eene d'indice i+j , soit 7. Ils sont identiques, donc on ne d\u00e9place pas le motif, mais on va le remonter vers la gauche, en d\u00e9cr\u00e9mentant de 1 la valeur de j . Apr\u00e8s l'\u00e9tape pr\u00e9c\u00e9dente, on a i=6 et j=0 , et on compare le premier caract\u00e8re du motif , avec celui de la cha\u00eene d'indice i+j , soit 6. Ils sont identiques, donc on ne d\u00e9place pas le motif, mais on va le remonter vers la gauche, en d\u00e9cr\u00e9mentant de 1 la valeur de j . Mais j devenant n\u00e9gatif, c'est qu'on a fini la comparaison, et le motif a \u00e9t\u00e9 trouv\u00e9. Il a donc suffit de faire 6 comparaisons pour trouver le motif, alors que 9 auraient \u00e9t\u00e9 n\u00e9cessaires avec la m\u00e9thode na\u00efve. Tester avec un autre motif On veut rechercher le motif string dans la cha\u00eene stupid_spring_string . Combien d'\u00e9tapes sont n\u00e9cessaires avec l'algorithme na\u00eff ? Appliquer l'algorithme de Boyer-Moore-Horspool sur cette recherche. Combien d'\u00e9tapes sont n\u00e9cessaires ?","title":"Pr\u00e9sentation et exemples"},{"location":"NSI/Terminale/C10/BoyerMoore/#codage-de-lalgorithme","text":"Pr\u00e9-traitement du motif Une des cl\u00e9s de l'algorithme est de savoir de combien de pas d\u00e9placer le motif quand la lettre \u00e9tudi\u00e9e appartient au motif. Nous cr\u00e9erons donc une fonction de pr\u00e9-traitement qui renverra un dictionnaire donnant pour chaque lettre du motif (sauf la derni\u00e8re) le nombre de d\u00e9calages n\u00e9cessaires. Compl\u00e9ter la fonction suivante : def pre_traitement ( mot : str ) -> dict : \"\"\"Renvoie un dictionnaire avec pour cl\u00e9 la lettre et pour valeur le d\u00e9calage\"\"\" n = len ( mot ) d\u00e9calages = {} for i , letter in enumerate ( ... ): d\u00e9calages [ letter ] = ... return d\u00e9calages # tests assert pre_traitement ( \"dab\" ) == { 'd' : 2 , 'a' : 1 } assert pre_traitement ( \"maman\" ) == { 'm' : 2 , 'a' : 1 } Recherche Boyer-Moore-Horspool Compl\u00e9ter la fonction suivante (on se servira des assertions comme tests) : ### Lancer assert recherchepy-undBMH('abracadabra', 'dab')bksl-nlassert recherchepy-undBMH('abracadabra', 'abra')bksl-nlassert recherchepy-undBMH('abracadabra', 'obra') is Falsebksl-nlassert recherchepy-undBMH('abracadabra', 'bara') is Falsebksl-nlassert recherchepy-undBMH('maman est l\u00e0', 'maman')bksl-nlassert recherchepy-undBMH('bonjour maman', 'maman')bksl-nlassert recherchepy-undBMH('bonjour maman', 'papa') is Falsebksl-nlbksl-nl Valider 5/5 T\u00e9l\u00e9charger T\u00e9l\u00e9verser Recharger Sauvegarder def recherchepy-undBMH(mot : str, chaine : str) -> bool :bksl-nl N = len(chaine)bksl-nl n = len(mot)bksl-nl i = 0bksl-nl j = ...bksl-nl while i<... and j>... :bksl-nl ... bksl-nl return Falsebksl-nlbksl-nl def recherchepy-undBMH(mot : str, chaine : str) -> bool :bksl-nl N = len(chaine)bksl-nl n = len(mot)bksl-nl i = 0bksl-nl j = ...bksl-nl while i<... and j>... :bksl-nl ...bksl-nl bksl-nl return Falsebksl-nlbksl-nl def recherche_BMH ( mot : str , chaine : str ) -> bool : N = len ( chaine ) n = len ( mot ) i = 0 j = ... while i <... and j >... : ... return False assert recherche_BMH ( 'abracadabra' , 'dab' ) assert recherche_BMH ( 'abracadabra' , 'abra' ) assert recherche_BMH ( 'abracadabra' , 'obra' ) is False assert recherche_BMH ( 'abracadabra' , 'bara' ) is False assert recherche_BMH ( 'maman est l\u00e0' , 'maman' ) assert recherche_BMH ( 'bonjour maman' , 'maman' ) assert recherche_BMH ( 'bonjour maman' , 'papa' ) is False","title":"Codage de l'algorithme"},{"location":"NSI/Terminale/Projets/ClickersWars/CW/","text":"Projet : ClickerWars Le jeu Le principe est de cr\u00e9er un jeu de type clicker , o\u00f9 le/la joueur\u00b7euse clicque sur un bouton pour r\u00e9colter des points fournis par des personnages. Dans le m\u00eame temps, ces personnages voient leur barre de vie diminuer r\u00e9guli\u00e8rement, et il faut les nourrir individuellement avec les points accumul\u00e9s pour \u00e9viter qu'ils ne meurent. Lorsque leur barre de vie est pleine, ils changent de niveau, ce qui augmente leur r\u00e9sistance, augmente le nombre de points r\u00e9colt\u00e9s, mais g\u00e9n\u00e8re aussi un besoin de nourriture plus important. Une pr\u00e9sentation possible est la suivante : La structure du code La classe personnage Un objet de la classe personnage devra poss\u00e9der \u00e0 minima les attributs suivants : un niveau ; un nombre de points de vie maximum ; un nombre de points de vie actuels ; un nombre de points de collecte (combien il rapporte \u00e0 chaque clic) ; une vitesse de d\u00e9croissance des points de vie ; des attributs sp\u00e9cifiants quelles sont les augmentations/diminutions des autres attributs \u00e0 chaque augmentation de niveau. il devra aussi avoir des attributs pointants vers d'autres objets comme : la barre de vie ; le bouton pour le nourrir ; le texte donnant son niveau et bien s\u00fbr l'image associ\u00e9e au personnage Il devra aussi avoir les m\u00e9thodes suivantes : une m\u00e9thode d'initialisation d'instance __init__ , d\u00e9finissant les attributs et les initialisant ; une m\u00e9thode permettant de baisser le nombre de points de vie ; une m\u00e9thode permettant de modiffier les attributs lors d'un changement de niveau ; une m\u00e9thode d'affichage permettant d'afficher le bloc de personnage. Bien entendu, il sera peut-\u00eatre n\u00e9cessaire de cr\u00e9er d'autres m\u00e9thodes selon la mani\u00e8re choisie pour impl\u00e9menter le code. Bouton de collecte Une classe sera n\u00e9cessaire pour encapsuler youtes les donn\u00e9es li\u00e9es au bouton de collecte, et cette classe devra avoir deux m\u00e9thodes : une m\u00e9thode d'initialisation ; une m\u00e9thode d'affichage. Bouton de nourriture Chaque personnage aura associ\u00e9 un objet correspondant \u00e0 une classe de type bouton, qui devra avoir au moins 3 m\u00e9thodes : la m\u00e9thode d'initialisation ; la m\u00e9thode d'affichage ; une m\u00e9thode sp\u00e9cifique permettant de nourrir le personnage auquel ce bouton est rattach\u00e9, en vidant la r\u00e9serve de points accumul\u00e9e d'un certain nombre de points : soit elle vide compl\u00e8tement la r\u00e9serve si le nombre de points n'est pas suffisant pour amener la barre de vie au maximum ; soit elle vide la r\u00e9serve du nombre de points exact permettant \u00e0 un personnage de changer de niveau. r\u00e9serve de points Une classe sp\u00e9cifique pourra \u00eatre cr\u00e9\u00e9e pour contenir et afficher la r\u00e9serve de points.","title":"Projet : ClickerWars"},{"location":"NSI/Terminale/Projets/ClickersWars/CW/#projet-clickerwars","text":"","title":"Projet : ClickerWars"},{"location":"NSI/Terminale/Projets/ClickersWars/CW/#le-jeu","text":"Le principe est de cr\u00e9er un jeu de type clicker , o\u00f9 le/la joueur\u00b7euse clicque sur un bouton pour r\u00e9colter des points fournis par des personnages. Dans le m\u00eame temps, ces personnages voient leur barre de vie diminuer r\u00e9guli\u00e8rement, et il faut les nourrir individuellement avec les points accumul\u00e9s pour \u00e9viter qu'ils ne meurent. Lorsque leur barre de vie est pleine, ils changent de niveau, ce qui augmente leur r\u00e9sistance, augmente le nombre de points r\u00e9colt\u00e9s, mais g\u00e9n\u00e8re aussi un besoin de nourriture plus important. Une pr\u00e9sentation possible est la suivante :","title":"Le jeu"},{"location":"NSI/Terminale/Projets/ClickersWars/CW/#la-structure-du-code","text":"","title":"La structure du code"},{"location":"NSI/Terminale/Projets/ClickersWars/CW/#la-classe-personnage","text":"Un objet de la classe personnage devra poss\u00e9der \u00e0 minima les attributs suivants : un niveau ; un nombre de points de vie maximum ; un nombre de points de vie actuels ; un nombre de points de collecte (combien il rapporte \u00e0 chaque clic) ; une vitesse de d\u00e9croissance des points de vie ; des attributs sp\u00e9cifiants quelles sont les augmentations/diminutions des autres attributs \u00e0 chaque augmentation de niveau. il devra aussi avoir des attributs pointants vers d'autres objets comme : la barre de vie ; le bouton pour le nourrir ; le texte donnant son niveau et bien s\u00fbr l'image associ\u00e9e au personnage Il devra aussi avoir les m\u00e9thodes suivantes : une m\u00e9thode d'initialisation d'instance __init__ , d\u00e9finissant les attributs et les initialisant ; une m\u00e9thode permettant de baisser le nombre de points de vie ; une m\u00e9thode permettant de modiffier les attributs lors d'un changement de niveau ; une m\u00e9thode d'affichage permettant d'afficher le bloc de personnage. Bien entendu, il sera peut-\u00eatre n\u00e9cessaire de cr\u00e9er d'autres m\u00e9thodes selon la mani\u00e8re choisie pour impl\u00e9menter le code.","title":"La classe personnage"},{"location":"NSI/Terminale/Projets/ClickersWars/CW/#bouton-de-collecte","text":"Une classe sera n\u00e9cessaire pour encapsuler youtes les donn\u00e9es li\u00e9es au bouton de collecte, et cette classe devra avoir deux m\u00e9thodes : une m\u00e9thode d'initialisation ; une m\u00e9thode d'affichage.","title":"Bouton de collecte"},{"location":"NSI/Terminale/Projets/ClickersWars/CW/#bouton-de-nourriture","text":"Chaque personnage aura associ\u00e9 un objet correspondant \u00e0 une classe de type bouton, qui devra avoir au moins 3 m\u00e9thodes : la m\u00e9thode d'initialisation ; la m\u00e9thode d'affichage ; une m\u00e9thode sp\u00e9cifique permettant de nourrir le personnage auquel ce bouton est rattach\u00e9, en vidant la r\u00e9serve de points accumul\u00e9e d'un certain nombre de points : soit elle vide compl\u00e8tement la r\u00e9serve si le nombre de points n'est pas suffisant pour amener la barre de vie au maximum ; soit elle vide la r\u00e9serve du nombre de points exact permettant \u00e0 un personnage de changer de niveau.","title":"Bouton de nourriture"},{"location":"NSI/Terminale/Projets/ClickersWars/CW/#reserve-de-points","text":"Une classe sp\u00e9cifique pourra \u00eatre cr\u00e9\u00e9e pour contenir et afficher la r\u00e9serve de points.","title":"r\u00e9serve de points"},{"location":"SNT/College/PixelArt/","text":"Pixel Art avec Python Se pr\u00e9parer pour l'activit\u00e9 Ouvrez le logiciel Thonny depuis le menu Windows . Dans le menu Tools>Manage packages , tapez dans la barre de saisie le mot pillow puis cliquez sur Find package from PyPi . Puis cliquez sur Install (si vous voyez \u00e0 la place les boutons Upgrade et Uninstall , ce n'est pas n\u00e9cessaire). Laissez le logiciel installer jusqu'au bout, cela prend quelques secondes. Ouvrez l'explorateur de fichier windows , puis allez dans le dossier Images . Cr\u00e9ez un sous-dossier avec votre nom et pr\u00e9nom. Ce dossier sera celui dans lequel vous devrez copier tous les fichiers de cette activit\u00e9 . Rendez-vous sur le site www.zonensi.fr , menu SNT et cliquez sur > Session Coll\u00e8ge . Enregistrez tous les fichiers suivants dans votre dossier personnel. PixelArt.py makeMatrix.py bigMatrix.txt Du Pixel Art en Noir et Blanc Pixels et tableaux de nombres Une image num\u00e9rique est compos\u00e9e de pixels. Ces pixels sont les plus petites \u00ab lampes \u00bb allumables par l'ordinateur. Pour demander \u00e0 l'ordinateur d'allumer un pixel, on lui donne une valeur num\u00e9rique. Une image num\u00e9rique est donc repr\u00e9sent\u00e9e dans un ordinateur par un tableau de nombres, appel\u00e9 matrice en fran\u00e7ais ( matrix en anglais). Voici une image en noir et blanc de 8 pixels de long, et de 8 pixels de haut, ainsi que sa repr\u00e9sentation sous la forme d'une matrice dans le langage Python : matrix = [ [ 255 , 0 , 0 , 255 , 255 , 0 , 0 , 255 ], [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ], [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ], [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ], [ 255 , 0 , 0 , 0 , 0 , 0 , 0 , 255 ], [ 255 , 255 , 0 , 0 , 0 , 0 , 255 , 255 ], [ 255 , 255 , 255 , 0 , 0 , 255 , 255 , 255 ], [ 255 , 255 , 255 , 255 , 255 , 255 , 255 , 255 ], ] A quoi correspondent les valeurs \\(0\\) et \\(255\\) dans la matrice ? Ouvrir le logiciel Thonny , et depuis ce logiciel ouvrez le fichier pixelArt.py (avec le menu File>open ). Cliquez sur la petite fl\u00e8che verte pour ex\u00e9cuter le script Python. Qu'obtient-on ? La ligne cr\u00e9ant l'image et l'affichent \u00e0 partir de la matrice est la ligne 35 : makeImage ( matrix , 8 , 8 ) Dans cette ligne, la fonction makeImage utilise la variable matrix , pour cr\u00e9er une image de dimension \\(8 \\times 8\\) . Remplacer cette ligne par la ligne suivante : makeBiggerImage ( matrix , 8 , 8 , scale = 5 ) Qu'obtient-on ? Sauvegarder cette nouvelle image dans le m\u00eame dossier que le fichier pixelArt.py sous le nom greatHeart.png . Combien de pixels composent cette image ? Comment faire pour obtenir une image de \\(80\\times 80\\) pixels ? A l'aide des grilles suivantes, cr\u00e9ez deux nouvelles images de dimension \\(8\\times 8\\) (vous pouvez vous inspirer du site www.pixelart.name ). Modifier le programme Python afin d'afficher vous deux images en noir et blanc, en taille \\(80 \\times 80\\) , et sauvegardez-les. Combien de nombres sont n\u00e9cessaires pour une image de \\(16 \\times 16\\) pixels ? de \\(32 \\times 32\\) pixels ? de \\(64 \\times 64\\) pixels ? Une image en niveau de gris Ouvrez avec le bloc-note le fichier bigMatrix.txt et copiez-collez la totalit\u00e9 de ce texte dans le fichier pixelArt.py , \u00e0 la place de la variable matrix . Cette nouvelle variable bigMatrix est une matrice de dimension \\(16 \\times 16\\) . Mis \u00e0 part sa taille et son nom, qu'a-t-elle de nouveau par rapport \u00e0 la variable pr\u00e9c\u00e9dente ? Modifiez la ligne makeBiggerImage... de la mani\u00e8re suivante : makeBiggerImage ( bigMatrix , 16 , 16 , scale = 5 ) Puis ex\u00e9cutez le code. Qu'obtient-on ? Les niveaux de gris Nous avons vu qu'un pixel peut \u00eatre \u00ab allum\u00e9 \u00bb quand on lui donne la valeur \\(255\\) , et qu'il est \u00ab \u00e9teint \u00bb quand on lui donne la valeur \\(0\\) . Mais en r\u00e9alit\u00e9 on peut lui donner n'importe quelle valeur entre \\(0\\) et \\(255\\) , ce qui donnera un niveau de gris , sachant que plus la valeur est grande, plus la nuance se est \u00e9claircie, et plus elle est proche de \\(0\\) plus elle est assombrie. Votre propre matrice Allez chercher sur le web une image - pas trop grande en dimension, et sauvegardez-l\u00e0 dans votre dossier. Ouvrez dans Thonny le fichier makeMatrix.py . Modifiez la ligne \\(11\\) en rempla\u00e7ant le nom Mario.png par le nom de votre image (ou par le nom que vous choisissez). Attention \u00e0 bien conserver les guillemets ! Ex\u00e9cutez alors le code. Qu'obtenez-vous ? Copiez-collez la matrice obtenue \u00e0 la place de la pr\u00e9c\u00e9dente dans le fichier pixelArt.py , puis modifiez le fichier afin de pouvoir l'ex\u00e9cuter. Attention, il vous faudra conna\u00eetre le nombre de pixels de cette image pour pouvoir ex\u00e9cuter correctement le code !","title":"Session Coll\u00e8ge"},{"location":"SNT/College/PixelArt/#pixel-art-avec-python","text":"","title":"Pixel Art avec Python"},{"location":"SNT/College/PixelArt/#se-preparer-pour-lactivite","text":"Ouvrez le logiciel Thonny depuis le menu Windows . Dans le menu Tools>Manage packages , tapez dans la barre de saisie le mot pillow puis cliquez sur Find package from PyPi . Puis cliquez sur Install (si vous voyez \u00e0 la place les boutons Upgrade et Uninstall , ce n'est pas n\u00e9cessaire). Laissez le logiciel installer jusqu'au bout, cela prend quelques secondes. Ouvrez l'explorateur de fichier windows , puis allez dans le dossier Images . Cr\u00e9ez un sous-dossier avec votre nom et pr\u00e9nom. Ce dossier sera celui dans lequel vous devrez copier tous les fichiers de cette activit\u00e9 . Rendez-vous sur le site www.zonensi.fr , menu SNT et cliquez sur > Session Coll\u00e8ge . Enregistrez tous les fichiers suivants dans votre dossier personnel. PixelArt.py makeMatrix.py bigMatrix.txt","title":"Se pr\u00e9parer pour l'activit\u00e9"},{"location":"SNT/College/PixelArt/#du-pixel-art-en-noir-et-blanc","text":"Pixels et tableaux de nombres Une image num\u00e9rique est compos\u00e9e de pixels. Ces pixels sont les plus petites \u00ab lampes \u00bb allumables par l'ordinateur. Pour demander \u00e0 l'ordinateur d'allumer un pixel, on lui donne une valeur num\u00e9rique. Une image num\u00e9rique est donc repr\u00e9sent\u00e9e dans un ordinateur par un tableau de nombres, appel\u00e9 matrice en fran\u00e7ais ( matrix en anglais). Voici une image en noir et blanc de 8 pixels de long, et de 8 pixels de haut, ainsi que sa repr\u00e9sentation sous la forme d'une matrice dans le langage Python : matrix = [ [ 255 , 0 , 0 , 255 , 255 , 0 , 0 , 255 ], [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ], [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ], [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ], [ 255 , 0 , 0 , 0 , 0 , 0 , 0 , 255 ], [ 255 , 255 , 0 , 0 , 0 , 0 , 255 , 255 ], [ 255 , 255 , 255 , 0 , 0 , 255 , 255 , 255 ], [ 255 , 255 , 255 , 255 , 255 , 255 , 255 , 255 ], ] A quoi correspondent les valeurs \\(0\\) et \\(255\\) dans la matrice ? Ouvrir le logiciel Thonny , et depuis ce logiciel ouvrez le fichier pixelArt.py (avec le menu File>open ). Cliquez sur la petite fl\u00e8che verte pour ex\u00e9cuter le script Python. Qu'obtient-on ? La ligne cr\u00e9ant l'image et l'affichent \u00e0 partir de la matrice est la ligne 35 : makeImage ( matrix , 8 , 8 ) Dans cette ligne, la fonction makeImage utilise la variable matrix , pour cr\u00e9er une image de dimension \\(8 \\times 8\\) . Remplacer cette ligne par la ligne suivante : makeBiggerImage ( matrix , 8 , 8 , scale = 5 ) Qu'obtient-on ? Sauvegarder cette nouvelle image dans le m\u00eame dossier que le fichier pixelArt.py sous le nom greatHeart.png . Combien de pixels composent cette image ? Comment faire pour obtenir une image de \\(80\\times 80\\) pixels ? A l'aide des grilles suivantes, cr\u00e9ez deux nouvelles images de dimension \\(8\\times 8\\) (vous pouvez vous inspirer du site www.pixelart.name ). Modifier le programme Python afin d'afficher vous deux images en noir et blanc, en taille \\(80 \\times 80\\) , et sauvegardez-les. Combien de nombres sont n\u00e9cessaires pour une image de \\(16 \\times 16\\) pixels ? de \\(32 \\times 32\\) pixels ? de \\(64 \\times 64\\) pixels ?","title":"Du Pixel Art en Noir et Blanc"},{"location":"SNT/College/PixelArt/#une-image-en-niveau-de-gris","text":"Ouvrez avec le bloc-note le fichier bigMatrix.txt et copiez-collez la totalit\u00e9 de ce texte dans le fichier pixelArt.py , \u00e0 la place de la variable matrix . Cette nouvelle variable bigMatrix est une matrice de dimension \\(16 \\times 16\\) . Mis \u00e0 part sa taille et son nom, qu'a-t-elle de nouveau par rapport \u00e0 la variable pr\u00e9c\u00e9dente ? Modifiez la ligne makeBiggerImage... de la mani\u00e8re suivante : makeBiggerImage ( bigMatrix , 16 , 16 , scale = 5 ) Puis ex\u00e9cutez le code. Qu'obtient-on ? Les niveaux de gris Nous avons vu qu'un pixel peut \u00eatre \u00ab allum\u00e9 \u00bb quand on lui donne la valeur \\(255\\) , et qu'il est \u00ab \u00e9teint \u00bb quand on lui donne la valeur \\(0\\) . Mais en r\u00e9alit\u00e9 on peut lui donner n'importe quelle valeur entre \\(0\\) et \\(255\\) , ce qui donnera un niveau de gris , sachant que plus la valeur est grande, plus la nuance se est \u00e9claircie, et plus elle est proche de \\(0\\) plus elle est assombrie.","title":"Une image en niveau de gris"},{"location":"SNT/College/PixelArt/#votre-propre-matrice","text":"Allez chercher sur le web une image - pas trop grande en dimension, et sauvegardez-l\u00e0 dans votre dossier. Ouvrez dans Thonny le fichier makeMatrix.py . Modifiez la ligne \\(11\\) en rempla\u00e7ant le nom Mario.png par le nom de votre image (ou par le nom que vous choisissez). Attention \u00e0 bien conserver les guillemets ! Ex\u00e9cutez alors le code. Qu'obtenez-vous ? Copiez-collez la matrice obtenue \u00e0 la place de la pr\u00e9c\u00e9dente dans le fichier pixelArt.py , puis modifiez le fichier afin de pouvoir l'ex\u00e9cuter. Attention, il vous faudra conna\u00eetre le nombre de pixels de cette image pour pouvoir ex\u00e9cuter correctement le code !","title":"Votre propre matrice"},{"location":"SNT/Donnees/Arborescence/","text":"Arborescence des fichiers et des dossiers Les fichiers informatiques D\u00e9finitions Fichier informatique Un fichier informatique est un ensemble de donn\u00e9es coh\u00e9rentes r\u00e9unies, c'est-\u00e0-dire une suite de chiffres binaires dont l'ordre poss\u00e8de une signification pour un ou des programmes informatiques. Un fichier informatique est enregistr\u00e9 dans une m\u00e9moire de stockage (disque dur local ou r\u00e9seau, cl\u00e9 USB ou carte m\u00e9moire Flash, CD/DVD, ... ) afin de pouvoir lire et/ou modifier les donn\u00e9es qui y sont \u00e9crites. Un fichier informatique est rep\u00e9r\u00e9 par son nom , qui poss\u00e8de souvent, mais pas toujours, la structure suivante : nom.extension o\u00f9 le nom est une suite de caract\u00e8res quelconques, et l' extension est une suite de deux, trois ou quatre lettres pouvant donner une id\u00e9e du contenu du fichier. Remarques Un nom de fichier peut n'avoir aucune extension, et peut m\u00eame n'\u00eatre \u00e9crit qu'avec des espaces... Mais c'est peu recommand\u00e9. Les programmes informatiques sont eux aussi des fichiers (ou des ensembles de fichiers) qui sont lus par le syst\u00e8me d'exploitation. Le syst\u00e8me d'exploitation est aussi un ensemble de fichiers. On peut g\u00e9n\u00e9ralement ouvrir un fichier informatique avec un \u00e9diteur de texte. Mais le contenu sera illisible par un \u00eatre humain. L'organisation de tous les fichiers, appel\u00e9e \\textit{syst\u00e8me de fichiers}, d\u00e9pend du syst\u00e8me d'exploitation (Windows, Unix, Linux, etc) Les extensions Utilit\u00e9 des extensions Sous les syst\u00e8mes windows, le syst\u00e8me d'exploitation peut \u00eatre configur\u00e9 de mani\u00e8re \u00e0 s\u00e9lectionner automatiquement( c'est-\u00e0-dire par double-clique ) un programme pour ouvrir un type de fichier, en fonction de son extension. Ainsi, g\u00e9n\u00e9ralement, pour les fichiers portant l'extension .jpg , le syst\u00e8me d'exploitation sera configur\u00e9 de mani\u00e8re \u00e0 ouvrir avec un logiciel visionneur d'image, ou bien un \u00e9diteur d'image. Remarques Il est tout \u00e0 fait possible de changer le logiciel avec lequel on ouvre un fichier, gr\u00e2ce au menu contextuel Ouvrir avec . Certaines extensions de fichiers ne sont pas reconnues par le syst\u00e8me d'exploitation. Ce sera par exemple le cas avec les sauvegardes de l'application frisechrono.fr . Dans ce cas, il est n\u00e9cessaire de d'abord d\u00e9marrer le logiciel ou l'application, puis utiliser le menu `Ouvrir` de celui-ci pour chercher le fichier \u00e0 ouvrir. \u26a0 En changeant l'extension d'un fichier, on ne change pas fondamentalement les donn\u00e9es. Par contre on risque d'avoir un fichier illisible ! Conna\u00eetre les diff\u00e9rentes extensions Enonc\u00e9 Solution Compl\u00e9ter le tableau suivant : Types de fichiers Extensions possibles Remarques Images compress\u00e9es Images brutes .avi , .mp4 , .wmv , .vob Textes format\u00e9s Textes bruts .zip , .7z , .gz .pdf Ex\u00e9cutables windows Sons compress\u00e9s Sons bruts .html , .css , .js , .py Types de fichiers Extensions possibles Remarques Images compress\u00e9es .png , .jpg , .gif A utiliser sur le net Images brutes .raw , .bmp , ... Quand on traite des images Vid\u00e9os .avi , .mp4 , .wmv , .vob Selon le support Textes format\u00e9s .doc , .odt Les fichiers de suites offices Textes bruts .txt , .csv Des fichiers ne contenant que des caract\u00e8res Archives .zip , .7z , .gz Pour cr\u00e9er un ficheir \u00e0 partir de plusieurs Documents portables .pdf Multiplateforme, simple \u00e0 transmettre, mais compliqu\u00e9s \u00e0 modifier Ex\u00e9cutables windows .exe , .msi Danger ! Attention, il faut savoir ce qu'on fait quand on ouvre un de ces fichiers Sons compress\u00e9s .mp3 , .ogg petits mais certaines fr\u00e9quences sont absentes Sons bruts .wav , .raw peuvent \u00eatre cons\u00e9quents Code informatiques .html , .css , .js , .py ce ne sont que des fichiers textes M\u00e9ta-donn\u00e9es M\u00e9ta-donn\u00e9es d'un fichier Non seulement un fichier contient des donn\u00e9es brutes ( la vid\u00e9o en question, le texte, etc. ), mais il contient aussi des m\u00e9ta-donn\u00e9es (certaines informations concernant les informations) - telles que, suivant le syst\u00e8me de fichier, la longueur du fichier, son auteur, les personnes autoris\u00e9es \u00e0 le manipuler, ou la date de la derni\u00e8re modification. Savoir lire les informations On consid\u00e8re l'image suivante, capture d'\u00e9cran faite sur un syst\u00e8me d'exploitation Windows. Enonc\u00e9 Solution Quelles sont les extensions pr\u00e9sentes de fichiers images ? Lesquels de ces fichiers ne peuvent \u00eatre ouverts par double-clic ? Deux fichiers peuvent-ils avoir le m\u00eame nom mais pas la m\u00eame extension ? Quel est le plus ancien fichier ? Quel est celui qui a \u00e9t\u00e9 modifi\u00e9 le plus tard ? Quelle est la nature des deux plus gros fichiers ? Il y a : des fichiers .gif des fichiers .png et .jpg (images c\u00e7ompress\u00e9es) des fichiers .bmp (images brutes) Le fichier genereBMP.py ne peut pas \u00eatre ouvert par double-clique. On le voit car il n'est associ\u00e9 \u00e0 aucun ic\u00f4ne d'application. Oui, il y a les fichiers N1_Images_NB_Gris.pdf et N1_Images_NB_Gris.tex . Le fichier Matrice_RGB2.jpg qui date du 17/02/2020. Le fichier N1_Images_NB_Gris.pdf \u00e0 22h09. Les deux plus gros fichiers sont des fichiers images compress\u00e9s ( .jpg ). Arborescence des fichiers Dossiers et arborescence Dossiers informatiques Un dossier informatique (ou r\u00e9pertoire , directory en anglais) est un fichier particulier qui contient les r\u00e9f\u00e9rences \u00e0 d'autres fichiers. Dans tous les syst\u00e8me de fichier, chaque fichier ou dossier est r\u00e9f\u00e9renc\u00e9 par un autre dossier , appel\u00e9 parent du fichier ou du dossier correspondant. Un tel syst\u00e8me forme une hi\u00e9rarchie, appel\u00e9e arborescence , dont le point d'entr\u00e9e est appel\u00e9 r\u00e9pertoire racine . Exemple : Arborescence compl\u00e8te dessin\u00e9e sous la forme d'un arbre Lire une arborescence A partir de l'arborescence pr\u00e9c\u00e9dente : Enonc\u00e9 Solution Le r\u00e9pertoire racine est ? Le dossier parent de Programmation est ? Le dossier Users poss\u00e8de deux enfants qui sont ? Le dossier www poss\u00e8de combien de r\u00e9f\u00e9rences ? Le r\u00e9pertoire racine est C: . Le dossier parent de Programmation est Programmes . Le dossier Users poss\u00e8de deux enfants qui sont Toto et Tata . Il en poss\u00e8de deux : le fichier index.html ainsi que le r\u00e9pertoire Images . Chemin absolu Chemin absolu d'un fichier ou d'un dossier Donner le chemin absolu d'un fichier ou d'un dossier, c'est donner l'ensemble des dossiers travers\u00e9s depuis le r\u00e9pertoire racine pour atteindre ce fichier ou dossier. Remarques Pour s\u00e9parer des dossiers, on utilise un caract\u00e8re sp\u00e9cifique : sous windows : l'\u00ab antislash \u00bb ++backslah++; sous syst\u00e8me Unix : le \u00ab slash \u00bb / . Exemples On consid\u00e8re le chemin absolu suivant sur un syst\u00e8me windows : C:\\Windows\\System32\\avifile.dll La cible est avifile.dll Le r\u00e9pertoire racine est C: Le r\u00e9pertoire parent de avifile.dll est System32 . Le r\u00e9pertoire parent de System32 est Windows . Le r\u00e9pertoire parent de Windows est le r\u00e9pertoire racine On consid\u00e8re maintenant le chemin absolu suivant sur un t\u00e9l\u00e9phone Android : /InternalStorage/Pictures/facebook/FB_IMG_352.jpg La cible est FB_IMG_352.jpg . Le r\u00e9pertoire racine est / (c'est bizarre mais c'est comme \u00e7a avec les syst\u00e8mes UNIX). Le r\u00e9pertoire parent de facebook est Pictures . Le r\u00e9pertoire parent de Pictures est InternalStorage . A partir de l'arborescence exemple On consid\u00e8re l'arborescence dessin\u00e9e sous la forme d'un arbre : Enonc\u00e9 Solution Quelle est l'adresse absolue du fichier image2.jpg ? Quelle est l'adresse absolue du dossier Audio ? Quelle est l'adresse absolue du fichier config.ini ? C:\\www\\Images\\image2.jpg C:\\Programmes\\Audio C:config.ini A partir d'une arborescence Windows r\u00e9elle On consid\u00e8re la capture d'\u00e9cran ci-dessous : Enonc\u00e9 Solution Quel est le r\u00e9pertoire racine de cette arborescence ? Quelle est l'adresse absolue du fichier Eratosthene.png ? Combien de sous-r\u00e9pertoires (ou sous-dossiers , ou r\u00e9pertoires enfants ) poss\u00e8de le dossier 2020-2021 ? Voit-on dans l'arborescence les fichiers contenus dans le r\u00e9pertoire 2de2 ? D: D:\\Cours et exercices 2nde\\Archives\\2019-2020\\C01_Ensembles_Nombres\\Eratosthene.png Un seul : 2de2 Non Arborescence Android On consid\u00e8re la capture d'\u00e9cran ci-dessous : Enonc\u00e9 Solution Quelles sont les informations disponibles concernant l'arborescence des fichiers sur cette capture d'\u00e9cran ? Il y a deux fichiers images, situ\u00e9s dans le dossier dont l'adresse absolue est : /Stockage interne/Pictures/facebook/ Chemin relatif Chemin relatif d'un fichier ou d'un dossier} Il est possible de donner le chemin relatif vers un fichier ou un dossier \u00e0 partir d'un autre dossier de la m\u00eame arborescence. Pour cela il est parfois n\u00e9cessaire de remonter dans les r\u00e9pertoires parents. Le nom du r\u00e9pertoire parent n'\u00e9tant pas connu par le r\u00e9pertoire courant, on utilise la convention .. (deux points) pour signifier qu'il faut remonter d'un parent vers la racine. Exemple Dans l'exemple d'arborescence dessin\u00e9e, si on se trouve dans le r\u00e9pertoire mesDocs , alors l'adresse relative du fichier sonImage.png est : ..\\..\\Tata\\sonImage.png le premier .. permet de remonter dans le dossier Toto . le second .. permet de remonter dans le dossier Users Ensuite on descend normalement dans l'arborescence. Chemins relatifs Toujours dans l'arboprescence dessin\u00e9e : Enonc\u00e9 Solution Quelle est l'adresse relative du fichier image1.png par rapport \u00e0 index.html ? Quelle est l'adresse relative du fichier HelloWorld.py par rapport au fichier index.html ? Quelle est l'adresse relative du fichier config.ini par rapport au fichier monFichier.txt ? Images/image1.png (Inutile de remonter l'arborescence, index.html est dans www tout comme le dossier Images ). ..\\Programmes\\Programmation\\Python\\HelloWorld.py ..\\..\\..\\config.ini","title":"Arborescence des fichiers et dossiers "},{"location":"SNT/Donnees/Arborescence/#arborescence-des-fichiers-et-des-dossiers","text":"","title":"Arborescence des fichiers et des dossiers"},{"location":"SNT/Donnees/Arborescence/#les-fichiers-informatiques","text":"","title":"Les fichiers informatiques"},{"location":"SNT/Donnees/Arborescence/#definitions","text":"Fichier informatique Un fichier informatique est un ensemble de donn\u00e9es coh\u00e9rentes r\u00e9unies, c'est-\u00e0-dire une suite de chiffres binaires dont l'ordre poss\u00e8de une signification pour un ou des programmes informatiques. Un fichier informatique est enregistr\u00e9 dans une m\u00e9moire de stockage (disque dur local ou r\u00e9seau, cl\u00e9 USB ou carte m\u00e9moire Flash, CD/DVD, ... ) afin de pouvoir lire et/ou modifier les donn\u00e9es qui y sont \u00e9crites. Un fichier informatique est rep\u00e9r\u00e9 par son nom , qui poss\u00e8de souvent, mais pas toujours, la structure suivante : nom.extension o\u00f9 le nom est une suite de caract\u00e8res quelconques, et l' extension est une suite de deux, trois ou quatre lettres pouvant donner une id\u00e9e du contenu du fichier. Remarques Un nom de fichier peut n'avoir aucune extension, et peut m\u00eame n'\u00eatre \u00e9crit qu'avec des espaces... Mais c'est peu recommand\u00e9. Les programmes informatiques sont eux aussi des fichiers (ou des ensembles de fichiers) qui sont lus par le syst\u00e8me d'exploitation. Le syst\u00e8me d'exploitation est aussi un ensemble de fichiers. On peut g\u00e9n\u00e9ralement ouvrir un fichier informatique avec un \u00e9diteur de texte. Mais le contenu sera illisible par un \u00eatre humain. L'organisation de tous les fichiers, appel\u00e9e \\textit{syst\u00e8me de fichiers}, d\u00e9pend du syst\u00e8me d'exploitation (Windows, Unix, Linux, etc)","title":"D\u00e9finitions"},{"location":"SNT/Donnees/Arborescence/#les-extensions","text":"Utilit\u00e9 des extensions Sous les syst\u00e8mes windows, le syst\u00e8me d'exploitation peut \u00eatre configur\u00e9 de mani\u00e8re \u00e0 s\u00e9lectionner automatiquement( c'est-\u00e0-dire par double-clique ) un programme pour ouvrir un type de fichier, en fonction de son extension. Ainsi, g\u00e9n\u00e9ralement, pour les fichiers portant l'extension .jpg , le syst\u00e8me d'exploitation sera configur\u00e9 de mani\u00e8re \u00e0 ouvrir avec un logiciel visionneur d'image, ou bien un \u00e9diteur d'image. Remarques Il est tout \u00e0 fait possible de changer le logiciel avec lequel on ouvre un fichier, gr\u00e2ce au menu contextuel Ouvrir avec . Certaines extensions de fichiers ne sont pas reconnues par le syst\u00e8me d'exploitation. Ce sera par exemple le cas avec les sauvegardes de l'application frisechrono.fr . Dans ce cas, il est n\u00e9cessaire de d'abord d\u00e9marrer le logiciel ou l'application, puis utiliser le menu `Ouvrir` de celui-ci pour chercher le fichier \u00e0 ouvrir. \u26a0 En changeant l'extension d'un fichier, on ne change pas fondamentalement les donn\u00e9es. Par contre on risque d'avoir un fichier illisible ! Conna\u00eetre les diff\u00e9rentes extensions Enonc\u00e9 Solution Compl\u00e9ter le tableau suivant : Types de fichiers Extensions possibles Remarques Images compress\u00e9es Images brutes .avi , .mp4 , .wmv , .vob Textes format\u00e9s Textes bruts .zip , .7z , .gz .pdf Ex\u00e9cutables windows Sons compress\u00e9s Sons bruts .html , .css , .js , .py Types de fichiers Extensions possibles Remarques Images compress\u00e9es .png , .jpg , .gif A utiliser sur le net Images brutes .raw , .bmp , ... Quand on traite des images Vid\u00e9os .avi , .mp4 , .wmv , .vob Selon le support Textes format\u00e9s .doc , .odt Les fichiers de suites offices Textes bruts .txt , .csv Des fichiers ne contenant que des caract\u00e8res Archives .zip , .7z , .gz Pour cr\u00e9er un ficheir \u00e0 partir de plusieurs Documents portables .pdf Multiplateforme, simple \u00e0 transmettre, mais compliqu\u00e9s \u00e0 modifier Ex\u00e9cutables windows .exe , .msi Danger ! Attention, il faut savoir ce qu'on fait quand on ouvre un de ces fichiers Sons compress\u00e9s .mp3 , .ogg petits mais certaines fr\u00e9quences sont absentes Sons bruts .wav , .raw peuvent \u00eatre cons\u00e9quents Code informatiques .html , .css , .js , .py ce ne sont que des fichiers textes","title":"Les extensions"},{"location":"SNT/Donnees/Arborescence/#meta-donnees","text":"M\u00e9ta-donn\u00e9es d'un fichier Non seulement un fichier contient des donn\u00e9es brutes ( la vid\u00e9o en question, le texte, etc. ), mais il contient aussi des m\u00e9ta-donn\u00e9es (certaines informations concernant les informations) - telles que, suivant le syst\u00e8me de fichier, la longueur du fichier, son auteur, les personnes autoris\u00e9es \u00e0 le manipuler, ou la date de la derni\u00e8re modification. Savoir lire les informations On consid\u00e8re l'image suivante, capture d'\u00e9cran faite sur un syst\u00e8me d'exploitation Windows. Enonc\u00e9 Solution Quelles sont les extensions pr\u00e9sentes de fichiers images ? Lesquels de ces fichiers ne peuvent \u00eatre ouverts par double-clic ? Deux fichiers peuvent-ils avoir le m\u00eame nom mais pas la m\u00eame extension ? Quel est le plus ancien fichier ? Quel est celui qui a \u00e9t\u00e9 modifi\u00e9 le plus tard ? Quelle est la nature des deux plus gros fichiers ? Il y a : des fichiers .gif des fichiers .png et .jpg (images c\u00e7ompress\u00e9es) des fichiers .bmp (images brutes) Le fichier genereBMP.py ne peut pas \u00eatre ouvert par double-clique. On le voit car il n'est associ\u00e9 \u00e0 aucun ic\u00f4ne d'application. Oui, il y a les fichiers N1_Images_NB_Gris.pdf et N1_Images_NB_Gris.tex . Le fichier Matrice_RGB2.jpg qui date du 17/02/2020. Le fichier N1_Images_NB_Gris.pdf \u00e0 22h09. Les deux plus gros fichiers sont des fichiers images compress\u00e9s ( .jpg ).","title":"M\u00e9ta-donn\u00e9es"},{"location":"SNT/Donnees/Arborescence/#arborescence-des-fichiers","text":"","title":"Arborescence des fichiers"},{"location":"SNT/Donnees/Arborescence/#dossiers-et-arborescence","text":"Dossiers informatiques Un dossier informatique (ou r\u00e9pertoire , directory en anglais) est un fichier particulier qui contient les r\u00e9f\u00e9rences \u00e0 d'autres fichiers. Dans tous les syst\u00e8me de fichier, chaque fichier ou dossier est r\u00e9f\u00e9renc\u00e9 par un autre dossier , appel\u00e9 parent du fichier ou du dossier correspondant. Un tel syst\u00e8me forme une hi\u00e9rarchie, appel\u00e9e arborescence , dont le point d'entr\u00e9e est appel\u00e9 r\u00e9pertoire racine . Exemple : Arborescence compl\u00e8te dessin\u00e9e sous la forme d'un arbre Lire une arborescence A partir de l'arborescence pr\u00e9c\u00e9dente : Enonc\u00e9 Solution Le r\u00e9pertoire racine est ? Le dossier parent de Programmation est ? Le dossier Users poss\u00e8de deux enfants qui sont ? Le dossier www poss\u00e8de combien de r\u00e9f\u00e9rences ? Le r\u00e9pertoire racine est C: . Le dossier parent de Programmation est Programmes . Le dossier Users poss\u00e8de deux enfants qui sont Toto et Tata . Il en poss\u00e8de deux : le fichier index.html ainsi que le r\u00e9pertoire Images .","title":"Dossiers et arborescence"},{"location":"SNT/Donnees/Arborescence/#chemin-absolu","text":"Chemin absolu d'un fichier ou d'un dossier Donner le chemin absolu d'un fichier ou d'un dossier, c'est donner l'ensemble des dossiers travers\u00e9s depuis le r\u00e9pertoire racine pour atteindre ce fichier ou dossier. Remarques Pour s\u00e9parer des dossiers, on utilise un caract\u00e8re sp\u00e9cifique : sous windows : l'\u00ab antislash \u00bb ++backslah++; sous syst\u00e8me Unix : le \u00ab slash \u00bb / . Exemples On consid\u00e8re le chemin absolu suivant sur un syst\u00e8me windows : C:\\Windows\\System32\\avifile.dll La cible est avifile.dll Le r\u00e9pertoire racine est C: Le r\u00e9pertoire parent de avifile.dll est System32 . Le r\u00e9pertoire parent de System32 est Windows . Le r\u00e9pertoire parent de Windows est le r\u00e9pertoire racine On consid\u00e8re maintenant le chemin absolu suivant sur un t\u00e9l\u00e9phone Android : /InternalStorage/Pictures/facebook/FB_IMG_352.jpg La cible est FB_IMG_352.jpg . Le r\u00e9pertoire racine est / (c'est bizarre mais c'est comme \u00e7a avec les syst\u00e8mes UNIX). Le r\u00e9pertoire parent de facebook est Pictures . Le r\u00e9pertoire parent de Pictures est InternalStorage . A partir de l'arborescence exemple On consid\u00e8re l'arborescence dessin\u00e9e sous la forme d'un arbre : Enonc\u00e9 Solution Quelle est l'adresse absolue du fichier image2.jpg ? Quelle est l'adresse absolue du dossier Audio ? Quelle est l'adresse absolue du fichier config.ini ? C:\\www\\Images\\image2.jpg C:\\Programmes\\Audio C:config.ini A partir d'une arborescence Windows r\u00e9elle On consid\u00e8re la capture d'\u00e9cran ci-dessous : Enonc\u00e9 Solution Quel est le r\u00e9pertoire racine de cette arborescence ? Quelle est l'adresse absolue du fichier Eratosthene.png ? Combien de sous-r\u00e9pertoires (ou sous-dossiers , ou r\u00e9pertoires enfants ) poss\u00e8de le dossier 2020-2021 ? Voit-on dans l'arborescence les fichiers contenus dans le r\u00e9pertoire 2de2 ? D: D:\\Cours et exercices 2nde\\Archives\\2019-2020\\C01_Ensembles_Nombres\\Eratosthene.png Un seul : 2de2 Non Arborescence Android On consid\u00e8re la capture d'\u00e9cran ci-dessous : Enonc\u00e9 Solution Quelles sont les informations disponibles concernant l'arborescence des fichiers sur cette capture d'\u00e9cran ? Il y a deux fichiers images, situ\u00e9s dans le dossier dont l'adresse absolue est : /Stockage interne/Pictures/facebook/","title":"Chemin absolu"},{"location":"SNT/Donnees/Arborescence/#chemin-relatif","text":"Chemin relatif d'un fichier ou d'un dossier} Il est possible de donner le chemin relatif vers un fichier ou un dossier \u00e0 partir d'un autre dossier de la m\u00eame arborescence. Pour cela il est parfois n\u00e9cessaire de remonter dans les r\u00e9pertoires parents. Le nom du r\u00e9pertoire parent n'\u00e9tant pas connu par le r\u00e9pertoire courant, on utilise la convention .. (deux points) pour signifier qu'il faut remonter d'un parent vers la racine. Exemple Dans l'exemple d'arborescence dessin\u00e9e, si on se trouve dans le r\u00e9pertoire mesDocs , alors l'adresse relative du fichier sonImage.png est : ..\\..\\Tata\\sonImage.png le premier .. permet de remonter dans le dossier Toto . le second .. permet de remonter dans le dossier Users Ensuite on descend normalement dans l'arborescence. Chemins relatifs Toujours dans l'arboprescence dessin\u00e9e : Enonc\u00e9 Solution Quelle est l'adresse relative du fichier image1.png par rapport \u00e0 index.html ? Quelle est l'adresse relative du fichier HelloWorld.py par rapport au fichier index.html ? Quelle est l'adresse relative du fichier config.ini par rapport au fichier monFichier.txt ? Images/image1.png (Inutile de remonter l'arborescence, index.html est dans www tout comme le dossier Images ). ..\\Programmes\\Programmation\\Python\\HelloWorld.py ..\\..\\..\\config.ini","title":"Chemin relatif"},{"location":"SNT/Geolocalisation/Dijkstra/","text":"Recherche du chemin le plus court : l'algorithme de Dijkstra Le contexte Un des probl\u00e8mes classique en informatique est de trouver le plus court chemin reliant deux \u00e9l\u00e9ments d'un m\u00eame r\u00e9seau, que ce soit deux villes dans un r\u00e9seau routier ou deux routeurs d'un r\u00e9seau informatique. Repr\u00e9senter une carte routi\u00e8re, notion de graphe On consid\u00e8re l'extrait de carte de la r\u00e9gion Auvergne-Rh\u00f4ne-Alpes donn\u00e9 ci-dessous : Un technicien d'une entreprise doit se d\u00e9placer et pouvoir intervenir sur les diff\u00e9rents sites de cette entreprises, situ\u00e9s dans les villes suivantes : Aurillac (A), Bourg-en-Bresse (B), Clermont-Ferrand (C), Saint-Etienne (E), Grenoble(G), Lyon (L), Le Puy-en-Velay(P), Valence(V). Il connait les distances suivantes par autoroute, en km : AC = 160 AP = 180 CP = 130 CE = 140 CL = 180 PE = 80 PV = 100 EL = 70 EV = 100 LV = 100 LB = 80 LG = 110 BG = 180 VG = 90 Exercice Enonc\u00e9 Solution Donner une repr\u00e9sentation graphique simplifi\u00e9e de la situation pr\u00e9sent\u00e9e ci-dessus. Notion de graphe (non orient\u00e9) Un tel type de repr\u00e9sentation s'appelle un graphe non orient\u00e9 ( undirected graph ) - car les segments peuvent \u00eatre parcourus dans les deux sens. Les points A, B, C, etc sont appel\u00e9s sommets ( nodes ) du graphe. Les segments reliant deux sommets sont appel\u00e9s ar\u00eates ( edges ). Les valeurs sur les ar\u00eates sont appel\u00e9es poids ( weights ). Deux sommets sont dits voisins si il existe une ar\u00eate entre ces deux sommets. Une cha\u00eene (ou un chemin, path en anglais) est une suite finie d'ar\u00eates cons\u00e9cutive, et le poids d'une cha\u00eene est la somme des poids de ses ar\u00eates. La th\u00e9orie des graphes est une branche particuli\u00e8re des math\u00e9matiques ayant une importance capitale dans le d\u00e9veloppement de l'informatique, et de nombreux algorithmes classiques li\u00e9s \u00e0 la th\u00e9orie des graphes sont syst\u00e9matiquement \u00e9tudi\u00e9s par les \u00e9l\u00e8ves des diff\u00e9rentes \u00e9coles et universit\u00e9s faisant de l'informatique. De nombreux probl\u00e8mes sont r\u00e9solubles gr\u00e2ce \u00e0 une implantation sous la forme de graphe, dont certains probl\u00e8mes historiques comme : Le probl\u00e8me des ponts de K\u00f6nigsberg : est il possible de visiter \u00e0 pied la ville de K\u00f6nigsberg en passant une et une seule fois par chacun des ponts ? Le probl\u00e8me de la coloration de graphe : On veut colorier une carte g\u00e9ographique trac\u00e9e sur le plan (ou la sph\u00e8re) de mani\u00e8re que deux r\u00e9gions voisines soient toujours de couleurs diff\u00e9rentes. Combien de couleurs sont n\u00e9cessaires au minimum ? L'algorithme de Dijkstra Edsger Dijkstra Edsger Wybe Dijkstra (math\u00e9maticien et informaticien n\u00e9erlandais 1930 \u2212 2002) a propos\u00e9 en 1959 un algorithme qui permet de calculer le plus court chemin entre un sommet particulier et tous les autres. C'est l'un des plus efficaces pour traiter les probl\u00e8mes de plus court chemin. Gr\u00e2ce \u00e0 la puissance du traitement informatique, il est utilis\u00e9 par les logiciels d'optimisation de trajets r\u00e9els (Navigateurs GPS, Site RATP. . .) ou virtuels (routage internet). Cet algorithme ne fonctionne que si le graphe ne poss\u00e8de que des valeurs positives. Description de l'algorithme Algorithme de Dijkstra Si le plus court chemin reliant le sommet \\(E\\) (entr\u00e9e) au sommet \\(S\\) (sortie) passe par les sommets \\(s_1 , s_2 , . . . , s_k\\) alors, les diff\u00e9rentes \u00e9tapes sont aussi les plus courts chemins reliant \\(E\\) aux sommets successifs \\(s_1 , s_2 , . . . , s_k\\) . Nous devons dons construire de proche en proche le chemin cherch\u00e9 en choisissant \u00e0 chaque it\u00e9ration de l'algorithme, un sommet \\(s_i\\) du graphe parmi ceux qui n'ont pas encore \u00e9t\u00e9 trait\u00e9s, tel que la longueur connue provisoirement du plus court chemin allant de \\(E\\) \u00e0 \\(s_i\\) soit la plus courte possible. L'algogramme correspondant est donn\u00e9 ci-dessous : Exemple complet d\u00e9branch\u00e9 Table de Dijkstra Pour faciliter la recherche du plus court chemin il est commode de pr\u00e9senter les r\u00e9sultats dans un tableau. Exercice Ayant termin\u00e9 sa semaine de travail \u00e0 Bourg-en-Bresse, le technicien souhaite retourner chez lui \u00e0 Aurillac en faisant le moins de kilom\u00e8tres possibles. D\u00e9terminer, en utilisant l'algorithme de Dijkstra, le plus court chemin entre les villes de Bourg-en-Bresse et Aurillac en empruntant le r\u00e9seau routier, en s'aidant du tableau ci-dessous : Quelle est alors la route \u00e0 emprunter ? La route entre Le Puy-en-Velay et Aurillac est ferm\u00e9e \u00e0 la circulation. Quel chemin doit-il alors emprunter? D'autres utilisations Alexis part en voyage dans l\u2019Est des Etats-Unis. Il souhaite visiter les villes suivantes : Atlanta (A), Boston (B), Chicago (C), Miami (M), New York (N)et Washington (W).Une compagnie a\u00e9rienne propose les liaisons suivantes repr\u00e9sent\u00e9es par le graphe ci-dessous : Alexis veut relier Boston \u00e0 Miami.D\u00e9terminer le trajet le moins cher ainsi que le co\u00fbt de ce trajet. Le site https://graphonline.ru/fr/ permet de tracer un graphe et de d\u00e9terminer entre autre le chemin le plus court gr\u00e2ce \u00e0 l'algorithme de Dijkstra. V\u00e9rifiez vos calculs pr\u00e9c\u00e9dents avec ce site.","title":"Recherche du chemin le plus court"},{"location":"SNT/Geolocalisation/Dijkstra/#recherche-du-chemin-le-plus-court-lalgorithme-de-dijkstra","text":"Le contexte Un des probl\u00e8mes classique en informatique est de trouver le plus court chemin reliant deux \u00e9l\u00e9ments d'un m\u00eame r\u00e9seau, que ce soit deux villes dans un r\u00e9seau routier ou deux routeurs d'un r\u00e9seau informatique.","title":"Recherche du chemin le plus court : l'algorithme de Dijkstra"},{"location":"SNT/Geolocalisation/Dijkstra/#representer-une-carte-routiere-notion-de-graphe","text":"On consid\u00e8re l'extrait de carte de la r\u00e9gion Auvergne-Rh\u00f4ne-Alpes donn\u00e9 ci-dessous : Un technicien d'une entreprise doit se d\u00e9placer et pouvoir intervenir sur les diff\u00e9rents sites de cette entreprises, situ\u00e9s dans les villes suivantes : Aurillac (A), Bourg-en-Bresse (B), Clermont-Ferrand (C), Saint-Etienne (E), Grenoble(G), Lyon (L), Le Puy-en-Velay(P), Valence(V). Il connait les distances suivantes par autoroute, en km : AC = 160 AP = 180 CP = 130 CE = 140 CL = 180 PE = 80 PV = 100 EL = 70 EV = 100 LV = 100 LB = 80 LG = 110 BG = 180 VG = 90 Exercice Enonc\u00e9 Solution Donner une repr\u00e9sentation graphique simplifi\u00e9e de la situation pr\u00e9sent\u00e9e ci-dessus. Notion de graphe (non orient\u00e9) Un tel type de repr\u00e9sentation s'appelle un graphe non orient\u00e9 ( undirected graph ) - car les segments peuvent \u00eatre parcourus dans les deux sens. Les points A, B, C, etc sont appel\u00e9s sommets ( nodes ) du graphe. Les segments reliant deux sommets sont appel\u00e9s ar\u00eates ( edges ). Les valeurs sur les ar\u00eates sont appel\u00e9es poids ( weights ). Deux sommets sont dits voisins si il existe une ar\u00eate entre ces deux sommets. Une cha\u00eene (ou un chemin, path en anglais) est une suite finie d'ar\u00eates cons\u00e9cutive, et le poids d'une cha\u00eene est la somme des poids de ses ar\u00eates. La th\u00e9orie des graphes est une branche particuli\u00e8re des math\u00e9matiques ayant une importance capitale dans le d\u00e9veloppement de l'informatique, et de nombreux algorithmes classiques li\u00e9s \u00e0 la th\u00e9orie des graphes sont syst\u00e9matiquement \u00e9tudi\u00e9s par les \u00e9l\u00e8ves des diff\u00e9rentes \u00e9coles et universit\u00e9s faisant de l'informatique. De nombreux probl\u00e8mes sont r\u00e9solubles gr\u00e2ce \u00e0 une implantation sous la forme de graphe, dont certains probl\u00e8mes historiques comme : Le probl\u00e8me des ponts de K\u00f6nigsberg : est il possible de visiter \u00e0 pied la ville de K\u00f6nigsberg en passant une et une seule fois par chacun des ponts ? Le probl\u00e8me de la coloration de graphe : On veut colorier une carte g\u00e9ographique trac\u00e9e sur le plan (ou la sph\u00e8re) de mani\u00e8re que deux r\u00e9gions voisines soient toujours de couleurs diff\u00e9rentes. Combien de couleurs sont n\u00e9cessaires au minimum ?","title":"Repr\u00e9senter une carte routi\u00e8re, notion de graphe"},{"location":"SNT/Geolocalisation/Dijkstra/#lalgorithme-de-dijkstra","text":"Edsger Dijkstra Edsger Wybe Dijkstra (math\u00e9maticien et informaticien n\u00e9erlandais 1930 \u2212 2002) a propos\u00e9 en 1959 un algorithme qui permet de calculer le plus court chemin entre un sommet particulier et tous les autres. C'est l'un des plus efficaces pour traiter les probl\u00e8mes de plus court chemin. Gr\u00e2ce \u00e0 la puissance du traitement informatique, il est utilis\u00e9 par les logiciels d'optimisation de trajets r\u00e9els (Navigateurs GPS, Site RATP. . .) ou virtuels (routage internet). Cet algorithme ne fonctionne que si le graphe ne poss\u00e8de que des valeurs positives.","title":"L'algorithme de Dijkstra"},{"location":"SNT/Geolocalisation/Dijkstra/#description-de-lalgorithme","text":"Algorithme de Dijkstra Si le plus court chemin reliant le sommet \\(E\\) (entr\u00e9e) au sommet \\(S\\) (sortie) passe par les sommets \\(s_1 , s_2 , . . . , s_k\\) alors, les diff\u00e9rentes \u00e9tapes sont aussi les plus courts chemins reliant \\(E\\) aux sommets successifs \\(s_1 , s_2 , . . . , s_k\\) . Nous devons dons construire de proche en proche le chemin cherch\u00e9 en choisissant \u00e0 chaque it\u00e9ration de l'algorithme, un sommet \\(s_i\\) du graphe parmi ceux qui n'ont pas encore \u00e9t\u00e9 trait\u00e9s, tel que la longueur connue provisoirement du plus court chemin allant de \\(E\\) \u00e0 \\(s_i\\) soit la plus courte possible. L'algogramme correspondant est donn\u00e9 ci-dessous :","title":"Description de l'algorithme"},{"location":"SNT/Geolocalisation/Dijkstra/#exemple-complet-debranche","text":"Table de Dijkstra Pour faciliter la recherche du plus court chemin il est commode de pr\u00e9senter les r\u00e9sultats dans un tableau. Exercice Ayant termin\u00e9 sa semaine de travail \u00e0 Bourg-en-Bresse, le technicien souhaite retourner chez lui \u00e0 Aurillac en faisant le moins de kilom\u00e8tres possibles. D\u00e9terminer, en utilisant l'algorithme de Dijkstra, le plus court chemin entre les villes de Bourg-en-Bresse et Aurillac en empruntant le r\u00e9seau routier, en s'aidant du tableau ci-dessous : Quelle est alors la route \u00e0 emprunter ? La route entre Le Puy-en-Velay et Aurillac est ferm\u00e9e \u00e0 la circulation. Quel chemin doit-il alors emprunter? D'autres utilisations Alexis part en voyage dans l\u2019Est des Etats-Unis. Il souhaite visiter les villes suivantes : Atlanta (A), Boston (B), Chicago (C), Miami (M), New York (N)et Washington (W).Une compagnie a\u00e9rienne propose les liaisons suivantes repr\u00e9sent\u00e9es par le graphe ci-dessous : Alexis veut relier Boston \u00e0 Miami.D\u00e9terminer le trajet le moins cher ainsi que le co\u00fbt de ce trajet. Le site https://graphonline.ru/fr/ permet de tracer un graphe et de d\u00e9terminer entre autre le chemin le plus court gr\u00e2ce \u00e0 l'algorithme de Dijkstra. V\u00e9rifiez vos calculs pr\u00e9c\u00e9dents avec ce site.","title":"Exemple complet d\u00e9branch\u00e9"},{"location":"SNT/Geolocalisation/geolocalisation/","text":"Coordonn\u00e9es et GPS Introduction : mais o\u00f9 est-ce ? T\u00e9l\u00e9chargez et ouvrez le fichier suivant . J'ai pris cette photo lors de mes derni\u00e8res vacances. Pouvez-vous dire pr\u00e9cisemment le nom du camping o\u00f9 je me trouvais ? Coordonn\u00e9es sur le globe terrestre Syst\u00e8me g\u00e9od\u00e9sique WGS84 Tout point situ\u00e9 \u00e0 la surface du globe terrestre est d\u00e9termin\u00e9 par ses coordonn\u00e9es g\u00e9ographiques : la latitude : angle d'\u00e9cart par rappor \u00e0 l'\u00e9quateur ; la longitude : angle d'\u00e9cart par rapport au m\u00e9ridien de r\u00e9f\u00e9rence (m\u00e9ridien de Greenwich) ; son altitude : \u00e9l\u00e9vation par rapport au niveau de la mer L'ensemble de ces trois notions, auquel on ajoute le centre de la Terre, est le syst\u00e8me g\u00e9od\u00e9sique WGS84 . Il est utilis\u00e9 comme syst\u00e8me de r\u00e9f\u00e9rence mondial pour d\u00e9terminer les positions sur la terre par les syst\u00e8mes GPS dont nous parlerons plus loin (et par les syst\u00e8mes concurrents). Il existe plusieurs fa\u00e7ons de noter les coordonn\u00e9es latitudinales et longitudinales. On peut utiliser la notation sexag\u00e9simale DMS (D\u00e9gr\u00e9s, Minutes, Secondes) ou bien les degr\u00e9s d\u00e9cimaux , et on peut donner la direction (Nord ou Sud pour la latitude, Est ou Ouest pour la longitude) ou bien utiliser des latitudes et des longitudes positives ou n\u00e9gatives ( par d\u00e9faut la latitude positive correspond \u00e0 l'h\u00e9misph\u00e8re nord, et la longitude positive correspond \u00e0 la direction Est). Ainsi on a l'\u00e9quivalence entre les notations : \\(48^{\\circ}51'24''\\) nord, \\(2^{\\circ}21'07''\\) ouest \\(48,856448^{\\circ}\\) nord, \\(2,352197^{\\circ}\\) ouest \\((48,856448~;~-2,352197)\\) Exercice Enonc\u00e9 R\u00e9ponses Trouver les coordonn\u00e9es g\u00e9od\u00e9siques du Lyc\u00e9e Auguste Pavie Convertir ces coordonn\u00e9es dans le syst\u00e8me DMS. Quel b\u00e2timent trouve-t-on aux coordonn\u00e9es \\((51,99837~;~-0,74397)\\) ? A venir ! Principes de g\u00e9olocalisation Pour comprendre le principe de localisation utilis\u00e9 par les syst\u00e8mes tels que le GPS, il faut comprendre le principe de triangulation . Regardons l'exemple simplifi\u00e9 suivant: Exercice Enonc\u00e9 R\u00e9ponse Le messager du roi de la tour 1 doit se rendre \u00e0 la tour 3 au travers d'une for\u00eat dense. Pour l\u2019aider \u00e0 s\u2019orienter, les tours 1, 2 et 4 vont tirer un coup de canon toutes les heures \u00e0 2 minutes d\u2019intervalle pr\u00e9cises. Le messager part et traverse la for\u00eat, sans s'arr\u00eater jusqu'\u00e0 entendre le premier coup de canon. Il s'arr\u00eate alors et attends les coups de canons suivants. Il consulte sa montre d'une tr\u00e8s grande pr\u00e9cision (oui, c'est peu cr\u00e9dible, mais c'est pour l'exemple...) La premi\u00e8re tour tire \u00e0 \\(10\\) h et le messager entend la d\u00e9tonation \u00e0 \\(10\\) h et \\(30\\) s. Il entend la d\u00e9tonation de la tour 2 \u00e0 \\(10\\) h \\(2\\) min et \\(35\\) s. Celle de la tour 4 \u00e0 \\(10\\) h \\(4\\) min et \\(40\\) s. Sachant que la vitesse du son est d'environ \\(340~m.s^{-1}\\) , localiser le messager sur le plan ci-dessous (\u00e9chelle \\(0,5~cm\\) pour \\(1~km\\) ). Vous pouvez travailler directement sur la feuille, ou bien importer l'image suivante dans le logiciel GeoGebra . A venir ! Les syst\u00e8mes de G\u00e9olocalisation Le syst\u00e8me GPS Enonc\u00e9 R\u00e9ponses Regarder la vid\u00e9o suivante Quelle est l'incertitude de la mesure avec un m\u00e8tre ? De quand date les premiers satellites du r\u00e9seau GPS ? Votre t\u00e9l\u00e9phone portable poss\u00e8de une puce GPS. Est-ce elle qui envoie des informations au satellite ou bien est-ce le satellite qui envoie des informations ? Quelles sont les donn\u00e9es importantes pour d\u00e9terminer la distance entre la puce GPS et le satellite ? Question hors vid\u00e9o : combien de satellites sont consid\u00e9r\u00e9s comme \u00e0 minima n\u00e9cessaires pour obtenir \u00e0 la fois latitude, longitude et altitude d'une puce GPS ? A venir ! Le syst\u00e8me GPS (Etats-Unis) Le GPS (Global Positioning System) est un syst\u00e8me de positionnement par rapport \u00e0 un r\u00e9seau de satellites. Le satellite envoie un signal qui comprend sa position et son heure d'\u00e9mission. Pour cela, le satellite poss\u00e8de \u00e0 son bord une horloge atomique d\u2019une tr\u00e8s grande pr\u00e9cision. Le r\u00e9cepteur GPS compare l\u2019heure d'\u00e9mission du signal \u00e0 l\u2019heure \u00e0 laquelle il l\u2019a re\u00e7u. La diff\u00e9rence correspond au temps mis par le signal qu\u2019on obtient entre le satellite et le r\u00e9cepteur. En le multipliant par la vitesse du signal, qui est la vitesse de la lumi\u00e8re ( \\(300~000~km.s^{-1}\\) ), on obtient la distance entre le satellite \u00e9metteur et le r\u00e9cepteur. Avec au moins trois satellites , le r\u00e9cepteur peut trianguler sa position. Une constellation de 31 satellites est en orbite autour de la Terre et couvre toute la surface terrestre. La qualit\u00e9 de la g\u00e9olocalisation d\u00e9pend de la synchronisation des horloges entre les satellites et le r\u00e9cepteur. Une erreur d\u2019un milliardi\u00e8me de seconde correspond \u00e0 une erreur de positionnement de 30 cm . L'heure d\u00e9livr\u00e9e par les horloges atomiques des satellites GPS est aussi utilis\u00e9e pour synchroniser des syst\u00e8mes de t\u00e9l\u00e9communication, les r\u00e9seaux \u00e9lectriques ou financiers. Autres m\u00e9thodes de G\u00e9olocalisation Le syst\u00e8me GPS n'est pas le seul a \u00eatre utils\u00e9 pour la g\u00e9oocalisation. Le r\u00e9seau de satellites Galileo devrait permettre \u00e0 terme d'obtenir un concurrent europ\u00e9en au syst\u00e8me GPS. Mais il existe aussi d'autres formes de g\u00e9olocalisation qu'on soup\u00e7onne moins : La g\u00e9olocalisation par bornage Wi-Fi : le WPS (Wi-Fi Positioning System) Un terminal Wi-Fi peut se g\u00e9olocaliser en fonction des identifiants des bornes Wi-Fi qu\u2019il d\u00e9tecte. Il va pour cela se r\u00e9f\u00e9rer \u00e0 des bases de donn\u00e9es contenant les identifiants des bornes Wi-Fi ainsi que leurs coordonn\u00e9es g\u00e9ographiques. Plus il d\u00e9tecte de bornes Wi-Fi, plus la localisation est pr\u00e9cise. G\u00e9olocalisation par antenne relais : Il existe d\u2019autres modes de g\u00e9olocalisation reposant sur le m\u00eame principe, par exemple la g\u00e9olocalisation par GSM : un t\u00e9l\u00e9phone peut se g\u00e9olocaliser en fonction des antennes relais qu\u2019il d\u00e9tecte, l'identifiant et la position des antennes relais (au sol) \u00e9tant connus. La pr\u00e9cision de la localisation par GSM est de l\u2019ordre de \\(200\\) m en milieu urbain : elle augmente avec la densit\u00e9 des antennes relais.","title":"Coordonn\u00e9es et GPS"},{"location":"SNT/Geolocalisation/geolocalisation/#coordonnees-et-gps","text":"","title":"Coordonn\u00e9es et GPS"},{"location":"SNT/Geolocalisation/geolocalisation/#introduction-mais-ou-est-ce","text":"T\u00e9l\u00e9chargez et ouvrez le fichier suivant . J'ai pris cette photo lors de mes derni\u00e8res vacances. Pouvez-vous dire pr\u00e9cisemment le nom du camping o\u00f9 je me trouvais ?","title":"Introduction : mais o\u00f9 est-ce ?"},{"location":"SNT/Geolocalisation/geolocalisation/#coordonnees-sur-le-globe-terrestre","text":"Syst\u00e8me g\u00e9od\u00e9sique WGS84 Tout point situ\u00e9 \u00e0 la surface du globe terrestre est d\u00e9termin\u00e9 par ses coordonn\u00e9es g\u00e9ographiques : la latitude : angle d'\u00e9cart par rappor \u00e0 l'\u00e9quateur ; la longitude : angle d'\u00e9cart par rapport au m\u00e9ridien de r\u00e9f\u00e9rence (m\u00e9ridien de Greenwich) ; son altitude : \u00e9l\u00e9vation par rapport au niveau de la mer L'ensemble de ces trois notions, auquel on ajoute le centre de la Terre, est le syst\u00e8me g\u00e9od\u00e9sique WGS84 . Il est utilis\u00e9 comme syst\u00e8me de r\u00e9f\u00e9rence mondial pour d\u00e9terminer les positions sur la terre par les syst\u00e8mes GPS dont nous parlerons plus loin (et par les syst\u00e8mes concurrents). Il existe plusieurs fa\u00e7ons de noter les coordonn\u00e9es latitudinales et longitudinales. On peut utiliser la notation sexag\u00e9simale DMS (D\u00e9gr\u00e9s, Minutes, Secondes) ou bien les degr\u00e9s d\u00e9cimaux , et on peut donner la direction (Nord ou Sud pour la latitude, Est ou Ouest pour la longitude) ou bien utiliser des latitudes et des longitudes positives ou n\u00e9gatives ( par d\u00e9faut la latitude positive correspond \u00e0 l'h\u00e9misph\u00e8re nord, et la longitude positive correspond \u00e0 la direction Est). Ainsi on a l'\u00e9quivalence entre les notations : \\(48^{\\circ}51'24''\\) nord, \\(2^{\\circ}21'07''\\) ouest \\(48,856448^{\\circ}\\) nord, \\(2,352197^{\\circ}\\) ouest \\((48,856448~;~-2,352197)\\) Exercice Enonc\u00e9 R\u00e9ponses Trouver les coordonn\u00e9es g\u00e9od\u00e9siques du Lyc\u00e9e Auguste Pavie Convertir ces coordonn\u00e9es dans le syst\u00e8me DMS. Quel b\u00e2timent trouve-t-on aux coordonn\u00e9es \\((51,99837~;~-0,74397)\\) ? A venir !","title":"Coordonn\u00e9es sur le globe terrestre"},{"location":"SNT/Geolocalisation/geolocalisation/#principes-de-geolocalisation","text":"Pour comprendre le principe de localisation utilis\u00e9 par les syst\u00e8mes tels que le GPS, il faut comprendre le principe de triangulation . Regardons l'exemple simplifi\u00e9 suivant: Exercice Enonc\u00e9 R\u00e9ponse Le messager du roi de la tour 1 doit se rendre \u00e0 la tour 3 au travers d'une for\u00eat dense. Pour l\u2019aider \u00e0 s\u2019orienter, les tours 1, 2 et 4 vont tirer un coup de canon toutes les heures \u00e0 2 minutes d\u2019intervalle pr\u00e9cises. Le messager part et traverse la for\u00eat, sans s'arr\u00eater jusqu'\u00e0 entendre le premier coup de canon. Il s'arr\u00eate alors et attends les coups de canons suivants. Il consulte sa montre d'une tr\u00e8s grande pr\u00e9cision (oui, c'est peu cr\u00e9dible, mais c'est pour l'exemple...) La premi\u00e8re tour tire \u00e0 \\(10\\) h et le messager entend la d\u00e9tonation \u00e0 \\(10\\) h et \\(30\\) s. Il entend la d\u00e9tonation de la tour 2 \u00e0 \\(10\\) h \\(2\\) min et \\(35\\) s. Celle de la tour 4 \u00e0 \\(10\\) h \\(4\\) min et \\(40\\) s. Sachant que la vitesse du son est d'environ \\(340~m.s^{-1}\\) , localiser le messager sur le plan ci-dessous (\u00e9chelle \\(0,5~cm\\) pour \\(1~km\\) ). Vous pouvez travailler directement sur la feuille, ou bien importer l'image suivante dans le logiciel GeoGebra . A venir !","title":"Principes de g\u00e9olocalisation"},{"location":"SNT/Geolocalisation/geolocalisation/#les-systemes-de-geolocalisation","text":"Le syst\u00e8me GPS Enonc\u00e9 R\u00e9ponses Regarder la vid\u00e9o suivante Quelle est l'incertitude de la mesure avec un m\u00e8tre ? De quand date les premiers satellites du r\u00e9seau GPS ? Votre t\u00e9l\u00e9phone portable poss\u00e8de une puce GPS. Est-ce elle qui envoie des informations au satellite ou bien est-ce le satellite qui envoie des informations ? Quelles sont les donn\u00e9es importantes pour d\u00e9terminer la distance entre la puce GPS et le satellite ? Question hors vid\u00e9o : combien de satellites sont consid\u00e9r\u00e9s comme \u00e0 minima n\u00e9cessaires pour obtenir \u00e0 la fois latitude, longitude et altitude d'une puce GPS ? A venir ! Le syst\u00e8me GPS (Etats-Unis) Le GPS (Global Positioning System) est un syst\u00e8me de positionnement par rapport \u00e0 un r\u00e9seau de satellites. Le satellite envoie un signal qui comprend sa position et son heure d'\u00e9mission. Pour cela, le satellite poss\u00e8de \u00e0 son bord une horloge atomique d\u2019une tr\u00e8s grande pr\u00e9cision. Le r\u00e9cepteur GPS compare l\u2019heure d'\u00e9mission du signal \u00e0 l\u2019heure \u00e0 laquelle il l\u2019a re\u00e7u. La diff\u00e9rence correspond au temps mis par le signal qu\u2019on obtient entre le satellite et le r\u00e9cepteur. En le multipliant par la vitesse du signal, qui est la vitesse de la lumi\u00e8re ( \\(300~000~km.s^{-1}\\) ), on obtient la distance entre le satellite \u00e9metteur et le r\u00e9cepteur. Avec au moins trois satellites , le r\u00e9cepteur peut trianguler sa position. Une constellation de 31 satellites est en orbite autour de la Terre et couvre toute la surface terrestre. La qualit\u00e9 de la g\u00e9olocalisation d\u00e9pend de la synchronisation des horloges entre les satellites et le r\u00e9cepteur. Une erreur d\u2019un milliardi\u00e8me de seconde correspond \u00e0 une erreur de positionnement de 30 cm . L'heure d\u00e9livr\u00e9e par les horloges atomiques des satellites GPS est aussi utilis\u00e9e pour synchroniser des syst\u00e8mes de t\u00e9l\u00e9communication, les r\u00e9seaux \u00e9lectriques ou financiers. Autres m\u00e9thodes de G\u00e9olocalisation Le syst\u00e8me GPS n'est pas le seul a \u00eatre utils\u00e9 pour la g\u00e9oocalisation. Le r\u00e9seau de satellites Galileo devrait permettre \u00e0 terme d'obtenir un concurrent europ\u00e9en au syst\u00e8me GPS. Mais il existe aussi d'autres formes de g\u00e9olocalisation qu'on soup\u00e7onne moins : La g\u00e9olocalisation par bornage Wi-Fi : le WPS (Wi-Fi Positioning System) Un terminal Wi-Fi peut se g\u00e9olocaliser en fonction des identifiants des bornes Wi-Fi qu\u2019il d\u00e9tecte. Il va pour cela se r\u00e9f\u00e9rer \u00e0 des bases de donn\u00e9es contenant les identifiants des bornes Wi-Fi ainsi que leurs coordonn\u00e9es g\u00e9ographiques. Plus il d\u00e9tecte de bornes Wi-Fi, plus la localisation est pr\u00e9cise. G\u00e9olocalisation par antenne relais : Il existe d\u2019autres modes de g\u00e9olocalisation reposant sur le m\u00eame principe, par exemple la g\u00e9olocalisation par GSM : un t\u00e9l\u00e9phone peut se g\u00e9olocaliser en fonction des antennes relais qu\u2019il d\u00e9tecte, l'identifiant et la position des antennes relais (au sol) \u00e9tant connus. La pr\u00e9cision de la localisation par GSM est de l\u2019ordre de \\(200\\) m en milieu urbain : elle augmente avec la densit\u00e9 des antennes relais.","title":"Les syst\u00e8mes de G\u00e9olocalisation"},{"location":"SNT/Images/Gris/","text":"","title":"Gris"},{"location":"SNT/Images/NB/","text":"Les images num\u00e9riques : du Noir & Blanc aux niveaux de gris La r\u00e9volution des images num\u00e9riques La photographie argentique La photographie a \u00e9t\u00e9 invent\u00e9e par le fran\u00e7ais Nic\u00e9phore Ni\u00e9pce vers 1824. D'abord sur des plaques d'argent recouvertes de bitumes, et qui n\u00e9cessitaient plusieurs jours d'exposition aux rayons du soleil. le proc\u00e9d\u00e9 fut am\u00e9lior\u00e9 par Louis Daguerre , qui recouvrit la plaque d'argent par une fine couche de iodure d'argent, cette plaque \u00e9tant ensuite expos\u00e9e dans une chambre obscure puis soumise \u00e0 des vapeurs de mercure qui provoquaient l'apparition de l'image. Le proc\u00e9d\u00e9 s'am\u00e9liora au fur et \u00e0 mesure, par l'utilisation de papier argentiques r\u00e9alisant un n\u00e9gatif de l'image souhait\u00e9e, la photographie se r\u00e9v\u00e9lant apr\u00e8s un bain dans diff\u00e9rentes substances chimiques au sein d'une chambre noire. Les proc\u00e9d\u00e9s de photographie couleur ne sont apparus qu'au milieu des ann\u00e9e 1930. Au temps de la photographie argentique, obtenir une photographie n\u00e9cessitait l'exposition puis le d\u00e9veloppement d'une pellicule sur du papier trait\u00e9 sp\u00e9cialement. Il fallait donc du temps, et chaque photo prise devait \u00eatre d\u00e9velopp\u00e9e - et donc coutait une certaine somme - quel que soit le r\u00e9sultat de la photo. Pour mieux comprendre, rien de tel qu'une vid\u00e9o de C'est pas sorcier : Question Enonc\u00e9 R\u00e9ponses Quels sont les avantages et les d\u00e9fauts de la photographie argentique par rapport \u00e0 la photographie num\u00e9rique ? La photographie num\u00e9rique - et par extension la vid\u00e9o num\u00e9rique - a consid\u00e9rablement chang\u00e9 notre rapport \u00e0 l'image. Tout possesseur de smartphone peut prendre des centaines de photographies, consulter imm\u00e9diatement le r\u00e9sultat de la prise de vue, supprimer, \u00e9diter ou am\u00e9liorer la photographie, et l'envoyer \u00e0 l'autre bout du monde via internet, tout cela pour un co\u00fbt extr\u00eamement bas par photographie. Bien entendu, comme tout progr\u00e8s technologique, celui-ci n'est pas sans poser de nombreux probl\u00e8mes. Par exemple, il est tr\u00e8s facile de copier une photographie num\u00e9rique ( c'est ce qu'on appelle la non-rivalit\u00e9 de l'information num\u00e9rique ). D'o\u00f9 un certain nombre de probl\u00e8mes : droits d'auteurs ; respect de la vie priv\u00e9e ; droit \u00e0 l'effacement compromis ; deep-fake et manipulation de l'information etc... Dans cet th\u00e8me, nous \u00e9tudierons \u00e0 la fois le c\u00f4t\u00e9 num\u00e9rique et technologique - comment est constitu\u00e9e une image num\u00e9rique, sous quelle forme elle est stock\u00e9e dans l'ordinateur - mais aussi sur les aspects soci\u00e9taux li\u00e9s \u00e0 l'utilisation des images num\u00e9riques. Quelques consid\u00e9rations optiques Les trames Benday Lors des ann\u00e9es 1950 -1970, les comics am\u00e9ricains ainsi qu'un certain nombre d'\u00e9diteurs de bandes dessin\u00e9es europ\u00e9ens utilisaient pour leurs couleurs une impression quadrichromique bas\u00e9e sur la m\u00e9thode des Benday dots . Cette m\u00e9thode consiste \u00e0 appliquer de la couleur par une juxtaposition de points de couleurs primaires (par couches cyan, magenta, jaune et noire ), comme par exemple dans les images suivantes : BD et Benday Dots Cette m\u00e9thode permettait \u00e0 moindre co\u00fbt d'obtenir des nuances de couleurs suffisantes pour une impression de bandes dessin\u00e9es. L'artiste am\u00e9ricain de pop art Roy Lichtenstein . s'est par ailleurs empar\u00e9 de cette m\u00e9thode pour r\u00e9aliser de nombreuses oeuvres. Le pouvoir de r\u00e9solution de l'oeil Si la m\u00e9thode des Benday Dots fonctionne et nous donne l'impression de nuances de couleurs, c'est parce qu'\u00e0 une distance suffisant, nous sommes dans l'impossibilit\u00e9 de distinguer ces points. Ceci est du au pouvoir de r\u00e9solution de l'oeil Pour la vision humaine, selon wikip\u00e9dia, le pouvoir de r\u00e9solution de l'\u0153il est d'environ une minute d'arc ( \\(1' = 1/60\u00b0 = 0,017\u00b0\\) ), soit environ 100 km sur la surface de la Lune vue de la Terre, ou plus proche de nous, un d\u00e9tail d'environ 1 mm pour un objet ou une image situ\u00e9 \u00e0 3 m de distance. Exemple A titre d'exemple, on peut consid\u00e9rer cette image sous trois r\u00e9solutions diff\u00e9rentes : Si de pr\u00e8s l'image de gauche est beaucoup plus nette que l'image de droite, en vous reculant par rapport \u00e0 l'image, vous trouverez une distance pour laquelle vous ne verrez plus de diff\u00e9rence entre les images. Vous aurez ainsi atteint la limite de r\u00e9solution de votre oeil. Du noir et blanc aux niveaux de gris Du caract\u00e8re \u00e0 l'image Du caract\u00e8re \u00e0 l'image Enonc\u00e9 Solution Cr\u00e9ez un dossier ImagesNumeriques dans votre dossier SNT . T\u00e9l\u00e9chargez et enregistrez dans le dossier pr\u00e9c\u00e9dent le fichier reallyNumbers.txt Ouvrez avec Notepad++ le fichier reallyNumbers.txt . Que contient-t-il ? A l'aide de la combinaison CTRL+Molette , d\u00e9zoomer le fichier. Quel constat pouvez-vous faire ? A l'aide de l'outil de remplacement ( Recherche > Remplacer ), remplacer toutes les valeurs \u00ab 255 \u00bb par rien (c'est-\u00e0-dire PAS PAR UN ESPACE), puis remplacez toutes les valeurs \u00ab 0 \u00bb ( c'est-\u00e0-dire un z\u00e9ro suivi d'un espace) par \u00ab 0 \u00bb (c'est-\u00e0-dire z\u00e9ro non suivi d'un espace). D\u00e9zoomez de nouveau. Que constate-t-on ? Combien de lignes poss\u00e8de ce fichier ? Combien de caract\u00e8res, espaces compris, y-a-t-il par ligne ? Une image en noir et blanc Images en noir et blanc Enonc\u00e9 Solutions T\u00e9l\u00e9chargez et en,registrez dans le r\u00e9pertoire ImagesNumeriques le fichier champiNB.bmp Ouvrez le fichier champiNB.bmp dans un visionneur d'images. Quelle est la largeur en pixel de l'image ? Quelle est la hauteur en pixel de l'image ? Combien y-a-t-il de pixels dans l'image ? Quelle est la dimension en octet de cette image ? Repr\u00e9senter une image en noir et blanc En simplifiant beaucoup, l'image obtenue dans la partie pr\u00e9c\u00e9dente est une image num\u00e9rique en noir et blanc. Le fichier reallyNumbers.txt est une version lisible du fichier champiNB.bmp . Chaque pixel de l'image est repr\u00e9sent\u00e9 par deux valeurs : \\(255\\) pour du blanc et \\(0\\) pour du noir - soit un octet plein ( 1111 1111 ) pour du blanc et un octet vide ( 0000 0000 ) pour du noir. Le nombre d'octets dans l'image BMP correpond donc \u00e0 peu pr\u00e8s au nombre de pixels de l'image. La diff\u00e9rence provient d'un petit nombre d'informations situ\u00e9es dans l'ent\u00eate du fichier pour pr\u00e9ciser le r\u00e9el format de l'image - ici le format BMP ( BitmaP , ou windows BitMap ). Ecrans monochromes Au d\u00e9but de l'informatique - des ann\u00e9es 1960 aux ann\u00e9es 1980, il \u00e9tait tr\u00e8s fr\u00e9quent d'utiliser des \u00e9crans monochromes . Ces \u00e9crans \u00e9taient constitu\u00e9s de luminophores - une substance qui emet de la lumi\u00e8re si elle subit une exitation. Ces luminophores donnaient \u00e0 l'\u00e9cran, en fonction de leurs caract\u00e9ristiques, soit une couleur blanche, soit une couleur orange, mais le plus souvent une couleur verte ! D'o\u00f9 les images bien connues du film Matrix , ou les couleurs des affichages des ordinateurs de bord dans la premi\u00e8re trilogie de Star Wars . Certains \u00e9crans monochromes sont toujours utilis\u00e9s en raison de leur tr\u00e8s grande lisibilit\u00e9. G\u00e9n\u00e9rer ses propres images Fabriquer en PixelArt Enonc\u00e9 Ouvrir le logiciel Thonny . Ouvrir le menu Tools > Manage packages et dans la barre de recherche, chercher le module pillow , et l'installer si il n'est pas d\u00e9j\u00e0 install\u00e9. T\u00e9l\u00e9chargez et sauvegardez le fichier GenereBMP.py , puis ouvrez le dans Thonny . Ex\u00e9cutez le programme, en sauvegardant le fichier sous le nom Stripes.bmp . Ouvrez l'image obtenue. Qu'obtient-on ? Dans le code, quelle structure repr\u00e9sente l'image ? Matrice des pixels En Python, une telle structure est un tableau (plus pr\u00e9cis\u00e9ment, un tableau est une liste de listes). Un tableau de nombre est appel\u00e9 une matrice . Dans notre cas chaque nombre de la matrice pix repr\u00e9sente un pixel soit de couleur noire ( \\(0\\) ), soit de couleur blanche( \\(255\\) ). Combien y-a-t-il de pixels dans cette image ? Modifiez la matrice afin d'obtenir l'image suivante : A l'aide des grilles suivantes, cr\u00e9ez deux nouvelles images : Combien de valeurs sont n\u00e9cessaires pour une image de \\(16 \\times 16\\) pixels ? de \\(32 \\times 32\\) pixels ? de \\(64 \\times 64\\) pixels ? Les niveaux de gris T\u00e9l\u00e9chargez et sauvegardez les fichiers champisGris.txt et champisGris.bmp . Le fichier champiGris.txt contient l'extraction des pixels du fichier champiGris.bmp . Quelle est la principale diff\u00e9rence par rapport au fichier champiNB.txt ? Nuances de gris Contrairement aux \u00e9crans monochromes, qui ne pouvaient pour chaque luminophore prendre que deux valeurs (allum\u00e9s et \u00e9teints), les \u00e9crans de t\u00e9l\u00e9vision \u00e0 tubes cathodiques dits \u00ab en noir et blanc \u00bb \u00e9taient en fait capable de prendre toute une nuance de couleur entre le noir et le blanc, ce qu'on appelle des niveaux de gris . De la m\u00eame mani\u00e8re qu'en noir et blanc, ont peut donc cr\u00e9er et manipuler des images en niveau de gris, chaque pixel pouvant alors prendre une valeur enti\u00e8re comprise entre \\(0\\) et \\(255\\) , soit \\(256\\) nuances diff\u00e9rentes. Transformer des images Manipuler et transformer des images Enonc\u00e9 T\u00e9l\u00e9chargez et enregistrez le fichier vador.jpeg dans votre dossier SNT/ImagesNum\u00e9riques . T\u00e9l\u00e9chargez et enregistrez traitementGris.py puis ouvrez-le dans Thonny . Ex\u00e9cuter le fichier traitementGris.py . Commebnt s'appelle la transformation effectu\u00e9e entre les deux images ? La carte des pixels ( Pixel Map ) Chaque pixel d'une image est rep\u00e9r\u00e9 par ses coordonn\u00e9es , sous la forme d'un couple \\((x~;~y)\\) d'entiers, compris entre : 0 et width-1 , o\u00f9 width est la largeur de l'image; 0 et height-1 , o\u00f9 height est la hauteur de l'image. L'axe des abscisses est horizontal , et dirig\u00e9 vers la droite (comme en maths). L'axe des ordonn\u00e9es est vertical , et dirig\u00e9 vers le bas (au contraire des maths !) Le pixel obtenu par sym\u00e9trie axiale d'axe vertical m\u00e9dian en partant du pixel de coordonn\u00e9es \\((x~;~y)\\) est donc celui de coordonn\u00e9es \\((width - 1 - x~;~y)\\) . On voit cette transformation dans le code Python : gs , alpha = file . getpixel (( x , y )) # On place dans la nouvelle image le sym\u00e9trique du pixel travaill\u00e9 pixels [ width - 1 - x , y ] = ( gs , alpha ) Comment transformer le code pour obhtenir une sym\u00e9trie d'axe horizontal ? Comment transformer le code pour obtenir une rotation \u00e0 180\u00b0 de l'image originale ? Pour obtenir un n\u00e9gatif de l'image originelle, il faut changer la valeur de chaque pixel de la mani\u00e8re suivante : un pixel de valeur 255 devient de valeur 0 et inversement ; un pixel de valeur 250 devient de valeur 5 et inversement : un pixel de valeur 100 devient de valeur 1555 et inversement : ... Que changer dans la ligne suivante pour obtenir un tel n\u00e9gatif ? pixels [ width - 1 - x , y ] = ( gs , alpha ) Autres images Vous pouvez aussi vous amuser avec d'autres images, il suffit de les mettre dans votre dossier SNT/Images et de changer le nom dans la ligne 6 du programme traitementGris.py .","title":"Noir, Blanc, Gris"},{"location":"SNT/Images/NB/#les-images-numeriques-du-noir-blanc-aux-niveaux-de-gris","text":"","title":"Les images num\u00e9riques : du Noir &amp; Blanc aux niveaux de gris"},{"location":"SNT/Images/NB/#la-revolution-des-images-numeriques","text":"La photographie argentique La photographie a \u00e9t\u00e9 invent\u00e9e par le fran\u00e7ais Nic\u00e9phore Ni\u00e9pce vers 1824. D'abord sur des plaques d'argent recouvertes de bitumes, et qui n\u00e9cessitaient plusieurs jours d'exposition aux rayons du soleil. le proc\u00e9d\u00e9 fut am\u00e9lior\u00e9 par Louis Daguerre , qui recouvrit la plaque d'argent par une fine couche de iodure d'argent, cette plaque \u00e9tant ensuite expos\u00e9e dans une chambre obscure puis soumise \u00e0 des vapeurs de mercure qui provoquaient l'apparition de l'image. Le proc\u00e9d\u00e9 s'am\u00e9liora au fur et \u00e0 mesure, par l'utilisation de papier argentiques r\u00e9alisant un n\u00e9gatif de l'image souhait\u00e9e, la photographie se r\u00e9v\u00e9lant apr\u00e8s un bain dans diff\u00e9rentes substances chimiques au sein d'une chambre noire. Les proc\u00e9d\u00e9s de photographie couleur ne sont apparus qu'au milieu des ann\u00e9e 1930. Au temps de la photographie argentique, obtenir une photographie n\u00e9cessitait l'exposition puis le d\u00e9veloppement d'une pellicule sur du papier trait\u00e9 sp\u00e9cialement. Il fallait donc du temps, et chaque photo prise devait \u00eatre d\u00e9velopp\u00e9e - et donc coutait une certaine somme - quel que soit le r\u00e9sultat de la photo. Pour mieux comprendre, rien de tel qu'une vid\u00e9o de C'est pas sorcier : Question Enonc\u00e9 R\u00e9ponses Quels sont les avantages et les d\u00e9fauts de la photographie argentique par rapport \u00e0 la photographie num\u00e9rique ? La photographie num\u00e9rique - et par extension la vid\u00e9o num\u00e9rique - a consid\u00e9rablement chang\u00e9 notre rapport \u00e0 l'image. Tout possesseur de smartphone peut prendre des centaines de photographies, consulter imm\u00e9diatement le r\u00e9sultat de la prise de vue, supprimer, \u00e9diter ou am\u00e9liorer la photographie, et l'envoyer \u00e0 l'autre bout du monde via internet, tout cela pour un co\u00fbt extr\u00eamement bas par photographie. Bien entendu, comme tout progr\u00e8s technologique, celui-ci n'est pas sans poser de nombreux probl\u00e8mes. Par exemple, il est tr\u00e8s facile de copier une photographie num\u00e9rique ( c'est ce qu'on appelle la non-rivalit\u00e9 de l'information num\u00e9rique ). D'o\u00f9 un certain nombre de probl\u00e8mes : droits d'auteurs ; respect de la vie priv\u00e9e ; droit \u00e0 l'effacement compromis ; deep-fake et manipulation de l'information etc... Dans cet th\u00e8me, nous \u00e9tudierons \u00e0 la fois le c\u00f4t\u00e9 num\u00e9rique et technologique - comment est constitu\u00e9e une image num\u00e9rique, sous quelle forme elle est stock\u00e9e dans l'ordinateur - mais aussi sur les aspects soci\u00e9taux li\u00e9s \u00e0 l'utilisation des images num\u00e9riques.","title":"La r\u00e9volution des images num\u00e9riques"},{"location":"SNT/Images/NB/#quelques-considerations-optiques","text":"","title":"Quelques consid\u00e9rations optiques"},{"location":"SNT/Images/NB/#les-trames-benday","text":"Lors des ann\u00e9es 1950 -1970, les comics am\u00e9ricains ainsi qu'un certain nombre d'\u00e9diteurs de bandes dessin\u00e9es europ\u00e9ens utilisaient pour leurs couleurs une impression quadrichromique bas\u00e9e sur la m\u00e9thode des Benday dots . Cette m\u00e9thode consiste \u00e0 appliquer de la couleur par une juxtaposition de points de couleurs primaires (par couches cyan, magenta, jaune et noire ), comme par exemple dans les images suivantes : BD et Benday Dots Cette m\u00e9thode permettait \u00e0 moindre co\u00fbt d'obtenir des nuances de couleurs suffisantes pour une impression de bandes dessin\u00e9es. L'artiste am\u00e9ricain de pop art Roy Lichtenstein . s'est par ailleurs empar\u00e9 de cette m\u00e9thode pour r\u00e9aliser de nombreuses oeuvres.","title":"Les trames Benday"},{"location":"SNT/Images/NB/#le-pouvoir-de-resolution-de-loeil","text":"Si la m\u00e9thode des Benday Dots fonctionne et nous donne l'impression de nuances de couleurs, c'est parce qu'\u00e0 une distance suffisant, nous sommes dans l'impossibilit\u00e9 de distinguer ces points. Ceci est du au pouvoir de r\u00e9solution de l'oeil Pour la vision humaine, selon wikip\u00e9dia, le pouvoir de r\u00e9solution de l'\u0153il est d'environ une minute d'arc ( \\(1' = 1/60\u00b0 = 0,017\u00b0\\) ), soit environ 100 km sur la surface de la Lune vue de la Terre, ou plus proche de nous, un d\u00e9tail d'environ 1 mm pour un objet ou une image situ\u00e9 \u00e0 3 m de distance. Exemple A titre d'exemple, on peut consid\u00e9rer cette image sous trois r\u00e9solutions diff\u00e9rentes : Si de pr\u00e8s l'image de gauche est beaucoup plus nette que l'image de droite, en vous reculant par rapport \u00e0 l'image, vous trouverez une distance pour laquelle vous ne verrez plus de diff\u00e9rence entre les images. Vous aurez ainsi atteint la limite de r\u00e9solution de votre oeil.","title":"Le pouvoir de r\u00e9solution de l'oeil"},{"location":"SNT/Images/NB/#du-noir-et-blanc-aux-niveaux-de-gris","text":"","title":"Du noir et blanc aux niveaux de gris"},{"location":"SNT/Images/NB/#du-caractere-a-limage","text":"Du caract\u00e8re \u00e0 l'image Enonc\u00e9 Solution Cr\u00e9ez un dossier ImagesNumeriques dans votre dossier SNT . T\u00e9l\u00e9chargez et enregistrez dans le dossier pr\u00e9c\u00e9dent le fichier reallyNumbers.txt Ouvrez avec Notepad++ le fichier reallyNumbers.txt . Que contient-t-il ? A l'aide de la combinaison CTRL+Molette , d\u00e9zoomer le fichier. Quel constat pouvez-vous faire ? A l'aide de l'outil de remplacement ( Recherche > Remplacer ), remplacer toutes les valeurs \u00ab 255 \u00bb par rien (c'est-\u00e0-dire PAS PAR UN ESPACE), puis remplacez toutes les valeurs \u00ab 0 \u00bb ( c'est-\u00e0-dire un z\u00e9ro suivi d'un espace) par \u00ab 0 \u00bb (c'est-\u00e0-dire z\u00e9ro non suivi d'un espace). D\u00e9zoomez de nouveau. Que constate-t-on ? Combien de lignes poss\u00e8de ce fichier ? Combien de caract\u00e8res, espaces compris, y-a-t-il par ligne ?","title":"Du caract\u00e8re \u00e0 l'image"},{"location":"SNT/Images/NB/#une-image-en-noir-et-blanc","text":"Images en noir et blanc Enonc\u00e9 Solutions T\u00e9l\u00e9chargez et en,registrez dans le r\u00e9pertoire ImagesNumeriques le fichier champiNB.bmp Ouvrez le fichier champiNB.bmp dans un visionneur d'images. Quelle est la largeur en pixel de l'image ? Quelle est la hauteur en pixel de l'image ? Combien y-a-t-il de pixels dans l'image ? Quelle est la dimension en octet de cette image ? Repr\u00e9senter une image en noir et blanc En simplifiant beaucoup, l'image obtenue dans la partie pr\u00e9c\u00e9dente est une image num\u00e9rique en noir et blanc. Le fichier reallyNumbers.txt est une version lisible du fichier champiNB.bmp . Chaque pixel de l'image est repr\u00e9sent\u00e9 par deux valeurs : \\(255\\) pour du blanc et \\(0\\) pour du noir - soit un octet plein ( 1111 1111 ) pour du blanc et un octet vide ( 0000 0000 ) pour du noir. Le nombre d'octets dans l'image BMP correpond donc \u00e0 peu pr\u00e8s au nombre de pixels de l'image. La diff\u00e9rence provient d'un petit nombre d'informations situ\u00e9es dans l'ent\u00eate du fichier pour pr\u00e9ciser le r\u00e9el format de l'image - ici le format BMP ( BitmaP , ou windows BitMap ). Ecrans monochromes Au d\u00e9but de l'informatique - des ann\u00e9es 1960 aux ann\u00e9es 1980, il \u00e9tait tr\u00e8s fr\u00e9quent d'utiliser des \u00e9crans monochromes . Ces \u00e9crans \u00e9taient constitu\u00e9s de luminophores - une substance qui emet de la lumi\u00e8re si elle subit une exitation. Ces luminophores donnaient \u00e0 l'\u00e9cran, en fonction de leurs caract\u00e9ristiques, soit une couleur blanche, soit une couleur orange, mais le plus souvent une couleur verte ! D'o\u00f9 les images bien connues du film Matrix , ou les couleurs des affichages des ordinateurs de bord dans la premi\u00e8re trilogie de Star Wars . Certains \u00e9crans monochromes sont toujours utilis\u00e9s en raison de leur tr\u00e8s grande lisibilit\u00e9.","title":"Une image en noir et blanc"},{"location":"SNT/Images/NB/#generer-ses-propres-images","text":"Fabriquer en PixelArt Enonc\u00e9 Ouvrir le logiciel Thonny . Ouvrir le menu Tools > Manage packages et dans la barre de recherche, chercher le module pillow , et l'installer si il n'est pas d\u00e9j\u00e0 install\u00e9. T\u00e9l\u00e9chargez et sauvegardez le fichier GenereBMP.py , puis ouvrez le dans Thonny . Ex\u00e9cutez le programme, en sauvegardant le fichier sous le nom Stripes.bmp . Ouvrez l'image obtenue. Qu'obtient-on ? Dans le code, quelle structure repr\u00e9sente l'image ? Matrice des pixels En Python, une telle structure est un tableau (plus pr\u00e9cis\u00e9ment, un tableau est une liste de listes). Un tableau de nombre est appel\u00e9 une matrice . Dans notre cas chaque nombre de la matrice pix repr\u00e9sente un pixel soit de couleur noire ( \\(0\\) ), soit de couleur blanche( \\(255\\) ). Combien y-a-t-il de pixels dans cette image ? Modifiez la matrice afin d'obtenir l'image suivante : A l'aide des grilles suivantes, cr\u00e9ez deux nouvelles images : Combien de valeurs sont n\u00e9cessaires pour une image de \\(16 \\times 16\\) pixels ? de \\(32 \\times 32\\) pixels ? de \\(64 \\times 64\\) pixels ?","title":"G\u00e9n\u00e9rer ses propres images"},{"location":"SNT/Images/NB/#les-niveaux-de-gris","text":"T\u00e9l\u00e9chargez et sauvegardez les fichiers champisGris.txt et champisGris.bmp . Le fichier champiGris.txt contient l'extraction des pixels du fichier champiGris.bmp . Quelle est la principale diff\u00e9rence par rapport au fichier champiNB.txt ? Nuances de gris Contrairement aux \u00e9crans monochromes, qui ne pouvaient pour chaque luminophore prendre que deux valeurs (allum\u00e9s et \u00e9teints), les \u00e9crans de t\u00e9l\u00e9vision \u00e0 tubes cathodiques dits \u00ab en noir et blanc \u00bb \u00e9taient en fait capable de prendre toute une nuance de couleur entre le noir et le blanc, ce qu'on appelle des niveaux de gris . De la m\u00eame mani\u00e8re qu'en noir et blanc, ont peut donc cr\u00e9er et manipuler des images en niveau de gris, chaque pixel pouvant alors prendre une valeur enti\u00e8re comprise entre \\(0\\) et \\(255\\) , soit \\(256\\) nuances diff\u00e9rentes.","title":"Les niveaux de gris"},{"location":"SNT/Images/NB/#transformer-des-images","text":"Manipuler et transformer des images Enonc\u00e9 T\u00e9l\u00e9chargez et enregistrez le fichier vador.jpeg dans votre dossier SNT/ImagesNum\u00e9riques . T\u00e9l\u00e9chargez et enregistrez traitementGris.py puis ouvrez-le dans Thonny . Ex\u00e9cuter le fichier traitementGris.py . Commebnt s'appelle la transformation effectu\u00e9e entre les deux images ? La carte des pixels ( Pixel Map ) Chaque pixel d'une image est rep\u00e9r\u00e9 par ses coordonn\u00e9es , sous la forme d'un couple \\((x~;~y)\\) d'entiers, compris entre : 0 et width-1 , o\u00f9 width est la largeur de l'image; 0 et height-1 , o\u00f9 height est la hauteur de l'image. L'axe des abscisses est horizontal , et dirig\u00e9 vers la droite (comme en maths). L'axe des ordonn\u00e9es est vertical , et dirig\u00e9 vers le bas (au contraire des maths !) Le pixel obtenu par sym\u00e9trie axiale d'axe vertical m\u00e9dian en partant du pixel de coordonn\u00e9es \\((x~;~y)\\) est donc celui de coordonn\u00e9es \\((width - 1 - x~;~y)\\) . On voit cette transformation dans le code Python : gs , alpha = file . getpixel (( x , y )) # On place dans la nouvelle image le sym\u00e9trique du pixel travaill\u00e9 pixels [ width - 1 - x , y ] = ( gs , alpha ) Comment transformer le code pour obhtenir une sym\u00e9trie d'axe horizontal ? Comment transformer le code pour obtenir une rotation \u00e0 180\u00b0 de l'image originale ? Pour obtenir un n\u00e9gatif de l'image originelle, il faut changer la valeur de chaque pixel de la mani\u00e8re suivante : un pixel de valeur 255 devient de valeur 0 et inversement ; un pixel de valeur 250 devient de valeur 5 et inversement : un pixel de valeur 100 devient de valeur 1555 et inversement : ... Que changer dans la ligne suivante pour obtenir un tel n\u00e9gatif ? pixels [ width - 1 - x , y ] = ( gs , alpha ) Autres images Vous pouvez aussi vous amuser avec d'autres images, il suffit de les mettre dans votre dossier SNT/Images et de changer le nom dans la ligne 6 du programme traitementGris.py .","title":"Transformer des images"},{"location":"SNT/Images/RGB/","text":"Les images en couleur Les \u00e9crans couleurs Toutes les questions suivantes sont \u00e0 r\u00e9aliser \u00e0 l'aide de l'appareil photo de votre t\u00e9l\u00e9phone portable. Si la manipulation ne fonctionne pas, vous pourrez trouver des images d'exemples dazns le r\u00e9pertoire de votre classe. A l'aide de l'appareil photo de votre t\u00e9l\u00e9phone portable, prenez une photo de l'\u00e9cran ed l'ordinateur avec un zoom maximal. Essayez d'obtenir une photo la plus nette possible. Ouvrez la photo prise, et zoomez la au maximum. Que voit-on ? Faites un sch\u00e9ma ci-dessous. Le format RGB la synth\u00e8se additive RGB Une norme fr\u00e9quemment utilis\u00e9e pour les images num\u00e9riques est la norme RGB (Red Green Blue). Ce qu'on appelle un pixel d'\u00e9cran est compos\u00e9 de trois leds des trois couleurs RGB. Un pixel informatique est alors repr\u00e9sent\u00e9 sous la forme de trois valeurs num\u00e9riques comprises entre \\(0\\) et \\(255\\) , \\(0\\) repr\u00e9sentant la led \u00e9teinte, et \\(255\\) la led totalement allum\u00e9e. Ainsi : la couleur rouge est repr\u00e9sent\u00e9e par \\((255,0,0)\\) ; la couleur verte est repr\u00e9sent\u00e9e par \\((0,255,0)\\) ; la couleur bleue est repr\u00e9sent\u00e9e par \\((0,0,255)\\) ; la couleur fuchsia (violet) est repr\u00e9sent\u00e9e par \\((255,0,255)\\) ... Vous pouvez utiliser le site suivant pour essayer les diff\u00e9rentes valeurs. Quelle est le triplet de valeur RGB pour la couleur jaune ? Quelle est la couleur repr\u00e9sent\u00e9e par le triplet RGB \\((255, 153, 0)\\) ? T\u00e9l\u00e9chargez puis ouvrez avec Thonny le fichier FunWithFlags.py , puis ex\u00e9cutez-le. Quel est le nom du fichier image cr\u00e9\u00e9 ? Quelle est la dimension en pixel de l'image cr\u00e9\u00e9e ? A quoi sert la ligne d'instructions for x in range ( 200 ) : Que repr\u00e9sentent les variables \\(x\\) et \\(y\\) dans la ligne de commande : img . putpixel (( x , y ),( 0 , 0 , 255 )) Compl\u00e9ter le fichier afin de r\u00e9aliser le drapeau fran\u00e7ais. Faire de m\u00eame avec le drapeau belge. Comment r\u00e9aliser un drapeau N\u00e9erlandais ? Un peu d'art Transparence et Canal Alpha Pour certains types d'images, un quatri\u00e8me octet est utilis\u00e9 pour chaque pixel. Il s'agit du canal alpha , qui caract\u00e9rise la transparence de ce pixel. Cette couche suppl\u00e9mentaire permet de superposer des images - par exemple dans un jeu vid\u00e9o un sprite pourra appara\u00eetre sur le fond, sans masquer la totalit\u00e9 sous la forme d'un carr\u00e9. Cet octet suppl\u00e9mentaire est utilis\u00e9 de la mani\u00e8re suivante : si il est \u00e0 \\(255\\) , le pixel est correctemnt affich\u00e9 ; si il est \u00e0 \\(0\\) , le pixel est transparent. Dans toutes les images suivantes, le canal alpha a \u00e9t\u00e9 d\u00e9sactiv\u00e9. Il n'y aura donc pas de transparence ! Andy Warhol Andy Warhol est un artiste am\u00e9ricain, n\u00e9 le 6 ao\u00fbt 1928 \u00e0 Pittsburgh, en Pennsylvanie, et mort le 22 f\u00e9vrier 1987 \u00e0 New York. Il est l'un des principaux repr\u00e9sentants du pop art. Il est particuli\u00e8rement c\u00e9l\u00e8bre pour certaines de ses oeuvres mettant en sc\u00e8ne l'actrice Marilyn Monroe, le visage de cette derni\u00e8re \u00e9tant reproduit plusieurs fois avec diff\u00e9rentes couleurs, et les portraits \u00e9tant juxtapos\u00e9s. De nombreux artistes du pop-art,du street-art et m\u00eame de la culture geek ont repris cette oeuvre et l'ont d\u00e9tourn\u00e9e avec leurs propres personnages. N'\u00e9tant pas (encore) des artistes \u00e9m\u00e9rites, nous nous contenterons donc de copier Andy Warhol, en commen\u00e7ant pas extraire et cr\u00e9er des images monochromes \u00e0 partir d'une seule image. Pour cela, nous allons appliquer des filtres \u00e0 une image originelle, filtres qui vont nous renvoyer une matrice de pixels modifi\u00e9e par ces filtres. T\u00e9l\u00e9chargez et copiez dans votre espace personnel les fichiers MonoChromes.py et Stormtroppers.png . Ouvrez le fichier MonoChromes.py avec Thonny , puis ex\u00e9cutez-le. Normalement vous devriez voir appara\u00eetre une image de Stormtrooper en niveaux de gris. Observez ensuite les derni\u00e8re lignes du code Python . Fonctions du code Voici une description de quelques fonctions pr\u00e9sente dans le code : makeMatrix (L.98) : fabrique une matrice de pixel RGB \u00e0 partir d'une image s\u00e9lectionn\u00e9e et ouverte dans la ligne 97. showFromMatrix (L.99) : affiche dans le visionneur d'image l'image g\u00e9n\u00e9r\u00e9e par la matrice qui lui est donn\u00e9e en argument. Monochromes D\u00e9commentez (= supprimez le symbole #) les lignes 100 et 101, et commentez(= ajoutez devant une ligne le symbole #) Ex\u00e9cutez le code. Qu'obtenez-vous ? La fonction utilis\u00e9e en ligne 100 utilise un filtre sous la forme \\((0,1,0)\\) . A quoi correspondent ces nombres selon vous ? Appliquer un filtre donnant une image rouge. Quel filtre avez-vous appliqu\u00e9 ? Appliquer un filtre donnant une image bleue. Quel filtre avez-vous appliqu\u00e9 ? Quel filtre faut-il appliquer pour obtenir une image jaune ? magenta ? cyan ? Filtres de couleurs La fonction extractColor (L.26-46) utilise un filtre pour extraire la coloration d'une image. Le filtre RGB est \u00e9crit sous la forme d'un tuple \\((x,y,z)\\) (un tuple est une structure Python contenant plusieurs donn\u00e9es, s\u00e9par\u00e9es par des virgules, et encadr\u00e9es par une paire de parenth\u00e8ses). \\(x\\) , \\(y\\) et \\(z\\) sont des r\u00e9els qui sont compris entre 0 et 2 avec la norme suivante : \u00e0 0, renvoie la valeur 0 de la composante ; \u00e0 1, renvoie la valeur actuelle de la composante du pixel ; \u00e0 2, renvoie la valeur maximale de cette composante ( 255) ; toute autre valeur donnera une teinte modifi\u00e9e de la teinte originale, plus sombne si le nombre est compris entre 0 et 1, plus claire si ce nombre est compris entre 1 et 2. Post\u00e9risation Commentez les lignes 100 et 101, et d\u00e9commentez les lignes 102 et 103. Ex\u00e9cutez alors le code. Qu'obtient-on ? Observez la ligne 69 : poster = [[ 0 ] * 2 * width for _ in range ( 1 * height )] A votre avis, quelle est la dimension de la matrice poster par rapport \u00e0 l'image originale ? Que se passe-t-il dans les lignes 70 \u00e0 73 ? M1 = makeMatrix ( img ) MR = extractColor ( img ,( 1 , 0 , 0 )) MG = extractColor ( img ,( 0 , 1 , 0 )) MB = extractColor ( img ,( 0 , 0 , 1 )) Dans la ligne 76, poster [ y ][ x ] = M1 [ y ][ x ] Chaque pixel de l'image originale M1 est plac\u00e9 aux m\u00eame coordonn\u00e9es dans la matrice poster . Que signifie alors la ligne 77 ? poster [ y ][ x + width ] = MR [ y ][ x ] Post\u00e9riser Pour post\u00e9riser \u00e0 la mani\u00e8re d'Andy Warhol notre image, nous devrons copier dans la matrice poster les images manquantes vertes et bleues. Pour cela il faut comprendre la fa\u00e7on dont les matrices devront s'organiser, et pour cela iol faut comprendre le syst\u00e8me de coordonn\u00e9es des images : Modifier la ligne 69 puis les lignes situ\u00e9es apr\u00e8s la ligne 77 pour obtenir une post\u00e9risation telle que celle-ci : Vous pouvez d\u00e9sormais choisir votre propre image, et la post\u00e9riser \u00e0 la mani\u00e8re d'Andy Warhol. Vous pouvez m\u00eame cr\u00e9er des images telles que celles-ci, sans modifier beaucoup le code : Autres transformations Dans le code on trouve la fonction negativ , qui prend une image en argument et renvoie la matrice du n\u00e9gatif de cette image. Le principe est simple : pour chaque composante RGB, on affecte la teinte oppos\u00e9e, par le calcul \\(255-x\\) , o\u00f9 \\(x\\) est la valeur de la composante. On obtient ainsi un n\u00e9gatif de l'image originelle. Vous pouvez essayer en d\u00e9commentant les lignes suivantes : neg = negativ ( originalImg ) showFromMatrix ( neg ) 2. En s'inspirant de la fonction negativ , cr\u00e9er une fonction permuteBRG qui permute les composantes RGB d'une image, en transformant le rouge en bleu, le vert en rouge, et le bleu en vert. 3. Faire de m\u00eame avec une fonction permuteGBR qui permute les composantes RGB d'une image, en transformant le rouge en vert, le vert en bleu, et le bleu en rouge. 4. Cr\u00e9er \u00e0 partir de la fonction negativ une nouvelle fonction rotateRGB , et remplacer la ligne negat [ y ][ x ] = 255 - R , 255 - G , 255 - B par negat [ y ][ x ] = matrix [ height - 1 - y ][ width - 1 - x ] Comment est l'image obtenue ? Modifier de m\u00eame la fonction pour obtenir une sym\u00e9trie horizontale, puis une sym\u00e9trie verticale.","title":"La couleur et le RGB"},{"location":"SNT/Images/RGB/#les-images-en-couleur","text":"","title":"Les images en couleur"},{"location":"SNT/Images/RGB/#les-ecrans-couleurs","text":"Toutes les questions suivantes sont \u00e0 r\u00e9aliser \u00e0 l'aide de l'appareil photo de votre t\u00e9l\u00e9phone portable. Si la manipulation ne fonctionne pas, vous pourrez trouver des images d'exemples dazns le r\u00e9pertoire de votre classe. A l'aide de l'appareil photo de votre t\u00e9l\u00e9phone portable, prenez une photo de l'\u00e9cran ed l'ordinateur avec un zoom maximal. Essayez d'obtenir une photo la plus nette possible. Ouvrez la photo prise, et zoomez la au maximum. Que voit-on ? Faites un sch\u00e9ma ci-dessous.","title":"Les \u00e9crans couleurs"},{"location":"SNT/Images/RGB/#le-format-rgb","text":"la synth\u00e8se additive RGB Une norme fr\u00e9quemment utilis\u00e9e pour les images num\u00e9riques est la norme RGB (Red Green Blue). Ce qu'on appelle un pixel d'\u00e9cran est compos\u00e9 de trois leds des trois couleurs RGB. Un pixel informatique est alors repr\u00e9sent\u00e9 sous la forme de trois valeurs num\u00e9riques comprises entre \\(0\\) et \\(255\\) , \\(0\\) repr\u00e9sentant la led \u00e9teinte, et \\(255\\) la led totalement allum\u00e9e. Ainsi : la couleur rouge est repr\u00e9sent\u00e9e par \\((255,0,0)\\) ; la couleur verte est repr\u00e9sent\u00e9e par \\((0,255,0)\\) ; la couleur bleue est repr\u00e9sent\u00e9e par \\((0,0,255)\\) ; la couleur fuchsia (violet) est repr\u00e9sent\u00e9e par \\((255,0,255)\\) ... Vous pouvez utiliser le site suivant pour essayer les diff\u00e9rentes valeurs. Quelle est le triplet de valeur RGB pour la couleur jaune ? Quelle est la couleur repr\u00e9sent\u00e9e par le triplet RGB \\((255, 153, 0)\\) ? T\u00e9l\u00e9chargez puis ouvrez avec Thonny le fichier FunWithFlags.py , puis ex\u00e9cutez-le. Quel est le nom du fichier image cr\u00e9\u00e9 ? Quelle est la dimension en pixel de l'image cr\u00e9\u00e9e ? A quoi sert la ligne d'instructions for x in range ( 200 ) : Que repr\u00e9sentent les variables \\(x\\) et \\(y\\) dans la ligne de commande : img . putpixel (( x , y ),( 0 , 0 , 255 )) Compl\u00e9ter le fichier afin de r\u00e9aliser le drapeau fran\u00e7ais. Faire de m\u00eame avec le drapeau belge. Comment r\u00e9aliser un drapeau N\u00e9erlandais ?","title":"Le format RGB"},{"location":"SNT/Images/RGB/#un-peu-dart","text":"Transparence et Canal Alpha Pour certains types d'images, un quatri\u00e8me octet est utilis\u00e9 pour chaque pixel. Il s'agit du canal alpha , qui caract\u00e9rise la transparence de ce pixel. Cette couche suppl\u00e9mentaire permet de superposer des images - par exemple dans un jeu vid\u00e9o un sprite pourra appara\u00eetre sur le fond, sans masquer la totalit\u00e9 sous la forme d'un carr\u00e9. Cet octet suppl\u00e9mentaire est utilis\u00e9 de la mani\u00e8re suivante : si il est \u00e0 \\(255\\) , le pixel est correctemnt affich\u00e9 ; si il est \u00e0 \\(0\\) , le pixel est transparent. Dans toutes les images suivantes, le canal alpha a \u00e9t\u00e9 d\u00e9sactiv\u00e9. Il n'y aura donc pas de transparence ! Andy Warhol Andy Warhol est un artiste am\u00e9ricain, n\u00e9 le 6 ao\u00fbt 1928 \u00e0 Pittsburgh, en Pennsylvanie, et mort le 22 f\u00e9vrier 1987 \u00e0 New York. Il est l'un des principaux repr\u00e9sentants du pop art. Il est particuli\u00e8rement c\u00e9l\u00e8bre pour certaines de ses oeuvres mettant en sc\u00e8ne l'actrice Marilyn Monroe, le visage de cette derni\u00e8re \u00e9tant reproduit plusieurs fois avec diff\u00e9rentes couleurs, et les portraits \u00e9tant juxtapos\u00e9s. De nombreux artistes du pop-art,du street-art et m\u00eame de la culture geek ont repris cette oeuvre et l'ont d\u00e9tourn\u00e9e avec leurs propres personnages. N'\u00e9tant pas (encore) des artistes \u00e9m\u00e9rites, nous nous contenterons donc de copier Andy Warhol, en commen\u00e7ant pas extraire et cr\u00e9er des images monochromes \u00e0 partir d'une seule image. Pour cela, nous allons appliquer des filtres \u00e0 une image originelle, filtres qui vont nous renvoyer une matrice de pixels modifi\u00e9e par ces filtres. T\u00e9l\u00e9chargez et copiez dans votre espace personnel les fichiers MonoChromes.py et Stormtroppers.png . Ouvrez le fichier MonoChromes.py avec Thonny , puis ex\u00e9cutez-le. Normalement vous devriez voir appara\u00eetre une image de Stormtrooper en niveaux de gris. Observez ensuite les derni\u00e8re lignes du code Python . Fonctions du code Voici une description de quelques fonctions pr\u00e9sente dans le code : makeMatrix (L.98) : fabrique une matrice de pixel RGB \u00e0 partir d'une image s\u00e9lectionn\u00e9e et ouverte dans la ligne 97. showFromMatrix (L.99) : affiche dans le visionneur d'image l'image g\u00e9n\u00e9r\u00e9e par la matrice qui lui est donn\u00e9e en argument.","title":"Un peu d'art"},{"location":"SNT/Images/RGB/#monochromes","text":"D\u00e9commentez (= supprimez le symbole #) les lignes 100 et 101, et commentez(= ajoutez devant une ligne le symbole #) Ex\u00e9cutez le code. Qu'obtenez-vous ? La fonction utilis\u00e9e en ligne 100 utilise un filtre sous la forme \\((0,1,0)\\) . A quoi correspondent ces nombres selon vous ? Appliquer un filtre donnant une image rouge. Quel filtre avez-vous appliqu\u00e9 ? Appliquer un filtre donnant une image bleue. Quel filtre avez-vous appliqu\u00e9 ? Quel filtre faut-il appliquer pour obtenir une image jaune ? magenta ? cyan ? Filtres de couleurs La fonction extractColor (L.26-46) utilise un filtre pour extraire la coloration d'une image. Le filtre RGB est \u00e9crit sous la forme d'un tuple \\((x,y,z)\\) (un tuple est une structure Python contenant plusieurs donn\u00e9es, s\u00e9par\u00e9es par des virgules, et encadr\u00e9es par une paire de parenth\u00e8ses). \\(x\\) , \\(y\\) et \\(z\\) sont des r\u00e9els qui sont compris entre 0 et 2 avec la norme suivante : \u00e0 0, renvoie la valeur 0 de la composante ; \u00e0 1, renvoie la valeur actuelle de la composante du pixel ; \u00e0 2, renvoie la valeur maximale de cette composante ( 255) ; toute autre valeur donnera une teinte modifi\u00e9e de la teinte originale, plus sombne si le nombre est compris entre 0 et 1, plus claire si ce nombre est compris entre 1 et 2.","title":"Monochromes"},{"location":"SNT/Images/RGB/#posterisation","text":"Commentez les lignes 100 et 101, et d\u00e9commentez les lignes 102 et 103. Ex\u00e9cutez alors le code. Qu'obtient-on ? Observez la ligne 69 : poster = [[ 0 ] * 2 * width for _ in range ( 1 * height )] A votre avis, quelle est la dimension de la matrice poster par rapport \u00e0 l'image originale ? Que se passe-t-il dans les lignes 70 \u00e0 73 ? M1 = makeMatrix ( img ) MR = extractColor ( img ,( 1 , 0 , 0 )) MG = extractColor ( img ,( 0 , 1 , 0 )) MB = extractColor ( img ,( 0 , 0 , 1 )) Dans la ligne 76, poster [ y ][ x ] = M1 [ y ][ x ] Chaque pixel de l'image originale M1 est plac\u00e9 aux m\u00eame coordonn\u00e9es dans la matrice poster . Que signifie alors la ligne 77 ? poster [ y ][ x + width ] = MR [ y ][ x ] Post\u00e9riser Pour post\u00e9riser \u00e0 la mani\u00e8re d'Andy Warhol notre image, nous devrons copier dans la matrice poster les images manquantes vertes et bleues. Pour cela il faut comprendre la fa\u00e7on dont les matrices devront s'organiser, et pour cela iol faut comprendre le syst\u00e8me de coordonn\u00e9es des images : Modifier la ligne 69 puis les lignes situ\u00e9es apr\u00e8s la ligne 77 pour obtenir une post\u00e9risation telle que celle-ci : Vous pouvez d\u00e9sormais choisir votre propre image, et la post\u00e9riser \u00e0 la mani\u00e8re d'Andy Warhol. Vous pouvez m\u00eame cr\u00e9er des images telles que celles-ci, sans modifier beaucoup le code :","title":"Post\u00e9risation"},{"location":"SNT/Images/RGB/#autres-transformations","text":"Dans le code on trouve la fonction negativ , qui prend une image en argument et renvoie la matrice du n\u00e9gatif de cette image. Le principe est simple : pour chaque composante RGB, on affecte la teinte oppos\u00e9e, par le calcul \\(255-x\\) , o\u00f9 \\(x\\) est la valeur de la composante. On obtient ainsi un n\u00e9gatif de l'image originelle. Vous pouvez essayer en d\u00e9commentant les lignes suivantes : neg = negativ ( originalImg ) showFromMatrix ( neg ) 2. En s'inspirant de la fonction negativ , cr\u00e9er une fonction permuteBRG qui permute les composantes RGB d'une image, en transformant le rouge en bleu, le vert en rouge, et le bleu en vert. 3. Faire de m\u00eame avec une fonction permuteGBR qui permute les composantes RGB d'une image, en transformant le rouge en vert, le vert en bleu, et le bleu en rouge. 4. Cr\u00e9er \u00e0 partir de la fonction negativ une nouvelle fonction rotateRGB , et remplacer la ligne negat [ y ][ x ] = 255 - R , 255 - G , 255 - B par negat [ y ][ x ] = matrix [ height - 1 - y ][ width - 1 - x ] Comment est l'image obtenue ? Modifier de m\u00eame la fonction pour obtenir une sym\u00e9trie horizontale, puis une sym\u00e9trie verticale.","title":"Autres transformations"},{"location":"SNT/Reseaux/Creation_reseaux/","text":"Connecter des r\u00e9seaux entre eux : Internet Nous avons vu dans la partie pr\u00e9c\u00e9dente l'importance du protocole TCP/IP dans la communication entre plusieurs ordinateurs d'un m\u00eame r\u00e9seau . Adresses MAC En fait, au sein d'un m\u00eame r\u00e9seau, les adresses IP ne sont pas essentielles. Ce sont en fait les adresses MAC - th\u00e9oriquement uniques - qui sont \u00e9chang\u00e9es entre les machines. Mais pour des raisons de simplifications nous resterons sur les adresses IP. Cr\u00e9er un r\u00e9seau est donc une chose relativement ais\u00e9e. Mais comment relier deux r\u00e9seaux existants entre eux ? Comment interconnecter plusieurs de ces r\u00e9seaux, pour obtenir le r\u00e9seau des r\u00e9seaux, commun\u00e9ment appel\u00e9 Internet ? Adresses IP et masques de sous-r\u00e9seau Masque de sous-r\u00e9seau Dans le protocole TCP/IP, l'adresse IP n'est pas seulement l'adresse de la machine. Il s'agit aussi de l 'adresse du r\u00e9seau . Plus sp\u00e9cifiquement, une adresse IP est toujours accompagn\u00e9e de ce qu'on appelle un masque r\u00e9seau . Il s'agit d'un nombre binaire sur 4 octets ( comme les adresses IP ), qui peut \u00eatre repr\u00e9sent\u00e9 sous la m\u00eame forme qu'une adresse IP. G\u00e9n\u00e9ralement, les masques sont de la forme : 255.0.0.0 ; 255.255.0.0 ; 255.255.255.0 . Pour les curieux Un masque r\u00e9seau IPV4 est une s\u00e9rie de 32 bits ( 8x4 donc 32 bits), telle que les bits de gauche soient tous des 1 et ceux de droite tous des z\u00e9ros. Par exemple 11111111.11111111.00000000.00000000 est un masque, 11111111.11111111.11110000.00000000 est aussi un masque, mais 11111111.11111111.00001111.00000000 n'en est pas un. La question n'est pas ici de rentrer dans une technique de calculs binaires assez complexe, mais de vous faire comprendre comment fonctionne globalement un masque. Il faut juste retenir que le nombre \\(255\\) en base 10 s'\u00e9crit en binaire 11111111 , et que le nombre \\(0\\) s'\u00e9crit 00000000 Donc nous allons supposer que seul les 3 premiers octets peuvent \u00eatre pleins de 1,c'est \u00e0 dire : 255.0.0.0 (soit 11111111.00000000.00000000.00000000 ); 255.255.0.0 (soit 11111111.11111111.00000000.00000000 ); 255.255.255.0 (soit 11111111.11111111.11111111.00000000 ). Ce n'est pas exact, car en r\u00e9alit\u00e9 le masque n'est pas oblig\u00e9 de compl\u00e9ter int\u00e9gralement un octet. On peut ainsi avoir des masques de type 11111111.11100000.00000000.00000000 , o\u00f9 le deuxi\u00e8me octet n'est que partiellement compl\u00e9t\u00e9 - ce qui donne alors un masque 255.204.0.0 . Mais ce type de masque a pour cons\u00e9quence de rendre certains calculs tr\u00e8s fastidieux pour les humains, qui comptent en base d\u00e9cimale, alors que les machines, qui comptent en binaire r\u00e9ussissent facilement ces calculs. Exercice Placer deux ordinateurs dans l'espace de travail Filius . Configurez : le premier avec comme adresse IP 192.168.0.10 et comme masque 255.255.255.0 ; le second avec avec comme adresse IP 192.168.1.10 et comme masque 255.255.0.0 . Installez sur chacun des pc le programme Ligne de commande . Sur la machine 192.168.0.10 , essayez de joindre avec la commande ping la machine 192.168.1.10 . Que se passe-t-il ? Sur la machine 192.168.1.10 , essayez de joindre avec la commande ping la machine 192.168.0.10 . Que se passe-t-il ? Masque de r\u00e9seau et IP Le masque de r\u00e9seau permet de d\u00e9finir quelle partie de l'adresse IP est celle du r\u00e9seau, et quelle partie est celle de la machine. Ainsi la machine dont l'IP est 172.16.180.1 avec la masque 255.255.0.0 a pour adresse de r\u00e9seau 172.16.X.X et pour adresse de machine X.X.180.1 Une machine ne pourra communiquer par principe qu'avec les machines poss\u00e9dant le m\u00eame num\u00e9ro de r\u00e9seau. Exemple Avec les donn\u00e9es de l'exercice pr\u00e9c\u00e9dent : Le routeur : un appareil pour relier les r\u00e9seaux Routeur Un routeur est une machine poss\u00e9dant plusieurs cartes r\u00e9seaux, et \u00e9tant capable de faire des liens ( des routes ) entre diff\u00e9rents r\u00e9seaux. Un routeur poss\u00e8de une adresse IP pour chacun des r\u00e9seaux duquel il fait partie , et est consid\u00e9r\u00e9 comme faisant partie de chacun des r\u00e9seaux auquel il est reli\u00e9. Exercice Nous allons tenter de relier deux r\u00e9seaux diff\u00e9rents entre eux : dans le premier il y a trois machines (sous forme de tours) d'IP 192.168.0.10 \u00e0 192.168.0.12 , toutes avec le masque 255.255.255.0 , reli\u00e9es par un switch ; dans le deuxi\u00e8me il y a trois machines (sous forme de portables) d'IP 172.180.100.110 \u00e0 172.180.100.112 , toutes avec le masque 255.255.0.0 , reli\u00e9es par un switch. R\u00e9pondez \u00e0 chacune des questions suivantes : Quel est le num\u00e9ro de r\u00e9seau du premier r\u00e9seau ? Du second r\u00e9seau ? Cr\u00e9ez dans Filius ces deux r\u00e9seaux, le r\u00e9seau 192.168.0.X . \u00e9tant situ\u00e9 \u00e0 gauche de l'acran, et le r\u00e9seau 172.180.X.X \u00e9tant \u00e0 doite. Installez la ligne de commande sur une des machines de chacun des r\u00e9seaux, et v\u00e9rifiez si vous pouvez utiliser correctement la commande ping . Placez un routeur au milieu, avec deux interfaces, et joignez le par un c\u00e2ble \u00e0 chaque switch. Le routeur \u00e9tant une machine du r\u00e9seau, il faut lui adresser une IP compatible pour chacun de ces r\u00e9seaux. Vous lui donnerez comme IP 192.168.0.254 pour le premier, et 172.180.100.254 pour le second. Testez la commande ping entre deux postes des deux r\u00e9seaux. Que se passe-t-il ? Passerelle Une machine basique n'est normalement pas capable de r\u00e9soudre (c'est-\u00e0-dire identifier) des adresses IP n'appartenant pas \u00e0 son r\u00e9seau. Elle d\u00e9l\u00e8gue ce travail \u00e0 une machine particuli\u00e8re, appel\u00e9e passerelle (ou \\emph{Gateway}). Cette machine particuli\u00e8re peut \u00eatre une machine du r\u00e9seau, comme un serveur sp\u00e9cifique, ou bien directement un routeur. Configurez les machines du r\u00e9seau 192.168.0.X pour qu'elles aient comme passerelle l'IP du routeur, c'est-\u00e0-dire 192.168.0.254 . Faites de m\u00eame avec le r\u00e9seau 172.180.X.X . Testez de nouveau la commande ping . Que se passe-t-il ? Installez sur une machine du r\u00e9seau 192.168.0.X un serveur web, et testez sur les machines du r\u00e9seau 172.180.X.X l'affichage de la page web d'accueil du serveur. Multiples r\u00e9seaux, multiples routeurs *Cette partie est tr\u00e8s largement inspir\u00e9e du travail de David Roche . Internet D'apr\u00e8s wikip\u00e9dia ; \u00ab Internet est le r\u00e9seau informatique mondial accessible au public. C'est un r\u00e9seau de r\u00e9seaux, \u00e0 commutation de paquets, sans centre n\u00e9vralgique, compos\u00e9 de millions de r\u00e9seaux aussi bien publics que priv\u00e9s, universitaires, commerciaux et gouvernementaux, eux-m\u00eames regroup\u00e9s en r\u00e9seaux autonomes (il y en avait plus de 91 000 en 2019). \u00bb Nous avons vu comment relier deux r\u00e9seaux diff\u00e9rents. Internet fonctionne donc de la m\u00eame mani\u00e8re, mais avec plusieurs milliers de r\u00e9seaux reli\u00e9s entre eux par l'interm\u00e9diaire de nombreux routeurs, priv\u00e9s ou publics. Exercice Dans Filius ouvrez le fichier snt_sim_res.fls situ\u00e9 dans les documents en consultations de votre r\u00e9pertoire de classe. Ce fichier repr\u00e9sente une petite portion d'Internet simplifi\u00e9e \u00e0 l'extr\u00eame : Il contient : \\(15\\) ordinateurs : \\(M1\\) \u00e0 \\(M15\\) ; \\(6\\) switchs : \\(R1\\) \u00e0 \\(R6\\) ; $8 $routeurs : \\(A, B, C, D, E, F, G\\) et \\(H\\) . Voici quelques exemples de communications entre 2 ordinateurs. Pour chacun des suivants, donnez les trajets (c'est-\u00e0-dire les machines) suivis par les paquets de donn\u00e9es : cas n\u00b01 : M1 veut communiquer avec M3 cas n\u00b02 : M1 veut communiquer avec M6 cas n\u00b03 : M1 veut communiquer avec M9 cas n\u00b04 : M13 veut communiquer avec M9 Routage des paquets Il est tr\u00e8s important de bien comprendre qu'il existe souvent plusieurs chemins possibles pour relier 2 ordinateurs. Nous pouvons avoir : \\[ M13 \\rightarrow R6 \\rightarrow Routeur~G \\rightarrow Routeur~F \\rightarrow Routeur~E \\rightarrow R4 \\rightarrow M9 \\] ou encore : \\[ M13 \\rightarrow R6 \\rightarrow Routeur~G \\rightarrow Routeur~F \\rightarrow Routeur~H \\rightarrow Routeur~C \\rightarrow Routeur~D\\\\ \\rightarrow Routeur~E \\rightarrow R4 \\rightarrow M9 \\] On pourrait penser que le chemin \u00ab \\(Routeur~F \\rightarrow Routeur~E\\) \u00bb est plus rapide et donc pr\u00e9f\u00e9rable au chemin \u00ab \\(Routeur~F \\rightarrow Routeur~H\\) \u00bb, cela est sans doute vrai, mais imaginez qu'il y ait un probl\u00e8me technique entre le Routeur F et le Routeur E, l'existence du chemin \u00ab \\(Routeur~F \\rightarrow Routeur~H\\) \u00bb permettra tout de m\u00eame d'\u00e9tablir une communication entre \\(M13\\) et \\(M9\\) . Parfois, on entend certains politiques ou journalistes \u00e9voquer \u00ab la coupure d'internet \u00bb, peut \u00eatre comprendrez-vous mieux maintenant que cela n'a aucun sens, car m\u00eame si une autorit\u00e9 quelconque d\u00e9cidait de couper une partie des infrastructures, les paquets pourraient passer par un autre chemin. C'est ce \u00e0 quoi font r\u00e9f\u00e9rence les termes \u00ab sans centre n\u00e9vralgique \u00bb dans la d\u00e9finition de wikip\u00e9dia.","title":"Cr\u00e9ation de r\u00e9seaux"},{"location":"SNT/Reseaux/Creation_reseaux/#connecter-des-reseaux-entre-eux-internet","text":"Nous avons vu dans la partie pr\u00e9c\u00e9dente l'importance du protocole TCP/IP dans la communication entre plusieurs ordinateurs d'un m\u00eame r\u00e9seau . Adresses MAC En fait, au sein d'un m\u00eame r\u00e9seau, les adresses IP ne sont pas essentielles. Ce sont en fait les adresses MAC - th\u00e9oriquement uniques - qui sont \u00e9chang\u00e9es entre les machines. Mais pour des raisons de simplifications nous resterons sur les adresses IP. Cr\u00e9er un r\u00e9seau est donc une chose relativement ais\u00e9e. Mais comment relier deux r\u00e9seaux existants entre eux ? Comment interconnecter plusieurs de ces r\u00e9seaux, pour obtenir le r\u00e9seau des r\u00e9seaux, commun\u00e9ment appel\u00e9 Internet ?","title":"Connecter des r\u00e9seaux entre eux : Internet"},{"location":"SNT/Reseaux/Creation_reseaux/#adresses-ip-et-masques-de-sous-reseau","text":"Masque de sous-r\u00e9seau Dans le protocole TCP/IP, l'adresse IP n'est pas seulement l'adresse de la machine. Il s'agit aussi de l 'adresse du r\u00e9seau . Plus sp\u00e9cifiquement, une adresse IP est toujours accompagn\u00e9e de ce qu'on appelle un masque r\u00e9seau . Il s'agit d'un nombre binaire sur 4 octets ( comme les adresses IP ), qui peut \u00eatre repr\u00e9sent\u00e9 sous la m\u00eame forme qu'une adresse IP. G\u00e9n\u00e9ralement, les masques sont de la forme : 255.0.0.0 ; 255.255.0.0 ; 255.255.255.0 . Pour les curieux Un masque r\u00e9seau IPV4 est une s\u00e9rie de 32 bits ( 8x4 donc 32 bits), telle que les bits de gauche soient tous des 1 et ceux de droite tous des z\u00e9ros. Par exemple 11111111.11111111.00000000.00000000 est un masque, 11111111.11111111.11110000.00000000 est aussi un masque, mais 11111111.11111111.00001111.00000000 n'en est pas un. La question n'est pas ici de rentrer dans une technique de calculs binaires assez complexe, mais de vous faire comprendre comment fonctionne globalement un masque. Il faut juste retenir que le nombre \\(255\\) en base 10 s'\u00e9crit en binaire 11111111 , et que le nombre \\(0\\) s'\u00e9crit 00000000 Donc nous allons supposer que seul les 3 premiers octets peuvent \u00eatre pleins de 1,c'est \u00e0 dire : 255.0.0.0 (soit 11111111.00000000.00000000.00000000 ); 255.255.0.0 (soit 11111111.11111111.00000000.00000000 ); 255.255.255.0 (soit 11111111.11111111.11111111.00000000 ). Ce n'est pas exact, car en r\u00e9alit\u00e9 le masque n'est pas oblig\u00e9 de compl\u00e9ter int\u00e9gralement un octet. On peut ainsi avoir des masques de type 11111111.11100000.00000000.00000000 , o\u00f9 le deuxi\u00e8me octet n'est que partiellement compl\u00e9t\u00e9 - ce qui donne alors un masque 255.204.0.0 . Mais ce type de masque a pour cons\u00e9quence de rendre certains calculs tr\u00e8s fastidieux pour les humains, qui comptent en base d\u00e9cimale, alors que les machines, qui comptent en binaire r\u00e9ussissent facilement ces calculs. Exercice Placer deux ordinateurs dans l'espace de travail Filius . Configurez : le premier avec comme adresse IP 192.168.0.10 et comme masque 255.255.255.0 ; le second avec avec comme adresse IP 192.168.1.10 et comme masque 255.255.0.0 . Installez sur chacun des pc le programme Ligne de commande . Sur la machine 192.168.0.10 , essayez de joindre avec la commande ping la machine 192.168.1.10 . Que se passe-t-il ? Sur la machine 192.168.1.10 , essayez de joindre avec la commande ping la machine 192.168.0.10 . Que se passe-t-il ? Masque de r\u00e9seau et IP Le masque de r\u00e9seau permet de d\u00e9finir quelle partie de l'adresse IP est celle du r\u00e9seau, et quelle partie est celle de la machine. Ainsi la machine dont l'IP est 172.16.180.1 avec la masque 255.255.0.0 a pour adresse de r\u00e9seau 172.16.X.X et pour adresse de machine X.X.180.1 Une machine ne pourra communiquer par principe qu'avec les machines poss\u00e9dant le m\u00eame num\u00e9ro de r\u00e9seau. Exemple Avec les donn\u00e9es de l'exercice pr\u00e9c\u00e9dent :","title":"Adresses IP et masques de sous-r\u00e9seau"},{"location":"SNT/Reseaux/Creation_reseaux/#le-routeur-un-appareil-pour-relier-les-reseaux","text":"Routeur Un routeur est une machine poss\u00e9dant plusieurs cartes r\u00e9seaux, et \u00e9tant capable de faire des liens ( des routes ) entre diff\u00e9rents r\u00e9seaux. Un routeur poss\u00e8de une adresse IP pour chacun des r\u00e9seaux duquel il fait partie , et est consid\u00e9r\u00e9 comme faisant partie de chacun des r\u00e9seaux auquel il est reli\u00e9. Exercice Nous allons tenter de relier deux r\u00e9seaux diff\u00e9rents entre eux : dans le premier il y a trois machines (sous forme de tours) d'IP 192.168.0.10 \u00e0 192.168.0.12 , toutes avec le masque 255.255.255.0 , reli\u00e9es par un switch ; dans le deuxi\u00e8me il y a trois machines (sous forme de portables) d'IP 172.180.100.110 \u00e0 172.180.100.112 , toutes avec le masque 255.255.0.0 , reli\u00e9es par un switch. R\u00e9pondez \u00e0 chacune des questions suivantes : Quel est le num\u00e9ro de r\u00e9seau du premier r\u00e9seau ? Du second r\u00e9seau ? Cr\u00e9ez dans Filius ces deux r\u00e9seaux, le r\u00e9seau 192.168.0.X . \u00e9tant situ\u00e9 \u00e0 gauche de l'acran, et le r\u00e9seau 172.180.X.X \u00e9tant \u00e0 doite. Installez la ligne de commande sur une des machines de chacun des r\u00e9seaux, et v\u00e9rifiez si vous pouvez utiliser correctement la commande ping . Placez un routeur au milieu, avec deux interfaces, et joignez le par un c\u00e2ble \u00e0 chaque switch. Le routeur \u00e9tant une machine du r\u00e9seau, il faut lui adresser une IP compatible pour chacun de ces r\u00e9seaux. Vous lui donnerez comme IP 192.168.0.254 pour le premier, et 172.180.100.254 pour le second. Testez la commande ping entre deux postes des deux r\u00e9seaux. Que se passe-t-il ? Passerelle Une machine basique n'est normalement pas capable de r\u00e9soudre (c'est-\u00e0-dire identifier) des adresses IP n'appartenant pas \u00e0 son r\u00e9seau. Elle d\u00e9l\u00e8gue ce travail \u00e0 une machine particuli\u00e8re, appel\u00e9e passerelle (ou \\emph{Gateway}). Cette machine particuli\u00e8re peut \u00eatre une machine du r\u00e9seau, comme un serveur sp\u00e9cifique, ou bien directement un routeur. Configurez les machines du r\u00e9seau 192.168.0.X pour qu'elles aient comme passerelle l'IP du routeur, c'est-\u00e0-dire 192.168.0.254 . Faites de m\u00eame avec le r\u00e9seau 172.180.X.X . Testez de nouveau la commande ping . Que se passe-t-il ? Installez sur une machine du r\u00e9seau 192.168.0.X un serveur web, et testez sur les machines du r\u00e9seau 172.180.X.X l'affichage de la page web d'accueil du serveur.","title":"Le routeur : un appareil pour relier les r\u00e9seaux"},{"location":"SNT/Reseaux/Creation_reseaux/#multiples-reseaux-multiples-routeurs","text":"*Cette partie est tr\u00e8s largement inspir\u00e9e du travail de David Roche . Internet D'apr\u00e8s wikip\u00e9dia ; \u00ab Internet est le r\u00e9seau informatique mondial accessible au public. C'est un r\u00e9seau de r\u00e9seaux, \u00e0 commutation de paquets, sans centre n\u00e9vralgique, compos\u00e9 de millions de r\u00e9seaux aussi bien publics que priv\u00e9s, universitaires, commerciaux et gouvernementaux, eux-m\u00eames regroup\u00e9s en r\u00e9seaux autonomes (il y en avait plus de 91 000 en 2019). \u00bb Nous avons vu comment relier deux r\u00e9seaux diff\u00e9rents. Internet fonctionne donc de la m\u00eame mani\u00e8re, mais avec plusieurs milliers de r\u00e9seaux reli\u00e9s entre eux par l'interm\u00e9diaire de nombreux routeurs, priv\u00e9s ou publics. Exercice Dans Filius ouvrez le fichier snt_sim_res.fls situ\u00e9 dans les documents en consultations de votre r\u00e9pertoire de classe. Ce fichier repr\u00e9sente une petite portion d'Internet simplifi\u00e9e \u00e0 l'extr\u00eame : Il contient : \\(15\\) ordinateurs : \\(M1\\) \u00e0 \\(M15\\) ; \\(6\\) switchs : \\(R1\\) \u00e0 \\(R6\\) ; $8 $routeurs : \\(A, B, C, D, E, F, G\\) et \\(H\\) . Voici quelques exemples de communications entre 2 ordinateurs. Pour chacun des suivants, donnez les trajets (c'est-\u00e0-dire les machines) suivis par les paquets de donn\u00e9es : cas n\u00b01 : M1 veut communiquer avec M3 cas n\u00b02 : M1 veut communiquer avec M6 cas n\u00b03 : M1 veut communiquer avec M9 cas n\u00b04 : M13 veut communiquer avec M9 Routage des paquets Il est tr\u00e8s important de bien comprendre qu'il existe souvent plusieurs chemins possibles pour relier 2 ordinateurs. Nous pouvons avoir : \\[ M13 \\rightarrow R6 \\rightarrow Routeur~G \\rightarrow Routeur~F \\rightarrow Routeur~E \\rightarrow R4 \\rightarrow M9 \\] ou encore : \\[ M13 \\rightarrow R6 \\rightarrow Routeur~G \\rightarrow Routeur~F \\rightarrow Routeur~H \\rightarrow Routeur~C \\rightarrow Routeur~D\\\\ \\rightarrow Routeur~E \\rightarrow R4 \\rightarrow M9 \\] On pourrait penser que le chemin \u00ab \\(Routeur~F \\rightarrow Routeur~E\\) \u00bb est plus rapide et donc pr\u00e9f\u00e9rable au chemin \u00ab \\(Routeur~F \\rightarrow Routeur~H\\) \u00bb, cela est sans doute vrai, mais imaginez qu'il y ait un probl\u00e8me technique entre le Routeur F et le Routeur E, l'existence du chemin \u00ab \\(Routeur~F \\rightarrow Routeur~H\\) \u00bb permettra tout de m\u00eame d'\u00e9tablir une communication entre \\(M13\\) et \\(M9\\) . Parfois, on entend certains politiques ou journalistes \u00e9voquer \u00ab la coupure d'internet \u00bb, peut \u00eatre comprendrez-vous mieux maintenant que cela n'a aucun sens, car m\u00eame si une autorit\u00e9 quelconque d\u00e9cidait de couper une partie des infrastructures, les paquets pourraient passer par un autre chemin. C'est ce \u00e0 quoi font r\u00e9f\u00e9rence les termes \u00ab sans centre n\u00e9vralgique \u00bb dans la d\u00e9finition de wikip\u00e9dia.","title":"Multiples r\u00e9seaux, multiples routeurs"},{"location":"SNT/Reseaux/DHCP_DNS/","text":"Pour aller plus loin: DHCP et DNS Dans notre quotidien, nous ne nous pr\u00e9occupons jamais de savoir quelle est l'adresse IP de notre machine, et nous utilisons des pages web dont le nom est plus humainement lisible que 223.145.172.37 . Ceci est d\u00fb \u00e0 l'utilisation de deux protocoles : DHCP et DNS . DHCP DHCP DHCP est un acronyme signifiant Dynamic Host Configuration Protocol . Il s'agit d'un protocole dont le r\u00f4le est de distribuer automatiquement les adresses de configuration IP des machines d'un r\u00e9seau. Il s'agit en fait de deux programmes, un pour le serveur et un pour les clients. Dans Filius, placer un ordinateur, un switch et un routeur ( avec plus de 3 interfaces). Relier le switch aux deux autres \u00e9l\u00e9ments. Configurer le routeur c\u00f4t\u00e9 switch avec : IP : 192.168.0.254 Masque : 255.255.255.0 Configurer l'ordinateur : Nom : Serveur DHCP IP : 192.168.0.1 Masque : 255.255.255.0 Passerelle : 192.168.0.254 Toujours sur cette machine, dans l'onglet de configuration, cliquer sur Configuration du service DHCP . Configurer : D\u00e9but de plage : 192.168.0.100 Fin de plage : 192.168.0.200 V\u00e9rifier que la passerelle et le masque sont conformes au r\u00e9seau cr\u00e9\u00e9. Cocher la case \u00ab Activer le service DHCP \u00bb. Placer maintenant 5 ordinateurs portables, \u00e0 relier au switch. Pour chacun de ces portables, dans la configuration, cochez : \u00ab Utiliser l'adresse IP comme nom \u00bb \u00ab Adressage automatique par serveur DHCP\u00bb D\u00e9marrez la simulation et observez ce qui se passe. Construction d'un r\u00e9seau Ainsi, avec un serveur DHCP, il est inutile de configurer une machine classique \u00e0 la main. C'est ce qui se passe chez vous, votre Box internet donnant automatiquement une configuration, donc une adresse IP. Cette configuration n'est cependant pas absolue, l'adresse IP d'une machine peut varier au sein d'un r\u00e9seau. En effet, le DHCP distribue sa configuration pour un temps donn\u00e9, appel\u00e9 bail (pluriel : baux). Au terme du bail, une machine peut donc se voir attribuer une adresse IP diff\u00e9rente, et ce de mani\u00e8re transparente. Cependant, il est parfois n\u00e9cessaire sur un r\u00e9seau d'avoir une machine possd\u00e9ant une adresse IP fixe, comme par exemple pour un serveur web, o\u00f9 une passerelle. Dans ce cas on r\u00e8gle l'IP \u00e0 la main en dehors de la plage d'adresse du DHCP . Lier noms de domaine et adresses IP : DNS Serveur DNS Dans notre utilisation quotidienne du web, nous tapons des adresses constitu\u00e9es de noms de domaines, comme par exemple www.toutatice.fr . Or nous avons vu qu'un site web n'est qu'un ensemble de fichiers situ\u00e9s sur une machine, et que pour rep\u00e9rer cette machine on utilise son adresse IP. Il existe donc des machines tr\u00e8s importantes sur le r\u00e9seau, appel\u00e9es serveurs DNS (acronyme de Domain Name Server ), qui permettent de faire le lien entre un nom de domaine et une adresse IP. Ceci impose aux serveurs web d'avoir une IP fixe et non attribu\u00e9e dynamiquement par un serveur DHCP. Cr\u00e9er un deuxi\u00e8me r\u00e9seau, avec : Un serveur DHCP d'IP 172.16.180.1 , de masque 255.255.255.0 , de passerelle 172.16.180.254 , et de plage d'IP pour le DHCP 172.16.180.100 \u00e0 172.16.180.200 . Un switch ; 3 PC portables avec adressage automatique ; D'un routeur avec 2 interfaces, dont celle reli\u00e9e au r\u00e9seau portant l'IP 172.16.180.254 . Relier les deux routeurs entre eux par un cable. Pour le routeur du r\u00e9seau 192.168.0.X : Donner sur l'interface de liaison entre routeurs l'IP 1.0.0.1 , avec un masque 255.0.0.0 ; Dans l'onglet General , cocher la case Routage Automatique ; Pour le routeur du r\u00e9seau 172.16.180.X : Donner sur l'interface de liaison entre routeurs l'IP 1.0.0.2 , avec un masque 255.0.0.0 ; Dans l'onglet General , cocher la case Routage Automatique ; Placer un ordinateur que vous relierez par un c\u00e2ble au routeur directement li\u00e9 au r\u00e9seau 192.168.0.X . Configurez cet ordinateur de la mani\u00e8re suivante : Nom : Serveur DNS IP : 10.0.0.100 Masque : 255.255.255.0 Passerelle : 10.0.0.1 Configurez sur le routeur la liaison avec le serveur DNS : IP : 10.0.0.1 Masque : 255.255.255.0 Sur les deux serveurs DHCP, configurez la ligne Serveur DNS avec 10.0.0.100 . Lancez la simulation. Testez sur plusieurs machines si les donn\u00e9es circulent gr\u00e2ce \u00e0 la commande ping . Sur le serveur DHCP du r\u00e9seau 192.168.0.X , installez aussi un serveur web, et d\u00e9marrez-le. Testez sur au moins un porable de chaque r\u00e9seau si le serveur web r\u00e9pond, en installant un navigateur web et en demandant dans la barre d'adresse 192.168.0.1 . Si tout fonctionne correctement, nous allons pouvoir changer la mani\u00e8re d'atteindre le serveur web. Sur le serveur DNS, installez le logiciel Serveur DNS , d\u00e9marrez-le. Ajoutez comme nom de domaine \u00ab supersite.fr \u00bb pour l'adresse IP 192.168.0.1 . Testez alors depuis le navigateur d'un portable, avec l'url supersite.fr . Pour les plus courageux Sur un serveur web, installez un \u00e9diteur de texte, puis copiez-collez le code HTML du site que vous aviez fabriqu\u00e9 dans la premi\u00e8re partie du cours de SNT. Essayez de le faire s'afficher directement via les portables.","title":"Pour aller plus loin, DHCP et DNS"},{"location":"SNT/Reseaux/DHCP_DNS/#pour-aller-plus-loin-dhcp-et-dns","text":"Dans notre quotidien, nous ne nous pr\u00e9occupons jamais de savoir quelle est l'adresse IP de notre machine, et nous utilisons des pages web dont le nom est plus humainement lisible que 223.145.172.37 . Ceci est d\u00fb \u00e0 l'utilisation de deux protocoles : DHCP et DNS .","title":"Pour aller plus loin: DHCP et DNS"},{"location":"SNT/Reseaux/DHCP_DNS/#dhcp","text":"DHCP DHCP est un acronyme signifiant Dynamic Host Configuration Protocol . Il s'agit d'un protocole dont le r\u00f4le est de distribuer automatiquement les adresses de configuration IP des machines d'un r\u00e9seau. Il s'agit en fait de deux programmes, un pour le serveur et un pour les clients. Dans Filius, placer un ordinateur, un switch et un routeur ( avec plus de 3 interfaces). Relier le switch aux deux autres \u00e9l\u00e9ments. Configurer le routeur c\u00f4t\u00e9 switch avec : IP : 192.168.0.254 Masque : 255.255.255.0 Configurer l'ordinateur : Nom : Serveur DHCP IP : 192.168.0.1 Masque : 255.255.255.0 Passerelle : 192.168.0.254 Toujours sur cette machine, dans l'onglet de configuration, cliquer sur Configuration du service DHCP . Configurer : D\u00e9but de plage : 192.168.0.100 Fin de plage : 192.168.0.200 V\u00e9rifier que la passerelle et le masque sont conformes au r\u00e9seau cr\u00e9\u00e9. Cocher la case \u00ab Activer le service DHCP \u00bb. Placer maintenant 5 ordinateurs portables, \u00e0 relier au switch. Pour chacun de ces portables, dans la configuration, cochez : \u00ab Utiliser l'adresse IP comme nom \u00bb \u00ab Adressage automatique par serveur DHCP\u00bb D\u00e9marrez la simulation et observez ce qui se passe. Construction d'un r\u00e9seau Ainsi, avec un serveur DHCP, il est inutile de configurer une machine classique \u00e0 la main. C'est ce qui se passe chez vous, votre Box internet donnant automatiquement une configuration, donc une adresse IP. Cette configuration n'est cependant pas absolue, l'adresse IP d'une machine peut varier au sein d'un r\u00e9seau. En effet, le DHCP distribue sa configuration pour un temps donn\u00e9, appel\u00e9 bail (pluriel : baux). Au terme du bail, une machine peut donc se voir attribuer une adresse IP diff\u00e9rente, et ce de mani\u00e8re transparente. Cependant, il est parfois n\u00e9cessaire sur un r\u00e9seau d'avoir une machine possd\u00e9ant une adresse IP fixe, comme par exemple pour un serveur web, o\u00f9 une passerelle. Dans ce cas on r\u00e8gle l'IP \u00e0 la main en dehors de la plage d'adresse du DHCP .","title":"DHCP"},{"location":"SNT/Reseaux/DHCP_DNS/#lier-noms-de-domaine-et-adresses-ip-dns","text":"Serveur DNS Dans notre utilisation quotidienne du web, nous tapons des adresses constitu\u00e9es de noms de domaines, comme par exemple www.toutatice.fr . Or nous avons vu qu'un site web n'est qu'un ensemble de fichiers situ\u00e9s sur une machine, et que pour rep\u00e9rer cette machine on utilise son adresse IP. Il existe donc des machines tr\u00e8s importantes sur le r\u00e9seau, appel\u00e9es serveurs DNS (acronyme de Domain Name Server ), qui permettent de faire le lien entre un nom de domaine et une adresse IP. Ceci impose aux serveurs web d'avoir une IP fixe et non attribu\u00e9e dynamiquement par un serveur DHCP. Cr\u00e9er un deuxi\u00e8me r\u00e9seau, avec : Un serveur DHCP d'IP 172.16.180.1 , de masque 255.255.255.0 , de passerelle 172.16.180.254 , et de plage d'IP pour le DHCP 172.16.180.100 \u00e0 172.16.180.200 . Un switch ; 3 PC portables avec adressage automatique ; D'un routeur avec 2 interfaces, dont celle reli\u00e9e au r\u00e9seau portant l'IP 172.16.180.254 . Relier les deux routeurs entre eux par un cable. Pour le routeur du r\u00e9seau 192.168.0.X : Donner sur l'interface de liaison entre routeurs l'IP 1.0.0.1 , avec un masque 255.0.0.0 ; Dans l'onglet General , cocher la case Routage Automatique ; Pour le routeur du r\u00e9seau 172.16.180.X : Donner sur l'interface de liaison entre routeurs l'IP 1.0.0.2 , avec un masque 255.0.0.0 ; Dans l'onglet General , cocher la case Routage Automatique ; Placer un ordinateur que vous relierez par un c\u00e2ble au routeur directement li\u00e9 au r\u00e9seau 192.168.0.X . Configurez cet ordinateur de la mani\u00e8re suivante : Nom : Serveur DNS IP : 10.0.0.100 Masque : 255.255.255.0 Passerelle : 10.0.0.1 Configurez sur le routeur la liaison avec le serveur DNS : IP : 10.0.0.1 Masque : 255.255.255.0 Sur les deux serveurs DHCP, configurez la ligne Serveur DNS avec 10.0.0.100 . Lancez la simulation. Testez sur plusieurs machines si les donn\u00e9es circulent gr\u00e2ce \u00e0 la commande ping . Sur le serveur DHCP du r\u00e9seau 192.168.0.X , installez aussi un serveur web, et d\u00e9marrez-le. Testez sur au moins un porable de chaque r\u00e9seau si le serveur web r\u00e9pond, en installant un navigateur web et en demandant dans la barre d'adresse 192.168.0.1 . Si tout fonctionne correctement, nous allons pouvoir changer la mani\u00e8re d'atteindre le serveur web. Sur le serveur DNS, installez le logiciel Serveur DNS , d\u00e9marrez-le. Ajoutez comme nom de domaine \u00ab supersite.fr \u00bb pour l'adresse IP 192.168.0.1 . Testez alors depuis le navigateur d'un portable, avec l'url supersite.fr .","title":"Lier noms de domaine et adresses IP : DNS"},{"location":"SNT/Reseaux/DHCP_DNS/#pour-les-plus-courageux","text":"Sur un serveur web, installez un \u00e9diteur de texte, puis copiez-collez le code HTML du site que vous aviez fabriqu\u00e9 dans la premi\u00e8re partie du cours de SNT. Essayez de le faire s'afficher directement via les portables.","title":"Pour les plus courageux"},{"location":"SNT/Reseaux/TCP_IP/","text":"Adresses IP et protocole TCP/IP Lorsque vous tapez dans votre navigateur une URL, comme par exemple \u00ab www.toutatice.fr \u00bb, et que vous appuyez sur entr\u00e9e, votre ordinateur ou t\u00e9l\u00e9phone se met en communication avec une autre machine, probablement \u00e0 Rennes, et cette machine vous renvoie la page HTML correspondante. Cet acte que nous pratiquons quotidiennement soul\u00e8ve de nombreuses questions quand on r\u00e9fl\u00e9chit \u00e0 son fonctionnement : Comment les ordinateurs se reconnaissent-ils entre eux ? Comment font-ils pour trouver par o\u00f9 faire passer les donn\u00e9es ? Comment les donn\u00e9es circulent-elles et sont elles reconstitu\u00e9es correctement par l'ordinateur qui les re\u00e7oit ? Nous ne pourrons bien entendu pas r\u00e9pondre \u00e0 toutes ces questions dans le cadre du cours de SNT, mais nous pouvons quand m\u00eame lever un peu le voile sur le fonctionnement r\u00e9el de l'internet. Connecter entre eux deux ordinateurs Dans toute la suite de ce th\u00e8me, nous utiliserons le logiciel libre Filius , qui permet de simuler de mani\u00e8re simplifi\u00e9e les r\u00e9seaux informatiques. Commen\u00e7ons donc par connecter deux ordinateurs entre eux, et regardons comment ils communiquent : Ouvrez le logiciel Filius . Attention : choix de la langue Attention, la premi\u00e8re chose que vous demandera Filius sera de choisir votre langue d'utilisation, et il n'y a pas moyen de changer cette langue sauf en supprimant le fichier de configuration qui se trouve dans le dossier C:\\Users\\\"nom d\u2019utilisateur sur le r\u00e9seau\" \\AppData\\Local\\.filius (sous win7 et win 10). Il est possible de supprimer uniquement le fichier konfig.xml : del C:\\Users\\\"nom d\u2019utilisateur sur le r\u00e9seau\"\\AppData\\Local\\.filius\\konfig.xml Par glisser-d\u00e9poser avec l'ic\u00f4ne , placez deux ordinateurs dans l'espace de travail. Ajoutez un c\u00e2ble entre les-deux. Cliquez-droit sur un des ordinateurs, puis choisissez le menu Configurer . Vous ouvrez un menu de configuration de l'ordinateur. Adresses IP - premier aper\u00e7u Afin de pouvoir s'identifier, tout ordinateur poss\u00e8de une adresse sur un r\u00e9seau, appel\u00e9e adresse IP ( pour Internet Protocol ). Une adresse IP est de la forme 195.221.67.112 (cette adresse IP correspond au serveur epwebc1.toutatice.fr , correspondant \u00e0 l'URL www.toutatice.fr . Les adresses IP, en version 4, sont de la forme : a.b.c.d , avec \\(a, b, c\\) et \\(d\\) qui sont des entiers compris entre 0 et 255. Il existe une version 6 des adresses IP, utilisant 6 valeurs, mais nous nous contenterons d'\u00e9tudier l'IP V4 . Modifiez l'adresse IP d'un des ordinateurs en la rempla\u00e7ant par 192.168.0.11 . Vous pouvez aussi, pour chacun des ordinateurs,cocher l'option \u00e0 droite \u00ab Utiliser l'adresse IP comme nom \u00bb. D\u00e9marrez la simulation gr\u00e2ce \u00e0 l'ic\u00f4ne . Cliquez-droit sur l'ordinateur portant l'IP 192.168.0.10 (en n'oubliant pas de r\u00e9gler de mani\u00e8re \u00e0 avoir son IP comme nom), et cliquez sur Afficher les \u00e9changes de donn\u00e9es . D\u00e9placez la fen\u00eatre sur la droite de l'\u00e9cran afin de pouvoir voir \u00e0 la fois cette fen\u00eatre et les deux ordinateurs. En cas de besoin, vous pouvez toujours arr\u00eater la simulation en cliquant sur l'ic\u00f4ne Filius Arreter , et ainsi pouvoir d\u00e9placer les ordinateurs dans le plan de travail. Cliquez droit toujours sur le m\u00eame ordinateur, et s\u00e9lectionnez Afficher le bureau . Dans ce bureau, cliquez sur l'installateur de logiciels, et installez Ligne de commande . Une fois l'installation effectu\u00e9e (c'est imm\u00e9diat !), ouvrez le logiciel Ligne de commande par un click gauche. Vous devriez avoir une situation telle que celle-ci : Dans l'invite de commande, tapez la ligne suivante : ping 192.168.0.11 Question Question R\u00e9ponse Que s'est-il pass\u00e9 ? A venir ! On s'int\u00e9resse dans les \u00e9changes de donn\u00e9es \u00e0 la premi\u00e8re ligne utilisant le protocole ICMP ( Internet Control Message Protocol ), qui doit \u00eatre en toute logique la n\u00b03. Cette ligne, appel\u00e9e trame , repr\u00e9sente un \u00e9change de donn\u00e9es entre les deux machines. Cliquez sur la ligne pour obtenir les informations Dans cette trame : Quelle est l'IP de la source ? Done A venir ! Quelle est l'IP de la destination ? Done A venir ! Quel est le commentaire ? Done A venir ! Dans la trame suivante : Quelle est l'IP de la source ? Done A venir ! Quelle est l'IP de la destination ? Done A venir ! Quel est le commentaire ? Done A venir ! Commande ping La commande ping est une commande tr\u00e8s souvent utilis\u00e9e pour effectuer des tests r\u00e9seau, en cas de dysfonctionnement. Elle s'utilise en donnant soit l'adresse IP de l'ordinateur cible, soit en donnant le nom de domaine de l'ordinateur cible, par exemple : ping www.google.fr Cette commande est disponible sur tous les syst\u00e8mes d'exploitation, vous pouvez vous amuser chez vous \u00e0 tenter quelques pings, depuis la ligne de commande. \u00c9changer des donn\u00e9es Nos deux ordinateurs sont bien connect\u00e9s, ils se reconnaissent l'un l'autre, et forment donc un r\u00e9seau informatique , que nous agrandirons plus tard. Nous allons maintenant simuler, avec ces deux ordinateurs, une requ\u00eate web classique. Ne fermez les fen\u00eatres de bureau et d'\u00e9changes de donn\u00e9es de l'ordinateur 192.168.0.10 . Cliquez droit sur l'ordinateur 192.168.0.11 , et ouvrez le bureau. Installez le logiciel Serveur Web . Cliquez sur le nouvel ic\u00f4ne, et d\u00e9marrez le serveur. Sur l'ordinateur 192.168.0.10 , installez le navigateur web. Ouvrez le navigateur, et tapez dans la barre d'adresse l'IP du serveur web, c'est-\u00e0-dire 192.168.0.11 . Vous obtenez une page web, certes basique, mais r\u00e9elle. Si vous avez regard\u00e9 la fen\u00eatre montrant les \u00e9changes de donn\u00e9es, vous avez constat\u00e9 que beaucoup d'\u00e9changes se sont produits. Nous passerons sur les trois premi\u00e8res lignes (il s'agit de la n\u00e9gociation des param\u00e8tres de la transmission entre les deux ordinateurs, appel\u00e9e TCP-handshake , qui est hors-programme de SNT), mais nous nous arr\u00eaterons sur les \u00e9changes des trames en bleu fonc\u00e9 : Cliquez sur la premi\u00e8re des lignes bleu fonc\u00e9e dont la source est 192.168.0.11 (en th\u00e9orie la deuxi\u00e8me ligne bleu fonc\u00e9e): Dans la couche Transport , quel est le num\u00e9ro de s\u00e9quence SEQ ? Done A venir ! Dans la couche Application , que contient le commentaire ? Done A venir ! Quel est le num\u00e9ro d' acquittement ( ACK ) de la ligne bleue-claire suivante ? Par qui cette trame at-elle \u00e9t\u00e9 \u00e9mise ? Done A venir ! Cliquez sur la ligne bleue fonc\u00e9e suivante. Qui est l'\u00e9metteur ? Done A venir ! Quelle est la demande ? Done A venir ! Que contiennent les lignes bleues fonc\u00e9es suivantes ? Done A venir ! Protocole TCP/IP Depuis le d\u00e9but de cette activit\u00e9, j'utilise le mot protocole . Mais que signifie-t-il ? Protocole Cherchez la d\u00e9finition Wikip\u00e9dia et donnez la d\u00e9finition de \u00ab protocole \u00bb dans le cas g\u00e9n\u00e9ral puis en informatique : En informatique il existe de nombreux protocoles. Vous en avez quelques exemples avec Filius : ARP , ICMP , TCP , etc. Nous nous int\u00e9resserons uniquement \u00e0 2 protocoles : IP et TCP ( Transmission Control Protocol ), qui sont tr\u00e8s utilis\u00e9s pour les transmissions web. Ils sont tellement li\u00e9s qu'on parle souvent de protocole TCP/IP . D\u00e9taillons-en un peu le fonctionnement ! Lorsqu'un ordinateur \\(A\\) veut envoyer des donn\u00e9es, par exemple une image, \u00e0 un ordinateur \\(B\\) , le protocole TCP va, avec un certain nombre d'op\u00e9rations, d\u00e9couper les donn\u00e9es de l'image en petits paquets , les num\u00e9roter, puis les transmettre au protocole IP . Le protocole IP encapsule les donn\u00e9es et rajoute, entre autre, l'adresse IP de la source (ordinateur \\(A\\) ) et celle de la destination (ordinateur \\(B\\) ). Une analogie simple serait de consid\u00e9rer l'id\u00e9e de transmettre par la poste un tr\u00e8s tr\u00e8s long texte. TCP \u00e9crirait ce texte sur des feuilles simples, et num\u00e9roterait ces feuilles. Chacune des feuille serait transmise au protocole IP , qui les mettrait dans une enveloppe, sur laquelle est \u00e9crit \u00e0 la fois l'adresse du destinataire, ainsi que celle de l'exp\u00e9diteur. IP envoie ensuite chacune des enveloppes \u00e0 l'ordinateur \\(B\\) . TCP et IP ne se contentent pas d'envoyer. Ils travaillent aussi \u00e0 la r\u00e9ception. IP d\u00e9sencapsule les donn\u00e9es (il sort les feuilles des enveloppes), puis TCP remets les feuilles dans l'ordre tout en envoyant \u00e0 l'exp\u00e9diteur un accus\u00e9 de r\u00e9ception ( ACK ) pour lui signaler que le paquet est bien arriv\u00e9. Une fois l'accus\u00e9 re\u00e7u par l'\u00e9metteur, le protocole TCP de l'ordinateur \\(A\\) envoie le paquet suivant. Au bout d'un certain temps, si l'ordinateur \\(A\\) ne re\u00e7oit pas d'accus\u00e9, il renvoie le paquet une nouvelle fois. D'o\u00f9 le C de TCP , qui signifie \u00ab Contr\u00f4le \u00bb, car le protocole TCP est un protocole qui contr\u00f4le l'int\u00e9grit\u00e9 des donn\u00e9es. Protocole UDP TCP/IP n'est pas le seul protocole utilis\u00e9 pour envoyer des donn\u00e9es. Entre autres parce que TCP/IP est lent avec toutes les phases d'accus\u00e9s de r\u00e9ception. Un des autres protocoles utilis\u00e9 est UDP ( User Datagram Protocol ), qui envoie les donn\u00e9es en flux continu sans se pr\u00e9occuper de leur r\u00e9ception. Ce type de protocole est particuli\u00e8rement utilis\u00e9 lorsque la perte de donn\u00e9es n'est pas un gros probl\u00e8me, par exemple lors de la transmission de flux vid\u00e9os de streaming en temps r\u00e9el, ou pour de la voix sur IP. Plus d'ordinateurs \u00c9videmment, un r\u00e9seau ne peut pas se contenter d'avoir uniquement deux ordinateurs. Pour connecter plusieurs ordinateurs entre eux, on utilise un Switch . Dans Filius , retirez le c\u00e2ble entre les deux ordinateurs, ajoutez un switch \u00e0 l'aide de l'ic\u00f4ne correspondant et ajoutez deux autres ordinateurs. Connectez les ordinateurs au switch \u00e0 l'aide de c\u00e2bles, puis configurez correctement votre r\u00e9seau, en donnant \u00e0 chacun des ordinateurs les IP de types 192.168.0.X o\u00f9 X est un nombre entier entre \\(1\\) et \\(254\\) Testez ensuite les connexions entre les machines \u00e0 l'aide soit de la ligne de commandes, soit d'un navigateur web. Vous pouvez utiliser le cadre ci-dessous pour prendre des notes.","title":"Adresses IP et TCP/IP"},{"location":"SNT/Reseaux/TCP_IP/#adresses-ip-et-protocole-tcpip","text":"Lorsque vous tapez dans votre navigateur une URL, comme par exemple \u00ab www.toutatice.fr \u00bb, et que vous appuyez sur entr\u00e9e, votre ordinateur ou t\u00e9l\u00e9phone se met en communication avec une autre machine, probablement \u00e0 Rennes, et cette machine vous renvoie la page HTML correspondante. Cet acte que nous pratiquons quotidiennement soul\u00e8ve de nombreuses questions quand on r\u00e9fl\u00e9chit \u00e0 son fonctionnement : Comment les ordinateurs se reconnaissent-ils entre eux ? Comment font-ils pour trouver par o\u00f9 faire passer les donn\u00e9es ? Comment les donn\u00e9es circulent-elles et sont elles reconstitu\u00e9es correctement par l'ordinateur qui les re\u00e7oit ? Nous ne pourrons bien entendu pas r\u00e9pondre \u00e0 toutes ces questions dans le cadre du cours de SNT, mais nous pouvons quand m\u00eame lever un peu le voile sur le fonctionnement r\u00e9el de l'internet.","title":"Adresses IP et protocole TCP/IP"},{"location":"SNT/Reseaux/TCP_IP/#connecter-entre-eux-deux-ordinateurs","text":"Dans toute la suite de ce th\u00e8me, nous utiliserons le logiciel libre Filius , qui permet de simuler de mani\u00e8re simplifi\u00e9e les r\u00e9seaux informatiques. Commen\u00e7ons donc par connecter deux ordinateurs entre eux, et regardons comment ils communiquent : Ouvrez le logiciel Filius . Attention : choix de la langue Attention, la premi\u00e8re chose que vous demandera Filius sera de choisir votre langue d'utilisation, et il n'y a pas moyen de changer cette langue sauf en supprimant le fichier de configuration qui se trouve dans le dossier C:\\Users\\\"nom d\u2019utilisateur sur le r\u00e9seau\" \\AppData\\Local\\.filius (sous win7 et win 10). Il est possible de supprimer uniquement le fichier konfig.xml : del C:\\Users\\\"nom d\u2019utilisateur sur le r\u00e9seau\"\\AppData\\Local\\.filius\\konfig.xml Par glisser-d\u00e9poser avec l'ic\u00f4ne , placez deux ordinateurs dans l'espace de travail. Ajoutez un c\u00e2ble entre les-deux. Cliquez-droit sur un des ordinateurs, puis choisissez le menu Configurer . Vous ouvrez un menu de configuration de l'ordinateur. Adresses IP - premier aper\u00e7u Afin de pouvoir s'identifier, tout ordinateur poss\u00e8de une adresse sur un r\u00e9seau, appel\u00e9e adresse IP ( pour Internet Protocol ). Une adresse IP est de la forme 195.221.67.112 (cette adresse IP correspond au serveur epwebc1.toutatice.fr , correspondant \u00e0 l'URL www.toutatice.fr . Les adresses IP, en version 4, sont de la forme : a.b.c.d , avec \\(a, b, c\\) et \\(d\\) qui sont des entiers compris entre 0 et 255. Il existe une version 6 des adresses IP, utilisant 6 valeurs, mais nous nous contenterons d'\u00e9tudier l'IP V4 . Modifiez l'adresse IP d'un des ordinateurs en la rempla\u00e7ant par 192.168.0.11 . Vous pouvez aussi, pour chacun des ordinateurs,cocher l'option \u00e0 droite \u00ab Utiliser l'adresse IP comme nom \u00bb. D\u00e9marrez la simulation gr\u00e2ce \u00e0 l'ic\u00f4ne . Cliquez-droit sur l'ordinateur portant l'IP 192.168.0.10 (en n'oubliant pas de r\u00e9gler de mani\u00e8re \u00e0 avoir son IP comme nom), et cliquez sur Afficher les \u00e9changes de donn\u00e9es . D\u00e9placez la fen\u00eatre sur la droite de l'\u00e9cran afin de pouvoir voir \u00e0 la fois cette fen\u00eatre et les deux ordinateurs. En cas de besoin, vous pouvez toujours arr\u00eater la simulation en cliquant sur l'ic\u00f4ne Filius Arreter , et ainsi pouvoir d\u00e9placer les ordinateurs dans le plan de travail. Cliquez droit toujours sur le m\u00eame ordinateur, et s\u00e9lectionnez Afficher le bureau . Dans ce bureau, cliquez sur l'installateur de logiciels, et installez Ligne de commande . Une fois l'installation effectu\u00e9e (c'est imm\u00e9diat !), ouvrez le logiciel Ligne de commande par un click gauche. Vous devriez avoir une situation telle que celle-ci : Dans l'invite de commande, tapez la ligne suivante : ping 192.168.0.11 Question Question R\u00e9ponse Que s'est-il pass\u00e9 ? A venir ! On s'int\u00e9resse dans les \u00e9changes de donn\u00e9es \u00e0 la premi\u00e8re ligne utilisant le protocole ICMP ( Internet Control Message Protocol ), qui doit \u00eatre en toute logique la n\u00b03. Cette ligne, appel\u00e9e trame , repr\u00e9sente un \u00e9change de donn\u00e9es entre les deux machines. Cliquez sur la ligne pour obtenir les informations Dans cette trame : Quelle est l'IP de la source ? Done A venir ! Quelle est l'IP de la destination ? Done A venir ! Quel est le commentaire ? Done A venir ! Dans la trame suivante : Quelle est l'IP de la source ? Done A venir ! Quelle est l'IP de la destination ? Done A venir ! Quel est le commentaire ? Done A venir ! Commande ping La commande ping est une commande tr\u00e8s souvent utilis\u00e9e pour effectuer des tests r\u00e9seau, en cas de dysfonctionnement. Elle s'utilise en donnant soit l'adresse IP de l'ordinateur cible, soit en donnant le nom de domaine de l'ordinateur cible, par exemple : ping www.google.fr Cette commande est disponible sur tous les syst\u00e8mes d'exploitation, vous pouvez vous amuser chez vous \u00e0 tenter quelques pings, depuis la ligne de commande.","title":"Connecter entre eux deux ordinateurs"},{"location":"SNT/Reseaux/TCP_IP/#echanger-des-donnees","text":"Nos deux ordinateurs sont bien connect\u00e9s, ils se reconnaissent l'un l'autre, et forment donc un r\u00e9seau informatique , que nous agrandirons plus tard. Nous allons maintenant simuler, avec ces deux ordinateurs, une requ\u00eate web classique. Ne fermez les fen\u00eatres de bureau et d'\u00e9changes de donn\u00e9es de l'ordinateur 192.168.0.10 . Cliquez droit sur l'ordinateur 192.168.0.11 , et ouvrez le bureau. Installez le logiciel Serveur Web . Cliquez sur le nouvel ic\u00f4ne, et d\u00e9marrez le serveur. Sur l'ordinateur 192.168.0.10 , installez le navigateur web. Ouvrez le navigateur, et tapez dans la barre d'adresse l'IP du serveur web, c'est-\u00e0-dire 192.168.0.11 . Vous obtenez une page web, certes basique, mais r\u00e9elle. Si vous avez regard\u00e9 la fen\u00eatre montrant les \u00e9changes de donn\u00e9es, vous avez constat\u00e9 que beaucoup d'\u00e9changes se sont produits. Nous passerons sur les trois premi\u00e8res lignes (il s'agit de la n\u00e9gociation des param\u00e8tres de la transmission entre les deux ordinateurs, appel\u00e9e TCP-handshake , qui est hors-programme de SNT), mais nous nous arr\u00eaterons sur les \u00e9changes des trames en bleu fonc\u00e9 : Cliquez sur la premi\u00e8re des lignes bleu fonc\u00e9e dont la source est 192.168.0.11 (en th\u00e9orie la deuxi\u00e8me ligne bleu fonc\u00e9e): Dans la couche Transport , quel est le num\u00e9ro de s\u00e9quence SEQ ? Done A venir ! Dans la couche Application , que contient le commentaire ? Done A venir ! Quel est le num\u00e9ro d' acquittement ( ACK ) de la ligne bleue-claire suivante ? Par qui cette trame at-elle \u00e9t\u00e9 \u00e9mise ? Done A venir ! Cliquez sur la ligne bleue fonc\u00e9e suivante. Qui est l'\u00e9metteur ? Done A venir ! Quelle est la demande ? Done A venir ! Que contiennent les lignes bleues fonc\u00e9es suivantes ? Done A venir !","title":"\u00c9changer des donn\u00e9es"},{"location":"SNT/Reseaux/TCP_IP/#protocole-tcpip","text":"Depuis le d\u00e9but de cette activit\u00e9, j'utilise le mot protocole . Mais que signifie-t-il ? Protocole Cherchez la d\u00e9finition Wikip\u00e9dia et donnez la d\u00e9finition de \u00ab protocole \u00bb dans le cas g\u00e9n\u00e9ral puis en informatique : En informatique il existe de nombreux protocoles. Vous en avez quelques exemples avec Filius : ARP , ICMP , TCP , etc. Nous nous int\u00e9resserons uniquement \u00e0 2 protocoles : IP et TCP ( Transmission Control Protocol ), qui sont tr\u00e8s utilis\u00e9s pour les transmissions web. Ils sont tellement li\u00e9s qu'on parle souvent de protocole TCP/IP . D\u00e9taillons-en un peu le fonctionnement ! Lorsqu'un ordinateur \\(A\\) veut envoyer des donn\u00e9es, par exemple une image, \u00e0 un ordinateur \\(B\\) , le protocole TCP va, avec un certain nombre d'op\u00e9rations, d\u00e9couper les donn\u00e9es de l'image en petits paquets , les num\u00e9roter, puis les transmettre au protocole IP . Le protocole IP encapsule les donn\u00e9es et rajoute, entre autre, l'adresse IP de la source (ordinateur \\(A\\) ) et celle de la destination (ordinateur \\(B\\) ). Une analogie simple serait de consid\u00e9rer l'id\u00e9e de transmettre par la poste un tr\u00e8s tr\u00e8s long texte. TCP \u00e9crirait ce texte sur des feuilles simples, et num\u00e9roterait ces feuilles. Chacune des feuille serait transmise au protocole IP , qui les mettrait dans une enveloppe, sur laquelle est \u00e9crit \u00e0 la fois l'adresse du destinataire, ainsi que celle de l'exp\u00e9diteur. IP envoie ensuite chacune des enveloppes \u00e0 l'ordinateur \\(B\\) . TCP et IP ne se contentent pas d'envoyer. Ils travaillent aussi \u00e0 la r\u00e9ception. IP d\u00e9sencapsule les donn\u00e9es (il sort les feuilles des enveloppes), puis TCP remets les feuilles dans l'ordre tout en envoyant \u00e0 l'exp\u00e9diteur un accus\u00e9 de r\u00e9ception ( ACK ) pour lui signaler que le paquet est bien arriv\u00e9. Une fois l'accus\u00e9 re\u00e7u par l'\u00e9metteur, le protocole TCP de l'ordinateur \\(A\\) envoie le paquet suivant. Au bout d'un certain temps, si l'ordinateur \\(A\\) ne re\u00e7oit pas d'accus\u00e9, il renvoie le paquet une nouvelle fois. D'o\u00f9 le C de TCP , qui signifie \u00ab Contr\u00f4le \u00bb, car le protocole TCP est un protocole qui contr\u00f4le l'int\u00e9grit\u00e9 des donn\u00e9es. Protocole UDP TCP/IP n'est pas le seul protocole utilis\u00e9 pour envoyer des donn\u00e9es. Entre autres parce que TCP/IP est lent avec toutes les phases d'accus\u00e9s de r\u00e9ception. Un des autres protocoles utilis\u00e9 est UDP ( User Datagram Protocol ), qui envoie les donn\u00e9es en flux continu sans se pr\u00e9occuper de leur r\u00e9ception. Ce type de protocole est particuli\u00e8rement utilis\u00e9 lorsque la perte de donn\u00e9es n'est pas un gros probl\u00e8me, par exemple lors de la transmission de flux vid\u00e9os de streaming en temps r\u00e9el, ou pour de la voix sur IP.","title":"Protocole TCP/IP"},{"location":"SNT/Reseaux/TCP_IP/#plus-dordinateurs","text":"\u00c9videmment, un r\u00e9seau ne peut pas se contenter d'avoir uniquement deux ordinateurs. Pour connecter plusieurs ordinateurs entre eux, on utilise un Switch . Dans Filius , retirez le c\u00e2ble entre les deux ordinateurs, ajoutez un switch \u00e0 l'aide de l'ic\u00f4ne correspondant et ajoutez deux autres ordinateurs. Connectez les ordinateurs au switch \u00e0 l'aide de c\u00e2bles, puis configurez correctement votre r\u00e9seau, en donnant \u00e0 chacun des ordinateurs les IP de types 192.168.0.X o\u00f9 X est un nombre entier entre \\(1\\) et \\(254\\) Testez ensuite les connexions entre les machines \u00e0 l'aide soit de la ligne de commandes, soit d'un navigateur web. Vous pouvez utiliser le cadre ci-dessous pour prendre des notes.","title":"Plus d'ordinateurs"},{"location":"SNT/Web/CSS/","text":"Mettre en forme : le CSS S\u00e9parer le fond et la forme : un exemple avec un traitement de texte Activit\u00e9 avec un traitement de texte T\u00e9l\u00e9chargez puis ouvrez le fichier StylesModeles.odt avec Libre Office . Allez \u00e0 la page 5 du document. Ouvrez la fen\u00eatre de style en appuyant sur F11 . D\u00e9ployez le menu Style par d\u00e9faut en appuyant sur + . D\u00e9ployez de m\u00eame le menu Titre , puis cliquez droit sur Titre 1 , puis modifier . Passez la couleur de la police en rouge, puis activez un surlignage simple en jaune. Validez puis observez le document. Quelles parties ont \u00e9t\u00e9 chang\u00e9es ? Y-a-t-il eu des changements sur d'autres pages ? Qu'ont en commun toutes les zones chang\u00e9es ? Dans la fen\u00eatre de style, modifiez Liste Puce 1 en ajoutant une lettrine, et en ajoutant au fond un d\u00e9grad\u00e9 de tpe Radial . Observez les modifications du document. Allez \u00e0 la page 31, partie 5.2.c, s\u00e9lectionnez les \u00e9l\u00e9ments de la liste \u00e0 puce, et changez le style de celle-ci, qui est actuellement en Liste Puce 1 , en Liste Puce 2 . le texte at-il \u00e9t\u00e9 chang\u00e9 ? S\u00e9parer le fond de la forme Un m\u00eame document num\u00e9rique peut \u00eatre lu de diff\u00e9rentes mani\u00e8res : sur un \u00e9cran couleur ; par un logiciel de synth\u00e8se vocale ; sur un \u00e9cran monochrome ( ou dans la console) ; sur un \u00e9cran de smartphone ; par une impression sur un papier A4, ou A3, ou autres formats ; ... Pour \u00e9viter de cr\u00e9er un document diff\u00e9rent pour chacun de ces supports, l'id\u00e9e est apparue \u00e0 la fin des ann\u00e9es 1960 de cr\u00e9er une s\u00e9paration compl\u00e8te entre la structure logique d'un document (titres, chapitres, paragraphes, illustrations...), et sa mise en page, qui d\u00e9pend du support de pr\u00e9sentation, et qui est d\u00e9finie en dehors du document lui-m\u00eame dans une ou plusieurs feuilles de style , regroupant police, style, taille et couleur des caract\u00e8res, alignement et espacement des paragraphes... Cascading Style Sheets D\u00e9finition CSS CSS est l'acronyme de Cascading Style Sheets , soit Feuilles de Styles en cascades en fran\u00e7ais. Un fichier CSS est appel\u00e9 par une ou plusieurs pages HTML (entre autre), et associe \u00e0 certaines balises et/ou attributs html certaines caract\u00e9ristiques graphiques, \u00e0 l'aide d'un s\u00e9lecteur de balises. Pour utiliser une feuille de style nomm\u00e9e toto.css dans une page html , il faut inclure entre les balises <head> et </head> la ligne suivante : < link href = \"toto.css\" rel = \"stylesheet\" type = \"text/css\" /> Exemple Dans l'exemple ci-dessous, le fichier style.css est utilis\u00e9 par les diff\u00e9rentes pages html : D\u00e9claration d'une r\u00e8gle CSS : vocabulaire associ\u00e9 et premiers exemples Vocabulaire Au sein d'un fichier CSS, on d\u00e9clare des r\u00e8gles , qui vont permettre la mise en forme d'\u00e9l\u00e9ments bien pr\u00e9cis. Par exemple : le s\u00e9l\u00e9cteur p signale que les d\u00e9clarations suivantes s'appliquent \u00e0 toutes les balises <p> et </p> . Toutes les d\u00e9clarations doivent \u00eatre \u00e0 l'int\u00e9rieur d'une paire d'accolades ( Ctrl + Alt + ` ou AltGr + ` donne { et Ctrl + Alt + = ou AltGr + = donne } ). la propri\u00e9t\u00e9 color indique que la r\u00e8gle concerne la couleur de police ; la valeur associ\u00e9e red indique que la couleur de police sera rouge ; la d\u00e9claration est termin\u00e9e par un point-virgule (c'est important !), et propri\u00e9t\u00e9 et valeur sont s\u00e9par\u00e9es par un symbole deux-points. Il est possible et m\u00eame souhaitable d'effectuer plusieurs d\u00e9clarations au sein de la m\u00eame r\u00e8gle. Par exemple, la d\u00e9claration suivante est parfaitement valable : h1 { color : magenta ; background-color : lightblue ; font-style : italic ; font-size : 3 em ; font-variant : small-caps ; } Il existe des dizaines de propri\u00e9t\u00e9s et des centaines de d\u00e9clarations possibles . Pour les trouver je vous conseille fortement le site MDN webdocs et surtourt (mais en anglais) W3Schools . Vous pouvez essayer de modifier le CSS dans le bac-\u00e0-sable suivant sur capytale . L'inspecteur d'objet Il est possible dans Firefox , comme dans de nombreux navigateurs actuels, d'afficher les informations d'une page web, y compris bien s\u00fbr les styles CSS attach\u00e9s \u00e0 cette page. Dans Firefox , vous obtiendrez cet inspecteur de style par l'interm\u00e9diaire des touches Ctrl + Shift + I , ou bien par Menu > Outils suppl\u00e9mentaires > Outils de d\u00e9veloppement web . L'int\u00e9r\u00eat de l'inspecteur est de pouvoir modifier \u00e0 sa guise les attributs et valeurs CSS d'une page web et d'en voir imm\u00e9diatement les effets. Les modifications sont bien entendues locales (elles ne sont valables que sur la copie de la page web dans votre navigateur, vous ne modifiez pas vraiment la page web r\u00e9elle... Et heureusement !!!) Exercice : Modifier une page web existante Rendez-vous sur la page https://www.zonensi.fr/SNT/Web/CSS/ . Ouvrez l'inspecteur d'objets . Cliquez sur la petite fl\u00e8che situ\u00e9e \u00e0 droite de la barre de menu de l'inspecteur, puis s\u00e9lectionnez ensuite le titre de la page Mettre en forme : le CSS . Vous devez voir appar\u00e2itre toutes les d\u00e9clarations dont d\u00e9pend le titre de la page. Ajoutez au s\u00e9lecteur .md-typeset h1 la d\u00e9claration background-color : pink . Enjoy Les s\u00e9lecteurs en CSS Il est possible de cibler de mani\u00e8re tr\u00e8s pr\u00e9cise des \u00e9l\u00e9ments d'une page web par l'interm\u00e9diaire de ces s\u00e9lecteurs. La syntaxe permettant d'effectuer ce ciblage est tr\u00e8s pr\u00e9cise, mais particuli\u00e8rement efficace quand elle est bien utilis\u00e9e. L'objectif du cours n'est pas d'apprendre tous les s\u00e9lecteurs, mais d'en discerner les plus utiles. S\u00e9lecteur de type : Cible toutes les balises d'un certain nom. Par exemple : body { background-color : black ; } p { color : green ; } S\u00e9lecteur de classe : Il est possible de regrouper des balises, m\u00eame diff\u00e9rentes, en leur donnant un attribut class . Toutes les balises poss\u00e9dant le m\u00eame attribut class peuvent \u00eatre alors cibl\u00e9es en ajoutant un point . pr\u00e9c\u00e9dant le nom de la classe. Par exemples : cibler toutes les balises poss\u00e9dant l'attribut class=\"definition\" . definition { color : red ; border-width : 2 px ; border-style : dashed ; } cible les titres de rang h2 et poss\u00e9dant l'attribut class=\"chapitre\" (les autres balises poss\u00e9dant uniquement l'un des deux attributs ne sont pas cibl\u00e9es) h2 . chapitre { text-decoration : underline ; } S\u00e9lecteur d'identifiant : Il est aussi possible de sp\u00e9cifier une balise sp\u00e9cifique en lui attribuant un identifiant unique par l'interm\u00e9diaire de l'attribut id . Par exemple, pour cibler la balise poss\u00e9dant l'attribut id=\"titresite\" , on utilise le symbole # : # titresite { text-align : center ; } Ordre d'application des s\u00e9lecteurs Priorit\u00e9 des s\u00e9lecteurs Il existe une priorit\u00e9 des s\u00e9lecteurs, tout comme existe une priorit\u00e9 des op\u00e9rations arithm\u00e9tiques. Il s'agit d'une norme, donc par nature elle est \u00e0 conna\u00eetre pour \u00e9viter les comportement erratiques du CSS : La mise en forme d\u00e9finie pour le s\u00e9lecteur le plus pr\u00e9cis l'emporte ( id est plus pr\u00e9cis que class qui est plus pr\u00e9cis que le nom de la balise). Le dernier d\u00e9fini est appliqu\u00e9 lorsque le niveau de priorit\u00e9 est \u00e9gal. Les bo\u00eetes CSS... Cette partie est quasiment copi\u00e9-coll\u00e9e depuis MDN Mozilla . Une bo\u00eete... Vous verrez rapidement qu'avec les CSS, tout tourne autour de bo\u00eetes : d\u00e9finir leurs tailles, leurs couleurs, leurs positions, etc. Les \u00e9l\u00e9ments HTML d'une page peuvent, pour la plupart, \u00eatre vus comme des bo\u00eetes plac\u00e9es les unes sur les autres. Chacun de ces blocs prend un certain espace sur la page, de cette fa\u00e7on : padding : l'espace autour, proche du contenu (par exemple, l'espace autour du texte d'un paragraphe) (en fran\u00e7ais, on pourrait traduire cela par du \u00ab remplissage \u00bb mais le terme padding \u00e9tant commun\u00e9ment utilis\u00e9 lorsqu'on parle de CSS, on continuera \u00e0 utiliser ce terme) border : la ligne qui est juste autour du padding (en fran\u00e7ais cela correspond \u00e0 la bordure). margin : l'espace ext\u00e9rieur, autour de l'\u00e9l\u00e9ment (en fran\u00e7ais cela correspond \u00e0 la marge). Des boites ! Chaque \u00e9l\u00e9ment poss\u00e8de par d\u00e9faut un type de placement : \u00e9l\u00e9ment block : un \u00e9l\u00e9ment block occupe par d\u00e9faut toute la largeur de l'\u00e9cran. Quand des \u00e9l\u00e9ments block s'enchainent, ils sont les uns au dessus des autres. Par d\u00e9faut les \u00e9l\u00e9ments <h1>,<h2>,...,<h6> , <p> et surtout <div> (balise g\u00e9n\u00e9rique de type block ) sont des \u00e9l\u00e9ments de type block . \u00e9l\u00e9ment inline : un \u00e9l\u00e9ment inline s'ins\u00e8re dans la ligne de texte, sans g\u00e9n\u00e9rer de saut de ligne avant ou apr\u00e8s.Par d\u00e9faut les \u00e9l\u00e9ments <a>,<img>,<strong>,... sont des \u00e9l\u00e9ments de type inline . Il existe bien des subtilit\u00e9s concernant les \u00e9l\u00e9ments inline et block , qui d\u00e9passent largement le cadre de ce cours. Ce document permettra peut-\u00eatre de r\u00e9pondre \u00e0 certaines questions que vous poyurriez vous poser. Modifier le type d'un \u00e9l\u00e9ment : display Il est possible de sp\u00e9cifier explicitement pour un \u00e9l\u00e9ment son type d'apparition dans le flux de donn\u00e9es d'une page html. Pour cela on utilise la propri\u00e9t\u00e9 display et ses diff\u00e9rentes valeurs : none : retire l'\u00e9l\u00e9ment des \u00e9l\u00e9ments disponibles. Cet \u00e9l\u00e9ment ainsi que ses descendants ne sont plus accessibles. block : rend l'\u00e9l\u00e9ment de type block ; inline : rend l'\u00e9l\u00e9ment de type inline ; grid : ins\u00e8re l'\u00e9l\u00e9ment comme \u00e9l\u00e9ment d'une grille(ou tableau) ; flex : ins\u00e8re l'\u00e9l\u00e9ment comme \u00e9l\u00e9ment de dimension flexible - outil \u00e0 privil\u00e9gier pour rendre la page ou le site visible sur diff\u00e9rents appareils. La documentation en ligne est tr\u00e8s bien faite. Les dimensions et unit\u00e9s de mesures les plus utiles En CSS, il est souvent imp\u00e9ratif de donner des longueurs, ou des bases de dimensions pour les \u00e9l\u00e9ments. Les unit\u00e9s sont nombreuses, souvent myst\u00e9rieuses ou absconses pour nous europ\u00e9ens. En voici quelques types : valeur en pourcentage : font-size : 120\\%; d\u00e9finit une taille de police valant 120% de la valeur de l'\u00e9l\u00e9ment parent. Il ne faut pas d'espace entre le nombre et le symbole %. hauteur em : cadratin, ou hauteur de la fonte dans une police donn\u00e9e \u00e9gal \u00e0 la largeur du caract\u00e8re M . font-size : 1.5em; \u00e9crira le texte 50% plus gros que la taille de base utilis\u00e9e, qui est par d\u00e9finition de 1em . valeur en pixels : il est toujours possible de calculer une taille en pixels, mais l'application exacte d\u00e9pend du navigateur utilis\u00e9. Par exemple width : 50px; mettra la largeur de l'\u00e9l\u00e9ment \u00e0 500 pixels. A proscrire sauf cas particuliers. valeur en unit\u00e9 relative \u00e0 la largeur de la fen\u00eatre : margin-left : 50vw; permettra de cr\u00e9er une marge \u00e0 gauche de la boite valant 50% de la largeur de la fen\u00eatre. valeur en unit\u00e9 relative \u00e0 la largeur de la fen\u00eatre : margin-left : 50vh; permettra de cr\u00e9er une marge en haut de la boite valant 50\\% de la hauteur de la fen\u00eatre. Adaptation aux diff\u00e9rents \u00e9crans/m\u00e9dias de sortie Jusqu'aux ann\u00e9es 2010, les sites web \u00e9taient souvent con\u00e7us pour n'\u00eatre lus que sur des \u00e9crans d'ordinateurs. Depuis, les smartphones sont arriv\u00e9s, avec leurs nombreuses tailles d'\u00e9crans diff\u00e9rentes, et leur capacit\u00e9 \u00e0 basculer du format portrait au format paysage. Afin d'afficher correctement un site web, il faut donc pr\u00e9voir \u00e0 l'avance, dans le fichier css , diff\u00e9rentes version du site. Pour cela on utilise des media-queries - soit requ\u00eates de media . Il s'agit d'un type particulier de commande qui \u00e9value certaines caract\u00e9ristiques du m\u00e9dia utilis\u00e9 pour lire le site. Il existe de nombreuses requ\u00eates, mais en pratique nous n'utiliserons que les deux requ\u00eates suivantes : max-width : applique les r\u00e8gles si la largeur de l'\u00e9cran est inf\u00e9rieure ou \u00e9gale \u00e0 la taille donn\u00e9e en pixel ; min-width : applique les r\u00e8gles si la largeur de l'\u00e9cran est sup\u00e9rieure ou \u00e9gale \u00e0 la taille donn\u00e9e en pixel ; Exemple L'exemple suivant provient du document Outils CSS pour le responsive design d'Alexandre Niveau, sur le site de l'Universit\u00e9 de Caen. /* version par d\u00e9faut: sur grand \u00e9cran */ . menu { width : 30 em ; /* etc. */ } /* \u00e9cran plus petit: on passe le menu en horizontal */ @ media ( max-width : 100em ) { . menu { width : 100 % ; } . menu li { display : inline-block ; } /* etc. */ } /* \u00e9cran encore plus petit: on cache le menu */ @ media ( max-width : 50em ) { . menu { display : none ; } } A faire Maintenant que vous connaissez quelques secrets du CSS, vous allez pouvoir l'utiliser pour effectuer une mise en page plus agr\u00e9able de votre page html !","title":"CSS"},{"location":"SNT/Web/CSS/#mettre-en-forme-le-css","text":"","title":"Mettre en forme : le CSS"},{"location":"SNT/Web/CSS/#separer-le-fond-et-la-forme-un-exemple-avec-un-traitement-de-texte","text":"Activit\u00e9 avec un traitement de texte T\u00e9l\u00e9chargez puis ouvrez le fichier StylesModeles.odt avec Libre Office . Allez \u00e0 la page 5 du document. Ouvrez la fen\u00eatre de style en appuyant sur F11 . D\u00e9ployez le menu Style par d\u00e9faut en appuyant sur + . D\u00e9ployez de m\u00eame le menu Titre , puis cliquez droit sur Titre 1 , puis modifier . Passez la couleur de la police en rouge, puis activez un surlignage simple en jaune. Validez puis observez le document. Quelles parties ont \u00e9t\u00e9 chang\u00e9es ? Y-a-t-il eu des changements sur d'autres pages ? Qu'ont en commun toutes les zones chang\u00e9es ? Dans la fen\u00eatre de style, modifiez Liste Puce 1 en ajoutant une lettrine, et en ajoutant au fond un d\u00e9grad\u00e9 de tpe Radial . Observez les modifications du document. Allez \u00e0 la page 31, partie 5.2.c, s\u00e9lectionnez les \u00e9l\u00e9ments de la liste \u00e0 puce, et changez le style de celle-ci, qui est actuellement en Liste Puce 1 , en Liste Puce 2 . le texte at-il \u00e9t\u00e9 chang\u00e9 ? S\u00e9parer le fond de la forme Un m\u00eame document num\u00e9rique peut \u00eatre lu de diff\u00e9rentes mani\u00e8res : sur un \u00e9cran couleur ; par un logiciel de synth\u00e8se vocale ; sur un \u00e9cran monochrome ( ou dans la console) ; sur un \u00e9cran de smartphone ; par une impression sur un papier A4, ou A3, ou autres formats ; ... Pour \u00e9viter de cr\u00e9er un document diff\u00e9rent pour chacun de ces supports, l'id\u00e9e est apparue \u00e0 la fin des ann\u00e9es 1960 de cr\u00e9er une s\u00e9paration compl\u00e8te entre la structure logique d'un document (titres, chapitres, paragraphes, illustrations...), et sa mise en page, qui d\u00e9pend du support de pr\u00e9sentation, et qui est d\u00e9finie en dehors du document lui-m\u00eame dans une ou plusieurs feuilles de style , regroupant police, style, taille et couleur des caract\u00e8res, alignement et espacement des paragraphes...","title":"S\u00e9parer le fond et la forme : un exemple avec un traitement de texte"},{"location":"SNT/Web/CSS/#cascading-style-sheets","text":"","title":"Cascading Style Sheets"},{"location":"SNT/Web/CSS/#definition","text":"CSS CSS est l'acronyme de Cascading Style Sheets , soit Feuilles de Styles en cascades en fran\u00e7ais. Un fichier CSS est appel\u00e9 par une ou plusieurs pages HTML (entre autre), et associe \u00e0 certaines balises et/ou attributs html certaines caract\u00e9ristiques graphiques, \u00e0 l'aide d'un s\u00e9lecteur de balises. Pour utiliser une feuille de style nomm\u00e9e toto.css dans une page html , il faut inclure entre les balises <head> et </head> la ligne suivante : < link href = \"toto.css\" rel = \"stylesheet\" type = \"text/css\" /> Exemple Dans l'exemple ci-dessous, le fichier style.css est utilis\u00e9 par les diff\u00e9rentes pages html :","title":"D\u00e9finition"},{"location":"SNT/Web/CSS/#declaration-dune-regle-css-vocabulaire-associe-et-premiers-exemples","text":"Vocabulaire Au sein d'un fichier CSS, on d\u00e9clare des r\u00e8gles , qui vont permettre la mise en forme d'\u00e9l\u00e9ments bien pr\u00e9cis. Par exemple : le s\u00e9l\u00e9cteur p signale que les d\u00e9clarations suivantes s'appliquent \u00e0 toutes les balises <p> et </p> . Toutes les d\u00e9clarations doivent \u00eatre \u00e0 l'int\u00e9rieur d'une paire d'accolades ( Ctrl + Alt + ` ou AltGr + ` donne { et Ctrl + Alt + = ou AltGr + = donne } ). la propri\u00e9t\u00e9 color indique que la r\u00e8gle concerne la couleur de police ; la valeur associ\u00e9e red indique que la couleur de police sera rouge ; la d\u00e9claration est termin\u00e9e par un point-virgule (c'est important !), et propri\u00e9t\u00e9 et valeur sont s\u00e9par\u00e9es par un symbole deux-points. Il est possible et m\u00eame souhaitable d'effectuer plusieurs d\u00e9clarations au sein de la m\u00eame r\u00e8gle. Par exemple, la d\u00e9claration suivante est parfaitement valable : h1 { color : magenta ; background-color : lightblue ; font-style : italic ; font-size : 3 em ; font-variant : small-caps ; } Il existe des dizaines de propri\u00e9t\u00e9s et des centaines de d\u00e9clarations possibles . Pour les trouver je vous conseille fortement le site MDN webdocs et surtourt (mais en anglais) W3Schools . Vous pouvez essayer de modifier le CSS dans le bac-\u00e0-sable suivant sur capytale . L'inspecteur d'objet Il est possible dans Firefox , comme dans de nombreux navigateurs actuels, d'afficher les informations d'une page web, y compris bien s\u00fbr les styles CSS attach\u00e9s \u00e0 cette page. Dans Firefox , vous obtiendrez cet inspecteur de style par l'interm\u00e9diaire des touches Ctrl + Shift + I , ou bien par Menu > Outils suppl\u00e9mentaires > Outils de d\u00e9veloppement web . L'int\u00e9r\u00eat de l'inspecteur est de pouvoir modifier \u00e0 sa guise les attributs et valeurs CSS d'une page web et d'en voir imm\u00e9diatement les effets. Les modifications sont bien entendues locales (elles ne sont valables que sur la copie de la page web dans votre navigateur, vous ne modifiez pas vraiment la page web r\u00e9elle... Et heureusement !!!) Exercice : Modifier une page web existante Rendez-vous sur la page https://www.zonensi.fr/SNT/Web/CSS/ . Ouvrez l'inspecteur d'objets . Cliquez sur la petite fl\u00e8che situ\u00e9e \u00e0 droite de la barre de menu de l'inspecteur, puis s\u00e9lectionnez ensuite le titre de la page Mettre en forme : le CSS . Vous devez voir appar\u00e2itre toutes les d\u00e9clarations dont d\u00e9pend le titre de la page. Ajoutez au s\u00e9lecteur .md-typeset h1 la d\u00e9claration background-color : pink . Enjoy","title":"D\u00e9claration d'une r\u00e8gle CSS : vocabulaire associ\u00e9 et premiers exemples"},{"location":"SNT/Web/CSS/#les-selecteurs-en-css","text":"Il est possible de cibler de mani\u00e8re tr\u00e8s pr\u00e9cise des \u00e9l\u00e9ments d'une page web par l'interm\u00e9diaire de ces s\u00e9lecteurs. La syntaxe permettant d'effectuer ce ciblage est tr\u00e8s pr\u00e9cise, mais particuli\u00e8rement efficace quand elle est bien utilis\u00e9e. L'objectif du cours n'est pas d'apprendre tous les s\u00e9lecteurs, mais d'en discerner les plus utiles.","title":"Les s\u00e9lecteurs en CSS"},{"location":"SNT/Web/CSS/#selecteur-de-type","text":"Cible toutes les balises d'un certain nom. Par exemple : body { background-color : black ; } p { color : green ; }","title":"S\u00e9lecteur de type :"},{"location":"SNT/Web/CSS/#selecteur-de-classe","text":"Il est possible de regrouper des balises, m\u00eame diff\u00e9rentes, en leur donnant un attribut class . Toutes les balises poss\u00e9dant le m\u00eame attribut class peuvent \u00eatre alors cibl\u00e9es en ajoutant un point . pr\u00e9c\u00e9dant le nom de la classe. Par exemples : cibler toutes les balises poss\u00e9dant l'attribut class=\"definition\" . definition { color : red ; border-width : 2 px ; border-style : dashed ; } cible les titres de rang h2 et poss\u00e9dant l'attribut class=\"chapitre\" (les autres balises poss\u00e9dant uniquement l'un des deux attributs ne sont pas cibl\u00e9es) h2 . chapitre { text-decoration : underline ; }","title":"S\u00e9lecteur de classe :"},{"location":"SNT/Web/CSS/#selecteur-didentifiant","text":"Il est aussi possible de sp\u00e9cifier une balise sp\u00e9cifique en lui attribuant un identifiant unique par l'interm\u00e9diaire de l'attribut id . Par exemple, pour cibler la balise poss\u00e9dant l'attribut id=\"titresite\" , on utilise le symbole # : # titresite { text-align : center ; }","title":"S\u00e9lecteur d'identifiant :"},{"location":"SNT/Web/CSS/#ordre-dapplication-des-selecteurs","text":"Priorit\u00e9 des s\u00e9lecteurs Il existe une priorit\u00e9 des s\u00e9lecteurs, tout comme existe une priorit\u00e9 des op\u00e9rations arithm\u00e9tiques. Il s'agit d'une norme, donc par nature elle est \u00e0 conna\u00eetre pour \u00e9viter les comportement erratiques du CSS : La mise en forme d\u00e9finie pour le s\u00e9lecteur le plus pr\u00e9cis l'emporte ( id est plus pr\u00e9cis que class qui est plus pr\u00e9cis que le nom de la balise). Le dernier d\u00e9fini est appliqu\u00e9 lorsque le niveau de priorit\u00e9 est \u00e9gal.","title":"Ordre d'application des s\u00e9lecteurs"},{"location":"SNT/Web/CSS/#les-boites-css","text":"Cette partie est quasiment copi\u00e9-coll\u00e9e depuis MDN Mozilla .","title":"Les bo\u00eetes CSS..."},{"location":"SNT/Web/CSS/#une-boite","text":"Vous verrez rapidement qu'avec les CSS, tout tourne autour de bo\u00eetes : d\u00e9finir leurs tailles, leurs couleurs, leurs positions, etc. Les \u00e9l\u00e9ments HTML d'une page peuvent, pour la plupart, \u00eatre vus comme des bo\u00eetes plac\u00e9es les unes sur les autres. Chacun de ces blocs prend un certain espace sur la page, de cette fa\u00e7on : padding : l'espace autour, proche du contenu (par exemple, l'espace autour du texte d'un paragraphe) (en fran\u00e7ais, on pourrait traduire cela par du \u00ab remplissage \u00bb mais le terme padding \u00e9tant commun\u00e9ment utilis\u00e9 lorsqu'on parle de CSS, on continuera \u00e0 utiliser ce terme) border : la ligne qui est juste autour du padding (en fran\u00e7ais cela correspond \u00e0 la bordure). margin : l'espace ext\u00e9rieur, autour de l'\u00e9l\u00e9ment (en fran\u00e7ais cela correspond \u00e0 la marge).","title":"Une bo\u00eete..."},{"location":"SNT/Web/CSS/#des-boites","text":"Chaque \u00e9l\u00e9ment poss\u00e8de par d\u00e9faut un type de placement : \u00e9l\u00e9ment block : un \u00e9l\u00e9ment block occupe par d\u00e9faut toute la largeur de l'\u00e9cran. Quand des \u00e9l\u00e9ments block s'enchainent, ils sont les uns au dessus des autres. Par d\u00e9faut les \u00e9l\u00e9ments <h1>,<h2>,...,<h6> , <p> et surtout <div> (balise g\u00e9n\u00e9rique de type block ) sont des \u00e9l\u00e9ments de type block . \u00e9l\u00e9ment inline : un \u00e9l\u00e9ment inline s'ins\u00e8re dans la ligne de texte, sans g\u00e9n\u00e9rer de saut de ligne avant ou apr\u00e8s.Par d\u00e9faut les \u00e9l\u00e9ments <a>,<img>,<strong>,... sont des \u00e9l\u00e9ments de type inline . Il existe bien des subtilit\u00e9s concernant les \u00e9l\u00e9ments inline et block , qui d\u00e9passent largement le cadre de ce cours. Ce document permettra peut-\u00eatre de r\u00e9pondre \u00e0 certaines questions que vous poyurriez vous poser. Modifier le type d'un \u00e9l\u00e9ment : display Il est possible de sp\u00e9cifier explicitement pour un \u00e9l\u00e9ment son type d'apparition dans le flux de donn\u00e9es d'une page html. Pour cela on utilise la propri\u00e9t\u00e9 display et ses diff\u00e9rentes valeurs : none : retire l'\u00e9l\u00e9ment des \u00e9l\u00e9ments disponibles. Cet \u00e9l\u00e9ment ainsi que ses descendants ne sont plus accessibles. block : rend l'\u00e9l\u00e9ment de type block ; inline : rend l'\u00e9l\u00e9ment de type inline ; grid : ins\u00e8re l'\u00e9l\u00e9ment comme \u00e9l\u00e9ment d'une grille(ou tableau) ; flex : ins\u00e8re l'\u00e9l\u00e9ment comme \u00e9l\u00e9ment de dimension flexible - outil \u00e0 privil\u00e9gier pour rendre la page ou le site visible sur diff\u00e9rents appareils. La documentation en ligne est tr\u00e8s bien faite.","title":"Des boites !"},{"location":"SNT/Web/CSS/#les-dimensions-et-unites-de-mesures-les-plus-utiles","text":"En CSS, il est souvent imp\u00e9ratif de donner des longueurs, ou des bases de dimensions pour les \u00e9l\u00e9ments. Les unit\u00e9s sont nombreuses, souvent myst\u00e9rieuses ou absconses pour nous europ\u00e9ens. En voici quelques types : valeur en pourcentage : font-size : 120\\%; d\u00e9finit une taille de police valant 120% de la valeur de l'\u00e9l\u00e9ment parent. Il ne faut pas d'espace entre le nombre et le symbole %. hauteur em : cadratin, ou hauteur de la fonte dans une police donn\u00e9e \u00e9gal \u00e0 la largeur du caract\u00e8re M . font-size : 1.5em; \u00e9crira le texte 50% plus gros que la taille de base utilis\u00e9e, qui est par d\u00e9finition de 1em . valeur en pixels : il est toujours possible de calculer une taille en pixels, mais l'application exacte d\u00e9pend du navigateur utilis\u00e9. Par exemple width : 50px; mettra la largeur de l'\u00e9l\u00e9ment \u00e0 500 pixels. A proscrire sauf cas particuliers. valeur en unit\u00e9 relative \u00e0 la largeur de la fen\u00eatre : margin-left : 50vw; permettra de cr\u00e9er une marge \u00e0 gauche de la boite valant 50% de la largeur de la fen\u00eatre. valeur en unit\u00e9 relative \u00e0 la largeur de la fen\u00eatre : margin-left : 50vh; permettra de cr\u00e9er une marge en haut de la boite valant 50\\% de la hauteur de la fen\u00eatre.","title":"Les dimensions et unit\u00e9s de mesures les plus utiles"},{"location":"SNT/Web/CSS/#adaptation-aux-differents-ecransmedias-de-sortie","text":"Jusqu'aux ann\u00e9es 2010, les sites web \u00e9taient souvent con\u00e7us pour n'\u00eatre lus que sur des \u00e9crans d'ordinateurs. Depuis, les smartphones sont arriv\u00e9s, avec leurs nombreuses tailles d'\u00e9crans diff\u00e9rentes, et leur capacit\u00e9 \u00e0 basculer du format portrait au format paysage. Afin d'afficher correctement un site web, il faut donc pr\u00e9voir \u00e0 l'avance, dans le fichier css , diff\u00e9rentes version du site. Pour cela on utilise des media-queries - soit requ\u00eates de media . Il s'agit d'un type particulier de commande qui \u00e9value certaines caract\u00e9ristiques du m\u00e9dia utilis\u00e9 pour lire le site. Il existe de nombreuses requ\u00eates, mais en pratique nous n'utiliserons que les deux requ\u00eates suivantes : max-width : applique les r\u00e8gles si la largeur de l'\u00e9cran est inf\u00e9rieure ou \u00e9gale \u00e0 la taille donn\u00e9e en pixel ; min-width : applique les r\u00e8gles si la largeur de l'\u00e9cran est sup\u00e9rieure ou \u00e9gale \u00e0 la taille donn\u00e9e en pixel ; Exemple L'exemple suivant provient du document Outils CSS pour le responsive design d'Alexandre Niveau, sur le site de l'Universit\u00e9 de Caen. /* version par d\u00e9faut: sur grand \u00e9cran */ . menu { width : 30 em ; /* etc. */ } /* \u00e9cran plus petit: on passe le menu en horizontal */ @ media ( max-width : 100em ) { . menu { width : 100 % ; } . menu li { display : inline-block ; } /* etc. */ } /* \u00e9cran encore plus petit: on cache le menu */ @ media ( max-width : 50em ) { . menu { display : none ; } } A faire Maintenant que vous connaissez quelques secrets du CSS, vous allez pouvoir l'utiliser pour effectuer une mise en page plus agr\u00e9able de votre page html !","title":"Adaptation aux diff\u00e9rents \u00e9crans/m\u00e9dias de sortie"},{"location":"xtra/end_REM/","text":"","title":"end REM"},{"location":"xtra/start_REM/","text":"","title":"start REM"}]}